webpackJsonp([0],[,,,,,,function(t,e,n){"use strict";n.d(e,"a",function(){return v});var i=n(19),a=n.n(i),o=n(51),s=n.n(o),r=n(1),l=n.n(r),c=n(2),u=n.n(c),d=n(31),p=n.n(d),m=n(63),h=n(4),f=n.n(h),v=function(){function t(){l()(this,t)}return u()(t,null,[{key:"_getToken",value:function(){var t=this.getUser();return t?t.UserTokenKey:"12345"}},{key:"_setAuthorization",value:function(){var t=this._getToken();p.a.defaults.headers.Authorization="bearer "+t}},{key:"get",value:function(e,n){return this._setAuthorization(),void 0===n?p.a.get(e).then(function(t){return t.data}).catch(function(e){t.ajaxError(e)}):p.a.get(e,{params:n}).then(function(t){return t.data}).catch(function(e){t.ajaxError(e)})}},{key:"post",value:function(e,n){return this._setAuthorization(),p.a.post(e,n).then(function(t){return t.data}).catch(function(e){t.ajaxError(e)})}},{key:"delete",value:function(e,n){return this._setAuthorization(),p.a.delete(e,{params:n}).then(function(t){return t.data}).catch(function(e){t.ajaxError(e)})}},{key:"setItem",value:function(t,e){t&&e&&("object"===(void 0===e?"undefined":s()(e))?sessionStorage.setItem(t,a()(e)):sessionStorage.setItem(t,e))}},{key:"getItem",value:function(t){return sessionStorage.getItem(t)}},{key:"removeItem",value:function(t){sessionStorage.removeItem(t)}},{key:"getUser",value:function(){var e=t.getItem(m.a.UserKey);return e?JSON.parse(e):null}},{key:"ajaxError",value:function(t){t.response?401==t.response.status&&(window.location.href="/#login"):console.log("Error",t.message)}},{key:"HideMobile",value:function(t){if(""==t||void 0==t)return t;var e=t.substring(3,8);return t.replace(e,"*****")}},{key:"HideEmail",value:function(t){if(""==t||void 0==t)return t;var e=t.indexOf("@");if(e<0)return t;var n=t.substring(2,e);return t.replace(n,"*******")}},{key:"fromCurrency",value:function(t){return f.a.isNumber(t)?t:Number(t.replace(",",""))}},{key:"formatCurrency",value:function(t){t=t.toString().replace(/\$|\,/g,""),isNaN(t)&&(t="0");var e=t==(t=Math.abs(t));t=Math.floor(100*t+.50000000001);var n=t%100;t=Math.floor(t/100).toString(),n<10&&(n="0"+n);for(var i=0;i<Math.floor((t.length-(1+i))/3);i++)t=t.substring(0,t.length-(4*i+3))+","+t.substring(t.length-(4*i+3));return(e?"":"-")+t+"."+n}}]),t}()},,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",function(){return v});var i=n(19),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(70),u=n(4),d=n.n(u),p=n(87),m=n(303),h=n(3),f=n.n(h),v=function(){function t(e,i){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(s()(this,t),d.a.isEmpty(e))throw new Error("data 参数为空;");if(d.a.isEmpty(i))throw new Error("validator 参数为空");n.i(c.a)(e,i,"data",a),this.$data=e,this.$validator=i,this.$eventManager=new m.a}return l()(t,[{key:"toJson",value:function(){return a()(this.$data)}},{key:"toData",value:function(){return n.i(p.a)(this.$data)}},{key:"getDateValue",value:function(t){return null===t||void 0===t||"string"==typeof t&&d.a.isEmpty(t)?f()(new Date).format("YYYY-MM-DD"):f()(t).format("YYYY-MM-DD")}},{key:"setDateValue",value:function(t){return""==t?t:f()(t).format("YYYY-MM-DD")}},{key:"getDateTimeValue",value:function(t){return null===t||void 0===t?f()(new Date).format("YYYY-MM-DD"):f()(t).format("YYYY-MM-DD hh:mm:ss")}},{key:"eventManager",get:function(){return this.$eventManager}},{key:"validator",get:function(){return this.$validator}}]),t}()},,,,,function(t,e,n){"use strict";n.d(e,"c",function(){return a}),n.d(e,"b",function(){return o}),n.d(e,"a",function(){return s});var i={constantUserCenter:"https://ptoa365usercenter.ptit365.com",constantApi:"https://ptoa365api.ptit365.com",flow:"https://ptoa365api.ptit365.com/api/flow",endorsement:"https://ptoa365api.ptit365.com/api/WorkflowDocumentManager",template:"https://ptoa365api.ptit365.com/api/Template",CompanyManager:"https://ptoa365api.ptit365.com/api/CompanyManager",documentation:"https://ptoa365api.ptit365.com/api/Document",user:"https://ptoa365usercenter.ptit365.com/api/UserCenter",fileManager:"https://ptoa365api.ptit365.com/api/FileManage",Payable:"https://ptoa365api.ptit365.com/api/Payable",backgroundImage:"static/usercss/img/bg01.jpg"},a="http://10.108.52.108",o=i.constantUserCenter,s=i.constantApi},,,,,function(t,e,n){"use strict";var i=n(10),a=n.n(i),o=n(15),s=n.n(o),r=n(22),l=n.n(r),c=n(32),u=n(87),d=n(70),p=n(902),m=n(3),h=n.n(m),f=n(4),v=n.n(f);e.a={createdata:c.a,deepclone:u.a,validateObject:d.a,isValidNumeric:function(t){return/^\d*.?\d+$/.test(t)},undefinedOrNullOrEmpty:function(t){return!!v.a.isUndefined(t)||(!!v.a.isNull(t)||!v.a.isNumber(t)&&v.a.isEmpty(t))},ensureArray:function(t){return v.a.isArray(t)?t:[t]},clear:function(t){v.a.isArray(t)&&t.splice(0,t.length)},defaultIfEmpty:function(t,e){return v.a.isNumber(t)&&!v.a.isNaN(t)?t:v.a.isEmpty(t)?e:t},mergeArrays:function(t){return v.a.reduce(t,function(t,e){return t.concat(e)},[])},emptyObject:function(){return function(){}},emptyArray:function(){return function(){return[]}},removeArrayItem:function(t,e){var n=v.a.indexOf(t,e);n>=0&&t.splice(n,1)},mergeClasses:function(t,e){return function(){var n=v.a.clone(t);return v.a.isEmpty(e)||(v.a.isString(e)?n[e]=!0:n=v.a.extend(n,e)),n}},concatClass:function(t,e){return t&&t.indexOf(e)>-1?t:t?e?t+" "+e:t:e||""},valueOfArray:function(t,e){if(v.a.isArray(t)&&t.length>e)return t[e]},intOfArray:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.valueOfArray(t,e);return v.a.isUndefined(i)?n:(i=parseInt(i),v.a.isNaN(i)?n:i)},stringOfArray:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this.valueOfArray(t,e);return v.a.isUndefined(i)?n:i},ifNotEmpty:function(t,e){return!v.a.isEmpty(t)&&(e(t),!0)},ifEmpty:function(t,e){return v.a.isEmpty(t)?e():t},currentDateString:function(){return this.formatDate(new Date)},formatDate:function(t){return h()(t).format("YYYY-MM-DD")},asyncTimeout:function(t,e){var n=this;return l()(a.a.mark(function i(){return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new s.a(function(n,i){setTimeout(function(){t(n,i)},e)}));case 1:case"end":return n.stop()}},i,n)}))()},createModelValidator:function(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=v.a.mapObject(t,function(t,i){return new p.a(i,t,e,n)});return i.validate=function(){var t=v.a.filter(v.a.values(i),function(t){return v.a.isObject(t)&&v.a.isFunction(t.validate)});return v.a.reduce(t,function(t,e){return e.validate()&&t},!0)},i}}}},,,,function(t,e,n){"use strict";var i=n(4),a=n.n(i),o=function t(e){var n={};for(var i in e){var o=e[i],s=o.defaultValue;a.a.isEmpty(s)&&(o.type===Array?s=[]:o.type===String?s="":o.type===Number?s=0:o.type===Boolean?s=!1:o.type===Object&&(a.a.isEmpty(o.validator)||(s=t(o.validator)))),n[i]=s}return n};e.a=o},function(t,e,n){"use strict";function i(t){return t[0]}function a(t){return t[t.length-1]}function o(t){return t.slice(0,t.length-1)}function s(t){return t.slice(1)}function r(t,e){for(var n=0,i=t.length;n<i;n++){var a=t[n];if(e(a))return a}}function l(t,e){for(var n=0,i=t.length;n<i;n++)if(!e(t[n]))return!1;return!0}function c(t,e){return b.a.inArray(e,t)}function u(t,e){return-1!==c(t,e)}function d(t,e){return e=e||C.a.self,t.reduce(function(t,n){return t+e(n)},0)}function p(t){for(var e=[],n=t.length,i=-1;++i<n;)e[i]=t[i];return e}function m(t){return!t||!t.length}function h(t,e){return t.length?s(t).reduce(function(t,n){var i=a(t);return e(a(i),n)?i[i.length]=n:t[t.length]=[n],t},[[i(t)]]):[]}function f(t){for(var e=[],n=0,i=t.length;n<i;n++)t[n]&&e.push(t[n]);return e}function v(t){for(var e=[],n=0,i=t.length;n<i;n++)u(e,t[n])||e.push(t[n]);return e}function g(t,e){var n=c(t,e);return-1===n?null:t[n+1]}function y(t,e){var n=c(t,e);return-1===n?null:t[n-1]}var _=n(14),b=n.n(_),C=n(57);e.a={head:i,last:a,initial:o,tail:s,prev:y,next:g,find:r,contains:u,all:l,sum:d,from:p,isEmpty:m,clusterBy:h,compact:f,unique:v}},,,,,,function(t,e,n){"use strict";function i(t){return t&&vt()(t).hasClass("note-editable")}function a(t){return t&&vt()(t).hasClass("note-control-sizing")}function o(t){return t=t.toUpperCase(),function(e){return e&&e.nodeName.toUpperCase()===t}}function s(t){return t&&3===t.nodeType}function r(t){return t&&1===t.nodeType}function l(t){return t&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT/.test(t.nodeName.toUpperCase())}function c(t){return!i(t)&&(t&&/^DIV|^P|^LI|^H[1-7]/.test(t.nodeName.toUpperCase()))}function u(t){return t&&/^H[1-7]/.test(t.nodeName.toUpperCase())}function d(t){return c(t)&&!kt(t)}function p(t){return!(f(t)||m(t)||St(t)||c(t)||It(t)||wt(t)||Dt(t))}function m(t){return t&&/^UL|^OL/.test(t.nodeName.toUpperCase())}function h(t){return t&&/^TD|^TH/.test(t.nodeName.toUpperCase())}function f(t){return h(t)||wt(t)||i(t)}function v(t){return p(t)&&!!I(t,c)}function g(t){return p(t)&&!I(t,c)}function y(t,e){return t.nextSibling===e||t.previousSibling===e}function _(t,e){e=e||gt.a.ok;var n=[];return t.previousSibling&&e(t.previousSibling)&&n.push(t.previousSibling),n.push(t),t.nextSibling&&e(t.nextSibling)&&n.push(t.nextSibling),n}function b(t){return s(t)?t.nodeValue.length:t?t.childNodes.length:0}function C(t){var e=b(t);return 0===e||(!s(t)&&1===e&&t.innerHTML===Tt||!(!yt.a.all(t.childNodes,s)||""!==t.innerHTML))}function k(t){l(t)||b(t)||(t.innerHTML=Tt)}function I(t,e){for(;t;){if(e(t))return t;if(i(t))break;t=t.parentNode}return null}function D(t,e){for(t=t.parentNode;t&&1===b(t);){if(e(t))return t;if(i(t))break;t=t.parentNode}return null}function S(t,e){e=e||gt.a.fail;var n=[];return I(t,function(t){return i(t)||n.push(t),e(t)}),n}function w(t,e){var n=S(t);return yt.a.last(n.filter(e))}function x(t,e){for(var n=S(t),i=e;i;i=i.parentNode)if(vt.a.inArray(i,n)>-1)return i;return null}function E(t,e){e=e||gt.a.fail;for(var n=[];t&&!e(t);)n.push(t),t=t.previousSibling;return n}function T(t,e){e=e||gt.a.fail;for(var n=[];t&&!e(t);)n.push(t),t=t.nextSibling;return n}function N(t,e){var n=[];return e=e||gt.a.ok,function i(a){t!==a&&e(a)&&n.push(a);for(var o=0,s=a.childNodes.length;o<s;o++)i(a.childNodes[o])}(t),n}function P(t,e){var n=t.parentNode,i=vt()("<"+e+">")[0];return n.insertBefore(i,t),i.appendChild(t),i}function M(t,e){var n=e.nextSibling,i=e.parentNode;return n?i.insertBefore(t,n):i.appendChild(t),t}function $(t,e){return vt.a.each(e,function(e,n){t.appendChild(n)}),t}function U(t){return 0===t.offset}function L(t){return t.offset===b(t.node)}function R(t){return U(t)||L(t)}function A(t,e){for(;t&&t!==e;){if(0!==V(t))return!1;t=t.parentNode}return!0}function F(t,e){if(!e)return!1;for(;t&&t!==e;){if(V(t)!==b(t.parentNode)-1)return!1;t=t.parentNode}return!0}function B(t,e){return U(t)&&A(t.node,e)}function O(t,e){return L(t)&&F(t.node,e)}function V(t){for(var e=0;t=t.previousSibling;)e+=1;return e}function j(t){return!!(t&&t.childNodes&&t.childNodes.length)}function z(t,e){var n=void 0,a=void 0;if(0===t.offset){if(i(t.node))return null;n=t.node.parentNode,a=V(t.node)}else j(t.node)?(n=t.node.childNodes[t.offset-1],a=b(n)):(n=t.node,a=e?0:t.offset-1);return{node:n,offset:a}}function G(t,e){var n=void 0,a=void 0;if(b(t.node)===t.offset){if(i(t.node))return null;n=t.node.parentNode,a=V(t.node)+1}else j(t.node)?(n=t.node.childNodes[t.offset],a=0):(n=t.node,a=e?b(t.node):t.offset+1);return{node:n,offset:a}}function q(t,e){return t.node===e.node&&t.offset===e.offset}function H(t){if(s(t.node)||!j(t.node)||C(t.node))return!0;var e=t.node.childNodes[t.offset-1],n=t.node.childNodes[t.offset];return!(e&&!l(e)||n&&!l(n))}function K(t,e){for(;t;){if(e(t))return t;t=z(t)}return null}function W(t,e){for(;t;){if(e(t))return t;t=G(t)}return null}function Y(t){if(!s(t.node))return!1;var e=t.node.nodeValue.charAt(t.offset-1);return e&&" "!==e&&e!==bt}function J(t,e,n,i){for(var a=t;a&&(n(a),!q(a,e));){a=G(a,i&&t.node!==a.node&&e.node!==a.node)}}function Q(t,e){return S(e,gt.a.eq(t)).map(V).reverse()}function Z(t,e){for(var n=t,i=0,a=e.length;i<a;i++)n=n.childNodes.length<=e[i]?n.childNodes[n.childNodes.length-1]:n.childNodes[e[i]];return n}function X(t,e){var n=e&&e.isSkipPaddingBlankHTML,i=e&&e.isNotSplitEdgePoint;if(R(t)&&(s(t.node)||i)){if(U(t))return t.node;if(L(t))return t.node.nextSibling}if(s(t.node))return t.node.splitText(t.offset);var a=t.node.childNodes[t.offset],o=M(t.node.cloneNode(!1),t.node);return $(o,T(a)),n||(k(t.node),k(o)),o}function tt(t,e,n){var i=S(e.node,gt.a.eq(t));return i.length?1===i.length?X(e,n):i.reduce(function(t,i){return t===e.node&&(t=X(e,n)),X({node:i,offset:t?V(t):b(i)},n)}):null}function et(t,e){var n=e?c:f,i=S(t.node,n),a=yt.a.last(i)||t.node,o=void 0,s=void 0;n(a)?(o=i[i.length-2],s=a):(o=a,s=o.parentNode);var r=o&&tt(o,t,{isSkipPaddingBlankHTML:e,isNotSplitEdgePoint:e});return r||s!==t.node||(r=t.node.childNodes[t.offset]),{rightNode:r,container:s}}function nt(t){return document.createElement(t)}function it(t){return document.createTextNode(t)}function at(t,e){if(t&&t.parentNode){if(t.removeNode)return t.removeNode(e);var n=t.parentNode;if(!e){for(var i=[],a=0,o=t.childNodes.length;a<o;a++)i.push(t.childNodes[a]);for(var s=0,r=i.length;s<r;s++)n.insertBefore(i[s],t)}n.removeChild(t)}}function ot(t,e){for(;t&&!i(t)&&e(t);){var n=t.parentNode;at(t),t=n}}function st(t,e){if(t.nodeName.toUpperCase()===e.toUpperCase())return t;var n=nt(e);return t.style.cssText&&(n.style.cssText=t.style.cssText),$(n,yt.a.from(t.childNodes)),M(n,t),at(t),n}function rt(t,e){var n=Nt(t[0])?t.val():t.html();return e?n.replace(/[\n\r]/g,""):n}function lt(t,e){var n=rt(t);if(e){var i=/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g;n=n.replace(i,function(t,e,n){n=n.toUpperCase();var i=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(n)&&!!e,a=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(n);return t+(i||a?"\n":"")}),n=vt.a.trim(n)}return n}function ct(t){var e=vt()(t),n=e.offset(),i=e.outerHeight(!0);return{left:n.left,top:n.top+i}}function ut(t,e){ht()(e).forEach(function(n){t.on(n,e[n])})}function dt(t,e){ht()(e).forEach(function(n){t.off(n,e[n])})}function pt(t){return t&&!s(t)&&yt.a.contains(t.classList,"note-styletag")}var mt=n(78),ht=n.n(mt),ft=n(14),vt=n.n(ft),gt=n(57),yt=n(33),_t=n(45),bt=String.fromCharCode(160),Ct=o("PRE"),kt=o("LI"),It=o("TABLE"),Dt=o("DATA"),St=o("HR"),wt=o("BLOCKQUOTE"),xt=o("A"),Et=o("BODY"),Tt=_t.a.isMSIE&&_t.a.browserVersion<11?"&nbsp;":"<br>",Nt=o("TEXTAREA");e.a={NBSP_CHAR:bt,ZERO_WIDTH_NBSP_CHAR:"\ufeff",blank:Tt,emptyPara:"<p>"+Tt+"</p>",makePredByNodeName:o,isEditable:i,isControlSizing:a,isText:s,isElement:r,isVoid:l,isPara:c,isPurePara:d,isHeading:u,isInline:p,isBlock:gt.a.not(p),isBodyInline:g,isBody:Et,isParaInline:v,isPre:Ct,isList:m,isTable:It,isData:Dt,isCell:h,isBlockquote:wt,isBodyContainer:f,isAnchor:xt,isDiv:o("DIV"),isLi:kt,isBR:o("BR"),isSpan:o("SPAN"),isB:o("B"),isU:o("U"),isS:o("S"),isI:o("I"),isImg:o("IMG"),isTextarea:Nt,isEmpty:C,isEmptyAnchor:gt.a.and(xt,C),isClosestSibling:y,withClosestSiblings:_,nodeLength:b,isLeftEdgePoint:U,isRightEdgePoint:L,isEdgePoint:R,isLeftEdgeOf:A,isRightEdgeOf:F,isLeftEdgePointOf:B,isRightEdgePointOf:O,prevPoint:z,nextPoint:G,isSamePoint:q,isVisiblePoint:H,prevPointUntil:K,nextPointUntil:W,isCharPoint:Y,walkPoint:J,ancestor:I,singleChildAncestor:D,listAncestor:S,lastAncestor:w,listNext:T,listPrev:E,listDescendant:N,commonAncestor:x,wrap:P,insertAfter:M,appendChildNodes:$,position:V,hasChildren:j,makeOffsetPath:Q,fromOffsetPath:Z,splitTree:tt,splitPoint:et,create:nt,createText:it,remove:at,removeWhile:ot,replace:st,html:lt,value:rt,posFromPlaceholder:ct,attachEvents:ut,detachEvents:dt,isCustomStyleTag:pt}},,,,function(t,e,n){"use strict";e.a={key:{required:!0,type:String},name:{type:String},size:{type:Number,isFloat:!1},url:{type:String}}},,function(t,e,n){"use strict";function i(t){var e="Comic Sans MS"===t?"Courier New":"Comic Sans MS",n=o()("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body),i=n.css("fontFamily",e).width(),a=n.css("fontFamily",t+","+e).width();return n.remove(),i!==a}var a=n(14),o=n.n(a),s="function"==typeof define&&n(1821),r=navigator.userAgent,l=/MSIE|Trident/i.test(r),c=void 0;if(l){var u=/MSIE (\d+[.]\d+)/.exec(r);u&&(c=parseFloat(u[1])),u=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(r),u&&(c=parseFloat(u[1]))}var d=/Edge\/\d+/.test(r),p=!!window.CodeMirror;if(!p&&s)try{p=!0}catch(t){}var m="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,h=l||d?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input";e.a={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:l,isEdge:d,isFF:!d&&/firefox/i.test(r),isPhantom:/PhantomJS/i.test(r),isWebkit:!d&&/webkit/i.test(r),isChrome:!d&&/chrome/i.test(r),isSafari:!d&&/safari/i.test(r),browserVersion:c,jqueryVersion:parseFloat(o.a.fn.jquery),isSupportAmd:s,isSupportTouch:m,hasCodeMirror:p,isFontInstalled:i,isW3CRangeSupport:!!document.createRange,inputEventName:h}},,,,,function(t,e,n){"use strict";n.d(e,"a",function(){return d});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(31),l=(n.n(r),n(6)),c=n(23),u={UpLoadFile:c.a+"/api/FileManage/Upload",GetFile:c.a+"/api/FileManage/FileModel?key=",DownLoadFile:c.a+"/api/FileManage/DownLoad?key=",FileView:c.a+"/api/FileManage/FileView?key="},d=function(){function t(){a()(this,t)}return s()(t,[{key:"getUploadUrl",value:function(){return u.UpLoadFile}},{key:"getFile",value:function(t){return l.a.get(u.GetFile+t)}},{key:"downLoadFile",value:function(t){return u.DownLoadFile+t}},{key:"viewFile",value:function(t){return u.FileView+t}}]),t}()},,,,,,function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(6),l=n(23),c={getApplyList:l.c+"/api/Performance/GetApplyList",getApply:l.c+"/api/Performance/GetApply",getApplyItems:l.c+"/api/Performance/GetApplyItems",createApplyList:l.c+"/api/Performance/CreateApply",editApplyList:l.c+"/api/Performance/EditApply",getCategoryList:l.c+"/api/Performance/GetCategoryList",getProjectList:l.c+"/api/Performance/GetProjectList",getProjectItems:l.c+"/api/Performance/GetProjectItems",getBaseItems:l.c+"/api/Performance/GetBasePerformanceList",deleteBaseApply:l.c+"/api/Performance/DeleteApply",getOrgPerformanceList:l.c+"/api/Performance/GetOrgPerformanceList",downloadTmp:l.c+"/api/Performance/DownLoad",Audite:l.c+"/api/Performance/Audite"},u=(l.c,l.c,l.c,l.c,l.c,l.c,l.c,l.c,l.c,l.c,l.c,l.c,function(){function t(){a()(this,t)}return s()(t,[{key:"GetCategory",value:function(t){return r.a.get(c.getCategoryList,{organizationid:t})}},{key:"GetProjects",value:function(){return r.a.get(c.getProjectList)}},{key:"GetProjectItems",value:function(t){return r.a.get(c.getProjectItems,{ProjectId:t})}},{key:"BaseApplyList",value:function(t){return r.a.get(c.getApplyList,t)}},{key:"BaseApplyGetOne",value:function(t){return r.a.get(c.getApply,{ApplyID:t})}},{key:"BaseApplyItems",value:function(t){return r.a.get(c.getApplyItems,{ApplyID:t})}},{key:"BaseApplyCreate",value:function(t){return r.a.post(c.createApplyList,t)}},{key:"BaseApplyEdit",value:function(t){return r.a.post(c.editApplyList,t)}},{key:"GetBaseItems",value:function(t){return r.a.get(c.getBaseItems,t)}},{key:"DeleteBaseApply",value:function(t){return r.a.get(c.deleteBaseApply,{ApplyID:t})}},{key:"GetOrgPerformanceList",value:function(t){return r.a.get(c.getOrgPerformanceList,t)}},{key:"DownLoad",value:function(){return r.a.get(c.downloadTmp)}},{key:"Audite",value:function(t){return r.a.get(c.Audite,t)}}]),t}())},function(t,e,n){"use strict";function i(t){return function(e){return t===e}}function a(t,e){return t===e}function o(t){return function(e,n){return e[t]===n[t]}}function s(){return!0}function r(){return!1}function l(t){return function(){return!t.apply(t,arguments)}}function c(t,e){return function(n){return t(n)&&e(n)}}function u(t){return t}function d(t,e){return function(){return t[e].apply(t,arguments)}}function p(t){var e=++g+"";return t?t+e:e}function m(t){var e=$(document);return{top:t.top+e.scrollTop(),left:t.left+e.scrollLeft(),width:t.right-t.left,height:t.bottom-t.top}}function h(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function f(t,e){return(e=e||"")+t.split(".").map(function(t){return t.substring(0,1).toUpperCase()+t.substring(1)}).join("")}function v(t,e,n){var i=void 0;return function(){var a=this,o=arguments,s=function(){i=null,n||t.apply(a,o)},r=n&&!i;clearTimeout(i),i=setTimeout(s,e),r&&t.apply(a,o)}}var g=0;e.a={eq:i,eq2:a,peq2:o,ok:s,fail:r,self:u,not:l,and:c,invoke:d,uniqueId:p,rect2bnd:m,invertObject:h,namespaceToCamel:f,debounce:v}},,,,,,function(t,e,n){"use strict";e.a={UserKey:"UserKey"}},,,,,,,function(t,e,n){"use strict";var i=n(19),a=n.n(i),o=n(51),s=n.n(o),r=n(995),l=n.n(r),c=n(4),u=n.n(c),d=function(t,e,n,i){var a=void 0===t||null==t;if(i&&e.required&&a)throw new Error(n+" 未定义或为空");a||(e.type===String?m(t,e,n,i):e.type===Number?h(t,e,n):e.type===Boolean?f(t,e,n):e.type===Array?p(t,e,n,i):e.type===Date&&v(t,e,n))},p=function(t,e,n,i){if(!Array.isArray(t))throw new Error(n+" 的值: "+value+" 不是有效的数组");var a=e.itemValidator;if(a)for(var o=0;o<t.length;o++){var s=t[o],r=n+"["+o+"]";e.itemType===Object?g(s,a,r,i):d(s,a,r,i)}},m=function(t,e,n,i){if(i&&e.required&&""==t)throw new Error(n+" 字符串为空");if(!u.a.isEmpty(t)){if(e.minLength&&t.length<e.minLength)throw new Error(n+" 字符串长度过短，最小长度："+e.minLength);if(e.maxLength&&t.length>e.maxLength)throw new Error(n+" 字符串长度过长，最大长度："+e.maxLength)}},h=function(t,e,n){if("number"!=typeof t&&(t=parseFloat(t)),e.type===Number&&isNaN(t))throw new Error(n+" 的值: "+t+" 不是一个有效的数字");if(!e.isFloat&&!l()(t))throw new Error(n+" 的值: "+t+" 不是一个有效的整数")},f=function(t,e,n){if(!u.a.isBoolean(t))throw new Error(n+" 的值: "+t+" 不是一个有效的Boolean值")},v=function(t,e,n){if(e.type===Date&&!u.a.isDate(t))throw new Error(n+" 的值: "+t+" 不是一个有效的Date值")},g=function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"data",o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(void 0===n||null===n||"object"!==(void 0===n?"undefined":s()(n)))throw new Error(i+" 遇到非法的验证器数据"+a()(n));if(o&&n.required&&(void 0===e||null===e))throw new Error(i+" 不能为空");if(r)return void d(e,n,i,o);if(void 0!==e&&null!==e)for(var l in n){var c=n[l],p=i+"."+l,m=e[l];if(void 0===m)throw new Error(p+" 未定义");if(n.type===Object){var h=c.validator;u.a.isEmpty(h)||t(m,c,p,o)}else d(m,c,p,o)}};e.a=g},,,,,function(t,e,n){"use strict";e.a={formType:{required:!0,type:Number,isFloat:!1},version:{required:!0,type:Number,isFloat:0}}},function(t,e,n){"use strict";e.a={id:{required:!0,type:Number,isFloat:!1},type:{required:!0,type:Number,isFloat:!1}}},function(t,e,n){"use strict";function i(t){this._servers=t.OrganizeServer,this.Nodes=[],this.RoleNodes=[],this.DepItems=[],this.SearchItems=[],this.PositionItems=[],this.EventsloadCompleted={},this.EventssaveCompleted={},this.EventsdeleteCompleted={},this.EventsrefreshCompleted={},this.EventsrenameCompleted={},this.EventsmovenodeCompleted={},this.EventsrolesloadCompleted={},this.EventsRolePositionsCompleted={},this.EventsSearchCompleted={},this.EventsposloadCompleted={},this.EventsSaveRolePositionCompleted={},this.EventsgetPositionsCompleted={},this.EventsGetPositionPermissionsCompleted={},this.EventsSetPositionPermissionsCompleted={},this.CommitErrors=[],this._SetNodesList=function(t){if(t.Success){this.Nodes=[];var e=t.Data;if(void 0!=e&&e.length>0)for(var n=0;n<e.length;n++){var i=this._ConvertToModel(e[n]);this.Nodes.push(i)}}},this._SetRoleNodesList=function(t){if(t.Success){this.RoleNodes=[];var e=t.Data;if(void 0!=e&&e.length>0)for(var n=0;n<e.length;n++){var i=this._ConvertToModel(e[n]);this.RoleNodes.push(i)}console.log(this.RoleNodes)}},this._SetSearchNodesList=function(t){if(t.Success){this.SearchItems=[];var e=t.Data;if(void 0!=e&&e.length>0)for(var n=0;n<e.length;n++){var i=this._ConvertToModel(e[n]);this.SearchItems.push(i)}}},this._SetOptions=function(t){if(t.Success){this.DepItems=[];var e=t.Data;if(void 0!=e&&e.length>0)for(var n=0;n<e.length;n++){var i=this._ConvertToOptions(e[n]);this.DepItems.push(i)}}},this._SetPositionOptions=function(t){if(t.Success){this.PositionItems=[];var e=t.Data;if(void 0!=e&&e.length>0)for(var n=0;n<e.length;n++){var i=this._ConvertToOptions(e[n]);this.PositionItems.push(i)}}},this._ConvertToModel=function(t){var e={};if(e.ID=t.ID,e.CompanyID=t.CompanyID,e.Name=t.Name,e.EnName=t.EnName,e.Type=t.Type,e.PID=t.PID,e.IconKey=t.IconKey,e.EmpolyeeCount=t.EmpolyeeCount,e.NodePath=t.NodePath,e.NodePathNames=t.NodePathNames,e.Childs=[],t.Childs)for(var n=0;n<t.Childs.length;n++){var i=this._ConvertToModel(t.Childs[n]);e.Childs.push(i)}return e},this._ConvertToOptions=function(t){var e={};if(e.value=t.ID,e.label=t.NodePathNames,void 0!=t.Childs){t.Childs.length>0&&(e.children=[]);for(var n=0;n<t.Childs.length;n++){var i=this._ConvertToOptions(t.Childs[n]);e.children.push(i)}}return e},this._DeleteNode=function(t,e){for(var n=0;n<t.length;n++){if(t[n].ID==e)return void t.splice(n,1);t[n].Childs.length>0&&this._DeleteNode(t[n].Childs,e)}},this._MoveNode=function(t,e){for(var n=0;n<t.length;n++){if(t[n].ID==e.PID)return void t[n].Childs.push(e);t[n].Childs.length>0&&this._MoveNode(t[n].Childs,e)}},i.prototype.GDepItems=function(t){var e=this;this._servers.GetNodes(t,t,2,!0).then(function(t){console.log(t),e._SetOptions(t);for(var n in e.EventsloadCompleted)void 0!=e.EventsloadCompleted[n]&&e.EventsloadCompleted[n](t.Data)}).catch(function(t){console.log(t)})},i.prototype.GPositionItems=function(t){var e=this;this._servers.SearchNodes(t,"",0,4,!0).then(function(t){e._SetPositionOptions(t);for(var n in e.EventsposloadCompleted)void 0!=e.EventsposloadCompleted[n]&&e.EventsposloadCompleted[n](t.Data)}).catch(function(t){console.log(t)})},i.prototype.GetDepartPositions=function(t,e,n,i){var a=this;this._servers.GetNodes(t,e,n,i).then(function(t){a._SetNodesList(t);for(var e in a.EventsloadCompleted)void 0!=a.EventsloadCompleted[e]&&a.EventsloadCompleted[e](t.Data)}).catch(function(t){console.log(t)})},i.prototype.GetPositions=function(t,e){var n=this;this._servers.SearchNodes(t,"",e,4).then(function(t){for(var e in n.EventsgetPositionsCompleted)void 0!=n.EventsgetPositionsCompleted[e]&&n.EventsgetPositionsCompleted[e](t)}).catch(function(t){console.log(t)})},i.prototype.SearchDepartPositions=function(t,e){var n=this;this._servers.SearchNodes(t,e,0,6).then(function(t){n._SetSearchNodesList(t);for(var e in n.EventsSearchCompleted)void 0!=n.EventsSearchCompleted[e]&&n.EventsSearchCompleted[e](t.Data)}).catch(function(t){console.log(t)})},i.prototype.GetRolePositions=function(t,e){var n=this;this._servers.GetRolePositions(t,e).then(function(t){for(var e in n.EventsRolePositionsCompleted)void 0!=n.EventsRolePositionsCompleted[e]&&n.EventsRolePositionsCompleted[e](t)})},i.prototype.EditNode=function(t){var e=this;this._servers.SaveNode(t).then(function(t){for(var n in e.EventssaveCompleted)void 0!=e.EventssaveCompleted[n]&&e.EventssaveCompleted[n](t)}).catch(function(t){console.log(t)})},i.prototype.DeleteNode=function(t,e){var n=this,i=this;this._servers.DeleteNode(t,e).then(function(e){e.Success&&n._DeleteNode(n.Nodes,t);for(var a in i.EventsdeleteCompleted)void 0!=i.EventsdeleteCompleted[a]&&i.EventsdeleteCompleted[a](e)}).catch(function(t){console.log(t)})},i.prototype.RefreshNode=function(t,e){var n=this;console.log(t+" "+e),this._servers.GetNodes(t,e,6,!0).then(function(t){for(var e in n.EventsrefreshCompleted)console.log(t),void 0!=n.EventsrefreshCompleted[e]&&n.EventsrefreshCompleted[e](t)}).catch(function(t){console.log(t)})},i.prototype.RenameNode=function(t){var e=this;this._servers.RenameNode(t).then(function(t){for(var n in e.EventsrenameCompleted)void 0!=e.EventsrenameCompleted[n]&&e.EventsrenameCompleted[n](t)}).catch(function(t){console.log(t)})},i.prototype.MoveNode=function(t){var e=this,n=this;this._servers.SaveNode(t).then(function(i){i.Success&&n._DeleteNode(e.Nodes,t.ID);var a={};o()(a,t);for(var s in n.EventsmovenodeCompleted)void 0!=n.EventsmovenodeCompleted[s]&&n.EventsmovenodeCompleted[s](a)}).catch(function(t){console.log(t)})},i.prototype.GetRoles=function(t,e,n){var i=this;this._servers.GetNodes(t,e,8,n).then(function(t){i._SetRoleNodesList(t);for(var e in i.EventsrolesloadCompleted)void 0!=i.EventsrolesloadCompleted[e]&&i.EventsrolesloadCompleted[e](t.Data)}).catch(function(t){console.log(t)})},i.prototype.SaveRolePosition=function(t,e,n,i){var a=this;this._servers.SaveRolePosition(e,n,t,i).then(function(t){for(var e in a.EventsSaveRolePositionCompleted)void 0!=a.EventsSaveRolePositionCompleted[e]&&a.EventsSaveRolePositionCompleted[e](t)})},i.prototype.GetPositionPermissions=function(t,e){var n=this;this._servers.GetPositionPermissions(t,e).then(function(t){for(var e in n.EventsGetPositionPermissionsCompleted)void 0!=n.EventsGetPositionPermissionsCompleted[e]&&n.EventsGetPositionPermissionsCompleted[e](t)})},i.prototype.SetPositionPermissions=function(t,e,n,i){var a=this;this._servers.SetPositionPermissions(t,e,n,i).then(function(t){for(var e in a.EventsSetPositionPermissionsCompleted)void 0!=a.EventsSetPositionPermissionsCompleted[e]&&a.EventsSetPositionPermissionsCompleted[e](t)})}}var a=n(40),o=n.n(a);e.a=i},,,,,,,,function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(1),a=n.n(i),o=function t(){a()(this,t)};o.userKey=null,o.organizationTask=null},function(t,e,n){"use strict";n.d(e,"a",function(){return v});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(8),p=n.n(d),m=n(18),h=n(4),f=(n.n(h),n(43)),v=function(t){function e(t,n){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];s()(this,e);var o=u()(this,(e.__proto__||a()(e)).call(this,t,f.a,i));return o.$apiManager=n,o}return p()(e,t),l()(e,[{key:"name",get:function(){return this.$data.name},set:function(t){this.$data.name=t}},{key:"key",get:function(){return this.$data.key},set:function(t){this.$data.key=t}},{key:"url",get:function(){return this.$data.url},set:function(t){this.$data.url=t}},{key:"size",get:function(){return this.$data.size},set:function(t){this.$data.size=t}}]),e}(m.a)},function(t,e,n){"use strict";var i=function t(e){if(void 0===e||null===e)return e;if("string"==typeof e||"number"==typeof e||"boolean"==typeof e||void 0===e||null===e)return e;if(Array.isArray(e)){for(var n=[],i=0;i<e.length;i++)n.push(t(e[i]));return n}var a={};for(var o in e)e.hasOwnProperty(o)&&(a[o]=t(e[o]));return a};e.a=i},function(t,e,n){"use strict";var i=n(919),a=n(931),o={_Servers:null,BatchDocs:[],Performances:[],Init:function(t){this._Servers=t},GetBatchDoc:function(t){var e=this.BatchDocs[t];return null==e&&(e=new i.a(this._Servers),e.bdID=t,this.BatchDocs[t]=e),e},ReplaceDoc:function(t){this.BatchDocs[t]=new i.a(this._Servers)},GetPerformance:function(t){var e=this.Performances[t];return null==e&&(e=new a.a(this._Servers),e.PerformanceID=t,this.Performances[t]=e),e}};e.a=o},function(t,e,n){"use strict";var i=n(31),a=n.n(i),o=n(23),s=function(t){var e="bearer 12345",n=sessionStorage.getItem("UserKey");return null!==n&&(n=JSON.parse(n),e="bearer "+n.UserTokenKey),a.a.create({baseURL:t,headers:{Authorization:e}})},r={Ajax:function(t,e,n,i,a){var r={base:o.a}.base;(t.indexOf("/UserCenter/")>0||t.indexOf("/UserSecurity/")>0)&&(r={userbase:o.b}.userbase);var l=s(r),c=this.root,u=this.loginname,d=null;if("get"==e?d=l.get(t,{params:n}):"post"==e&&(d=l.post(t,n)),null!=d)return d.then(function(t){i(t.data,a)}).catch(function(t){null!=c&&null!=t&&"Network Error"!==t.message&&(null==t.response&&null!=t.request||null!=t.response&&401==t.response.status)?c.push({name:u}):i({Success:!1},a)}),!0},root:null,loginname:""};e.a=r},function(t,e,n){"use strict";function i(t){this.Servers=t,i.prototype.GetKanbanList=function(e,n,i){return t.Kanban.GetKanbanList(e,n,i)},i.prototype.GetKanbanCount=function(e,n,i){return t.Kanban.GetKanbanCount(e,n,i)},i.prototype.ReadKanbanDocs=function(e,n,i){return t.Kanban.ReadKanbanDocs(e,n,i)},i.prototype.GetKanbanTypeList=function(e,n,i){return t.Kanban.GetKanbanTypeList(e,n,i)},i.prototype.GetBatchTypeList=function(e,n,i){return t.Kanban.GetBatchTypeList(e,n,i)},i.prototype.GetPriorityList=function(e,n,i){return t.Kanban.GetPriorityList(e,n,i)},i.prototype.GetBatchDetail=function(e,n,i){return t.Kanban.GetBatchDetail(e,n,i)},i.prototype.SetBatchDetail=function(e,n,i){return t.Kanban.SetBatchDetail(e,n,i)},i.prototype.BatchAction=function(e,n,i,a){return t.Kanban.BatchAction(e,n,i,a)},i.prototype.GetTemplateList=function(e,n,i){return t.Kanban.GetTemplateList(e,n,i)},i.prototype.GetTemplateByID=function(e,n,i){return t.Kanban.GetTemplateByID(e,n,i)},i.prototype.BatchSubmit=function(e,n,i,a){return t.Kanban.BatchSubmit(e,n,i,a)},i.prototype.GetFlowNodes=function(e,n,i){return t.Kanban.GetFlowNodes(e,n,i)}}e.a=i},,,,,,,,,,,,,,,function(t,e,n){n(1311);var i=n(0)(n(785),n(1653),null,null);t.exports=i.exports},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(1),a=n.n(i),o=function t(){a()(this,t)};o.companys=[],o.companysOptions=[],o.currentCompanyAllPositions=[],o.currentCompanyAllEmployees=[],o.currentStaffId="",o.currentCompanyId="",o.currentKanbanPositions=[],o.currentOwnCartPositions=[]},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(1),a=n.n(i),o=n(645),s=function t(){a()(this,t)};s.taskRelatedToMeGet=function(t){var e={token:t};return o.a.getApiHost("task").get("","",{headers:e})},s.taskDetailGet=function(t){return o.a.getApiHost("task").get("/"+t)},s.taskOperationPut=function(t,e,n){var i={token:e};return o.a.getApiHost("task").put("/"+t,n,{headers:i})},s.newTaskPost=function(t){return o.a.getApiHost("task").post("",t)},s.saveTaskPut=function(t){return o.a.getApiHost("task").put("",t)},s.modifyModulusPut=function(t,e){return o.a.getApiHost("task").put("/modifyModulus/"+t,{modulus:e})},s.rootTaskListGet=function(t){var e={token:t};return o.a.getApiHost("task").get("/roots","",{headers:e})},s.rootTaskChildrenListGet=function(t){return o.a.getApiHost("task").get("/childrenList/"+t)}},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(303),l=function(){function t(e){a()(this,t),this.$apiManager=e,this.$eventManager=new r.a}return s()(t,[{key:"off",value:function(t){this.eventManager.off(t)}},{key:"apiManager",get:function(){return this.$apiManager}},{key:"eventManager",get:function(){return this.$eventManager}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return E});var i=n(19),a=n.n(i),o=n(7),s=n.n(o),r=n(1),l=n.n(r),c=n(2),u=n.n(c),d=n(9),p=n.n(d),m=n(34),h=n.n(m),f=n(8),v=n.n(f),g=n(18),y=(n(87),n(4)),_=n.n(y),b=n(43),C=n(32),k=n(86),I=n(137),D=n(865),S=n(3),w=n.n(S),x=n(134),E=function(t){function e(t,n,i,a){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];l()(this,e);var r=p()(this,(e.__proto__||s()(e)).call(this,i,a,o));return r.$apiManager=n,r.$attachments=[],r.$documentType=t,r.$tabName=_.a.uniqueId("document_"),r.$groupTypeName="",r.$required=!1,r.$viewMode=!1,r.$endorsementFile=null,_.a.isEmpty(r.$data.createDateTime)&&(r.$data.createDateTime=w()(new Date).format("YYYY-MM-DD hh:mm:ss")),_.a.isEmpty(r.$data.lastUpdate)&&(r.$data.lastUpdate=w()(new Date).format("YYYY-MM-DD hh:mm:ss")),_.a.isEmpty(r.$data.attachments)||(r.$attachments=_.a.map(r.$data.attachments,function(t){return new k.a(t)})),r.$relations=[],r}return v()(e,t),u()(e,[{key:"onSave",value:function(t){this.eventManager.on("save",t)}},{key:"onValidate",value:function(t){this.eventManager.on("validate",t)}},{key:"emitSave",value:function(){this.eventManager.emit("save")}},{key:"emitValidate",value:function(t){t.success=!0,this.eventManager.emit("validate",t)}},{key:"companyEditable",value:function(){return!0}},{key:"onToggleEndorsementMode",value:function(){}},{key:"addRelation",value:function(t,e,i){var a=n.i(C.a)(I.a);a.documentId=t,a.name=e,a.behaviour=i;var o=new D.a(a,!1);return this.$relations.push(o),o}},{key:"removeRelation",value:function(t){if(_.a.isEmpty(t))throw new Error("relation is null");var e=_.a.indexOf(this.$data.relations,t);e>=0&&this.$relations.splice(e,1)}},{key:"findEndorsementDocuments",value:function(t){return this.EndorsementMode?_.a.filter(this.EndorsementFile.Documents,function(e){return e.DocumentType===t}):[]}},{key:"createAttachment",value:function(t){var e={};e.key=t.Key,e.url=t.Url,e.name=t.Name,e.size=t.Size;var i=n.i(C.a)(b.a),a=new k.a(i,b.a,!1);_.a.extendOwn(a,e),console.log(a),this.$attachments.push(a)}},{key:"toEnvelop",value:function(){return{form:{formType:0,version:0},id:{id:this.$data.documentId,type:this.$documentType},content:this.toData()}}},{key:"saveDraft",value:function(){var t=a()(this.toEnvelop()),e=this;return this.$data.documentId<=0?this.$apiManager.getApiHost("documentation").post("CreateDraft",{jsonContent:t}).then(function(t){e.$data.documentId=t.id.id}):this.$apiManager.getApiHost("documentation").post("UpdateDraft",{jsonContent:t})}},{key:"deleteDraft",value:function(){return console.log("deleteDraft:id="+this.DocumentID),this.$apiManager.getApiHost("documentation").delete("DeleteDraft",{documentId:this.DocumentId})}},{key:"toData",value:function(){var t=h()(e.prototype.__proto__||s()(e.prototype),"toData",this).call(this);return t.userId=x.a.instance.currentUser.UserID,t.attachments=_.a.map(this.$attachments,function(t){return t.toData()}),_.a.isEmpty(this.$relations)||(t.relations=_.a.map(this.$relations,function(t){return t.toData()})),t}},{key:"EndorsementFile",get:function(){return this.$endorsementFile},set:function(t){this.$endorsementFile=t,this.onToggleEndorsementMode()}},{key:"DocumentComponentName",get:function(){return"CommonDocument"}},{key:"TabName",get:function(){return this.$tabName}},{key:"TitleForTab",get:function(){var t=this.Title;return _.a.isEmpty(t)&&(t="未名命"),t+" ("+this.GroupTypeName+")"}},{key:"CreateDateTime",get:function(){return this.$data.createDateTime}},{key:"DocumentType",get:function(){return this.$documentType}},{key:"GroupTypeName",get:function(){return this.$groupTypeName},set:function(t){this.$groupTypeName=t}},{key:"EndorsementMode",get:function(){return null!=this.$endorsementFile}},{key:"viewMode",get:function(){return this.$viewMode},set:function(t){this.$viewMode=t}},{key:"Required",get:function(){return this.$required},set:function(t){this.$required=t}},{key:"apiManager",get:function(){return this.$apiManager}},{key:"DocumentId",get:function(){return this.$data.documentId},set:function(t){this.$data.documentId=t}},{key:"Status",get:function(){return this.$data.status},set:function(t){this.$data.status=t}},{key:"Attachments",get:function(){return this.$attachments},set:function(t){this.$attachments=t}},{key:"UserID",get:function(){return this.$data.userId}},{key:"CompanyID",get:function(){return this.$data.companyId},set:function(t){this.$data.companyId=t}},{key:"Title",get:function(){return this.$data.title},set:function(t){this.$data.title=t}},{key:"endorsementMode",get:function(){return this.$data.endorsementMode},set:function(t){this.$data.endorsementMode=t}},{key:"TemplateId",get:function(){return this.$data.TemplateId},set:function(t){this.$data.TemplateId=t}},{key:"CurrentNode",get:function(){return this.$data.CurrentNode},set:function(t){this.$data.CurrentNode=t}},{key:"auditable",get:function(){return this.DocumentId>0}},{key:"editable",get:function(){return!0}}]),e}(g.a)},function(t,e,n){"use strict";var i=n(75),a=n(76);e.a={startIndex:{required:!0,type:Number,isFloat:!1},fetchSize:{required:!0,type:Number,isFloat:!1,defaultValue:10},userId:{required:!0,type:Number,isFloat:!1},companyId:{required:!0,type:Number,isFloat:!1},title:{required:!1,type:String},sortField:{required:!1,type:String},sortDescend:{required:!0,type:Boolean},form:{required:!0,type:Object,validator:i.a},id:{required:!0,type:Object,validator:a.a}}},function(t,e,n){"use strict";e.a={documentId:{required:!0,type:Number,isFloat:!1},title:{required:!0,type:String}}},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(6),l=n(23),c={getDeclareList:l.c+"/api/DeclarePer/GetDeclareList",deleteDeclare:l.c+"/api/DeclarePer/DeleteDeclare",getDeclare:l.c+"/api/DeclarePer/GetDeclare",createDeclare:l.c+"/api/DeclarePer/CreateDeclare",editDeclare:l.c+"/api/DeclarePer/EditDeclare",searchEmployee:l.a+"/api/CompanyManager/SearchEmployees",editRealScore:l.c+"/api/DeclarePer/EditRealScore"},u=(l.c,l.c,l.c,l.c,l.c,l.a,l.c,function(){function t(){a()(this,t)}return s()(t,[{key:"GetDeclareList",value:function(t){return r.a.get(c.getDeclareList,t)}},{key:"DeleteDeclare",value:function(t){return r.a.get(c.deleteDeclare,{DeclareID:t})}},{key:"GetDeclare",value:function(t){return r.a.get(c.getDeclare,{DeclareID:t})}},{key:"EditDeclare",value:function(t){return 0==t.documentId?r.a.post(c.createDeclare,t):r.a.post(c.editDeclare,t)}},{key:"SearchEmployee",value:function(t,e){var n={KeyWord:e,CompanyID:[t],OrganizationNodeId:0,DepartmentID:[0],State:10,startIndex:1,fetchSize:10};return r.a.post(c.searchEmployee,n)}},{key:"EditRealScore",value:function(t){return r.a.post(c.editRealScore,t)}}]),t}())},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n(15),a=n.n(i),o=n(10),s=n.n(o),r=n(22),l=n.n(r),c=n(1),u=n.n(c),d=n(2),p=n.n(d),m=n(197),h=function(){function t(){u()(this,t),this._principals=[]}return p()(t,[{key:"setPrincipals",value:function(t){this._principals=t}},{key:"getCurrentPrincipals",value:function(){function t(t){return e.apply(this,arguments)}var e=l()(s.a.mark(function t(e){var n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.getNodesForOneNode(e,{depth:0},"");case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}},t,this)}));return t}()},{key:"getParentPrincipals",value:function(){function t(t,n){return e.apply(this,arguments)}var e=l()(s.a.mark(function t(e,n){var i,o,r,c=this;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=[],t.prev=1,t.next=4,m.a.getNodesForOneNode(e,{depth:-1},"");case 4:return o=t.sent,r=[],_.each(o,function(){var t=l()(s.a.mark(function t(i){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n===i.type&&i.id!=e&&r.push(i);case 1:case"end":return t.stop()}},t,c)}));return function(e){return t.apply(this,arguments)}}()),0===r.length&&_.each(o,function(){var t=l()(s.a.mark(function t(e){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"POSITION"===n&&"DEPARTMENT"===e.type&&r.push(e),"DEPARTMENT"===n&&"COMPANY"===e.type&&r.push(e);case 2:case"end":return t.stop()}},t,c)}));return function(e){return t.apply(this,arguments)}}()),0===r.length&&_.each(o,function(){var t=l()(s.a.mark(function t(e){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"POSITION"===n&&"COMPANY"===e.type&&r.push(e);case 1:case"end":return t.stop()}},t,c)}));return function(e){return t.apply(this,arguments)}}()),t.next=11,a.a.all(_.map(r,function(){var t=l()(s.a.mark(function t(e){var n,i,a,o,r,l,u;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.parentId){t.next=10;break}return t.next=3,m.a.getNodesForOneNode(e.parentId,{depth:0},"");case 3:return n=t.sent,i=e.type,a={principalId:e.id,principalName:e.name,parentId:n.length>0?n[0].id:"",parentType:n.length>0?n[0].type:""},o=new f(i,a),t.abrupt("return",o);case 10:return r=e.type,l={principalId:e.id,principalName:e.name,parentId:"",parentType:""},u=new f(r,l),t.abrupt("return",u);case 14:case"end":return t.stop()}},t,c)}));return function(e){return t.apply(this,arguments)}}()));case 11:return i=t.sent,t.abrupt("return",i);case 15:throw t.prev=15,t.t0=t.catch(1),new Error(t.t0.message);case 18:case"end":return t.stop()}},t,this,[[1,15]])}));return t}()},{key:"getChildrenPrincipals",value:function(){function t(t,n){return e.apply(this,arguments)}var e=l()(s.a.mark(function t(e,n){var i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=[],"COMPANY"!==n){t.next=7;break}return t.next=4,this.getCompanyNodes();case 4:i=t.sent,t.next=10;break;case 7:return t.next=9,this.getChildrenWthDepartmentAndPositonAndEmployee(e,n);case 9:i=t.sent;case 10:return t.abrupt("return",i);case 11:case"end":return t.stop()}},t,this)}));return t}()},{key:"getCompanyNodes",value:function(){function t(){return e.apply(this,arguments)}var e=l()(s.a.mark(function t(){var e,n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],t.prev=1,t.next=4,m.a.getAllNode("","");case 4:return n=t.sent,n&&_.each(n,function(t){_.each(t,function(t){if("COMPANY"===t.type){var n={principalId:t.id,principalName:t.name,parentId:"",parentType:""},i=new f("COMPANY",n);e.push(i)}})}),t.abrupt("return",e);case 9:throw t.prev=9,t.t0=t.catch(1),new Error(t.t0.message);case 12:case"end":return t.stop()}},t,this,[[1,9]])}));return t}()},{key:"getChildrenWthDepartmentAndPositonAndEmployee",value:function(){function t(t,n){return e.apply(this,arguments)}var e=l()(s.a.mark(function t(e,n){var i,o,r,c=this;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=[],t.prev=1,t.next=4,m.a.getNodesForOneNode(e,{depth:1},"");case 4:return o=t.sent,r=[],_.each(o,function(){var t=l()(s.a.mark(function t(e){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n===e.type&&r.push(e);case 1:case"end":return t.stop()}},t,c)}));return function(e){return t.apply(this,arguments)}}()),t.next=9,a.a.all(_.map(r,function(){var t=l()(s.a.mark(function t(e){var n,i,a,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.getNodesForOneNode(e.parentId,{depth:0},"");case 2:return n=t.sent,i=e.type,a={principalId:e.id,principalName:e.name,parentId:n.length>0?n[0].id:"",parentType:n.length>0?n[0].type:""},o=new f(i,a),t.abrupt("return",o);case 7:case"end":return t.stop()}},t,c)}));return function(e){return t.apply(this,arguments)}}()));case 9:return i=t.sent,t.abrupt("return",i);case 13:throw t.prev=13,t.t0=t.catch(1),new Error(t.t0.message);case 16:case"end":return t.stop()}},t,this,[[1,13]])}));return t}()}]),t}(),f=function(){function t(e,n){u()(this,t),this._type=e,this._principalId=n.principalId||0,this._principalName=n.principalName||"",this._parentId=n.parentId||0,this._parentType=n.parentType||""}return p()(t,[{key:"parentId",get:function(){return this._parentId}},{key:"parentType",get:function(){return this._parentType}},{key:"principalId",get:function(){return this._principalId}},{key:"principalName",get:function(){return this._principalName}},{key:"type",get:function(){return this._type}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i,a,o=n(1),s=n.n(o),r=(a=i=function t(){s()(this,t)},i.companys=[],i.positionList=[],i.companyPeople=[],i.performanceDefinitionListForPositionList=[],i.principalAndOwnPerformanceDefinitionList=[],i.currentPrincipalId="",i.currentOwnerId="",i.loading=!1,i.declaredPositionAndPerformanceDefintionList=[],i.performanceDocumentList=[],i.ownerPerformanceListKanbanPrincipal=[],i.currentPerformanceDocumentDetail={},i.currentPerformanceDocumentDetailState={},i.currentStaffID="",i.currentCompany="",i.deletedItemArr=[],i.OwnCompanys=[],i.EmployeeNodes=[],a)},function(t,e,n){"use strict";var i=n(33),a=n(57),o={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221};e.a={isEdit:function(t){return i.a.contains([o.BACKSPACE,o.TAB,o.ENTER,o.SPACE,o.DELETE],t)},isMove:function(t){return i.a.contains([o.LEFT,o.UP,o.RIGHT,o.DOWN],t)},nameFromCode:a.a.invertObject(o),code:o}},function(t,e,n){"use strict";function i(t,e){var n=t.parentElement(),i=void 0,a=document.body.createTextRange(),o=void 0,s=m.a.from(n.childNodes);for(i=0;i<s.length;i++)if(!h.a.isText(s[i])){if(a.moveToElementText(s[i]),a.compareEndPoints("StartToStart",t)>=0)break;o=s[i]}if(0!==i&&h.a.isText(s[i-1])){var r=document.body.createTextRange(),l=null;r.moveToElementText(o||n),r.collapse(!o),l=o?o.nextSibling:n.firstChild;var c=t.duplicate();c.setEndPoint("StartToStart",r);for(var u=c.text.replace(/[\r\n]/g,"").length;u>l.nodeValue.length&&l.nextSibling;)u-=l.nodeValue.length,l=l.nextSibling;l.nodeValue;e&&l.nextSibling&&h.a.isText(l.nextSibling)&&u===l.nodeValue.length&&(u-=l.nodeValue.length,l=l.nextSibling),n=l,i=u}return{cont:n,offset:i}}function a(t){var e=document.body.createTextRange(),n=function t(e,n){var i=void 0,a=void 0;if(h.a.isText(e)){var o=h.a.listPrev(e,p.a.not(h.a.isText)),s=m.a.last(o).previousSibling;i=s||e.parentNode,n+=m.a.sum(m.a.tail(o),h.a.nodeLength),a=!s}else{if(i=e.childNodes[n]||e,h.a.isText(i))return t(i,0);n=0,a=!1}return{node:i,collapseToStart:a,offset:n}}(t.node,t.offset);return e.moveToElementText(n.node),e.collapse(n.collapseToStart),e.moveStart("character",n.offset),e}var o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(14),u=n.n(c),d=n(45),p=n(57),m=n(33),h=n(39),f=function(){function t(e,n,i,a){s()(this,t),this.sc=e,this.so=n,this.ec=i,this.eo=a,this.isOnEditable=this.makeIsOn(h.a.isEditable),this.isOnList=this.makeIsOn(h.a.isList),this.isOnAnchor=this.makeIsOn(h.a.isAnchor),this.isOnCell=this.makeIsOn(h.a.isCell),this.isOnData=this.makeIsOn(h.a.isData)}return l()(t,[{key:"nativeRange",value:function(){if(d.a.isW3CRangeSupport){var t=document.createRange();return t.setStart(this.sc,this.so),t.setEnd(this.ec,this.eo),t}var e=a({node:this.sc,offset:this.so});return e.setEndPoint("EndToEnd",a({node:this.ec,offset:this.eo})),e}},{key:"getPoints",value:function(){return{sc:this.sc,so:this.so,ec:this.ec,eo:this.eo}}},{key:"getStartPoint",value:function(){return{node:this.sc,offset:this.so}}},{key:"getEndPoint",value:function(){return{node:this.ec,offset:this.eo}}},{key:"select",value:function(){var t=this.nativeRange();if(d.a.isW3CRangeSupport){var e=document.getSelection();e.rangeCount>0&&e.removeAllRanges(),e.addRange(t)}else t.select();return this}},{key:"scrollIntoView",value:function(t){var e=u()(t).height();return t.scrollTop+e<this.sc.offsetTop&&(t.scrollTop+=Math.abs(t.scrollTop+e-this.sc.offsetTop)),this}},{key:"normalize",value:function(){var e=function(t,e){if(h.a.isVisiblePoint(t)&&!h.a.isEdgePoint(t)||h.a.isVisiblePoint(t)&&h.a.isRightEdgePoint(t)&&!e||h.a.isVisiblePoint(t)&&h.a.isLeftEdgePoint(t)&&e||h.a.isVisiblePoint(t)&&h.a.isBlock(t.node)&&h.a.isEmpty(t.node))return t;var n=h.a.ancestor(t.node,h.a.isBlock);if((h.a.isLeftEdgePointOf(t,n)||h.a.isVoid(h.a.prevPoint(t).node))&&!e||(h.a.isRightEdgePointOf(t,n)||h.a.isVoid(h.a.nextPoint(t).node))&&e){if(h.a.isVisiblePoint(t))return t;e=!e}return(e?h.a.nextPointUntil(h.a.nextPoint(t),h.a.isVisiblePoint):h.a.prevPointUntil(h.a.prevPoint(t),h.a.isVisiblePoint))||t},n=e(this.getEndPoint(),!1),i=this.isCollapsed()?n:e(this.getStartPoint(),!0);return new t(i.node,i.offset,n.node,n.offset)}},{key:"nodes",value:function(t,e){t=t||p.a.ok;var n=e&&e.includeAncestor,i=e&&e.fullyContains,a=this.getStartPoint(),o=this.getEndPoint(),s=[],r=[];return h.a.walkPoint(a,o,function(e){if(!h.a.isEditable(e.node)){var a=void 0;i?(h.a.isLeftEdgePoint(e)&&r.push(e.node),h.a.isRightEdgePoint(e)&&m.a.contains(r,e.node)&&(a=e.node)):a=n?h.a.ancestor(e.node,t):e.node,a&&t(a)&&s.push(a)}},!0),m.a.unique(s)}},{key:"commonAncestor",value:function(){return h.a.commonAncestor(this.sc,this.ec)}},{key:"expand",value:function(e){var n=h.a.ancestor(this.sc,e),i=h.a.ancestor(this.ec,e);if(!n&&!i)return new t(this.sc,this.so,this.ec,this.eo);var a=this.getPoints();return n&&(a.sc=n,a.so=0),i&&(a.ec=i,a.eo=h.a.nodeLength(i)),new t(a.sc,a.so,a.ec,a.eo)}},{key:"collapse",value:function(e){return e?new t(this.sc,this.so,this.sc,this.so):new t(this.ec,this.eo,this.ec,this.eo)}},{key:"splitText",value:function(){var e=this.sc===this.ec,n=this.getPoints();return h.a.isText(this.ec)&&!h.a.isEdgePoint(this.getEndPoint())&&this.ec.splitText(this.eo),h.a.isText(this.sc)&&!h.a.isEdgePoint(this.getStartPoint())&&(n.sc=this.sc.splitText(this.so),n.so=0,e&&(n.ec=n.sc,n.eo=this.eo-this.so)),new t(n.sc,n.so,n.ec,n.eo)}},{key:"deleteContents",value:function(){if(this.isCollapsed())return this;var e=this.splitText(),n=e.nodes(null,{fullyContains:!0}),i=h.a.prevPointUntil(e.getStartPoint(),function(t){return!m.a.contains(n,t.node)}),a=[];return u.a.each(n,function(t,e){var n=e.parentNode;i.node!==n&&1===h.a.nodeLength(n)&&a.push(n),h.a.remove(e,!1)}),u.a.each(a,function(t,e){h.a.remove(e,!1)}),new t(i.node,i.offset,i.node,i.offset).normalize()}},{key:"makeIsOn",value:function(t){return function(){var e=h.a.ancestor(this.sc,t);return!!e&&e===h.a.ancestor(this.ec,t)}}},{key:"isLeftEdgeOf",value:function(t){if(!h.a.isLeftEdgePoint(this.getStartPoint()))return!1;var e=h.a.ancestor(this.sc,t);return e&&h.a.isLeftEdgeOf(this.sc,e)}},{key:"isCollapsed",value:function(){return this.sc===this.ec&&this.so===this.eo}},{key:"wrapBodyInlineWithPara",value:function(){if(h.a.isBodyContainer(this.sc)&&h.a.isEmpty(this.sc))return this.sc.innerHTML=h.a.emptyPara,new t(this.sc.firstChild,0,this.sc.firstChild,0);var e=this.normalize();if(h.a.isParaInline(this.sc)||h.a.isPara(this.sc))return e;var n=void 0;if(h.a.isInline(e.sc)){var i=h.a.listAncestor(e.sc,p.a.not(h.a.isInline));n=m.a.last(i),h.a.isInline(n)||(n=i[i.length-2]||e.sc.childNodes[e.so])}else n=e.sc.childNodes[e.so>0?e.so-1:0];var a=h.a.listPrev(n,h.a.isParaInline).reverse();if(a=a.concat(h.a.listNext(n.nextSibling,h.a.isParaInline)),a.length){var o=h.a.wrap(m.a.head(a),"p");h.a.appendChildNodes(o,m.a.tail(a))}return this.normalize()}},{key:"insertNode",value:function(t){var e=this.wrapBodyInlineWithPara().deleteContents(),n=h.a.splitPoint(e.getStartPoint(),h.a.isInline(t));return n.rightNode?n.rightNode.parentNode.insertBefore(t,n.rightNode):n.container.appendChild(t),t}},{key:"pasteHTML",value:function(t){var e=u()("<div></div>").html(t)[0],n=m.a.from(e.childNodes),i=this.wrapBodyInlineWithPara().deleteContents();return n.reverse().map(function(t){return i.insertNode(t)}).reverse()}},{key:"toString",value:function(){var t=this.nativeRange();return d.a.isW3CRangeSupport?t.toString():t.text}},{key:"getWordRange",value:function(e){var n=this.getEndPoint();if(!h.a.isCharPoint(n))return this;var i=h.a.prevPointUntil(n,function(t){return!h.a.isCharPoint(t)});return e&&(n=h.a.nextPointUntil(n,function(t){return!h.a.isCharPoint(t)})),new t(i.node,i.offset,n.node,n.offset)}},{key:"bookmark",value:function(t){return{s:{path:h.a.makeOffsetPath(t,this.sc),offset:this.so},e:{path:h.a.makeOffsetPath(t,this.ec),offset:this.eo}}}},{key:"paraBookmark",value:function(t){return{s:{path:m.a.tail(h.a.makeOffsetPath(m.a.head(t),this.sc)),offset:this.so},e:{path:m.a.tail(h.a.makeOffsetPath(m.a.last(t),this.ec)),offset:this.eo}}}},{key:"getClientRects",value:function(){return this.nativeRange().getClientRects()}}]),t}();e.a={create:function(t,e,n,i){if(4===arguments.length)return new f(t,e,n,i);if(2===arguments.length)return n=t,i=e,new f(t,e,n,i);var a=this.createFromSelection();return a||1!==arguments.length?a:(a=this.createFromNode(arguments[0]),a.collapse(h.a.emptyPara===arguments[0].innerHTML))},createFromSelection:function(){var t=void 0,e=void 0,n=void 0,a=void 0;if(d.a.isW3CRangeSupport){var o=document.getSelection();if(!o||0===o.rangeCount)return null;if(h.a.isBody(o.anchorNode))return null;var s=o.getRangeAt(0);t=s.startContainer,e=s.startOffset,n=s.endContainer,a=s.endOffset}else{var r=document.selection.createRange(),l=r.duplicate();l.collapse(!1);var c=r;c.collapse(!0);var u=i(c,!0),p=i(l,!1);h.a.isText(u.node)&&h.a.isLeftEdgePoint(u)&&h.a.isTextNode(p.node)&&h.a.isRightEdgePoint(p)&&p.node.nextSibling===u.node&&(u=p),t=u.cont,e=u.offset,n=p.cont,a=p.offset}return new f(t,e,n,a)},createFromNode:function(t){var e=t,n=0,i=t,a=h.a.nodeLength(i);return h.a.isVoid(e)&&(n=h.a.listPrev(e).length-1,e=e.parentNode),h.a.isBR(i)?(a=h.a.listPrev(i).length-1,i=i.parentNode):h.a.isVoid(i)&&(a=h.a.listPrev(i).length,i=i.parentNode),this.create(e,n,i,a)},createFromNodeBefore:function(t){return this.createFromNode(t).collapse(!0)},createFromNodeAfter:function(t){return this.createFromNode(t).collapse()},createFromBookmark:function(t,e){var n=h.a.fromOffsetPath(t,e.s.path),i=e.s.offset,a=h.a.fromOffsetPath(t,e.e.path),o=e.e.offset;return new f(n,i,a,o)},createFromParaBookmark:function(t,e){var n=t.s.offset,i=t.e.offset,a=h.a.fromOffsetPath(m.a.head(e),t.s.path),o=h.a.fromOffsetPath(m.a.last(e),t.e.path);return new f(a,n,o,i)}}},function(t,e,n){"use strict";function i(t){this.Servers=t,i.prototype.RegisterUser=function(e,n,i){return t.SystemUser.RegisterUser(e,n,i)},i.prototype.BindingEMail=function(e,n,i){return t.SystemUser.BindEMail(e,n,i)},i.prototype.Login=function(e,n,i){return t.SystemUser.Login(e,n,i)},i.prototype.FindPassword=function(e,n,i){return t.SystemUser.FindPassword(e,n,i)},i.prototype.CheckUserName=function(e,n,i){return t.SystemUser.CheckUserName(e,n,i)},i.prototype.CheckMobile=function(e,n,i){return t.SystemUser.CheckMobile(e,n,i)},i.prototype.CheckEMail=function(e,n,i){return t.SystemUser.CheckEMail(e,n,i)},i.prototype.GetValidationCode=function(e,n,i){return t.SystemUser.GetValidationCode(e,n,i)},i.prototype.GetImageVC=function(e,n,i){return t.SystemUser.GetImageVC(e,n,i)},i.prototype.FindPwdValidateByImageVC=function(e,n,i){return t.SystemUser.FindPwdValidateByImageVC(e,n,i)},i.prototype.FindPwdValidateByValidateCode=function(e,n,i){return t.SystemUser.FindPwdValidateByValidateCode(e,n,i)},i.prototype.FindPassword=function(e,n,i){return t.SystemUser.FindPassword(e,n,i)},i.prototype.GetUserInfo=function(e,n,i){return t.SystemUser.GetUserInfo(e,n,i)},i.prototype.UploadHeadImage=function(e,n,i){return t.SystemUser.UploadHeadImage(e,n,i)},i.prototype.ChangeUserInfo=function(e,n,i){return t.SystemUser.ChangeUserInfo(e,n,i)},i.prototype.ChangePassword=function(e,n,i){return t.SystemUser.ChangePassword(e,n,i)},i.prototype.ChangeMobile=function(e,n,i){return t.SystemUser.ChangeMobile(e,n,i)},i.prototype.ChangeEMail=function(e,n,i){return t.SystemUser.ChangeEMail(e,n,i)},i.prototype.GetUserStaffAndRequestList=function(e,n,i){return t.SystemUser.GetUserStaffAndRequestList(e,n,i)},i.prototype.JoinCompanyByApply=function(e,n,i){return t.SystemUser.ApplyIntoCompany(e,n,i)},i.prototype.JoinCompanyByInvitationCode=function(e,n,i){return t.SystemUser.JoinCompanyByInvitationCode(e,n,i)},i.prototype.JoinCompanyByUserConfirm=function(e,n,i){return t.SystemUser.UserConfirmJoin(e,n,i)},i.prototype.SearchCompany=function(e,n,i){return t.SystemUser.SearchCompany(e,n,i)},i.prototype.CheckUserPhoneOrMail=function(e,n,i){return t.SystemUser.CheckUserPhoneOrMail(e,n,i)},i.prototype.CancelApplyIntoCompany=function(e,n,i){return t.SystemUser.CancelApplyIntoCompany(e,n,i)},i.prototype.GetUserEmployees=function(e,n,i){return t.SystemUser.GetUserEmployees(e,n,i)}}e.a=i},function(t,e,n){"use strict";var i=n(202),a={Server:function(){var t={URL_GetList:"/api/UserInfoManager/SearchUserList",URL_GetUser:"/api/UserInfoManager/GetOneUserInfo",URL_Save:"/api/UserInfoManager/CreateUser",URL_Delete:"/api/UserInfoManager/DeleteUser",URL_Edit:"/api/UserInfoManager/UpdateUser",URL_ChangePass:"/api/UserInfoManager/SetDefaultPass",URL_GetCompanyList:"/api/CompanyManager/GetAllCompany",URL_GetUserRightsByUserID:"/api/UserInfoManager/GetUserRightsByUserID",URL_SetUserRights:"/api/UserInfoManager/SetUserRights",URL_GetCompanysByUserID:"/api/CompanyManager/GetCompanysByUserID",URL_GetGroupList:"/api/UserInfoManager/GetListURGroup"};return function(){var e=function(t,e){},n=function(e,n){i.a.Ajax(t.URL_GetGroupList,"get",e,n)};return{GetList:e,GetUser:function(e,n){i.a.Ajax(t.URL_GetUser,"get",e,n)},Save:function(e,n){i.a.Ajax(t.URL_Save,"post",e,n)},Delete:function(e,n){i.a.Ajax(t.URL_Delete,"get",e,n)},Edit:function(e,n){i.a.Ajax(t.URL_Edit,"post",e,n)},ChangePass:function(e,n){i.a.Ajax(t.URL_ChangePass,"get",e,n)},GetCompanyList:function(e,n){i.a.Ajax(t.URL_GetCompanyList,"get",e,n)},GetUserRightsByUserID:function(e,n){i.a.Ajax(t.URL_GetUserRightsByUserID,"get",e,n)},SetUserRights:function(e,n){i.a.Ajax(t.URL_SetUserRights,"post",e,n)},GetCompanysByUserID:function(e,n){i.a.Ajax(t.URL_GetCompanyList,"get",e,n)},GetGroupList:n}}()}};e.a=a},,,,,,,,,,function(t,e,n){var i=n(0)(n(795),n(1814),null,null);t.exports=i.exports},function(t,e,n){"use strict";var i=n(51),a=n.n(i),o=n(15),s=n.n(o),r=n(1),l=n.n(r),c=n(2),u=n.n(c),d=n(31),p=n.n(d),m=n(4),h=n.n(m),f=n(87),v={constantUserCenter:"https://ptoa365usercenter.ptit365.com",constantApi:"https://ptoa365api.ptit365.com",flow:"https://ptoa365api.ptit365.com/api/flow",endorsement:"https://ptoa365api.ptit365.com/api/WorkflowDocumentManager",template:"https://ptoa365api.ptit365.com/api/Template",CompanyManager:"https://ptoa365api.ptit365.com/api/CompanyManager",documentation:"https://ptoa365api.ptit365.com/api/Document",user:"https://ptoa365usercenter.ptit365.com/api/UserCenter",fileManager:"https://ptoa365api.ptit365.com/api/FileManage",Payable:"https://ptoa365api.ptit365.com/api/Payable",backgroundImage:"static/usercss/img/bg01.jpg"},g=function(){function t(){l()(this,t),this.$hosts={},this.$token=null}return u()(t,[{key:"getApiHost",value:function(t){var e=this.$hosts[t];return e||(e=new b(t),this.$hosts[t]=e),e}},{key:"use",value:function(t){if("function"!=typeof t.install)throw new Error("安装本地服务失败, 未找到install方法");t.install(this)}},{key:"token",set:function(t){this.$token=t},get:function(){return this.$token}},{key:"apiServerMode",get:function(){return"local"}}]),t}(),y=new g,_=function(){function t(e,n,i,a){l()(this,t),this.$name=e,this.$path=n,this.$method=i,this.$func=a}return u()(t,[{key:"call",value:function(t,e,n){if(t.toLowerCase()!==this.$method.toLowerCase())throw new Error("调用本地API失败: "+this.$name+"/"+this.$path+" METHOD："+t+" 与预期: "+this.$method+" 不符");return new s.a(function(t,i){var a=this;setTimeout(function(){try{var o=a.$func(e,n);t({data:o})}catch(t){i(t)}},500)}.bind(this))}},{key:"method",get:function(){return this.$method}}]),t}(),b=function(){function t(e){if(l()(this,t),h.a.isEmpty(e))throw new Error("name 参数为空");this.$name=e,this.$methods={},this.$axioInstance=null,h.a.isEmpty(v[e])||this.enableRemote(v[e])}return u()(t,[{key:"registerLocal",value:function(t,e,n){if(h.a.isEmpty(t))throw new Error("path 参数为空");if(h.a.isEmpty(e))throw new Error("method 参数为空");if(!h.a.isFunction(n))throw new Error("func 参数不是一个function");var i=new _(this.$name,t,e,n);this.$methods[t]=i,this.$axioInstance=null}},{key:"getUrl",value:function(t){h.a.isEmpty(this.$axioInstance)&&this._throwError(t,"当前ApiHost: "+this.$name+" 未启用远程模式");var e=this.$axioInstance.defaults.baseURL;return h.a.isEmpty(t)?e:("/"===e.charAt(e.length-1)&&(e=baseURl.substring(0,baseURl.length-1)),"/"===t.charAt(0)&&(t=t.substring(1)),e+"/"+t)}},{key:"removeLocal",value:function(t){this.$methods[t]=!1}},{key:"call",value:function(t,e,n,i,o){if(h.a.isEmpty(t))throw new Error("path 参数为空");if(h.a.isEmpty(e))throw new Error("method 参数为空");var s=this.$methods[t];if(h.a.isEmpty(s)){null==this.$axioInstance&&this._throwError(t,"当前ApiHost: "+this.$name+" 未启用远程模式"),void 0!==n&&null!==n&&"object"!==(void 0===n?"undefined":a()(n))&&this._throwError(t,"urlParams不是一个有效的object");var r=this._prepareRemoteCall(),l={url:t,params:n,method:e,data:i};return h.a.isEmpty(o)||(l=h.a.extend(l,o)),this._processResult(r.request(l))}return this._processResult(s.call(e,n,i))}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.call(t,"get",e,null,n)}},{key:"post",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.call(t,"post",n,e)}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.call(t,"delete",e,null)}},{key:"enableRemote",value:function(t){this.$axioInstance=p.a.create({baseURL:t})}},{key:"_downloadFile",value:function(t,e,n){var i=new Blob([t],{type:n||"application/octet-stream"});if(void 0!==window.navigator.msSaveBlob)window.navigator.msSaveBlob(i,e);else{var a=window.URL.createObjectURL(i),o=document.createElement("a");o.style.display="none",o.href=a,o.setAttribute("download",e),void 0===o.download&&o.setAttribute("target","_blank"),document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(a)}}},{key:"_processResult",value:function(t){var e=this;return t.then(function(t){if(!h.a.isEmpty(t.config)&&"blob"===t.config.responseType)return void e._downloadFile(t.data,t.config.fileName,t.headers["content-type"]);if(t.data.Success)return n.i(f.a)(t.data.Data);throw new Error(t.data.Error)})}},{key:"_throwError",value:function(t,e){throw new Error("调用 ApiHost: "+this.$name+"/"+t+" 失败，"+e)}},{key:"_prepareRemoteCall",value:function(){var t=y.token;return h.a.isEmpty(t)?this.$axioInstance.defaults.headers.Authorization="":this.$axioInstance.defaults.headers.Authorization="bearer "+t,this.$axioInstance}}]),t}();e.a=y},function(t,e,n){"use strict";n.d(e,"a",function(){return b});var i=n(15),a=n.n(i),o=n(10),s=n.n(o),r=n(1),l=n.n(r),c=n(2),u=n.n(c),d=n(30),p=n(197),m=n(140),h=n(106),f=n(12),v=n.n(f),g=n(617),y=n(615),_=n(616),b=function(){function t(){l()(this,t),this.companysOptions=[],this.currentCompanyAllNodes=[],this.currentCompanySearchPositions=[],this.currentCompanyStaffsOptions=[],this.currentCompanyAllPositions=[],this.currentCompanyAllEmployees=[],this.currentCompany="000002",this.currentStaffId="",this.kanbanFilterList=[],this.ownCartFilterList=[],this.allinit()}return u()(t,[{key:"allinit",value:function(){return d.c(this,void 0,void 0,s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getCompanys();case 2:case"end":return t.stop()}},t,this)}))}},{key:"init",value:function(){return d.c(this,void 0,void 0,s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.getAllPrincipalVersions(),t.next=3,this.getPositionForOneCompany(this.currentCompany);case 3:return t.next=5,this.getEmployeeForOneCompany(this.currentCompany);case 5:return this.renderStaffsOptions(),t.next=8,this.getKanbanPositions();case 8:case"end":return t.stop()}},t,this)}))}},{key:"ownCartInit",value:function(){return d.c(this,void 0,void 0,s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getPositionForOneCompany(this.currentCompany);case 2:return t.next=4,this.ownCart();case 4:case"end":return t.stop()}},t,this)}))}},{key:"getCompanys",value:function(){return d.c(this,void 0,void 0,s.a.mark(function t(){var e,n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return h.a.companys=[],h.a.companysOptions=[],this.companysOptions=[],e=this,t.prev=4,t.next=7,p.a.getAllNode("","");case 7:n=t.sent,n&&v.a.each(n,function(t){v.a.each(t,function(t){"COMPANY"===t.type&&(e.companysOptions.push({label:t.name,value:t.id}),h.a.companys.push(t),h.a.companysOptions.push({label:t.name,value:t.id}))})}),t.next=14;break;case 11:throw t.prev=11,t.t0=t.catch(4),new Error(t.t0.message);case 14:case"end":return t.stop()}},t,this,[[4,11]])}))}},{key:"getAllNodesForOneCompany",value:function(t){return d.c(this,void 0,void 0,s.a.mark(function e(){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.currentCompanyAllNodes=[],e.prev=1,e.next=4,p.a.getChildNodeForOneNode(t,{depth:1},"");case 4:return n=e.sent,this.currentCompanyAllNodes=v.a.map(n,function(t){var e=new _.a;return e.nodeId=t.id,e.nodeName=t.name,e.nodeType=t.type,e}),e.abrupt("return",this.currentCompanyAllNodes);case 9:throw e.prev=9,e.t0=e.catch(1),new Error(e.t0.message);case 12:case"end":return e.stop()}},e,this,[[1,9]])}))}},{key:"getPositionForOneCompany",value:function(t){return d.c(this,void 0,void 0,s.a.mark(function e(){var n,i,a=this;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.a.currentCompanyAllPositions=[],this.currentCompanyAllPositions=[],n=this,e.prev=3,e.next=6,p.a.getChildNodeForOneNode(t,{depth:1},"");case 6:i=e.sent,i&&i.length>0&&v.a.each(i,function(t){if("POSITION"===t.type){var e=new g.a;e.positionId=t.id,e.positionName=t.name,a.currentCompanyAllPositions.push(e),h.a.currentCompanyAllPositions.push(e)}}),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(3),new Error(e.t0.message);case 13:case"end":return e.stop()}},e,this,[[3,10]])}))}},{key:"getEmployeeForOneCompany",value:function(t){return d.c(this,void 0,void 0,s.a.mark(function e(){var n,i=this;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.a.currentCompanyAllEmployees=[],this.currentCompanyAllEmployees=[],e.prev=2,e.next=5,p.a.getChildNodeForOneNode(t,{depth:1},"");case 5:n=e.sent,n&&n.length>0&&v.a.each(n,function(t){if("EMPLOYEE"===t.type){var e=new y.a;e.staffId=t.id,e.staffName=t.name,i.currentCompanyAllEmployees.push(e),h.a.currentCompanyAllEmployees.push(e)}}),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(2),new Error(e.t0.message);case 12:case"end":return e.stop()}},e,this,[[2,9]])}))}},{key:"getPositionsForOneEmployee",value:function(t){return d.c(this,void 0,void 0,s.a.mark(function e(){var n,i,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],i=this,e.prev=2,e.next=5,p.a.getChildNodeForOneNode(t,{depth:-1},"");case 5:a=e.sent,a&&a.length>0&&v.a.each(a,function(t){if("POSITION"===t.type){var e=new g.a;e.positionId=t.id,e.positionName=t.name,n.push(e)}}),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(2),new Error(e.t0.message);case 12:case"end":return e.stop()}},e,this,[[2,9]])}))}},{key:"renderStaffsOptions",value:function(){this.currentCompanyStaffsOptions=[],this.currentCompanyStaffsOptions=v.a.map(this.currentCompanyAllEmployees,function(t){return{value:t.staffId,label:t.staffName}}),h.a.currentStaffId=this.currentCompanyStaffsOptions[0].value,this.currentStaffId=this.currentCompanyStaffsOptions[0].value}},{key:"getKanbanPositions",value:function(){return d.c(this,void 0,void 0,s.a.mark(function t(){var e,n,i,o,r=this;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.kanbanFilterList=[],h.a.currentKanbanPositions=[],e=this,n=v.a.cloneDeep(this.currentCompanyAllPositions),t.next=6,this.getAllPrincipalVersions();case 6:return i=t.sent,v.a.each(i,function(t){var e=n.findIndex(function(e){return e.positionId===t.principalId});e>=0&&r.kanbanFilterList.push(n.splice(e,1)[0])}),t.next=10,a.a.all(v.a.map(n,function(t){return d.c(r,void 0,void 0,s.a.mark(function n(){var i;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.getHasChangedPrincipal(this.currentStaffId,t.positionId,"draft");case 2:return i=n.sent,n.abrupt("return",{positionId:t.positionId,changedPerformanceDefinitionList:i});case 4:case"end":return n.stop()}},n,this)}))}));case 10:o=t.sent,v.a.each(o,function(t){if(t.changedPerformanceDefinitionList.length>0){var e=n.findIndex(function(e){return e.positionId===t.positionId});e>=0&&r.kanbanFilterList.push(n.splice(e,1)[0])}}),h.a.currentKanbanPositions=this.kanbanFilterList,this.getSeachPositions(n);case 14:case"end":return t.stop()}},t,this)}))}},{key:"ownCart",value:function(){return d.c(this,void 0,void 0,s.a.mark(function t(){var e,n,i,o=this;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ownCartFilterList=[],h.a.currentOwnCartPositions=[],e=this,n=v.a.cloneDeep(this.currentCompanyAllPositions),t.next=6,a.a.all(v.a.map(n,function(t){return d.c(o,void 0,void 0,s.a.mark(function n(){var i;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.getHasChangedPrincipal(this.currentStaffId,t.positionId,"draft");case 2:return i=n.sent,n.abrupt("return",{positionId:t.positionId,changedPerformanceDefinitionList:i});case 4:case"end":return n.stop()}},n,this)}))}));case 6:i=t.sent,v.a.each(i,function(t){if(t.changedPerformanceDefinitionList.length>0){var e=n.findIndex(function(e){return e.positionId===t.positionId});e>=0&&o.ownCartFilterList.push(n.splice(e,1)[0])}}),h.a.currentOwnCartPositions=this.ownCartFilterList;case 9:case"end":return t.stop()}},t,this)}))}},{key:"getAllPrincipalVersions",value:function(){return d.c(this,void 0,void 0,s.a.mark(function t(){var e;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.getPrincipals("");case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}},t,this)}))}},{key:"getSeachPositions",value:function(t){this.currentCompanySearchPositions=v.a.map(t,function(t){return{value:t.positionName,positionId:t.positionId}})}},{key:"getHasChangedPrincipal",value:function(t,e,n){return d.c(this,void 0,void 0,s.a.mark(function i(){var a;return s.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,m.a.getChangedPerformanceDefinitionOfPrincipal({ownerId:t,principalId:e,status:n});case 2:return a=i.sent,i.abrupt("return",a);case 4:case"end":return i.stop()}},i,this)}))}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(31),l=n.n(r),c=n(12),u=n.n(c),d=function(){function t(){a()(this,t)}return s()(t,null,[{key:"getApiHost",value:function(t,e){return new p(t,e)}}]),t}(),p=function(){function t(e,n){a()(this,t),this.name=n,this.axiosInstance=l.a.create({baseURL:e,withCredentials:!1}),this.baseUrl=e}return s()(t,[{key:"call",value:function(t,e,n,i,a){var o={url:"/"+this.name+t,params:n,method:e,data:i};return u.a.isEmpty(a)||(o=u.a.assignIn(o,a)),this.axiosInstance.request(o).then(function(t){return t.data}).catch(function(t){throw new Error(t)})}},{key:"get",value:function(t,e,n){return this.call(t,"get",e,null,n)}},{key:"delete",value:function(t,e,n){return this.call(t,"delete",e,null,n)}},{key:"post",value:function(t,e,n){return this.call(t,"post",null,e,n)}},{key:"put",value:function(t,e,n){return this.call(t,"put",null,e,n)}},{key:"patch",value:function(t,e,n){return this.call(t,"patch",null,e,n)}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var i=n(339),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(3),u=n.n(c),d=function(){function t(e){s()(this,t),this.companyId=e.companyId,this.taskId=e.taskId,this.parentId=e.parentId,this.taskName=e.taskName,this.status=e.status,this.points=e.points,this.parentsTaskIds=e.parentsTaskIds,this.childList=e.childList,this.modulus=e.modulus,this.modulusRange=e.modulusRange,this.content=e.content,this.responsible=e.responsible,this.responsibleCandidate=e.responsibleCandidate,this.confirmablePerson=e.confirmablePerson,this.confirmor=e.confirmor,this.creator=e.creator,this.createTime=e.createTime,this.lastUpdateTime=e.lastUpdateTime,this.documentId=e.documentId}return l()(t,[{key:"gsCompanyId",get:function(){return this.companyId},set:function(t){this.responsibleCandidate="",this.confirmablePerson="",this.companyId=t}},{key:"gsTaskId",get:function(){return this.taskId},set:function(t){this.taskId=t}},{key:"gsParentId",get:function(){return this.parentId},set:function(t){this.parentId=t}},{key:"gsTaskName",get:function(){return this.taskName},set:function(t){this.taskName=t}},{key:"gsStatus",get:function(){return this.status},set:function(t){this.status=t}},{key:"gsPoints",get:function(){return this.points},set:function(t){this.points=a()(t)||0===a()(t)?a()(t):t}},{key:"gsParentsTaskIds",get:function(){return this.parentsTaskIds},set:function(t){this.parentsTaskIds=t}},{key:"gsChildList",get:function(){return this.childList},set:function(t){this.childList=t}},{key:"gsModulus",get:function(){return a()(this.modulus)?a()(this.modulus):this.modulus},set:function(t){this.modulus=""+t}},{key:"gsModulusRange",get:function(){return this.modulusRange},set:function(t){this.modulusRange=t}},{key:"gsContent",get:function(){return this.content},set:function(t){this.content=t}},{key:"gsResponsible",get:function(){return this.responsible},set:function(t){this.responsible=t}},{key:"gsResponsibleCandidate",get:function(){return this.responsibleCandidate?this.responsibleCandidate.split(","):[]},set:function(t){this.responsibleCandidate=t.join(",")}},{key:"gsConfirmablePerson",get:function(){return this.confirmablePerson?this.confirmablePerson.split(","):[]},set:function(t){this.confirmablePerson=t.join(",")}},{key:"gsConfirmor",get:function(){return this.confirmor},set:function(t){this.confirmor=t}},{key:"gsCreator",get:function(){return this.creator},set:function(t){this.creator=t}},{key:"gsCreateTime",get:function(){return this.createTime?u()(this.createTime).format("YYYY-MM-DD hh:mm:ss"):""},set:function(t){this.createTime=t}},{key:"gsLastUpdateTime",get:function(){return this.lastUpdateTime?u()(this.lastUpdateTime).format("YYYY-MM-DD hh:mm:ss"):""},set:function(t){this.lastUpdateTime=t}},{key:"gsModulusLowerLimit",get:function(){var t=this.modulusRange.split(",")[0];return a()(t)||0===a()(t)?a()(t):t},set:function(t){var e=this.modulusRange.split(",");t>e[1]?(e[0]=e[1],e[1]=t):e[0]=t,this.modulusRange=e.join(",")}},{key:"gsModulusUpperlimit",get:function(){var t=this.modulusRange.split(",")[1];return a()(t)||0===a()(t)?a()(t):t},set:function(t){var e=this.modulusRange.split(",");t<e[0]?(e[1]=e[0],e[0]=t):e[1]=t,this.modulusRange=e.join(",")}},{key:"gsDocumentId",get:function(){return this.documentId},set:function(t){this.documentId=t}}]),t}()},function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return s});var i=n(40),a=n.n(i),o=function(t,e){if(void 0===t||null===t)return t;if("string"!=typeof t&&"number"!=typeof t&&"boolean"!=typeof t&&void 0!==t&&null!==t||e(t),Array.isArray(t)){for(var n=[],i=0;i<t.length;i++)n.push(this.deepForEach(t[i]));return n}var o=a()({},t);for(var s in o)o.hasOwnProperty(s)&&this.deepForEach(o[s]);return o},s=function(t,e,n,i){t=(t+"").replace(/[^0-9+-Ee.]/g,"");var a=isFinite(+t)?+t:0,o=isFinite(+e)?Math.abs(e):0,s=void 0===i?",":i,r=void 0===n?".":n,l="";l=(o?function(t,e){var n=Math.pow(10,e);return""+Math.ceil(t*n)/n}(a,o):""+Math.round(a)).split(".");for(var c=/(-?\d+)(\d{3})/;c.test(l[0]);)l[0]=l[0].replace(c,"$1"+s+"$2");return(l[1]||"").length<o&&(l[1]=l[1]||"",l[1]+=new Array(o-l[1].length+1).join("0")),l.join(r)}},function(t,e,n){"use strict";n.d(e,"a",function(){return w});var i,a,o=n(15),s=n.n(o),r=n(19),l=n.n(r),c=n(7),u=n.n(c),d=n(1),p=n.n(d),m=n(2),h=n.n(m),f=n(9),v=n.n(f),g=n(8),y=n.n(g),_=n(108),b=n(884),C=n(883),k=n(4),I=n.n(k),D=n(6),S=n(63),w=(a=i=function(t){function e(t){p()(this,e);var n=v()(this,(e.__proto__||u()(e)).call(this,t));return n.$currentUser=null,e.instance=n,n}return y()(e,t),h()(e,[{key:"login",value:function(t,e){var n=this;return this.apiManager.getApiHost("user").post("UserLogin",{AccountName:t,Password:e}).then(function(t){return D.a.setItem(S.a.UserKey,l()(t)),n.loadCurrentUser()})}},{key:"logout",value:function(){this.$currentUser=null}},{key:"getUserByAccount",value:function(t){return this.apiManager.getApiHost("user").get("GetUserInfoByAccount",{account:t})}},{key:"onUserLogined",value:function(t){return this.eventManager.on(e.loginedEventKey,t)}},{key:"loadUserInfoById",value:function(t){return this.apiManager.getApiHost("user").get("GetUserInfoById",{userid:t}).then(function(t){var e=new C.a(t,this.$apiManager);return e.initialize().then(function(){return e})}.bind(this))}},{key:"loadCurrentUser",value:function(){if(!I.a.isEmpty(this.$currentUser))return s.a.resolve(this.$currentUser);var t=D.a.getItem(S.a.UserKey);if(I.a.isEmpty(t))return s.a.reject("当前用户为空");var n=JSON.parse(t),i=new b.a(n,this.apiManager),a=this;return a.apiManager.token=n.UserTokenKey,i.initialize().catch(function(t){return console.log(t)}).then(function(t){return a.eventManager.emit(e.loginedEventKey,i),a.$currentUser=i,i})}},{key:"currentUser",get:function(){return this.$currentUser}},{key:"userLogined",get:function(){return!I.a.isEmpty(this.$currentUser)}}]),e}(_.a),i.instance=null,i.loginedEventKey="logined",a)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;a()(this,t),this.$success=!0,e instanceof Error?(this.$success=!1,this.$error=e):this.$data=e}return s()(t,[{key:"Success",get:function(){return this.$success}},{key:"Data",get:function(){return this.$data}},{key:"Error",get:function(){return this.$error}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(8),p=n.n(d),m=n(18),h=n(111),f=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a;return s()(this,e),u()(this,(e.__proto__||a()(e)).call(this,t,n))}return p()(e,t),l()(e,[{key:"DocumentId",get:function(){return this.$data.documentId}},{key:"Title",get:function(){return this.$data.title}}]),e}(m.a)},function(t,e,n){"use strict";e.a={documentId:{required:!0,type:Number,isFloat:!1},name:{required:!0,type:String},description:{type:String},behaviour:{required:!0,type:Number}}},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(4),l=n.n(r),c=function(){function t(e,n){a()(this,t),this._displayText=e,this._key=l.a.uniqueId(e),this._getValue=n}return s()(t,[{key:"getValue",value:function(t){return this._getValue(t)}},{key:"displayText",get:function(){return this._displayText}},{key:"key",get:function(){return this._key}}]),t}()},function(t,e,n){"use strict";function i(t){this._ServerUser=new a.a(t),this.Mobile="",this.EMail="",this.GUID="",this.BehaviorType="",this.IsLoding=!1,this.ImageURL="",this.EventsGetImageVCCompleted={},this.EventsGetMobileVCCompleted={},this.EventsGetEMailVCCompleted={},this.EventsCheckUserMobileCompleted={},this.EventsCheckUserEMailCompleted={},i.prototype.GetImageVC=function(){var t={guid:this.GUID};return this.IsLoding=this._ServerUser.GetImageVC(t,this.GetImageVC_Completed,this),this.IsLoding},i.prototype.GetImageVC_Completed=function(t,e){e.IsLoding=!1,void 0!=t&&void 0!=t.Success&&t.Success;for(var n in e.EventsGetImageVCCompleted)null!=e.EventsGetImageVCCompleted[n]&&e.EventsGetImageVCCompleted[n](t)},i.prototype.GetMobileVC=function(){if(null===this._ServerUser)return!1;var t={};return t={getType:1,address:this.Mobile,BehaviorType:this.BehaviorType},this.IsLoding=this._ServerUser.GetValidationCode(t,this.MobileVC_Completed,this),this.IsLoding},i.prototype.MobileVC_Completed=function(t,e){e.IsLoding=!1,void 0!=t&&void 0!=t.Success&&t.Success;for(var n in e.EventsGetMobileVCCompleted)null!=e.EventsGetMobileVCCompleted[n]&&e.EventsGetMobileVCCompleted[n](t)},i.prototype.GetEMailVC=function(){if(null===this._ServerUser)return!1;var t={};return t={getType:2,address:this.EMail,BehaviorType:this.BehaviorType},this.IsLoding=this._ServerUser.GetValidationCode(t,this.EMailVC_Completed,this),this.IsLoding},i.prototype.EMailVC_Completed=function(t,e){e.IsLoding=!1,void 0!=t&&void 0!=t.Success&&t.Success;for(var n in e.EventsGetEMailVCCompleted)null!=e.EventsGetEMailVCCompleted[n]&&e.EventsGetEMailVCCompleted[n](t)},i.prototype.CheckUserMobile=function(){var t={};return t={checkType:2,context:this.Mobile},this.IsLoding=this._ServerUser.CheckMobile(t,this.CheckUserMobile_Completed,this),this.IsLoding},i.prototype.CheckUserMobile_Completed=function(t,e){e.IsLoding=!1,void 0!=t&&void 0!=t.Success&&t.Success;for(var n in e.EventsCheckUserMobileCompleted)null!=e.EventsCheckUserMobileCompleted[n]&&e.EventsCheckUserMobileCompleted[n](t)},i.prototype.CheckUserEMail=function(){var t={};return t={checkType:3,context:this.EMail},this.IsLoding=this._ServerUser.CheckEMail(t,this.CheckEMail_Completed,this),this.IsLoding},i.prototype.CheckEMail_Completed=function(t,e){e.IsLoding=!1,void 0!=t&&void 0!=t.Success&&t.Success;for(var n in e.EventsCheckUserEMailCompleted)null!=e.EventsCheckUserEMailCompleted[n]&&e.EventsCheckUserEMailCompleted[n](t)},this.S4=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},i.prototype.NewGuid=function(){this.GUID=this.S4()+this.S4()+"-"+this.S4()+"-"+this.S4()+"-"+this.S4()+"-"+this.S4()+this.S4()+this.S4(),void 0!=t.SystemUser.config&&void 0!=t.SystemUser.config.URL_GetImageVerificationCode&&(this.ImageURL={userbase:o.b}.userbase+t.SystemUser.config.URL_GetImageVerificationCode+"?guid="+this.GUID)}}var a=n(117),o=n(23);e.a=i},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(131),l=n(31),c=n.n(l),u=function(){function t(){a()(this,t)}return s()(t,null,[{key:"getPerformanceDefinitionList",value:function(t,e){return r.a.getApiHost("receipt").get("/find/"+t,e)}},{key:"getPositionList",value:function(e,n){return c.a.get("https://ptoa365api.ptit365.com/api/CompanyManager/SearchUsers",{params:{companyId:e,query:n},headers:{Authorization:t.getCookie()}}).then(function(t){return new Resutlt,obj.setData(t)})}},{key:"getCookie",value:function(){return"bearer "+JSON.parse(sessionStorage.UserKey).UserTokenKey}},{key:"getPersonalCompany",value:function(){return sessionStorage.UserKey?JSON.parse(sessionStorage.UserKey).Companys:[]}},{key:"saveChangedPerformanceDefinition",value:function(t,e){return r.a.getApiHost({resource:"https://resource-api-staging.ptit365.com",work_manager:"https://work-manager-api-server-staging.ptit365.com",principal:"https://principal-version-api-staging.ptit365.com",batchSys:"https://alydnh-staging-api.ptit365.com"}.principal,"v1").post("/change",t,e)}},{key:"deleteChangedPerformanceDefinition",value:function(t,e){return r.a.getApiHost({resource:"https://resource-api-staging.ptit365.com",work_manager:"https://work-manager-api-server-staging.ptit365.com",principal:"https://principal-version-api-staging.ptit365.com",batchSys:"https://alydnh-staging-api.ptit365.com"}.principal,"v1").delete("/change",t,e)}},{key:"getPrincipals",value:function(t,e){return r.a.getApiHost({resource:"https://resource-api-staging.ptit365.com",work_manager:"https://work-manager-api-server-staging.ptit365.com",principal:"https://principal-version-api-staging.ptit365.com",batchSys:"https://alydnh-staging-api.ptit365.com"}.principal,"v1").get("/principals",t,e)}},{key:"getEffectedPerformanceDefinitionOfPrincipal",value:function(t,e,n){return r.a.getApiHost({resource:"https://resource-api-staging.ptit365.com",work_manager:"https://work-manager-api-server-staging.ptit365.com",principal:"https://principal-version-api-staging.ptit365.com",batchSys:"https://alydnh-staging-api.ptit365.com"}.principal,"v1").get("/"+t+"/"+e,"",n)}},{key:"getChangedPerformanceDefinitionOfPrincipal",value:function(t,e){return r.a.getApiHost({resource:"https://resource-api-staging.ptit365.com",work_manager:"https://work-manager-api-server-staging.ptit365.com",principal:"https://principal-version-api-staging.ptit365.com",batchSys:"https://alydnh-staging-api.ptit365.com"}.principal,"v1").get("/change/query",t,e)}},{key:"getChangedItemsByIds",value:function(t,e){return r.a.getApiHost({resource:"https://resource-api-staging.ptit365.com",work_manager:"https://work-manager-api-server-staging.ptit365.com",principal:"https://principal-version-api-staging.ptit365.com",batchSys:"https://alydnh-staging-api.ptit365.com"}.principal,"v1").get("/change/query?"+t,"",e)}},{key:"lockChangedPerformanceDefinition",value:function(t,e){return r.a.getApiHost({resource:"https://resource-api-staging.ptit365.com",work_manager:"https://work-manager-api-server-staging.ptit365.com",principal:"https://principal-version-api-staging.ptit365.com",batchSys:"https://alydnh-staging-api.ptit365.com"}.principal,"v1").post("/lock",t,e)}},{key:"lockedChangedPerformanceDefinitionToEffected",value:function(t,e,n){return r.a.getApiHost({resource:"https://resource-api-staging.ptit365.com",work_manager:"https://work-manager-api-server-staging.ptit365.com",principal:"https://principal-version-api-staging.ptit365.com",batchSys:"https://alydnh-staging-api.ptit365.com"}.principal,"v1").post("/lock/"+t,e,n)}},{key:"deleteLockedChangedPerformanceDefinition",value:function(t){return r.a.getApiHost({resource:"https://resource-api-staging.ptit365.com",work_manager:"https://work-manager-api-server-staging.ptit365.com",principal:"https://principal-version-api-staging.ptit365.com",batchSys:"https://alydnh-staging-api.ptit365.com"}.principal,"v1").delete("/lock/"+t)}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(31),l=(n.n(r),n(6)),c=n(23),u={GetCompany:c.a+"/api/CompanyManager/GetCompanyByID?comid=",EditCompany:c.a+"/api/CompanyManager/CreateCompany",ModifyCompany:c.a+"/api/CompanyManager/ModifyCompany",UpdateCompanyView:c.a+"/api/CompanyManager/UpdateCompanyTemplate",GetCompanyView:c.a+"/api/CompanyManager/GetCompanyTemplateByComID?comid=",GetAllCompany:c.a+"/api/CompanyManager/GetAllCompany",SearchCompany:c.a+"/api/CompanyManager/SearchCompany",DelCompany:c.a+"/api/CompanyManager/DelCompany",GetFile:c.a+"/api/FileManage/FileModel",Enable:c.a+"/api/CompanyManager/Enable",SetAsTemplate:c.a+"/api/CompanyManager/SetAsTemplate"},d=function(){function t(){a()(this,t)}return s()(t,[{key:"getCompany",value:function(t){return l.a.get(u.GetCompany+t)}},{key:"editCompany",value:function(t){return l.a.post(u.EditCompany,t)}},{key:"modifyCompany",value:function(t){return l.a.post(u.ModifyCompany,t)}},{key:"updateCompanyView",value:function(t){return l.a.post(u.UpdateCompanyView,t)}},{key:"getCompanyView",value:function(t){return l.a.get(u.GetCompanyView+t)}},{key:"getSelectList",value:function(){return l.a.get(u.GetAllCompany)}},{key:"search",value:function(t){return l.a.get(u.SearchCompany,t)}},{key:"delCompany",value:function(t){return l.a.get(u.DelCompany,t)}},{key:"getFile",value:function(t){return l.a.get(u.GetFile,t)}},{key:"Enable",value:function(t){return t.companyId=t.id,l.a.post(u.Enable,t)}},{key:"SetTemplate",value:function(t){return t.companyId=t.id,t.isTemplate=1,l.a.post(u.SetAsTemplate,t)}},{key:"CancelTemplate",value:function(t){return t.companyId=t.id,t.isTemplate=0,l.a.post(u.SetAsTemplate,t)}},{key:"GetTemplateCompany",value:function(t){return t.name="",t.type=1,l.a.get(u.SearchCompany,t)}}]),t}()},function(t,e,n){"use strict";var i=n(51),a=n.n(i),o=n(36),s=n.n(o),r=n(1002),l=n.n(r),c=n(15),u=n.n(c),d=n(31),p=n.n(d),m=n(6),h=n(23),f=n(4),v=n.n(f);u.a.prototype.done=function(t,e){this.then(t,e).catch(function(t){setTimeout(function(){throw t},0)})};var g={SearchUsers01:h.a+"/api/Template/SearchUsers",SearchUsers:h.a+"/api/CompanyManager/SearchUsers",GetAllCompany:h.a+"/api/CompanyManager/GetSimplyCompanies"};u.a.prototype.finally=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){throw n})})},e.a=new function(){var t=this;this.tempUsers=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"].map(function(t,e){return{name:t,id:e+1}}),this.nodeTypes=[{name:"征询",value:1},{name:"决策",value:2},{name:"执行",value:3},{name:"归档",value:4}],this.levels=[{value:1,text:"公司"},{value:2,text:"财务"},{value:3,text:"部门"}];var e=function(){var t=sessionStorage.getItem("user");console.log(t);var e="bearer 12345";return null!==t&&(t=JSON.parse(t),e="bearer "+m.a._getToken()),e="bearer "+m.a._getToken(),p.a.create({baseURL:{base:h.a}.base+"/api/Template",headers:{Authorization:e}})},n=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e().get(t,{params:n})},i=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e().delete(t,{params:n})},o=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e().post(t,n)},r=function(){for(var e=[],n=1;n<10;n++){for(var i=[],a=0;a<n;a++)i.push(t.tempUsers[a]);e.push({name:"step"+n,nodeType:(n+4)%4+1,voteCount:n,users:i,index:n-1})}return e};this.getCompanies=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new u.a(function(e,n){m.a.get(g.GetAllCompany).then(function(n){e({success:n.Success,result:n.Success?n.Data:t})}).catch(function(t){e(t)})})},this.getCategories=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new u.a(function(i,a){n("/GetCategories",{companyId:t}).then(function(t){i({success:t.data.Success,result:t.data.Success?t.data.Data:e})}).catch(function(t){a(t)})})},this.saveTemplate=function(t){return new u.a(function(e,n){var i=t.id>0?"/Update":"/Create";o(i,t).then(function(t){e(t.data)}).catch(function(t){n(t)})})},this.searchUsers=function(t,e){return new u.a(function(n,i){m.a.get(g.SearchUsers,{companyId:t,query:e}).then(function(t){n(t.Success?t.Data:[])}).catch(function(t){n([])})})},this.searchTemplates=function(t){var e=l()(t,8),n=e[0],i=void 0===n?0:n,a=e[1],s=void 0===a?0:a,r=e[2],c=void 0===r?"":r,d=e[3],p=void 0===d?1:d,m=e[4],h=void 0===m?10:m,f=e[5],v=void 0===f?"":f,g=e[6],y=void 0!==g&&g,_=e[7],b=void 0!==_&&_;return new u.a(function(t,e){var n={companyId:i,categoryId:s,keyword:c,fetchStartIndex:Math.max(0,p-1)*h,fetchSize:h,sortField:v,sortDescend:y};o("/Search",n).then(function(n){n.data.Success?(n.data.Data.pageCount=Math.ceil(n.data.Data.count/h),console.log(b),t(b?n.data.Data.templates.map(function(t,e){return{id:t.id,name:t.name}}):n.data.Data)):e(new Error(n.data.Error))}).catch(function(t){e(t)})})},this.setGroupUser01=function(t){for(var e=0;e<t.nodes.length;e++){var n=t.nodes[e];n.groupusers=[];for(var i=0;i<n.users.length;i++){for(var a=n.users[i],o=!1,s=0;s<n.groupusers.length;s++)if(n.groupusers[s].grouptype==a.grouptype&&n.groupusers[s].groupid==a.groupid){o=!0;break}0==o&&n.groupusers.push({grouptype:a.grouptype,groupname:a.groupname,id:a.groupid,groupid:a.groupid,name:a.groupname})}t.nodes[e].users=this.cloneObject(n.groupusers),n.groupusers.splice(0,n.groupusers.length)}},this.setUserDisplayGroup=function(t){if(!v.a.isEmpty(t.nodes))for(var e=0;e<t.nodes.length;e++){var n=t.nodes[e];n.groupusers=[];for(var i=0;i<n.users.length;i++){var a=n.users[i],o=a.groupname;switch(a.grouptype){case 1:o+="[人员]";break;case 2:o+="[部门]";break;case 4:o+="[职位]";break;case 8:o+="[角色]";break;default:o+="[未知]"}var s=this.cloneObject(a);s.groupname=o,n.groupusers.push(s)}}},this.getTemplateDetail=function(t){return new u.a(function(e,i){n("/Get",{templateId:t}).then(function(t){if(t.data.Success){var n=t.data.Data;n.categoryId=n.category.id,n.companyId=n.company.id,e(n)}else i(new Error(t.data.Error))}).catch(function(t){i(t)})})},this.getNodeTypeName=function(t){for(var e=0;e<this.nodeTypes.length;e++)if(this.nodeTypes[e].value===t)return this.nodeTypes[e].name;return""},this.createTemplate=function(){r();return{id:0,name:"",categoryId:0,companyId:0,nodes:[],description:"",level:1,levelstring:""}},this.deleteTemplate=function(t){return new u.a(function(e,n){i("/Delete",s()({templateId:t},"templateId",t)).then(function(t){t.data.Success?e():n(new Error(t.data.Error))}).catch(function(t){n(t)})})},this.cloneObject=function(t){if(null==t)return null;if("string"==typeof t||"number"==typeof t||"boolean"==typeof t||void 0===t||null===t)return t;if(Array.isArray(t)){for(var e=[],n=0;n<t.length;n++)e.push(this.cloneObject(t[n]));return e}var i={};for(var a in t)t.hasOwnProperty(a)&&(i[a]=this.cloneObject(t[a]));return i},this.objectIsNullOrUndefined=function(t){return void 0===t||null===t||"object"!==(void 0===t?"undefined":a()(t))}}},,,,,,,,,,,,function(t,e,n){n(1356);var i=n(0)(n(792),n(1704),"data-v-38d291a4",null);t.exports=i.exports},function(t,e,n){"use strict";var i=n(78),a=n.n(i),o=n(19),s=n.n(o),r=n(1),l=n.n(r),c=n(2),u=n.n(c),d=n(30),p=n(292),m=n(104),h=(n.n(m),n(157)),f=function(){function t(){l()(this,t),this._id="",this._node=new h.a,this._type="non_mobile",this._amount=0,this._startTime="",this._endTime="",this._mark="",this._selected=!1,this._checked=!1,this._onEdit=!0}return u()(t,[{key:"toJsonString",value:function(){var t=s()(this);return a()(this).filter(function(t){return"_"===t[0]}).forEach(function(e){t=t.replace(e,e.substring(1))}),t}},{key:"node",get:function(){return this._node},set:function(t){this._node=t}},{key:"mark",get:function(){return this._mark},set:function(t){this._mark=t}},{key:"onEdit",get:function(){return this._onEdit},set:function(t){this._onEdit=t}},{key:"selected",get:function(){return this._selected},set:function(t){this._selected=t}},{key:"checked",get:function(){return this._checked},set:function(t){this._checked=t}},{key:"id",get:function(){return this._id},set:function(t){this._id=t}},{key:"type",get:function(){return this._type},set:function(t){this._type=t}},{key:"amount",get:function(){return this._amount},set:function(t){this._amount=t}},{key:"startTime",get:function(){return this._startTime},set:function(t){this._startTime=t}},{key:"endTime",get:function(){return this._endTime},set:function(t){this._endTime=t}}]),t}();d.a([n.i(m.JsonProperty)("id"),d.b("design:type",String)],f.prototype,"_id",void 0),d.a([n.i(m.JsonProperty)("node"),d.b("design:type",h.a)],f.prototype,"_node",void 0),d.a([n.i(m.JsonProperty)("type"),d.b("design:type",String)],f.prototype,"_type",void 0),d.a([n.i(m.JsonProperty)("amount"),d.b("design:type",Number)],f.prototype,"_amount",void 0),d.a([n.i(m.JsonProperty)("startTime"),d.b("design:type",String)],f.prototype,"_startTime",void 0),d.a([n.i(m.JsonProperty)("endTime"),d.b("design:type",String)],f.prototype,"_endTime",void 0),d.a([n.i(m.JsonProperty)("mark"),d.b("design:type",String)],f.prototype,"_mark",void 0),d.a([n.i(p.a)(!0,0,10,"string"),d.b("design:type",String),d.b("design:paramtypes",[String])],f.prototype,"type",null),d.a([n.i(p.a)(!0,0,void 0,"float"),d.b("design:type",Number),d.b("design:paramtypes",[Number])],f.prototype,"amount",null),d.a([n.i(p.a)(!0,0,30,"object"),d.b("design:type",String),d.b("design:paramtypes",[String])],f.prototype,"startTime",null),d.a([n.i(p.a)(!0,0,30,"object"),d.b("design:type",String),d.b("design:paramtypes",[String])],f.prototype,"endTime",null),f=d.a([n.i(m.Serializable)()],f),e.a=f},function(t,e,n){"use strict";n.d(e,"a",function(){return v});var i=n(40),a=n.n(i),o=n(7),s=n.n(o),r=n(1),l=n.n(r),c=n(2),u=n.n(c),d=n(9),p=n.n(d),m=n(8),h=n.n(m),f=n(132),v=function(t){function e(t){l()(this,e);var n=p()(this,(e.__proto__||s()(e)).call(this,t));return n.isEdit=!1,n.taskOperationButton=[],n}return h()(e,t),u()(e,[{key:"gsIsEdit",get:function(){return this.isEdit},set:function(t){console.log(t),this.isEdit=t}},{key:"gsTaskOperationButton",get:function(){return this.taskOperationButton},set:function(t){this.taskOperationButton=t}}],[{key:"initialize",value:function(t){return new e(a()({companyId:"",taskId:"",parentId:"",taskName:"",status:"UNPUBLISHED",points:"",parentsTaskIds:"",childList:[],modulus:"1",modulusRange:"0,2",content:"",responsible:"",responsibleCandidate:"",confirmablePerson:"",confirmor:"",creator:"",createTime:null,lastUpdateTime:null,documentId:""},t))}}]),e}(f.a)},function(t,e,n){"use strict";var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(30),l=n(104),c=(n.n(l),function(){function t(){a()(this,t),this._id="",this._value=""}return s()(t,[{key:"id",get:function(){return this._id},set:function(t){this._id=t}},{key:"value",get:function(){return this._value},set:function(t){this._value=t}}]),t}());r.a([n.i(l.JsonProperty)("id"),r.b("design:type",String)],c.prototype,"_id",void 0),r.a([n.i(l.JsonProperty)("value"),r.b("design:type",String)],c.prototype,"_value",void 0),c=r.a([n.i(l.Serializable)()],c),e.a=c},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(8),p=n.n(d),m=n(18),h=n(134),f=function(t){function e(t,n){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];s()(this,e);var o=u()(this,(e.__proto__||a()(e)).call(this,t,n,i));return o.FetchSize=10,o}return p()(e,t),l()(e,[{key:"setListType",value:function(t){this.userId=1===t?0:h.a.instance.currentUser.UserID}},{key:"StartIndex",get:function(){return this.$data.startIndex},set:function(t){this.$data.startIndex=t}},{key:"FetchSize",get:function(){return this.$data.fetchSize},set:function(t){this.$data.fetchSize=t}},{key:"userId",get:function(){return this.$data.userId},set:function(t){this.$data.userId=t}},{key:"companyId",get:function(){return this.$data.companyId},set:function(t){this.$data.companyId=t}},{key:"Title",get:function(){return this.$data.title},set:function(t){this.$data.title=t}},{key:"sortField",get:function(){return this.$data.sortField},set:function(t){this.$data.sortField=t}},{key:"sortDescend",get:function(){return this.$data.sortDescend},set:function(t){this.$data.sortDescend=t}},{key:"form",get:function(){return this.$data.form},set:function(t){this.$data.form=t}},{key:"id",get:function(){return this.$data.id},set:function(t){this.$data.id=t}}]),e}(m.a)},function(t,e,n){"use strict";var i=n(43),a=n(137),o=n(3),s=n.n(o);e.a={attachments:{required:!0,type:Array,itemType:Object,itemValidator:i.a},relations:{required:!0,type:Array,itemType:Object,itemValidator:a.a},companyId:{required:!0,type:Number,isFloat:!1},createDateTime:{type:String,default:s()(new Date).format("YYYY-MM-DD hh:mm:ss")},lastUpdate:{type:String},userId:{type:Number,isFloat:!1},status:{type:Number,isFloat:!1},documentId:{required:!0,type:Number,isFloat:!1},title:{required:!0,type:String,minLength:1,maxLength:200}}},function(t,e,n){"use strict";var i=n(43),a=n(211),o=n(159),s=n(4),r=n.n(s),l={englishTitle:{type:String},tags:{type:String},supplierStatus:{type:Number,isFloat:!1},attachments:{required:!0,type:Array,itemType:Object,itemValidator:i.a},certificates:{required:!0,type:Array,itemType:Object,itemValidator:i.a},payMethods:{required:!0,type:Array,itemType:Object,itemValidator:a.a},address:{type:String},contactName:{required:!0,type:String},telephone:{type:String},mobile:{type:String},taxId:{type:String},postCode:{type:String},validity:{type:String}};e.a=r.a.extend(l,o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=function(){function t(e,n,i){a()(this,t),this._displayText=e,this._key=_.uniqueId(e),this._getValue=i,this._supportTypes=n}return s()(t,[{key:"getValue",value:function(t){return this._getValue(t)}},{key:"key",get:function(){return this._key}},{key:"displayText",get:function(){return this._displayText}},{key:"supportTypes",get:function(){return this._supportTypes}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=function(){function t(e,n,i,o){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;a()(this,t),this._displayText=e,this._type=n,this._getValue=i,this._matcher=o,this._squashFilterOptions=s}return s()(t,[{key:"getValue",value:function(t){return this._getValue(t)}},{key:"match",value:function(t,e){return this._matcher(t,e)}},{key:"squashFilterOptions",get:function(){return this._squashFilterOptions}},{key:"displayText",get:function(){return this._displayText}},{key:"type",get:function(){return this._type}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(4),l=n.n(r),c=n(28),u=n(321),d=function(){function t(e){a()(this,t),this._displayText=e,this._options=[],this._multiSelection=!1,this._key=l.a.uniqueId(e)}return s()(t,[{key:"squashOptions",value:function(t){var e=this;if(!(this.options.length<t)){for(var n=this.options.length-t,i=0,a=l.a.map(this._options,function(t){return l.a.extend(t.toData(),{squashs:[]})});n-- >0;)i>=a.length-1&&(i=0),a[i].squashs.push(a[i+1]),a.splice(i+1,1),i++;this._options=l.a.map(a,function(t){if(!l.a.isEmpty(t.squashs)){t.count=l.a.reduce(t.squashs,function(t,e){return t+e.count},t.count);var n=t.displayText,i=l.a.last(t.squashs).displayText;t.displayText=n+"-"+i,t.options={type:"range",left:n,right:i}}return new u.a(e,t.displayText,t.count,t.options)})}}},{key:"key",get:function(){return this._key}},{key:"displayText",get:function(){return this._displayText}},{key:"options",get:function(){return this._options},set:function(t){var e=this,n=l.a.pairs(t);n=l.a.sortBy(n,function(t){return l.a.isNaN(parseFloat(t[0]))?t[0]:parseFloat(t[0])}),this._options=l.a.map(n,function(t){return new u.a(e,t[0],parseInt(c.a.valueOfArray(t,1))||0)})}},{key:"multiSelection",get:function(){return this._multiSelection},set:function(t){this._multiSelection=t,t||l.a.each(this.options,function(t){return t.checked=!1})}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(4),l=n.n(r),c=function(){function t(e,n){a()(this,t),this._displayText=e,this._getValue=n,this._key=l.a.uniqueId(e)}return s()(t,[{key:"getValue",value:function(t){return this._getValue(t)}},{key:"displayText",get:function(){return this._displayText}},{key:"key",get:function(){return this._key}}]),t}()},function(t,e,n){"use strict";function i(t,e){return d.a.any(t,function(t){return t.displayText==e})}n.d(e,"a",function(){return m});var a=n(144),o=n.n(a),s=n(1),r=n.n(s),l=n(2),c=n.n(l),u=n(4),d=n.n(u),p=(n(28),n(321)),m=function(){function t(e){r()(this,t),this._name=e,this._customOptions=[],this._checkedItems=[]}return c()(t,[{key:"clearCheckState",value:function(t){this._checkedItems=d.a.filter(this._checkedItems,function(e){return e.type!==t})}},{key:"setCheckState",value:function(t,e,n){var i=d.a.find(this._checkedItems,function(e){return e.key===t});d.a.isUndefined(i)?(i={key:t,type:e,state:n},this._checkedItems.push(i)):i.state=n}},{key:"getCheckState",value:function(t){var e=d.a.find(this._checkedItems,function(e){return e.key===t});return d.a.isUndefined(e)?-1:e.state}},{key:"getFilterOptions",value:function(t){var e=d.a.find(this._customOptions,function(e){return e.key==t});return d.a.isUndefined(e)&&(e={key:t,options:[]},this._customOptions.push(e)),e.options}},{key:"deleteFilterOption",value:function(t,e){var n=this.getFilterOptions(t.displayText),i=d.a.findIndex(n,function(t){return t==e});i>-1&&n.splice(i,1)}},{key:"addFilterOption",value:function(t,e,n){var a=this.getFilterOptions(t.displayText),s=parseInt(n.trim());if(!d.a.isNaN(s)){var r=new p.a(t,n.trim(),-1,{custom:!0});return a.splice(0,0,r),!0}if(/^[\d ]+\-[\d- ]*$/.test(n)){var l=n.indexOf("-"),c=n.substring(0,l).trim(),u=n.substring(l+1).trim(),m=c+"-"+u;if(d.a.isEmpty(u)&&(m=c+"以上",u=1/0),!i(e,m))return a.splice(0,0,new p.a(t,m,-1,{custom:!0,type:"range",left:c,right:u})),!0}else{var h=d.a.chain(n.split(/,| |-/)).map(function(t){return t.trim()}).uniq().filter(function(t){return!d.a.isEmpty(t)&&!i(h,t)}).map(function(e){return new p.a(t,e,-1,{custom:!0})}).value();if(!d.a.isEmpty(h))return a.splice.apply(a,[0,0].concat(o()(h))),!0}return!1}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return k});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(9),l=n.n(r),c=n(34),u=n.n(c),d=n(2),p=n.n(d),m=n(8),h=n.n(m),f=n(18),v=n(915),g=n(28),y=n(4),_=n.n(y),b=n(323),C=n(914),k=function(t){function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];s()(this,e);var i=l()(this,(e.__proto__||a()(e)).call(this,t,v.a,n));return i._reportChains=_.a.map(i.$data.reportChain,function(t){return new I(t)}),i._templates=_.a.map(i.$data.templates,function(t){return new C.a(t)}),i}return h()(e,t),p()(e,null,[{key:"parseLines",value:function(t){for(var n=t.split("\n"),i=_.a.first(n).split(/\t| +/),a=[],o=1;o<n.length;o++)_.a.isEmpty(n[o])||function(){var t={},s=n[o].split(/\t| +/);_.a.each(i,function(e,n){var i=s[n],a=_.a.isEmpty(i);t[e]="extendedFields"==e?a?[]:i.split(","):"templates"==e?a?[]:_.a.map(_.a.map(i.split(","),function(t){return t.split("|")}),function(t){return{keyName:t[0],keyType:t[1]}}):"reportChain"==e?a?[]:_.a.chain(i.split("|")).map(function(t,e){return{chainId:e,chainValue:t.split(",")}}).value():i}),a.push(e.create(t))}();return a}},{key:"create",value:function(t){return new e(_.a.extend(g.a.createdata(v.a),t),!1)}}]),p()(e,[{key:"toData",value:function(){var t=u()(e.prototype.__proto__||a()(e.prototype),"toData",this).call(this);return t.reportChains=_.a.map(this.reportChains,function(t){return t.toData()}),t.templates=_.a.map(this.templates,function(t){return t.toData()}),console.log(t),t}},{key:"title",get:function(){return this.$data.title}},{key:"type",get:function(){return this.$data.type}},{key:"category",get:function(){return this.$data.tabType}},{key:"workCycle",get:function(){return this.$data.workCycleValue}},{key:"workCycleUnit",get:function(){return this.$data.workCycleUnit}},{key:"baseScore",get:function(){return this.$data.baseScore}},{key:"minimumRatio",get:function(){return parseFloat(this.$data.minimumRatio)}},{key:"maximumRatio",get:function(){return parseFloat(this.$data.maximumRatio)}},{key:"units",get:function(){return this.$data.units}},{key:"sourceItemId",get:function(){return this.$data.sourceItemId}},{key:"sourceVersionId",get:function(){return this.$data.sourceVersionId}},{key:"reportChains",get:function(){return this._reportChains}},{key:"templates",get:function(){return this._templates}},{key:"extendFields",get:function(){return this.$data.extendedFields}},{key:"principalId",get:function(){return this.$data.principalId}},{key:"sourceItemKey",get:function(){return this.sourceItemId+"-"+this.sourceVersionId}}]),e}(f.a),I=function(t){function e(t){return s()(this,e),l()(this,(e.__proto__||a()(e)).call(this,t,b.a,!0))}return h()(e,t),p()(e,[{key:"reporters",get:function(){return this.$data.chainValue}}]),e}(f.a)},function(t,e,n){"use strict";function i(t){this._ServerUser=new a.a(t),this.UserID=o.a.getUser().UserID,this.ChangePWD={OldPassword:"",NewPassword:""},this.ChangeMb={NewMobile:"",ValidateCode:"",Password:""},this.ChangeEM={NewEMail:"",ValidateCode:"",Password:""},this.BindingEM={EMail:"",ValidateCode:"",Password:""},this.IsLoding=!1,this.EventsChangeUserInfoCompleted={},this.EventsChangePasswordCompleted={},this.EventsChangeMobileCompleted={},this.EventsChangeEMailCompleted={},this.EventsBindingEMailCompleted={},i.prototype.ChangePassword=function(){if(null===this._ServerUser)return!1;var t={};return t={UserID:this.UserID,OldPassword:this.ChangePWD.OldPassword,NewPassword:this.ChangePWD.NewPassword},this.IsLoding=this._ServerUser.ChangePassword(t,this.ChangePassword_Completed,this),this.IsLoding},i.prototype.ChangePassword_Completed=function(t,e){e.IsLoding=!1,void 0!=t&&void 0!=t.Success&&t.Success;for(var n in e.EventsChangePasswordCompleted)null!=e.EventsChangePasswordCompleted[n]&&e.EventsChangePasswordCompleted[n](t)},i.prototype.ChangeMobile=function(){if(null===this._ServerUser)return!1;var t={};return t={Mobile:this.ChangeMb.NewMobile,ValidateCode:this.ChangeMb.ValidateCode,password:this.ChangeMb.Password},this.IsLoding=this._ServerUser.ChangeMobile(t,this.ChangeMobile_Completed,this),this.IsLoding},i.prototype.ChangeMobile_Completed=function(t,e){e.IsLoding=!1,void 0!=t&&void 0!=t.Success&&t.Success;for(var n in e.EventsChangeMobileCompleted)null!=e.EventsChangeMobileCompleted[n]&&e.EventsChangeMobileCompleted[n](t)},i.prototype.ChangeEMail=function(){if(null===this._ServerUser)return!1;var t={};return t={EMail:this.ChangeEM.NewEMail,ValidateCode:this.ChangeEM.ValidateCode,password:this.ChangeEM.Password},this.IsLoding=this._ServerUser.ChangeEMail(t,this.ChangeEMail_Completed,this),this.IsLoding},i.prototype.ChangeEMail_Completed=function(t,e){e.IsLoding=!1,void 0!=t&&void 0!=t.Success&&t.Success;for(var n in e.EventsChangeEMailCompleted)null!=e.EventsChangeEMailCompleted[n]&&e.EventsChangeEMailCompleted[n](t)},i.prototype.BindingEMail=function(){if(null===this._ServerUser)return!1;var t={};return t={EMail:this.BindingEM.EMail,ValidateCode:this.BindingEM.ValidateCode,password:this.BindingEM.Password},this.IsLoding=this._ServerUser.BindingEMail(t,this.BindingEMail_Completed,this),this.IsLoding},i.prototype.BindingEMail_Completed=function(t,e){e.IsLoding=!1,void 0!=t&&void 0!=t.Success&&t.Success;for(var n in e.EventsBindingEMailCompleted)null!=e.EventsBindingEMailCompleted[n]&&e.EventsBindingEMailCompleted[n](t)}}var a=n(117),o=n(6);e.a=i},function(t,e,n){"use strict";function i(t){this._ServerUser=new a.a(t),this.UserID="",this.UserInfo={UserName:"",UserPassword:"",HeadImage:"",Surname:"",Name:"",Sex:0,EName:"",Mobile:"",EMail:"",NickName:"",Birthday:"",ContactAddress:"",Employees:[]},this.IsLoding=!1,this.EventsLoginCompleted={},this.EventsLogoutCompleted={},this.EventsGetUserInfoCompleted={},this.EventsChangeUserInfoCompleted={},this.EventsUploadHeadImageCompleted={},this.EventsGetUserEmployeesCompleted={},i.prototype.Login=function(){if(null===this._ServerUser)return!1;var t={};return t={AccountName:this.UserInfo.UserName,Password:this.UserInfo.UserPassword},this.IsLoding=this._ServerUser.Login(t,this.Login_Completed,this),this.IsLoding},i.prototype.Login_Completed=function(t,e){e.IsLoding=!1,void 0!=t&&void 0!=t.Success&&t.Success&&(e.UserID=t.Data.UserID);for(var n in e.EventsLoginCompleted)null!=e.EventsLoginCompleted[n]&&e.EventsLoginCompleted[n](t)},i.prototype.Logout=function(){if(null===this._ServerUser)return!1;var t={};return t={LoginName:this.UserID},this.IsLoding=this._ServerUser.Logout(t,this.Logout_Completed,this),this.IsLoding},i.prototype.Logout_Completed=function(t,e){e.IsLoding=!1,void 0!=t&&void 0!=t.Success&&t.Success;for(var n in e.EventsLogoutCompleted)null!=e.EventsLogoutCompleted[n]&&e.EventsLogoutCompleted[n](t)},i.prototype.GetUserInfo=function(){if(null===this._ServerUser)return!1;var t={};return t={UserID:this.UserID},this.IsLoding=this._ServerUser.GetUserInfo(t,this.GetUserInfo_Completed,this),this.IsLoding},i.prototype.GetUserInfo_Completed=function(t,e){e.IsLoding=!1,void 0!=t&&void 0!=t.Success&&t.Success&&(e.UserInfo.UserName=t.Data.UserCode,e.UserInfo.Mobile=t.Data.MobilePhone,void 0==e.UserInfo.Mobile&&(e.UserInfo.Mobile=""),e.UserInfo.EMail=t.Data.EMail,void 0==e.UserInfo.EMail&&(e.UserInfo.EMail=""),e.UserInfo.HeadImage=t.Data.HeadImage,void 0==e.UserInfo.HeadImage&&(e.UserInfo.HeadImage="/static/usercss/img/headicon.png"),e.UserInfo.Surname=t.Data.Surname,void 0==e.UserInfo.Surname&&(e.UserInfo.Surname=""),e.UserInfo.Name=t.Data.UserName,void 0==e.UserInfo.Name&&(e.UserInfo.Name=""),e.UserInfo.EName=t.Data.EnName,void 0==e.UserInfo.EName&&(e.UserInfo.EName=""),e.UserInfo.NickName=t.Data.NickName,void 0==e.UserInfo.NickName&&(e.UserInfo.NickName=""),e.UserInfo.Sex=t.Data.Gender,void 0==e.UserInfo.Sex&&(e.UserInfo.Sex=0),e.UserInfo.Birthday=t.Data.Birthday,void 0==e.UserInfo.Birthday&&(e.UserInfo.Birthday=""),e.UserInfo.ContactAddress=t.Data.ContactAddress,void 0==e.UserInfo.ContactAddress&&(e.UserInfo.ContactAddress=""));for(var n in e.EventsGetUserInfoCompleted)null!=e.EventsGetUserInfoCompleted[n]&&e.EventsGetUserInfoCompleted[n](t)},i.prototype.UploadHeadImage=function(){if(null===this._ServerUser)return!1;var t={};return t={ImageURl:this.UserInfo.HeadImage},this.IsLoding=this._ServerUser.UploadHeadImage(t,this.UploadHeadImage_Completed,this),this.IsLoding},i.prototype.UploadHeadImage_Completed=function(t,e){e.IsLoding=!1,void 0!=t&&void 0!=t.Success&&t.Success;for(var n in e.EventsUploadHeadImageCompleted)null!=e.EventsUploadHeadImageCompleted[n]&&e.EventsUploadHeadImageCompleted[n](t)},i.prototype.ChangeUserInfo=function(){if(null===this._ServerUser)return!1;var t={};return t={HeadImage:this.UserInfo.HeadImage,UserId:this.UserID,Surname:this.UserInfo.Surname,UserName:this.UserInfo.Name,EnName:this.UserInfo.EName,Gender:this.UserInfo.Sex,NickName:this.UserInfo.NickName,Birthday:this.UserInfo.Birthday,ContactAddress:this.UserInfo.ContactAddress},this.IsLoding=this._ServerUser.ChangeUserInfo(t,this.ChangeUserInfo_Completed,this),this.IsLoding},i.prototype.ChangeUserInfo_Completed=function(t,e){e.IsLoding=!1,void 0!=t&&void 0!=t.Success&&t.Success;for(var n in e.EventsChangeUserInfoCompleted)null!=e.EventsChangeUserInfoCompleted[n]&&e.EventsChangeUserInfoCompleted[n](t)},i.prototype.GetUserEmployees=function(){if(null===this._ServerUser)return!1;var t={};return t={Id:this.UserID},this.IsLoding=this._ServerUser.GetUserEmployees(t,this.GetUserEmployees_Completed,this),this.IsLoding},i.prototype.GetUserEmployees_Completed=function(t,e){e.IsLoding=!1,console.log("UserModel.GetUserEmployee_Completed ==> "),console.log(t),void 0!=t&&void 0!=t.Success&&t.Success;for(var n in e.EventsGetUserEmployeesCompleted)null!=e.EventsGetUserEmployeesCompleted[n]&&e.EventsGetUserEmployeesCompleted[n](t)}}var a=n(117);e.a=i},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(1),a=n.n(i),o=function t(){a()(this,t),this.ID=0,this.Name="",this.Phone="",this.Fax="",this.Zip="",this.Desc="",this.Address="",this.LogoKey="",this.SealKey="",this.SignKey="",this.BgKey="",this.CompanyManager="",this.HrManager="",this.Enable=0,this.IsTemplate=0}},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(131),l=function(){function t(){a()(this,t)}return s()(t,null,[{key:"createOneResource",value:function(t,e){return r.a.getApiHost({resource:"https://resource-api-staging.ptit365.com",work_manager:"https://work-manager-api-server-staging.ptit365.com",principal:"https://principal-version-api-staging.ptit365.com",batchSys:"https://alydnh-staging-api.ptit365.com"}.resource,"v1").post("/",t,e)}},{key:"putResource",value:function(t,e,n){return r.a.getApiHost({resource:"https://resource-api-staging.ptit365.com",work_manager:"https://work-manager-api-server-staging.ptit365.com",principal:"https://principal-version-api-staging.ptit365.com",batchSys:"https://alydnh-staging-api.ptit365.com"}.resource,"v1").put("/"+t,e,n)}},{key:"putLabels",value:function(t,e,n){return r.a.getApiHost({resource:"https://resource-api-staging.ptit365.com",work_manager:"https://work-manager-api-server-staging.ptit365.com",principal:"https://principal-version-api-staging.ptit365.com",batchSys:"https://alydnh-staging-api.ptit365.com"}.resource,"v1").put("/"+t+"/labels",e,n)}},{key:"getResourceDetail",value:function(t,e){return r.a.getApiHost({resource:"https://resource-api-staging.ptit365.com",work_manager:"https://work-manager-api-server-staging.ptit365.com",principal:"https://principal-version-api-staging.ptit365.com",batchSys:"https://alydnh-staging-api.ptit365.com"}.resource,"v1").get("/"+t,"",e)}},{key:"queryResourceByKey",value:function(t,e,n){return r.a.getApiHost({resource:"https://resource-api-staging.ptit365.com",work_manager:"https://work-manager-api-server-staging.ptit365.com",principal:"https://principal-version-api-staging.ptit365.com",batchSys:"https://alydnh-staging-api.ptit365.com"}.resource,"v1").get("/query/"+t,e,n)}},{key:"queryResourceContent",value:function(t,e,n,i){return r.a.getApiHost({resource:"https://resource-api-staging.ptit365.com",work_manager:"https://work-manager-api-server-staging.ptit365.com",principal:"https://principal-version-api-staging.ptit365.com",batchSys:"https://alydnh-staging-api.ptit365.com"}.resource,"v1").get("/"+t+"/"+e,n,i)}},{key:"deleteResource",value:function(t,e){return r.a.getApiHost({resource:"https://resource-api-staging.ptit365.com",work_manager:"https://work-manager-api-server-staging.ptit365.com",principal:"https://principal-version-api-staging.ptit365.com",batchSys:"https://alydnh-staging-api.ptit365.com"}.resource,"v1").delete("/"+t,"",e)}},{key:"getKey",value:function(t,e){return r.a.getApiHost({resource:"https://resource-api-staging.ptit365.com",work_manager:"https://work-manager-api-server-staging.ptit365.com",principal:"https://principal-version-api-staging.ptit365.com",batchSys:"https://alydnh-staging-api.ptit365.com"}.resource,"v1").get("/keys?"+t,"",e)}},{key:"setKey",value:function(t,e){return r.a.getApiHost({resource:"https://resource-api-staging.ptit365.com",work_manager:"https://work-manager-api-server-staging.ptit365.com",principal:"https://principal-version-api-staging.ptit365.com",batchSys:"https://alydnh-staging-api.ptit365.com"}.resource,"v1").post("/keys",t,e)}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=function(){function t(e){a()(this,t),this.$data=e,this.checked=!1,this.selected=!1}return s()(t,[{key:"principalId",set:function(t){this.$data.principalId=t},get:function(){return this.$data.principalId}},{key:"employeePosition",set:function(t){this.$data.employeePosition=t},get:function(){return this.$data.employeePosition}},{key:"performanceDefinitionCount",set:function(t){this.$data.performanceDefinitionCount=t},get:function(){return this.$data.performanceDefinitionCount}},{key:"total",set:function(t){this.$data.total=t},get:function(){return this.$data.total}},{key:"performanceDefinitionList",set:function(t){this.$data.performanceDefinitionList=t},get:function(){return this.$data.performanceDefinitionList}},{key:"principalVersion",set:function(t){this.$data.principalVersion=t},get:function(){return this.$data.principalVersion}}]),t}()},,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var i=n(0)(n(823),n(1723),null,null);t.exports=i.exports},,function(t,e,n){"use strict";var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(30),l=n(104),c=(n.n(l),function(){function t(){a()(this,t),this._id="",this._nodeId="",this._nodeName="",this._type="non_mobile",this._available_budget=0,this._initial_budget=0,this._startTime="",this._endTime="",this._content=""}return s()(t,[{key:"id",get:function(){return this._id},set:function(t){this._id=t}},{key:"nodeId",get:function(){return this._nodeId},set:function(t){this._nodeId=t}},{key:"nodeName",get:function(){return this._nodeName},set:function(t){this._nodeName=t}},{key:"type",get:function(){return this._type},set:function(t){this._type=t}},{key:"available_budget",get:function(){return this._available_budget},set:function(t){this._available_budget=t}},{key:"initial_budget",get:function(){return this._initial_budget},set:function(t){this._initial_budget=t}},{key:"startTime",get:function(){return this._startTime},set:function(t){this._startTime=t}},{key:"endTime",get:function(){return this._endTime},set:function(t){this._endTime=t}},{key:"content",get:function(){return this._content},set:function(t){this._content=t}}]),t}());r.a([n.i(l.JsonProperty)("id"),r.b("design:type",String)],c.prototype,"_id",void 0),r.a([n.i(l.JsonProperty)("nodeId"),r.b("design:type",String)],c.prototype,"_nodeId",void 0),r.a([n.i(l.JsonProperty)("nodeName"),r.b("design:type",String)],c.prototype,"_nodeName",void 0),r.a([n.i(l.JsonProperty)("type"),r.b("design:type",String)],c.prototype,"_type",void 0),r.a([n.i(l.JsonProperty)("available_budget"),r.b("design:type",Number)],c.prototype,"_available_budget",void 0),r.a([n.i(l.JsonProperty)("initial_budget"),r.b("design:type",Number)],c.prototype,"_initial_budget",void 0),r.a([n.i(l.JsonProperty)("startTime"),r.b("design:type",String)],c.prototype,"_startTime",void 0),r.a([n.i(l.JsonProperty)("endTime"),r.b("design:type",String)],c.prototype,"_endTime",void 0),r.a([n.i(l.JsonProperty)("content"),r.b("design:type",String)],c.prototype,"_content",void 0),c=r.a([n.i(l.Serializable)()],c),e.a=c},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(131);console.log({resource:"https://resource-api-staging.ptit365.com",work_manager:"https://work-manager-api-server-staging.ptit365.com",principal:"https://principal-version-api-staging.ptit365.com",batchSys:"https://alydnh-staging-api.ptit365.com"});var l=function(){function t(){a()(this,t)}return s()(t,null,[{key:"getNode",value:function(t,e){return r.a.getApiHost({resource:"https://resource-api-staging.ptit365.com",work_manager:"https://work-manager-api-server-staging.ptit365.com",principal:"https://principal-version-api-staging.ptit365.com",batchSys:"https://alydnh-staging-api.ptit365.com"}.batchSys,"organization").get("",t,e).then(function(t){if(t.meta.success)return t.data;throw new Error(t.meta.message)})}},{key:"getAllNode",value:function(t,e){return r.a.getApiHost({resource:"https://resource-api-staging.ptit365.com",work_manager:"https://work-manager-api-server-staging.ptit365.com",principal:"https://principal-version-api-staging.ptit365.com",batchSys:"https://alydnh-staging-api.ptit365.com"}.batchSys,"organization").get("",t,e).then(function(t){if(t.meta.success)return t.data;throw new Error(t.meta.message)})}},{key:"getChildNodeForOneNode",value:function(t,e,n){return r.a.getApiHost({resource:"https://resource-api-staging.ptit365.com",work_manager:"https://work-manager-api-server-staging.ptit365.com",principal:"https://principal-version-api-staging.ptit365.com",batchSys:"https://alydnh-staging-api.ptit365.com"}.batchSys,"organization").get("/"+t,e,n).then(function(t){if(t.meta.success)return t.data;throw new Error(t.meta.message)})}},{key:"getNodesForOneNode",value:function(t,e,n){return r.a.getApiHost({resource:"https://resource-api-staging.ptit365.com",work_manager:"https://work-manager-api-server-staging.ptit365.com",principal:"https://principal-version-api-staging.ptit365.com",batchSys:"https://alydnh-staging-api.ptit365.com"}.batchSys,"organization").get("/"+t,e,n).then(function(t){if(t.meta.success)return t.data;throw new Error(t.meta.message)})}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(644),l=function(){function t(){a()(this,t)}return s()(t,null,[{key:"createOneResource",value:function(t,e){return r.a.getApiHost("v1").post("/",t,e)}},{key:"putResource",value:function(t,e,n){return r.a.getApiHost("v1").put("/"+t,e,n)}},{key:"putLabels",value:function(t,e,n){return r.a.getApiHost("v1").put("/"+t+"/labels",e,n)}},{key:"getResourceDetail",value:function(t,e){return r.a.getApiHost("v1").get("/"+t,"",e)}},{key:"queryResourceByKey",value:function(t,e,n){return r.a.getApiHost("v1").get("/query/"+t,e,n)}},{key:"queryResourceContent",value:function(t,e,n,i){return r.a.getApiHost("v1").get("/"+t+"/"+e,n,i)}},{key:"deleteResource",value:function(t,e){return r.a.getApiHost("v1").delete("/"+t,"",e)}}]),t}()},function(t,e,n){"use strict";var i=[{name:"已发布",status:"PUBLISHED"},{name:"已完成",status:"COMPLETED"},{name:"未发布",status:"UNPUBLISHED"},{name:"已领取",status:"RECEIVED"},{name:"已确认",status:"CONFIRMED"},{name:"已废弃",status:"DEPRECATED"},{name:"已结算",status:"SETTLED"}];e.a=i},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=function(){function t(){a()(this,t),this._keyName="",this._keyValue=""}return s()(t,[{key:"keyName",get:function(){return this._keyName},set:function(t){this._keyName=t}},{key:"keyValue",get:function(){return this._keyValue},set:function(t){this._keyValue=t}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var i=n(78),a=n.n(i),o=n(19),s=n.n(o),r=n(1),l=n.n(r),c=n(2),u=n.n(c),d=n(30),p=n(652),m=0,h=1,f=function(){function t(){l()(this,t),this._itemId="",this._itemName="",this._initiatorId="",this._owerId="",this._commentorId="",this._settlorId="",this._previousId="",this._nextId="",this._principalId="",this._workingDate="",this._amount=1,this._baseScore=1,this._ratio=1,this._coefficient=0,this._minimumRatio=0,this._maximumRatio=0,this._workTime=1,this._state="draft",this._itemType="measureTimes",this._candidateType=["driver","measureTimes","measurePiece"],this._referenceItem="",this._extendedFields=[{keyName:"",keyValue:""}],this._selected=!1,this._checked=!1}return u()(t,[{key:"toJsonString",value:function(){var t=s()(this);return a()(this).filter(function(t){return"_"===t[0]}).forEach(function(e){t=t.replace(e,e.substring(1))}),t}},{key:"settlorId",get:function(){return this._settlorId},set:function(t){this._settlorId=t}},{key:"maximumRatio",get:function(){return this._maximumRatio},set:function(t){h=t,this._maximumRatio=t}},{key:"minimumRatio",get:function(){return this._minimumRatio},set:function(t){m=t,this._minimumRatio=t}},{key:"extendedFields",set:function(t){this._extendedFields=t},get:function(){return this._extendedFields}},{key:"itemType",get:function(){return this._itemType},set:function(t){this._itemType=t}},{key:"referenceItem",get:function(){return this._referenceItem},set:function(t){this._referenceItem=t}},{key:"itemId",get:function(){return this._itemId},set:function(t){this._itemId=t}},{key:"itemName",get:function(){return this._itemName},set:function(t){this._itemName=t}},{key:"initiatorId",get:function(){return this._initiatorId},set:function(t){this._initiatorId=t}},{key:"owerId",get:function(){return this._owerId},set:function(t){this._owerId=t}},{key:"commentorId",get:function(){return this._commentorId},set:function(t){this._commentorId=t}},{key:"previousId",get:function(){return this._previousId},set:function(t){this._previousId=t}},{key:"nextId",get:function(){return this._nextId},set:function(t){this._nextId=t}},{key:"principalId",get:function(){return this._principalId},set:function(t){this._principalId=t}},{key:"workingDate",get:function(){return this._workingDate},set:function(t){this._workingDate=t}},{key:"amount",get:function(){return this._amount},set:function(t){this._amount=t}},{key:"baseScore",get:function(){return this._baseScore},set:function(t){this._baseScore=t}},{key:"ratio",get:function(){return this._ratio},set:function(t){this._ratio=t}},{key:"coefficient",get:function(){return this._coefficient},set:function(t){this._coefficient=t}},{key:"workTime",get:function(){return this._workTime},set:function(t){this._workTime=t}},{key:"state",get:function(){return this._state},set:function(t){this._state=t}},{key:"candidateType",get:function(){return this._candidateType},set:function(t){this._candidateType=t}},{key:"selected",get:function(){return this._selected},set:function(t){this._selected=t}},{key:"checked",get:function(){return this._checked},set:function(t){this._checked=t}}]),t}();d.a([n.i(p.a)(!1,m,h,"number"),d.b("design:type",Number),d.b("design:paramtypes",[Number])],f.prototype,"ratio",null)},function(t,e,n){"use strict";var i=n(31),a=n.n(i),o=n(23),s=n(6),r=function(){var t=sessionStorage.getItem("UserKey"),e="bearer 12345";return null!==t&&(t=JSON.parse(t),e="bearer "+t.UserTokenKey),a.a.create({baseURL:o.a,headers:{Authorization:e}})},l={Ajax:function(t,e,n,i){"get"==e?r().get(t,{params:n}).then(function(t){void 0!=i&&"function"==typeof i&&i(t.data)}).catch(function(t){s.a.ajaxError(t)}):"post"==e&&r().post(t,n).then(function(t){void 0!=i&&"function"==typeof i&&i(t.data)}).catch(function(t){s.a.ajaxError(t)})},NewGuid:function(){function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},IsEmpty:function(t){return void 0==t||""==t},IsNotEmpty:function(t){return!this.IsEmpty(t)}};e.a=l},function(t,e,n){"use strict";n.d(e,"a",function(){return k});var i,a,o=n(15),s=n.n(o),r=n(7),l=n.n(r),c=n(1),u=n.n(c),d=n(2),p=n.n(d),m=n(9),h=n.n(m),f=n(8),v=n.n(f),g=n(108),y=n(4),_=n.n(y),b=n(861),C=n(204),k=(a=i=function(t){function e(t){u()(this,e);var n=h()(this,(e.__proto__||l()(e)).call(this,t));return n.$companies=[],e.instance=n,n}return v()(e,t),p()(e,[{key:"getCompanyById",value:function(t){return _.a.find(this.$companies,function(e){return e.ID===t})}},{key:"loadCompanyById",value:function(t){var e=this,n=this.getCompanyById(t);if(!_.a.isEmpty(n))return s.a.resolve(n);var i=this.apiManager.getApiHost("CompanyManager").get("GetCompanyByID",{comID:t}),a=this;return i.then(function(t){return n=new b.a(t,e.apiManager),n.loadTemplate().then(function(t){return a.$companies.push(n),a.$company=n,n})})}},{key:"getUserEmployeesByID",value:function(t){return this.apiManager.getApiHost("CompanyManager").get("GetUserEmployeesByID",{userid:t}).then(function(t){return _.a.map(t,function(t){return new C.a(t)})})}}]),e}(g.a),i.instance=null,i.loadCompanyByIdEventKey="loadCompanyById",a)},function(t,e,n){"use strict";n.d(e,"a",function(){return y});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(8),p=n.n(d),m=n(889),h=n(871),f=n(18),v=n(4),g=n.n(v),y=function(t){function e(t,n){s()(this,e);var i=u()(this,(e.__proto__||a()(e)).call(this,t,m.a));return i.$apiManager=n,i.$organizationNodes=t.OrganizationNodes.map(function(t){return new h.a(t)}),i.$department=g.a.find(i.$organizationNodes,function(t){return 2===t.nodeType}),i}return p()(e,t),l()(e,[{key:"StaffID",get:function(){return this.$data.StaffID}},{key:"StaffCode",get:function(){return this.$data.StaffCode}},{key:"StaffName",get:function(){return this.$data.StaffName}},{key:"Surname",get:function(){return this.$data.Surname}},{key:"Nick",get:function(){return this.$data.Nick}},{key:"EName",get:function(){return this.$data.EName}},{key:"DepartmentID",get:function(){return this.$data.DepartmentID}},{key:"DepartmentName",get:function(){return this.$data.DepartmentName}},{key:"Department",get:function(){return this.$department}},{key:"CompanyID",get:function(){return this.$data.CompanyID}},{key:"CompanyName",get:function(){return this.$data.StaffCode}},{key:"PositionalTitle",get:function(){return this.$data.PositionalTitle}},{key:"WorkPhone",get:function(){return this.$data.WorkPhone}},{key:"WorkMobile",get:function(){return this.$data.WorkMobile}},{key:"WorkEmail",get:function(){return this.$data.WorkEmail}},{key:"State",get:function(){return this.$data.State}},{key:"JoinTime",get:function(){return this.$data.JoinTime}},{key:"UserID",get:function(){return this.$data.UserID}},{key:"UserNum",get:function(){return this.$data.UserNum}},{key:"OrganizationNodes",get:function(){return this.$organizationNodes}},{key:"Permissions",get:function(){return this.$data.Permissions}},{key:"Level",get:function(){return this.$data.Level}}]),e}(f.a)},function(t,e,n){"use strict";var i=n(43),a=n(137);e.a={attachments:{required:!0,type:Array,itemType:Object,itemValidator:i.a},relations:{required:!0,type:Array,itemType:Object,itemValidator:a.a},companyId:{required:!0,type:Number,isFloat:!1},createDateTime:{type:String},lastUpdate:{type:String},userId:{type:Number,isFloat:!1},status:{type:Number,isFloat:!1},documentId:{required:!0,type:Number,isFloat:!1},title:{required:!0,type:String,minLength:1,maxLength:100},content:{required:!0,type:String}}},function(t,e,n){"use strict";var i=(n(75),n(76),n(110)),a=n(4),o=n.n(a),s={contractStatus:{required:!0,type:Number,isFloat:!1},validity:{type:String}};e.a=o.a.extend(s,i.a)},function(t,e,n){"use strict";var i=n(43),a=n(210),o=n(212),s=n(320),r=n(159),l=n(4),c=n.n(l),u={signTime:{type:String},contractCode:{type:String},contractType:{required:!0,type:Number,isFloat:!1},director:{type:String},directorId:{requied:!0,type:Number},signAddress:{type:String},projectName:{type:String},projectId:{required:!0,type:Number,isFloat:!1},description:{type:String},beginDate:{type:String},endDate:{type:String},supplierId:{required:!0,type:Number,isFloat:!1},supplierName:{type:String},telephone:{type:String},mobile:{type:String},contact:{type:String},bankName:{type:String},bankAccount:{type:String},accountHolder:{type:String},totalPrice:{required:!0,type:Array,itemType:Object,itemValidator:s.a},tags:{type:String},contractStatus:{required:!0,type:Number,isFloat:!1},freeTerms:{required:!0,type:Array,itemType:Object,itemValidator:a.a},payTerms:{required:!0,type:Array,itemType:Object,itemValidator:o.a},contractFiles:{required:!0,type:Array,itemType:Object,itemValidator:i.a}};e.a=c.a.extend(u,r.a)},function(t,e,n){"use strict";e.a={DocumentAttachmentId:{required:!0,type:Number,isFloat:!1},DocumentContextId:{required:!0,type:Number,isFloat:!1},DocumentId:{required:!0,type:Number,isFloat:!1},AttachmentName:{required:!0,type:String},AttachmentKey:{required:!0,type:String},AttachmentType:{required:!1,type:String},AttachmentLength:{required:!0,type:Number,isFloat:!1},AttachmentStorageType:{required:!1,type:String},AttachmentStorageUrl:{required:!1,type:String},State:{required:!0,type:Number,isFloat:!1},RequestTime:{required:!1,type:String}}},function(t,e,n){"use strict";e.a={DocumentId:{required:!0,type:Number,isFloat:!1},ExtendType:{required:!0,type:Number,isFloat:!1},ExtendContext:{required:!1,type:String},RelevanceId:{required:!0,type:Number,isFloat:!1},RequestTime:{required:!1,type:String}}},function(t,e,n){"use strict";e.a={index:{require:!0,type:Number,isFloat:!1},title:{requred:!0,type:String},startDate:{type:String},endDate:{type:String},content:{type:String},termId:{required:!0,type:Number}}},function(t,e,n){"use strict";e.a={bankName:{required:!0,type:String},bankAccount:{required:!0,type:String},holder:{required:!0,type:String}}},function(t,e,n){"use strict";e.a={title:{type:String},ratio:{require:!0,type:Number,isFloat:!0},currency:{require:!0,type:Number,isFloat:!0},estimateTime:{type:String},remark:{type:String},minAmount:{require:!0,type:Number,isFloat:!0},maxAmount:{require:!0,type:Number,isFloat:!0},termId:{require:!0,type:Number,isFloat:!1},index:{require:!0,type:Number,isFloat:!1}}},function(t,e,n){"use strict";var i=n(43),a=n(214),o=n(159),s=n(4),r=n.n(s),l={payType:{type:Number,isFloat:!1},paymentNo:{type:String},supplierId:{type:Number,isFloat:!1},supplierName:{type:String},bankAccount:{type:String},holder:{type:String},bankName:{type:String},remark:{type:String},payableTerms:{required:!0,type:Array,itemType:Object,itemValidator:a.a},paymentVouchers:{type:Array,itemType:Object,itemValidator:i.a},paymentStatus:{type:Number,isFloat:!1}};e.a=r.a.extend(l,o.a)},function(t,e,n){"use strict";e.a={contractId:{require:!0,type:Number,isFloat:!0},title:{type:String},itemName:{required:!0,type:String},ratio:{require:!0,type:Number,isFloat:!1},currency:{require:!0,type:Number,isFloat:!0},payment:{require:!0,type:Number,isFloat:!0},estimateTime:{type:String},remark:{type:String},minAmount:{require:!0,type:Number,isFloat:!0},maxAmount:{require:!0,type:Number,isFloat:!0},termId:{require:!0,type:Number,isFloat:!1},index:{require:!0,type:Number,isFloat:!1}}},function(t,e,n){"use strict";var i=(n(75),n(76),n(110)),a=n(4),o=n.n(a),s={projectStatus:{required:!0,type:Number,isFloat:!1},tag:{required:!1,type:String},validity:{type:String},beginTime:{type:String},endTime:{type:String}};e.a=o.a.extend(s,i.a)},function(t,e,n){"use strict";var i=(n(43),n(137),n(159)),a=n(4),o=n.n(a),s={projectId:{required:!0,type:Number,isFloat:!1},projectCode:{type:String},director:{type:String},budget:{type:Number,isFloat:!0},achievementsPoint:{type:Number,isFloat:!0},beginTime:{type:String},endTime:{type:String},remark:{type:String},projectStatus:{required:!0,type:Number,isFloat:!1}};e.a=o.a.extend(s,i.a)},function(t,e,n){"use strict";var i=(n(75),n(76),n(110)),a=n(4),o=n.n(a),s={tag:{required:!1,type:String},supplierStatus:{required:!0,type:Number,isFloat:!1},validity:{type:String}};e.a=o.a.extend(s,i.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(4),l=n.n(r),c=function(){function t(e,n,i,o,s){a()(this,t),this._displayText=e,this._type=n,this._getValue=i,this._setValue=o,this._getOperabilityValues=s,this._key=l.a.uniqueId(this._displayText)}return s()(t,[{key:"getValue",value:function(t){return this._getValue(t)}},{key:"setValue",value:function(t,e){this._setValue(t,e)}},{key:"getOperabilityValues",value:function(t,e){return this._getOperabilityValues(t,e)}},{key:"key",get:function(){return this._key}},{key:"displayText",get:function(){return this._displayText}},{key:"type",get:function(){return this.type}}]),t}()},function(t,e,n){"use strict";function i(t,e){return function(n){g.a.all(t,function(t){return t.field.match(n,t.selectedOptions)})&&e.push(n)}}n.d(e,"a",function(){return P});var a=n(34),o=n.n(a),s=n(7),r=n.n(s),l=n(9),c=n.n(l),u=n(8),d=n.n(u),p=n(1),m=n.n(p),h=n(2),f=n.n(h),v=n(4),g=n.n(v),y=n(12),_=n.n(y),b=n(907),C=n(28),k=n(909),I=n(905),D=n(908),S=n(903),w=n(904),x=n(910),E=n(138),T=n(906),N={};N[S.a.displayText]=S.a,N[w.a.displayText]=w.a,N[x.a.displayText]=x.a;var P=function(){function t(){m()(this,t),this._list=[],this._resultList=[],this._currentFilters=[],this._visibleFilters=[],this._fieldSorters=[],this._fieldGroupers=[],this._fieldAggregators=[],this._userStore={}}return f()(t,[{key:"setUserStore",value:function(t){this._userStore=t}},{key:"setList",value:function(t){var e=this,n=t.filterableFields;this._visibleFilters=g.a.map(n,function(t,e){return new b.a(t,e)}),this._currentFilters=[],this._list=t,g.a.each(this._visibleFilters,function(t){t.calculateFilterOptions(e._list.items,e._userStore),t.field.squashFilterOptions>0&&t.filter.squashOptions(t.field.squashFilterOptions)}),this._fieldSorters=g.a.map(t.sortableFields,function(t){return new k.a(t)}),this._fieldGroupers=g.a.map(t.groupableFields,function(t){return new D.a(t)}),this._fieldAggregators=g.a.map(t.aggregationFields,function(t){return new I.a(t)}),this._bulkFieldOperations=g.a.map(t.bulkFields,function(t){return new T.a(t)})}},{key:"getListItemKey",value:function(t){return 0===t.indent?this._list.getKey(t.item):t.key}},{key:"clearAllFilterMultiSelection",value:function(){g.a.each(this.visibleFilters,function(t){return t.multiSelection=!1})}},{key:"setFilter",value:function(t,e){if(g.a.any(e)){var n=g.a.findIndex(this._visibleFilters,function(e){return e.filter.key==t.key});if(n<0)return;var i=this._visibleFilters[n];this._visibleFilters.splice(n,1),this._currentFilters.push(i),i.selectedOptions=C.a.ensureArray(e)}else{var a=g.a.findIndex(this._currentFilters,function(e){return e.filter.key==t.key});if(a<0)return;var o=this._currentFilters[a];this._currentFilters.splice(a,1),this._visibleFilters.push(o),this._visibleFilters=g.a.sortBy(this._visibleFilters,function(t){return t.index}),C.a.clear(o.selectedOptions)}}},{key:"addSorter",value:function(t){t.toggleState(),t.index=this.currentFieldSorters.length-1}},{key:"removeSorter",value:function(t){t.cancel(),g.a.each(this.currentFieldSorters,function(t,e){return t.index=e})}},{key:"setAggregator",value:function(t,e){g.a.each(this._fieldAggregators,function(t){return t.clearType()}),t.currentType=e}},{key:"addGrouper",value:function(t){t.grouped=!0,t.index=this.currentFieldGroupers.length-1}},{key:"removeGrouper",value:function(t){t.grouped=!1,g.a.each(this.currentFieldGroupers,function(t,e){return t.index=e})}},{key:"itemChecked",value:function(t){var e=this.getListItemKey(t),n=this._userStore.getCheckState(e);if(0!==n)return n;for(var i=t.index;i-- >0;){var a=this.resultList[i];if(a.indent<t.indent)return this.itemChecked(a)}return n}},{key:"refreshParentCheckedState",value:function(t){for(var e=this,n=t.index;n-- >0&&n<this.resultList.length;){var i=this.resultList[n];if(i.indent<t.indent){var a=g.a.map(i.children,function(t){return e._userStore.getCheckState(e.getListItemKey(t))}),o=0;g.a.all(a,function(t){return t>=0})?o=1:g.a.all(a,function(t){return t<0})&&(o=-1),this._userStore.setCheckState(this.getListItemKey(i),t.itemType,o)}}}},{key:"setItemChecked",value:function(t,e){var n=this;this._userStore.setCheckState(this.getListItemKey(t),t.itemType,e?1:-1),t.indent<0&&g.a.each(t.children,function(t){return n.setItemChecked(t,e)}),this.refreshParentCheckedState(t)}},{key:"getCheckedItems",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return g.a.filter(t.children,function(t){return t.indent>=n&&e.itemChecked(t)>=0})}},{key:"getFieldBulkOperations",value:function(t){var e=g.a.map(t,function(t){return t.item}),n=g.a.map(this._bulkFieldOperations,function(t){return{options:t.getOperabilityValues(e),operator:t,similar:t.isSimilarValues(e),count:t.getBulkCount(e)}});return g.a.each(n,function(t){t.value=t.options.initial,t.locked=t.similar}),g.a.filter(n,function(t){return!g.a.isEmpty(t.options)})}},{key:"applyBulkOperations",value:function(t,e){var n=g.a.map(e,function(t){return t.item});t=g.a.filter(t,function(t){return!t.locked}),g.a.each(t,function(t){return t.operator.setValue(n,t.value)})}},{key:"renderResults",value:function(){var t=this;this._resultList=[];var e=i(this._currentFilters,this._resultList);g.a.each(this._list.items,function(t){return e(t)}),g.a.each(this._visibleFilters,function(e){e.calculateFilterOptions(t._resultList,t._userStore),e.field.squashFilterOptions>0&&e.filter.squashOptions(e.field.squashFilterOptions)});var n=this.currentFieldSorters;if(!g.a.isEmpty(n)){var a=g.a.map(this.resultList,function(t){var e={$$item:t};return g.a.each(n,function(n){return e[n.field.key]=n.field.getValue(t)}),e}),o=g.a.map(n,function(t){return t.field.key}),s=g.a.map(n,function(t){return t.state});this._resultList=g.a.map(_.a.orderBy(a,o,s),function(t){return t.$$item})}this._resultList=g.a.map(this._resultList,function(t){return new M(t,0,-1)});var r=this.currentFieldGroupers,l=g.a.first(r);r=g.a.rest(r);var c=[];if(!g.a.isUndefined(l))for(var u=0;u<this._resultList.length;){var d=this._resultList[u].item,p=l.field.getValue(d);if(0==c.length||p!=c[0].value){var m=new U(p,l,u);c.splice(0,c.length,m),this._resultList.splice(u,0,m),u++}for(var h=1;h<c.length;h++){var f=r[h-1].field.getValue(d);if(f!=c[h].value){c.splice(h);break}}for(var v=c.length-1;v<r.length;v++){var y=r[v].field.getValue(d),b=new U(y,r[v],u);c.push(b),g.a.each(c,function(t,e){return t.indent=-(c.length-e)}),this._resultList.splice(u,0,b),u++}u++}if(this._userStore.clearCheckState("aggregation"),g.a.each(this._resultList,function(t,e){t.indent<0?t.calculateAggregation(this._resultList,this.currentAggregator):(t.index=e,this.refreshParentCheckedState(t)),t.index=e+1}.bind(this)),!g.a.isEmpty(this.resultList)){var C=new L;C.calculateAggregation(this._resultList,this.currentAggregator),this.resultList.splice(0,0,C)}}},{key:"fieldAggregators",get:function(){return this._fieldAggregators}},{key:"currentAggregator",get:function(){return g.a.find(this._fieldAggregators,function(t){return t.selected})}},{key:"currentFieldFilters",get:function(){return this._currentFilters}},{key:"visibleFieldFilters",get:function(){return this._visibleFilters}},{key:"resultList",get:function(){return this._resultList}},{key:"currentFieldGroupers",get:function(){return g.a.sortBy(g.a.filter(this._fieldGroupers,function(t){return t.grouped}),function(t){return t.index})}},{key:"remainingFieldGroupers",get:function(){return g.a.filter(this._fieldGroupers,function(t){return!t.grouped})}},{key:"currentFieldSorters",get:function(){return g.a.sortBy(g.a.filter(this._fieldSorters,function(t){return t.inSorting}),function(t){return t.index})}},{key:"remainingFieldStorters",get:function(){return g.a.filter(this._fieldSorters,function(t){return!t.inSorting})}}]),t}(),M=function(){function t(e,n,i){m()(this,t),this._item=e,this._indent=n,this._index=i}return f()(t,[{key:"item",get:function(){return this._item}},{key:"indent",get:function(){return this._indent},set:function(t){this._indent=t}},{key:"index",get:function(){return this._index},set:function(t){this._index=t}},{key:"itemType",get:function(){return"item"}}]),t}(),$=function(){function t(e,n){m()(this,t),this._displayText=e,this._calucatedValue="",this._type="",this._grouper=n,this._aggreator=void 0}return f()(t,[{key:"setCalucatedResult",value:function(t,e){this._calucatedValue=t,this._aggreator=e}},{key:"toString",value:function(){var t=this.displayText;return this.calculated&&(t=t+" ("+this.aggreator.currentType+this.aggreator.field.displayText+":"+this.calucatedValue+")"),t}},{key:"displayText",get:function(){return this._displayText}},{key:"calucatedValue",get:function(){return this._calucatedValue}},{key:"grouper",get:function(){return this._grouper}},{key:"aggreator",get:function(){return this._aggreator}},{key:"calculated",get:function(){return!g.a.isUndefined(this._aggreator)}}]),t}(),U=function(t){function e(t,n,i){m()(this,e);var a=c()(this,(e.__proto__||r()(e)).call(this,new $(t,n),-1,i));return a._grouper=n,a._children=[],a}return d()(e,t),f()(e,[{key:"calculateAggregation",value:function(t,e){for(var n=this.index,i=[],a=!g.a.isUndefined(e);++n<t.length&&t[n].indent>this._indent;){var o=t[n];0===o.indent&&(this._children.push(o),a&&i.push(e.field.getValue(o.item)))}if(a){var s=N[e.currentType];g.a.isUndefined(s)||this.item.setCalucatedResult(s.aggregate(i),e)}}},{key:"key",get:function(){return"aggregation-"+this.index}},{key:"value",get:function(){return this.item.displayText}},{key:"children",get:function(){return this._children}},{key:"itemType",get:function(){return"aggregation"}}]),e}(M),L=function(t){function e(){return m()(this,e),c()(this,(e.__proto__||r()(e)).call(this,"全部",new D.a(new E.a("全部",function(){return!0})),-1))}return d()(e,t),f()(e,[{key:"calculateAggregation",value:function(t,n){this.indent=g.a.first(t).indent-1,o()(e.prototype.__proto__||r()(e.prototype),"calculateAggregation",this).call(this,t,n),this.index=0}},{key:"itemType",get:function(){return"root-aggregation"}}]),e}(U)},function(t,e,n){"use strict";n.d(e,"a",function(){return I});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(9),l=n.n(r),c=n(34),u=n.n(c),d=n(2),p=n.n(d),m=n(8),h=n.n(m),f=n(18),v=n(916),g=n(28),y=n(4),_=n.n(y),b=n(3),C=n.n(b);C.a.locale("zh-CN");var k=g.a.createModelValidator({workingDate:function(){return this.required("工作时间不能为空")&&this.must(function(t){return C()(t).isValid()},"非法的日期")&&this.must(function(t){return C()().add(1,"day").isAfter(t,"day")},"工作日期必须小于或等于今天")},initiatorName:function(){var t=this;return this.required("目标员工不能为空")&&this.must(function(e){return!_.a.isEmpty(t.target.initiator)},"目标员工不存在")&&this.must(function(e){return t.target.initiator.principalName==e},"目标员工不存在")},principalId:function(){return this.required("职位不能为空")},itemName:function(){return this.required("绩效项名称不能为空")}}),I=function(t){function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];s()(this,e);var i=l()(this,(e.__proto__||a()(e)).call(this,t,v.a,n));return i._reference={},i._templateValues=[],_.a.isUndefined(t._reference)?i.ratio=1:i.reference=t._reference,i._initiator={},i._initiatorName="",i._position={},i._snapshot={},i._readed=!1,_.a.isEmpty(t.templateValues)||_.a.each(t.templateValues,function(t,e){return i.templateValues[e].value=t}),_.a.isEmpty(i.$data.workingDate)&&(i.$data.workingDate=i.getDateValue()),_.a.isUndefined(i.$data.description)||(i.$data.description=JSON.parse(i.$data.description)),i._modelValidator=k(i),i}return h()(e,t),p()(e,null,[{key:"parseLines",value:function(t,n){for(var i=t.split("\n"),a=_.a.first(i).split(/\t| +/),o=[],s=1;s<i.length;s++)_.a.isEmpty(i[s])||function(){var t={},r=i[s].split(/\t| +/);_.a.each(a,function(e,i){var a=r[i],o=_.a.isEmpty(a);"referenceId"==e?t._reference=o?{}:_.a.find(n,function(t){return t.sourceItemId==a})||{}:t[e]="transitions"==e?o?[]:a.split(","):"templateValues"==e?o?[]:a.split(","):a}),o.push(e.create(t))}();return o}},{key:"create",value:function(t){return new e(_.a.extend(g.a.createdata(v.a),t),!1)}}]),p()(e,[{key:"snapshot",value:function(){this._snapshot=_.a.pick(this,"_reference","_initiator","_position","_readed","$data"),this._snapshot.templateValues=_.a.map(this.templateValues,function(t){return t.value}),this.$data=g.a.deepclone(this.$data)}},{key:"revert",value:function(){var t=this;this.$data=this._snapshot.$data,this.readed=this._snapshot._readed,this.initiator=this._snapshot._initiator,this.position=this._snapshot._position,this.reference=this._snapshot._reference,_.a.each(this.templateValues,function(e,n){return e.value=t._snapshot.templateValues[n]}),this.apply()}},{key:"apply",value:function(){this._snapshot={}}},{key:"commentable",value:function(t){return!this.isRoutine&&this.isDraft&&this.currentUserId==t}},{key:"deletable",value:function(t){return this.isDraft&&this.currentUserId==t&&(this.ownerId==t||this.ownerId>0)}},{key:"shareable",value:function(t){return this.isDraft&&this.currentUserId==t}},{key:"rejectable",value:function(t){return this.isDraft&&this.currentUserId==t&&this.transitions.length>1}},{key:"editable",value:function(t){return this.isDraft&&!this.isRoutine&&this.currentUserId==t}},{key:"toData",value:function(){var t=u()(e.prototype.__proto__||a()(e.prototype),"toData",this).call(this);return console.log(this.reference),t.reference=_.a.isEmpty(this.reference)?{}:this.reference.toData(),t.templateValues=[],_.a.isArray(this.templateValues)&&(t.templateValues=_.a.map(this.templateValues,function(t){return t.value})),t}},{key:"hasSnaphost",get:function(){return!_.a.isEmpty(this._snapshot)}},{key:"modelValidator",get:function(){return this._modelValidator}},{key:"itemId",get:function(){return this.$data.itemId},set:function(t){this.$data.itemId=t}},{key:"itemName",get:function(){return this.$data.itemName},set:function(t){this.$data.itemName=t,_.a.isEmpty(this.reference)||this.reference.title==t||(this.reference={})}},{key:"ownerId",get:function(){return this.$data.ownerId},set:function(t){this.$data.ownerId=t}},{key:"initiatorId",get:function(){return this.$data.initiatorId},set:function(t){this.$data.initiatorId=t}},{key:"initiator",get:function(){return this._initiator},set:function(t){this._initiator=t,_.a.isEmpty(this._initiator)||(this.initiatorName=this._initiator.principalName,this.initiatorId=this._initiator.principalId)}},{key:"initiatorName",get:function(){return this._initiatorName},set:function(t){this._initiatorName=t}},{key:"commentorId",get:function(){return this.$data.commentorId}},{key:"principalId",get:function(){return this.$data.principalId},set:function(t){this.$data.principalId=t}},{key:"position",get:function(){return this._position},set:function(t){this._position=t}},{key:"transitions",get:function(){return this.$data.transitions},set:function(t){this.$data.transitions=t}},{key:"currentUserId",get:function(){return _.a.last(this.transitions)}},{key:"amount",get:function(){return this.$data.amount},set:function(t){this.$data.amount=t}},{key:"score",get:function(){return this.$data.score},set:function(t){this.$data.score=t}},{key:"baseScore",get:function(){return this.isStatistical&&this.notEffected?NaN:this.isTemporary?this.score:this.reference.baseScore}},{key:"description",get:function(){return this.$data.description}},{key:"qualityScore",get:function(){return this.isRoutine?NaN:(this.isStatistical&&(this.$data.qualityScore=1),this.$data.qualityScore)},set:function(t){this.$data.qualityScore=t}},{key:"ratio",get:function(){return this.isRoutine?NaN:(this.isStatistical&&(this.$data.ratio=1),this.$data.ratio)},set:function(t){this.$data.ratio=t}},{key:"status",get:function(){return this.$data.status},set:function(t){this.$data.status=t}},{key:"statusName",get:function(){switch(this.status){case"draft":return"草稿";case"locked":return"已提交";case"effected":return"已生效";default:return"未知"}}},{key:"isRoutine",get:function(){return"routine"==this.reference.type}},{key:"isPieceOrTimes",get:function(){return"measureTimes"==this.reference.type||"measurePiece"==this.reference.type}},{key:"isStatistical",get:function(){return"statisticalTime"==this.reference.type}},{key:"isTemporary",get:function(){return _.a.isEmpty(this.reference)||_.a.isUndefined(this.reference)}},{key:"isCycle",get:function(){return"cycle"==this.reference.type}},{key:"isExternal",get:function(){return"otherSys"==this.reference.type}},{key:"isDraft",get:function(){return"draft"==this.status}},{key:"isLocked",get:function(){return"locked"==this.status}},{key:"notEffected",get:function(){return"effected"!=this.status&&"settled"!=this.status}},{key:"workingDate",get:function(){return this.getDateValue(this.$data.workingDate)},set:function(t){this.$data.workingDate=t}},{key:"humanizeWorkDate",get:function(){var t=C()(),e=C()(this.$data.workingDate);return e.hour(t.hours()),e.minute(t.minutes()),e.second(t.seconds()),C()(e).fromNow()}},{key:"readed",get:function(){return this._readed},set:function(t){this._readed=t}},{key:"reference",get:function(){return this._reference},set:function(t){this._reference=t,this.isTemporary?(this._templateValues=[],this.ratio=1):this._templateValues=_.a.map(t.templates,function(t){return new S(t)})}},{key:"templateValues",get:function(){return this._templateValues}},{key:"typeName",get:function(){return this.isTemporary?"临时":this.isRoutine?"日常":this.isPieceOrTimes?"计件/次":this.isStatistical?"计时":this.isCycle?"周期":this.isExternal?"外部系统":"未知"}},{key:"amountParticipateCalculation",get:function(){return!!this.isTemporary||this.isPieceOrTimes}},{key:"calculatedScore",get:function(){return this.isStatistical&&this.notEffected?"N/A":((this.isTemporary?this.score:this.reference.baseScore)*(this.amountParticipateCalculation?this.amount:1)*this.qualityScore*this.ratio).toFixed(2)}},{key:"currentReporters",get:function(){if(this.isTemporary)return[];var t=g.a.valueOfArray(this.reference.reportChains,this.transitions.length-1)||[];return _.a.isEmpty(t)?[]:t.reporters}}]),e}(f.a),D=g.a.createModelValidator({value:function(){if(this.required(this.target.template.displayText+"不能为空")){if("Integer"==this.target.template.type)return this.integer(this.target.template.displayText+"必须为整数");if("Float"==this.target.template.type)return this.numeric(this.target.template.displayText+"必须为数字")}return!0}}),S=function(){function t(e){switch(s()(this,t),this._template=e,this._template.type){case"Integer":this._value=0;case"Float":this._value=1;default:this._value=""}this._modelValidator=D(this)}return p()(t,[{key:"toData",value:function(){u()(t.prototype.__proto__||a()(t.prototype),"toData",this).call(this)}},{key:"modelValidator",get:function(){return this._modelValidator}},{key:"template",get:function(){return this._template}},{key:"value",get:function(){return this._value},set:function(t){this._value=t}}]),t}()},function(t,e,n){"use strict";function i(t){this._CompanyServer=t.CompanyService,this._OrgServer=t.OrganizeServer,this.ID=0,this.Company={},this.CompanyList=[],this.TemplateCompanyList=[],this.filter={page:1,name:""},this.EventSearcComplete={},this.EventSingleComplete={},this.EventAddComplete={},this.EventEditComplete={},this.EventDeleteComplete={},this.EventEnableComplete={},this.EventSetTemplateComplete={},this.EventCancelTemplateComplete={},this.EventGetTemplateCompanyComplete={},this.EventCopyCompanyComplete={},this.EventError={},this._SetCompanyList=function(t){if(t.Success){this.CompanyList.splice(0,this.CompanyList.length);var e=t.Data;if(void 0!=e&&e.length>0)for(var n=0;n<e.length;n++){var i=this._ConvertToModel(e[n]);this.CompanyList.push(i)}}else this._CallError(t)},this._CallError=function(t){var e=this;for(var n in e.EventError)void 0!=e.EventError[n]&&e.EventError[n](t)},this._ConvertToModel=function(t){var e={};return void 0!=t&&(e.ID=t.ID,e.Name=t.Name,e.Phone=t.Phone,e.Fax=t.Fax,e.Zip=t.Zip,e.Desc=t.Desc,e.Address=t.Address,e.LogoKey=t.LogoKey,e.SealKey=t.SealKey,e.SignKey=t.SignKey,e.BgKey=t.BgKey,e.CompanyManager=t.CompanyManager,e.HrManager=t.HrManager,e.Enable=t.Enable,e.IsTemplate=t.IsTemplate,1==t.Enable?e.EnableStr="是":e.EnableStr="否",1==t.IsTemplate?e.IsTemplateStr="是":e.IsTemplateStr="否"),e},this._ModelToSend=function(t){var e={};return void 0!=t&&(e.ID=void 0==t.ID?0:t.ID,e.Name=void 0==t.Name?"":t.Name,e.Phone=void 0==t.Phone?"":t.Phone,e.Fax=void 0==t.Fax?"":t.Fax,e.Zip=void 0==t.Zip?"":t.Zip,e.Desc=void 0==t.Desc?"":t.Desc,e.Address=void 0==t.Address?"":t.Address,e.LogoKey=void 0==t.LogoKey?"":t.LogoKey,e.SealKey=void 0==t.SealKey?"":t.SealKey,e.SignKey=void 0==t.SignKey?"":t.SignKey,e.BgKey=void 0==t.BgKey?"":t.BgKey,e.CompanyManager=void 0==t.CompanyManager?"":t.CompanyManager,e.HrManager=void 0==t.HrManager?"":t.HrManager,1==t.Enable||1==t.Enable?e.Enable=1:e.Enable=0,1==t.IsTemplate||1==t.IsTemplate?e.IsTemplate=1:e.IsTemplate=0),e},i.prototype.Search=function(){var t=this;t.CompanyList=[];var e={};e.page=this.filter.page,e.name=this.filter.name,t._CompanyServer.search(e).then(function(e){t._SetCompanyList(e);for(var n in t.EventSearcComplete)void 0!=t.EventSearcComplete[n]&&t.EventSearcComplete[n](e)})},i.prototype.GetSingle=function(){var t=this;if(t.Company={},this.ID>0)t._CompanyServer.getCompany(t.ID).then(function(e){if(e.Success){var n=t._ConvertToModel(e.Data);t.Company=n;for(var i in t.EventSingleComplete)void 0!=t.EventSingleComplete[i]&&t.EventSingleComplete[i](e)}else t._CallError(e)});else{var e={Success:!0,Data:{}};for(var n in t.EventSingleComplete)void 0!=t.EventSingleComplete[n]&&t.EventSingleComplete[n](e)}},i.prototype.Add=function(){var t=this,e=t._ModelToSend(t.Company);t._CompanyServer.editCompany(e).then(function(e){if(e.Success)for(var n in t.EventAddComplete)void 0!=t.EventAddComplete[n]&&t.EventAddComplete[n](e);else t._CallError(e)})},i.prototype.Edit=function(){var t=this,e=t._ModelToSend(t.Company);t._CompanyServer.modifyCompany(e).then(function(e){if(e.Success)for(var n in t.EventEditComplete)void 0!=t.EventEditComplete[n]&&t.EventEditComplete[n](e);else t._CallError(e)})},i.prototype.Delete=function(){var t=this,e={comid:t.ID};t._CompanyServer.delCompany(e).then(function(e){if(e.Success)for(var n in t.EventDeleteComplete)void 0!=t.EventDeleteComplete[n]&&t.EventDeleteComplete[n](e);else t._CallError(e)})},i.prototype.Enable=function(){var t=this,e={id:t.ID};t._CompanyServer.Enable(e).then(function(e){if(e.Success)for(var n in t.EventEnableComplete)void 0!=t.EventEnableComplete[n]&&t.EventEnableComplete[n](e);else t._CallError(e)})},i.prototype.SetTemplate=function(){var t=this,e={id:t.ID};t._CompanyServer.SetTemplate(e).then(function(e){if(e.Success)for(var n in t.EventSetTemplateComplete)void 0!=t.EventSetTemplateComplete[n]&&t.EventSetTemplateComplete[n](e);else t._CallError(e)})},i.prototype.CancelTemplate=function(){var t=this,e={id:t.ID};t._CompanyServer.CancelTemplate(e).then(function(e){if(e.Success)for(var n in t.EventCancelTemplateComplete)void 0!=t.EventCancelTemplateComplete[n]&&t.EventCancelTemplateComplete[n](e);else t._CallError(e)})},i.prototype.GetTemplateCompany=function(){var t=this,e={},e={};e.page=this.filter.page,e.name=this.filter.name,t._CompanyServer.GetTemplateCompany(e).then(function(e){if(e.Success){t.TemplateCompanyList.splice(0,t.TemplateCompanyList.length);var n=e.Data;if(void 0!=n&&n.length>0)for(var i=0;i<n.length;i++){var a=t._ConvertToModel(n[i]);t.TemplateCompanyList.push(a)}for(var o in t.EventGetTemplateCompanyComplete)void 0!=t.EventGetTemplateCompanyComplete[o]&&t.EventGetTemplateCompanyComplete[o](e)}else t._CallError(e)})},i.prototype.CopyCompany=function(t,e){var n=this;n._OrgServer.CopyCompany(t,e).then(function(t){if(t.Success)for(var e in n.EventCopyCompanyComplete)void 0!=n.EventCopyCompanyComplete[e]&&n.EventCopyCompanyComplete[e](t);else n._CallError(t)})}}n(3);e.a=i},function(t,e,n){"use strict";function i(t){this._Server=t.EmployeeServer,this.filter={CompanyID:0,DepartID:0,PositionID:0,StaffName:void 0,StaffCode:void 0,RoleID:0,State:0,Keyword:void 0,PageIndex:1,PageSize:10,RowCount:0},this.SearchResult=[],this.Employee={},this.EmpStateList=[{value:1,text:"入职中"},{value:10,text:"在职"},{value:90,text:"离职"},{value:5,text:"入职失败"}],this.NewEmployeeResult=[],this.CompleteEntity={},this.EventSearcComplete={},this.EventGetSingleComplete={},this.EventCreateComplete={},this.EventDimissionComplete={},this.EventNewEmployeeComplete={},this.EventError={},this._ConvertToModel=function(t){var e={};if(void 0!=t){if(e.UserID=t.UserID,e.StaffID=t.StaffID,e.StaffCode=t.StaffCode,e.StaffName=t.StaffName,e.Nick=t.Nick,e.EName=t.EName,e.CompanyID=t.CompanyID,e.DepartmentID=t.DepartmentID,e.DepartmentName=t.DepartmentName,e.State=t.State,e.WorkPhone=t.WorkPhone,e.WorkMobile=t.WorkMobile,e.WorkEmail=t.WorkEmail,e.PositionalTitle=t.PositionalTitle,e.JoinTime=t.JoinTime,e.UserNum=t.UserNum,1==t.State?e.StateStr="入职中":10==t.State?e.StateStr="在职":90==t.State?e.StateStr="离职":5==t.State&&(e.StateStr="入职失败"),e.PositionIDs=[],e.PositionNames="",void 0!=t.OrganizationNodes&&t.OrganizationNodes.length>0)for(var n=0;n<t.OrganizationNodes.length;n++)if(4==t.OrganizationNodes[n].Type){var i=e.PositionIDs,a=o.a.find(i,function(e){return e==t.OrganizationNodes[n].ID});void 0==a&&(e.PositionIDs.push(t.OrganizationNodes[n].ID),e.PositionNames+=t.OrganizationNodes[n].Name+";")}void 0!=e.PositionNames&&e.PositionNames.length>13&&(e.PositionNames=e.PositionNames.substring(0,13)+"...")}return e},this._ConvertToSend=function(t){var e={};if(void 0!=t&&(e.UserID=t.UserID,e.StaffID=t.StaffID,e.StaffCode=t.StaffCode,e.StaffName=t.StaffName,e.Nick=t.Nick,e.EName=t.EName,e.CompanyID=t.CompanyID,e.DepartmentID=t.DepartmentID,e.DepartmentName=t.DepartmentName,e.PositionIDs=t.PositionIDs,e.PositionNames=t.PositionNames,e.State=t.State,e.WorkPhone=t.WorkPhone,e.WorkMobile=t.WorkMobile,e.WorkEmail=t.WorkEmail,e.PositionalTitle=t.PositionalTitle,e.JoinTime=t.JoinTime,e.UserNum=t.UserNum,void 0!=e.JoinTime?e.JoinTime=s(e.JoinTime).format("YYYY-MM-DD"):e.JoinTime=s().format("YYYY-MM-DD HH:mm:ss"),e.OrganizationNodes=[],void 0!=e.PositionIDs&&e.PositionIDs.length>0))for(var n=0;n<e.PositionIDs.length;n++){var i={};i.ID=e.PositionIDs[n],i.Type=8,i.CompanyID=e.CompanyID,e.OrganizationNodes.push(i)}return e},this._CallError=function(t){var e=this;for(var n in e.EventError)void 0!=e.EventError[n]&&e.EventError[n](t)},this._GetSingleComplete=function(t,e){var n=e;if(n.Employee={},t.Success){var i=t.Data;n.Employee=n._ConvertToModel(i);for(var a in n.EventGetSingleComplete)void 0!=n.EventGetSingleComplete[a]&&n.EventGetSingleComplete[a](t)}else n._CallError(t)},this._SearchComplete=function(t,e){var n=e;if(n.SearchResult=[],t.Success){var i=t.Data;if(n.filter.RowCount=t.TotalCount,void 0!=i&&i.length>0){void 0!=t.TotalCount&&0!=t.TotalCount||(n.filter.RowCount=i.length);for(var a=0;a<i.length;a++){var o=n._ConvertToModel(i[a]);n.SearchResult.push(o)}}for(var s in n.EventSearcComplete)void 0!=n.EventSearcComplete[s]&&n.EventSearcComplete[s](t)}else n._CallError(t)},this._GetNewEmployeeListComplete=function(t,e){var n=e;if(n.NewEmployeeResult=[],t.Success){var i=t.Data;if(void 0!=i&&i.length>0)for(var a=0;a<i.length;a++)if(1==i[a].State){var o=n._ConvertToModel(i[a]);n.NewEmployeeResult.push(o)}for(var s in n.EventNewEmployeeComplete)void 0!=n.EventNewEmployeeComplete[s]&&n.EventNewEmployeeComplete[s](t)}else n._CallError(t)},this._CreateComplete=function(t,e){var n=e;if(t.Success)for(var i in n.EventCreateComplete)void 0!=n.EventCreateComplete[i]&&n.EventCreateComplete[i](t);else n._CallError(t)},this._DimissionComplete=function(t,e){var n=e;if(t.Success)for(var i in n.EventDimissionComplete)void 0!=n.EventDimissionComplete[i]&&n.EventDimissionComplete[i](t);else n._CallError(t)},i.prototype.Add=function(){var t=this,e=this._ConvertToSend(this.CompleteEntity);return void 0==e.StaffCode||""==e.StaffCode?(t._CallError({Success:!1,Error:"新增员工编号不能为空"}),!1):void 0==e.StaffName||""==e.StaffName?(t._CallError({Success:!1,Error:"新增员工姓名不能为空"}),!1):void this._Server.CreateStaff(e,this._CreateComplete,this)},i.prototype.Edit=function(){var t=this,e=this._ConvertToSend(this.CompleteEntity);return void 0==e.StaffCode||""==e.StaffCode?(t._CallError({Success:!1,Error:"编辑员工编号不能为空"}),!1):void 0==e.StaffName||""==e.StaffName?(t._CallError({Success:!1,Error:"编辑员工姓名不能为空"}),!1):void this._Server.UpdateStaff(e,this._CreateComplete,this)},i.prototype.Search=function(){this.filter.RowCount=0;var t={};t.CompanyID=[this.filter.CompanyID],void 0!=this.filter.DepartID&&this.filter.DepartID>0?t.OrganizationNodeId=this.filter.DepartID:t.OrganizationNodeId=this.filter.CompanyID,void 0!=this.filter.State&&this.filter.State>0?t.State=this.filter.State:t.State=void 0,t.KeyWord=this.filter.Keyword,t.startIndex=(this.filter.PageIndex-1)*this.filter.PageSize,t.fetchSize=this.filter.PageSize,this._Server.SearchStaffs(t,this._SearchComplete,this)},i.prototype.Dimission=function(t){var e={};e.StaffID=t,this._Server.Dimission(e,this._DimissionComplete,this)},i.prototype.GetSingle=function(t){var e={};e.StaffID=t,this._Server.GetStaffByID(e,this._GetSingleComplete,this)},i.prototype.GetNewEmployeeList=function(){var t={};t.UserIDs=[0],t.CompanyID=[this.filter.CompanyID],t.startIndex=0,t.fetchSize=50,this._Server.SearchStaffs(t,this._GetNewEmployeeListComplete,this)},i.prototype.HRSendInvitationCode=function(t,e){var n={};n.StaffID=t,n.reSend=!1,this._Server.HRSendInvitationCode(n,function(t){void 0!=e&&e(t)},this)},i.prototype.CheckUserInfoExists=function(t,e){var n={};n.checkType=1,n.context=t,this._Server.CheckUserInfoExists(n,function(t){void 0!=e&&e(t)},this)}}var a=n(4),o=n.n(a),s=n(3);e.a=i},function(t,e,n){"use strict";n.d(e,"a",function(){return _});var i=n(10),a=n.n(i),o=n(143),s=n.n(o),r=n(22),l=n.n(r),c=n(1),u=n.n(c),d=n(2),p=n.n(d),m=n(140),h=n(12),f=n.n(h),v=n(171),g=n(114),y=n(1824),_=function(){function t(){u()(this,t),this.companyPeople=[]}return p()(t,[{key:"init",value:function(){this.getCompanys()}},{key:"getCompanys",value:function(){g.a.companys=[];var t=m.a.getPersonalCompany();return f.a.each(t,function(t){g.a.companys.push({value:t.CompanyID,label:t.CompanyName})}),g.a.companys}},{key:"getPersonalCompanyPositionList",value:function(){function t(t,n){return e.apply(this,arguments)}var e=l()(a.a.mark(function t(e,n){var i,o;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=[],t.next=3,m.a.getPositionList(e,n||"");case 3:return o=t.sent,f.a.each(o,function(t){if(4===t.grouptype){var e=new v.a(s()({},y));e.principalId=""+t.id,e.employeePosition=t.name,i.push(e)}}),t.abrupt("return",i);case 6:case"end":return t.stop()}},t,this)}));return t}()},{key:"getPeopleFromOwnCompany",value:function(){function t(t,n){return e.apply(this,arguments)}var e=l()(a.a.mark(function t(e,n){var i,o=this;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.companyPeople=[],t.next=3,m.a.getPositionList(e,n||"");case 3:return i=t.sent,f.a.each(i,function(t){1===t.grouptype&&o.companyPeople.push(t)}),t.abrupt("return",this.companyPeople);case 6:case"end":return t.stop()}},t,this)}));return t}()}]),t}()},function(t,e,n){"use strict";function i(t,e,n,i,a){var o={};return Object.keys(i).forEach(function(t){o[t]=i[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,i){return i(t,e,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}n.d(e,"a",function(){return C});var a,o,s,r,l,c,u,d,p,m,h=n(341),f=n.n(h),v=n(1),g=n.n(v),y=n(2),_=n.n(y),b=n(940),C=(a=n.i(b.a)(!0,0,32,"string"),o=n.i(b.a)(!0,0,32,"string"),s=n.i(b.a)(!0,0,32,"object"),r=n.i(b.a)(!0,0,32,"number"),l=n.i(b.a)(!0,0,32,"string"),c=n.i(b.a)(!0,0,32,"number"),u=n.i(b.a)(!0,0,32,"number"),d=n.i(b.a)(!0,0,32,"number"),p=n.i(b.a)(!0,0,32,"string"),m=function(){function t(e){g()(this,t),this.$data=e,this.onEdit=!1,this.selected=!1,this.delete=!1,this.isPreview=!0,this.parent=!1,this.children=!1,this.checked=!1,this.deleteShow=!1,this.conflictState=!1}return _()(t,[{key:"itemId",set:function(t){this.$data.itemId=t},get:function(){return this.$data.itemId}},{key:"type",set:function(t){this.$data.type=t},get:function(){return this.$data.type}},{key:"title",set:function(t){this.$data.title=t},get:function(){return this.$data.title}},{key:"startTime",set:function(t){this.$data.startTime=t},get:function(){return this.$data.startTime}},{key:"workCycleValue",set:function(t){this.$data.workCycleValue=t},get:function(){return this.$data.workCycleValue}},{key:"workCycleUnit",set:function(t){this.$data.workCycleUnit=t},get:function(){return this.$data.workCycleUnit}},{key:"baseScore",set:function(t){this.$data.baseScore=t},get:function(){return this.$data.baseScore}},{key:"minimumRatio",set:function(t){this.$data.minimumRatio=t},get:function(){return this.$data.minimumRatio}},{key:"maximumRatio",set:function(t){this.$data.maximumRatio=t},get:function(){return this.$data.maximumRatio}},{key:"units",set:function(t){this.$data.units=t},get:function(){return this.$data.units}},{key:"state",set:function(t){this.$data.state=t},get:function(){return this.$data.state}},{key:"principalId",set:function(t){this.$data.principalId=t},get:function(){return this.$data.principalId}},{key:"ownerId",set:function(t){this.$data.ownerId=t},get:function(){return this.$data.ownerId}},{key:"sourceItemId",set:function(t){this.$data.sourceItemId=t},get:function(){return this.$data.sourceItemId}},{key:"sourceVersionId",set:function(t){this.$data.sourceVersionId=t},get:function(){return this.$data.sourceVersionId}},{key:"labels",set:function(t){this.$data.labels=t},get:function(){return this.$data.labels}},{key:"tabType",set:function(t){this.$data.tabType=t},get:function(){return this.$data.tabType}},{key:"mark",set:function(t){this.$data.mark=t},get:function(){return this.$data.mark}},{key:"committedPerson",set:function(t){this.$data.commitedPerson=t},get:function(){return this.$data.commitedPerson}},{key:"reportChain",set:function(t){this.$data.reportChain=t},get:function(){return this.$data.reportChain}},{key:"extendedFields",set:function(t){this.$data.extendedFields=t},get:function(){return this.$data.extendedFields}},{key:"externalLinks",set:function(t){this.$data.externalLinks=t},get:function(){return this.$data.externalLinks}},{key:"templates",set:function(t){this.$data.templates=t},get:function(){return this.$data.templates}}]),t}(),i(m.prototype,"type",[a],f()(m.prototype,"type"),m.prototype),i(m.prototype,"title",[o],f()(m.prototype,"title"),m.prototype),i(m.prototype,"startTime",[s],f()(m.prototype,"startTime"),m.prototype),i(m.prototype,"workCycleValue",[r],f()(m.prototype,"workCycleValue"),m.prototype),i(m.prototype,"workCycleUnit",[l],f()(m.prototype,"workCycleUnit"),m.prototype),i(m.prototype,"baseScore",[c],f()(m.prototype,"baseScore"),m.prototype),i(m.prototype,"minimumRatio",[u],f()(m.prototype,"minimumRatio"),m.prototype),i(m.prototype,"maximumRatio",[d],f()(m.prototype,"maximumRatio"),m.prototype),i(m.prototype,"units",[p],f()(m.prototype,"units"),m.prototype),m)},function(t,e,n){"use strict";n.d(e,"a",function(){return rt});var i=n(15),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c={ID:1,CompanyID:1,Name:"XX公司部门",EnName:"",Type:47,PID:0,IconKey:"",EmpolyeeCount:0,Childs:[]},u={ID:2,CompanyID:1,Name:"董事长",EnName:"",Type:4,PID:1,IconKey:"",EmpolyeeCount:0,Childs:[]},d={ID:3,CompanyID:1,Name:"总经理",EnName:"",Type:4,PID:1,IconKey:"",EmpolyeeCount:0,Childs:[]},p={ID:4,CompanyID:1,Name:"信息部",EnName:"",Type:2,PID:1,IconKey:"",EmpolyeeCount:0,Childs:[]},m={ID:5,CompanyID:1,Name:"部门经理",EnName:"",Type:4,PID:4,IconKey:"",EmpolyeeCount:0,Childs:[]},h={ID:6,CompanyID:1,Name:"3D部",EnName:"",Type:2,PID:4,IconKey:"",EmpolyeeCount:0,Childs:[]},f={ID:7,CompanyID:1,Name:"3D美工",EnName:"",Type:4,PID:6,IconKey:"",EmpolyeeCount:0,Childs:[]},v={ID:8,CompanyID:1,Name:"3D程序员",EnName:"",Type:4,PID:6,IconKey:"",EmpolyeeCount:0,Childs:[]},g={ID:9,CompanyID:1,Name:"程序部",EnName:"",Type:2,PID:4,IconKey:"",EmpolyeeCount:0,Childs:[]},y={ID:10,CompanyID:1,Name:"JAVA程序员",EnName:"",Type:4,PID:9,IconKey:"",EmpolyeeCount:0,Childs:[]},_={ID:11,CompanyID:1,Name:".Net程序员",EnName:"",Type:4,PID:9,IconKey:"",EmpolyeeCount:0,Childs:[]},b={ID:12,CompanyID:1,Name:"采购部",EnName:"",Type:2,PID:1,IconKey:"",EmpolyeeCount:0,Childs:[]},C={ID:13,CompanyID:1,Name:"部门经理",EnName:"",Type:4,PID:12,IconKey:"",EmpolyeeCount:0,Childs:[]},k={ID:14,CompanyID:1,Name:"香化部",EnName:"",Type:2,PID:12,IconKey:"",EmpolyeeCount:0,Childs:[]},I={ID:15,CompanyID:1,Name:"香化经理",EnName:"",Type:4,PID:14,IconKey:"",EmpolyeeCount:0,Childs:[]},D={ID:16,CompanyID:1,Name:"精品部",EnName:"",Type:2,PID:12,IconKey:"",EmpolyeeCount:0,Childs:[]},S={ID:17,CompanyID:1,Name:"精品经理",EnName:"",Type:4,PID:16,IconKey:"",EmpolyeeCount:0,Childs:[]},w={ID:18,CompanyID:1,Name:"人事部",EnName:"",Type:2,PID:1,IconKey:"",EmpolyeeCount:0,Childs:[]},x={ID:19,CompanyID:1,Name:"部门经理",EnName:"",Type:4,PID:18,IconKey:"",EmpolyeeCount:0,Childs:[]},E={ID:20,CompanyID:2,Name:"XX公司部门02",EnName:"",Type:47,PID:0,IconKey:"",EmpolyeeCount:0,Childs:[]},T={ID:21,CompanyID:2,Name:"董事长02",EnName:"",Type:4,PID:20,IconKey:"",EmpolyeeCount:0,Childs:[]},N={ID:22,CompanyID:2,Name:"总经理02",EnName:"",Type:4,PID:20,IconKey:"",EmpolyeeCount:0,Childs:[]},P={ID:23,CompanyID:2,Name:"信息部02",EnName:"",Type:2,PID:20,IconKey:"",EmpolyeeCount:0,Childs:[]},M={ID:24,CompanyID:2,Name:"部门经理02",EnName:"",Type:4,PID:23,IconKey:"",EmpolyeeCount:0,Childs:[]},$={ID:25,CompanyID:2,Name:"3D部02",EnName:"",Type:2,PID:23,IconKey:"",EmpolyeeCount:0,Childs:[]},U={ID:26,CompanyID:2,Name:"3D美工02",EnName:"",Type:4,PID:25,IconKey:"",EmpolyeeCount:0,Childs:[]},L={ID:27,CompanyID:2,Name:"3D程序员02",EnName:"",Type:4,PID:25,IconKey:"",EmpolyeeCount:0,Childs:[]},R={ID:28,CompanyID:2,Name:"程序部02",EnName:"",Type:2,PID:23,IconKey:"",EmpolyeeCount:0,Childs:[]},A={ID:29,CompanyID:2,Name:"JAVA程序员02",EnName:"",Type:4,PID:28,IconKey:"",EmpolyeeCount:0,Childs:[]},F={ID:30,CompanyID:2,Name:".Net程序员02",EnName:"",Type:4,PID:28,IconKey:"",EmpolyeeCount:0,Childs:[]},B={ID:31,CompanyID:2,Name:"采购部02",EnName:"",Type:2,PID:20,IconKey:"",EmpolyeeCount:0,Childs:[]},O={ID:32,CompanyID:2,Name:"部门经理02",EnName:"",Type:4,PID:31,IconKey:"",EmpolyeeCount:0,Childs:[]},V={ID:33,CompanyID:2,Name:"香化部02",EnName:"",Type:2,PID:31,IconKey:"",EmpolyeeCount:0,Childs:[]},j={ID:34,CompanyID:2,Name:"香化经理02",EnName:"",Type:4,PID:33,IconKey:"",EmpolyeeCount:0,Childs:[]},z={ID:35,CompanyID:2,Name:"精品部02",EnName:"",Type:2,PID:31,IconKey:"",EmpolyeeCount:0,Childs:[]},G={ID:36,CompanyID:2,Name:"精品经理02",EnName:"",Type:4,PID:35,IconKey:"",EmpolyeeCount:0,Childs:[]},q={ID:37,CompanyID:2,Name:"人事部02",EnName:"",Type:2,PID:20,IconKey:"",EmpolyeeCount:0,Childs:[]},H={ID:38,CompanyID:2,Name:"部门经理02",EnName:"",Type:4,PID:37,IconKey:"",EmpolyeeCount:0,Childs:[]},K={ID:100,CompanyID:1,Name:"角色01_01",EnName:"",Type:8,PID:1,IconKey:"",EmpolyeeCount:0,Childs:[]},W={ID:101,CompanyID:1,Name:"角色01_02",EnName:"",Type:8,PID:1,IconKey:"",EmpolyeeCount:0,Childs:[]},Y={ID:102,CompanyID:1,Name:"角色01_03",EnName:"",Type:8,PID:1,IconKey:"",EmpolyeeCount:0,Childs:[]},J={ID:103,CompanyID:1,Name:"角色01_04",EnName:"",Type:8,PID:1,IconKey:"",EmpolyeeCount:0,Childs:[]},Q={ID:104,CompanyID:1,Name:"角色01_05",EnName:"",Type:8,PID:1,IconKey:"",EmpolyeeCount:0,Childs:[]},Z={ID:105,CompanyID:2,Name:"角色02_01",EnName:"",Type:8,PID:20,IconKey:"",EmpolyeeCount:0,Childs:[]},X={ID:106,CompanyID:2,Name:"角色02_02",EnName:"",Type:8,PID:20,IconKey:"",EmpolyeeCount:0,Childs:[]},tt={ID:107,CompanyID:2,Name:"角色02_03",EnName:"",Type:8,PID:20,IconKey:"",EmpolyeeCount:0,Childs:[]},et={ID:108,CompanyID:2,Name:"角色02_04",EnName:"",Type:8,PID:20,IconKey:"",EmpolyeeCount:0,Childs:[]},nt={ID:109,CompanyID:2,Name:"角色02_05",EnName:"",Type:8,PID:20,IconKey:"",EmpolyeeCount:0,Childs:[]},it={ID:38,Type:16,PID:109},at=[];at.push(it);var ot=[];c.Childs.push(u),c.Childs.push(d),c.Childs.push(p),c.Childs.push(b),c.Childs.push(w),p.Childs.push(m),p.Childs.push(h),p.Childs.push(g),h.Childs.push(f),h.Childs.push(v),g.Childs.push(y),g.Childs.push(_),b.Childs.push(C),b.Childs.push(k),b.Childs.push(D),k.Childs.push(I),D.Childs.push(S),w.Childs.push(x),E.Childs.push(T),E.Childs.push(N),E.Childs.push(P),E.Childs.push(B),E.Childs.push(q),P.Childs.push(M),P.Childs.push($),P.Childs.push(R),$.Childs.push(U),$.Childs.push(L),R.Childs.push(A),R.Childs.push(F),B.Childs.push(O),B.Childs.push(V),B.Childs.push(z),V.Childs.push(j),z.Childs.push(G),q.Childs.push(H);var st=[];st.push(c),st.push(u),st.push(d),st.push(p),st.push(m),st.push(h),st.push(f),st.push(v),st.push(g),st.push(y),st.push(_),st.push(b),st.push(C),st.push(k),st.push(I),st.push(D),st.push(S),st.push(w),st.push(x),st.push(E),st.push(T),st.push(N),st.push(P),st.push(M),st.push($),st.push(U),st.push(L),st.push(R),st.push(A),st.push(F),st.push(B),st.push(O),st.push(V),st.push(j),st.push(z),st.push(G),st.push(q),st.push(H),st.push(K),st.push(W),st.push(Y),st.push(J),st.push(Q),st.push(Z),st.push(X),st.push(tt),st.push(et),st.push(nt);var rt=function(){function t(){s()(this,t)}return l()(t,[{key:"getmaxid",value:function(){for(var t=0,e=0;e<st.length;e++)st[e].ID>t&&(t=st[e].ID);return t+1}},{key:"getitem",value:function(t){for(var e=void 0,n=0;n<st.length;n++)st[n].ID==t&&(e=st[n]);return e}},{key:"getchildnodes",value:function(t){var e=[];if(void 0!=t.Childs&&t.Childs.length>0)for(var n=0;n<t.Childs.length;n++){var i=t.Childs[n];e.push(i);var a=this.getchildnodes(i);if(a.length>0)for(var o=0;o<a.length;o++)e.push(a[o])}return e}},{key:"fillChilds",value:function(t,e){var n=this.getitem(t);n.Childs.length>0&&n.Childs.splice(0,n.Childs.length);for(var i=0;i<st.length;i++){var a=st[i];a.PID==n.ID&&(void 0==e||e<=0?(n.Childs.push(a),this.fillChilds(a.ID,e)):(a.Type&e)>0&&(n.Childs.push(a),this.fillChilds(a.ID,e)))}}},{key:"clearAllChilds",value:function(t){var e=this.getitem(t);e.Childs.length>0&&e.Childs.splice(0,e.Childs.length);for(var n=0;n<st.length;n++){var i=st[n];i.PID==e.ID&&this.clearAllChilds(i.ID)}}},{key:"GetNodes",value:function(t,e,n,i){if(t<=0)return new a.a(function(t,e){t({Success:!1,Error:"请选择公司"})});var o=[];if(e<=0||void 0==e)for(var s=0;s<st.length;s++){var r=st[s];r.CompanyID==t&&0==r.PID&&(n<=0||void 0==n?o.push(r):(r.Type&n)>0&&o.push(r))}else{var l=this.getitem(e);o.push(l)}for(var s=0;s<o.length;s++)this.clearAllChilds(o[s].ID),i?this.fillChilds(o[s].ID,n):this.clearAllChilds(o[s].ID);return new a.a(function(t,e){t({Success:!0,Error:"",Data:o})})}},{key:"SaveNode",value:function(t){if(2==t.Type){var e=this.getitem(t.PID);if(4==e.Type)return new a.a(function(t,e){t({Success:!1,Error:"职位下不能添加部门"})})}if(0==t.ID){var n=this.getmaxid();if(t.ID=n,st.push(t),0!=t.PID)for(var i=0;i<st.length;i++)st[i].ID==t.PID&&st[i].Childs.push(t);return new a.a(function(e,n){e({Success:!0,Error:"添加成功",Data:t})})}if(0==t.PID)return new a.a(function(t,e){t({Success:!1,Error:"最上级部门不允许修改"})});var o=this.getitem(t.ID);if(void 0==o)return new a.a(function(e,n){e({Success:!1,Error:"未找到结点ID＝"+t.ID})});if(o.Name=t.Name,o.EnName=t.EnName,o.PID!=t.PID){for(var e=this.getitem(o.PID),i=0;i<e.Childs.length;i++)if(e.Childs[i].ID==t.ID){e.Childs.splice(i,1);break}e=this.getitem(t.PID),e.Childs.push(o),o.PID=t.PID}return new a.a(function(t,e){t({Success:!0,Error:"更新成功",Data:o})})}},{key:"SaveRolePosition",value:function(t,e,n,i){if(i){var o=this.getitem(PosIds);if(void 0==o||8!=o.Type)return new a.a(function(e,n){e({Success:!1,Error:"未找到结点角色节点ID＝"+t})});if(void 0==(o=this.getitem(e))||4!=o.Type)return new a.a(function(t,n){t({Success:!1,Error:"未找到结点职位节点ID＝"+e})});var o={ID:e,Type:16,PID:t};return at.push(o),new a.a(function(t,e){t({Success:!0,Error:"添加成功"})})}for(var s=0;s<at.length;s++)if(at[s].ID==PosIds){at.splice(s,1);break}return new a.a(function(t,e){t({Success:!0,Error:"移除成功"})})}},{key:"GetRolePositions",value:function(t,e){for(var n=[],i=0;i<at.length;i++)if(at[i].PID==t){var o=this.getitem(at[i].ID);void 0!=o&&n.push(o)}return new a.a(function(t,e){t({Success:!0,Data:n})})}},{key:"RenameNode",value:function(t){var e=this.getitem(t.ID);return void 0==e?new a.a(function(e,n){e({Success:!1,Error:"未找到结点ID＝"+t.ID})}):(e.Name=t.Name,e.EnName=t.EnName,new a.a(function(t,e){t({Success:!0,Error:"更新成功"})}))}},{key:"DeleteNode",value:function(t,e){for(var n=0;n<st.length;n++)if(st[n].PID==t)return new a.a(function(t,e){t({Success:!1,Error:"对应结点下存在子节点，不允许删除"})});for(var n=0;n<st.length;n++)if(st[n].ID==t){st.splice(n,1);for(var i=this.getitem(st[n].PID),n=0;n<i.Childs.length;n++)if(i.Childs[n].ID==t){i.Childs.splice(n,1);break}for(var n=0;n<at.length;n++)if(at[n].ID==t){at.splice(n,1);break}return new a.a(function(t,e){t({Success:!0,Error:""})})}return new a.a(function(e,n){e({Success:!1,Error:"未找到结点ID＝"+t})})}},{key:"SearchNodes",value:function(t,e,n,i){var o=[];if(void 0==n&&(n=0),void 0==i&&(i=0),0==t)return new a.a(function(t,e){t({Success:!1,Error:"公司编号不能为0"})});var s;if(0==n){for(var r=0;r<st.length;r++)if(t==st[r].CompanyID&&0==st[r].PID){s=st[r];break}}else s=this.getitem(n);if(void 0==s)return new a.a(function(t,e){t({Success:!1,Error:"未能找到NodeID="+n})});this.clearAllChilds(s.ID),this.fillChilds(s.ID,i);var l=this.getchildnodes(s);o.push(s);for(var r=0;r<l.length;r++)o.push(l[r]);for(var c=[],r=0;r<o.length;r++){var u=o[r],d=!1;void 0!=e&&""!=e?u.Name.indexOf(e)>=0&&(d=!0):d=!0,d&&(i<=0||void 0==i?c.push(u):(i&u.Type)>0&&c.push(u))}return new a.a(function(t,e){t({Success:!0,Error:"",Data:c})})}},{key:"SetPositionPermissions",value:function(t,e,n){for(var i={ID:e,CompanyID:t,Permiss:n},o=!1,s=0;s<ot.length;s++){var r=ot[s];if(r.ID==e&&r.CompanyID==t){r.Permiss=n,o=!0;break}}return o||ot.push(i),new a.a(function(t,e){t({Success:!0})})}},{key:"GetPositionPermissions",value:function(t,e){for(var n=0,i=0;i<ot.length;i++){var o=ot[i];if(o.ID==e&&o.CompanyID==t){n=o.Permiss,!0;break}}return new a.a(function(t,e){t({Success:!0,Data:n})})}},{key:"CopyCompany",value:function(t,e){for(var n=[],i=0;i<st.length;i++)if(st[i].CompanyID==t){var o=this.cloneObject(st[i]);o.CompanyID=e,n.push(o)}return new a.a(function(t,e){t({Success:!0,Data:n})})}},{key:"cloneObject",value:function(t){if("string"==typeof t||"number"==typeof t||"boolean"==typeof t||void 0===t||null===t)return t;if(Array.isArray(t)){for(var e=[],n=0;n<t.length;n++)e.push(this.cloneObject(t[n]));return e}var i={};for(var a in t)t.hasOwnProperty(a)&&(i[a]=this.cloneObject(t[a]));return i}}]),t}()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){n(1321);var i=n(0)(n(778),n(1664),null,null);t.exports=i.exports},function(t,e,n){n(1345);var i=n(0)(n(783),n(1694),"data-v-33041520",null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(794),n(1794),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(802),n(1688),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(805),n(1772),null,null);t.exports=i.exports},function(t,e,n){n(1333);var i=n(0)(n(825),n(1678),null,null);t.exports=i.exports},,function(t,e,n){"use strict";var i=n(35),a=n(547),o=n(6),s=n(63);i.default.use(a.a);var r=new a.a;r.beforeEach(function(t,e,n){"/login"===t.patch&&o.a.removeItem(s.a.UserKey),null===o.a.getUser()&&"/login"!=t.path?n({path:"/login"}):n()})},,,,,,,function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(131),l=function(){function t(){a()(this,t)}return s()(t,null,[{key:"budgetToEffect",value:function(t,e){return r.a.getApiHost({resource:"https://resource-api-staging.ptit365.com",work_manager:"https://work-manager-api-server-staging.ptit365.com",principal:"https://principal-version-api-staging.ptit365.com",batchSys:"https://alydnh-staging-api.ptit365.com"}.batchSys,"budget").post("",t,e).then(function(t){if(t.meta.success)return t.data;throw new Error(t.meta.message)})}},{key:"getEffecteBudget",value:function(t,e){return r.a.getApiHost({resource:"https://resource-api-staging.ptit365.com",work_manager:"https://work-manager-api-server-staging.ptit365.com",principal:"https://principal-version-api-staging.ptit365.com",batchSys:"https://alydnh-staging-api.ptit365.com"}.batchSys,"budget").get("",t,e).then(function(t){if(t.meta.success)return t.data;throw new Error(t.meta.message)})}}]),t}()},function(t,e,n){"use strict";var i=n(78),a=n.n(i),o=n(19),s=n.n(o),r=n(1),l=n.n(r),c=n(2),u=n.n(c),d=n(30),p=n(155),m=n(104),h=(n.n(m),n(292)),f=function(){function t(){l()(this,t),this._uid="",this._title="",this._reporter="",this._startTime="",this._endTime="",this._state="",this._content=[new p.a]}return u()(t,[{key:"toJsonString",value:function(){var t=s()(this);return a()(this).filter(function(t){return"_"===t[0]}).forEach(function(e){t=t.replace(e,e.substring(1))}),t}},{key:"state",get:function(){return this._state},set:function(t){this._state=t}},{key:"content",get:function(){return this._content},set:function(t){this._content=t}},{key:"uid",get:function(){return this._uid},set:function(t){this._uid=t}},{key:"title",get:function(){return this._title},set:function(t){this._title=t}},{key:"reporter",get:function(){return this._reporter},set:function(t){this._reporter=t}},{key:"startTime",get:function(){return this._startTime},set:function(t){this._startTime=t}},{key:"endTime",get:function(){return this._endTime},set:function(t){this._endTime=t}}]),t}();d.a([n.i(m.JsonProperty)("uid"),d.b("design:type",String)],f.prototype,"_uid",void 0),d.a([n.i(m.JsonProperty)("title"),d.b("design:type",String)],f.prototype,"_title",void 0),d.a([n.i(m.JsonProperty)("reporter"),d.b("design:type",String)],f.prototype,"_reporter",void 0),d.a([n.i(m.JsonProperty)("startTime"),d.b("design:type",String)],f.prototype,"_startTime",void 0),d.a([n.i(m.JsonProperty)("endTime"),d.b("design:type",String)],f.prototype,"_endTime",void 0),d.a([n.i(m.JsonProperty)("state"),d.b("design:type",String)],f.prototype,"_state",void 0),d.a([n.i(m.JsonProperty)({name:"content",type:p.a}),d.b("design:type",Array)],f.prototype,"_content",void 0),d.a([n.i(h.a)(!0,0,30,"string"),d.b("design:type",String),d.b("design:paramtypes",[String])],f.prototype,"title",null),d.a([n.i(h.a)(!0,0,30,"object"),d.b("design:type",String),d.b("design:paramtypes",[String])],f.prototype,"startTime",null),d.a([n.i(h.a)(!0,0,30,"object"),d.b("design:type",String),d.b("design:paramtypes",[String])],f.prototype,"endTime",null),f=d.a([n.i(m.Serializable)()],f),e.a=f},function(t,e,n){"use strict";function i(t,e,n,i){return function(a,o,s){var r=s.set;s.set=function(a){if(r.call(this,a),t&&!a)throw Error("此内容为必填项！");if("string"==typeof a&&e&&a.length<e&&"string"===i)throw Error("此内容不能少于"+e+"个字符!");if("string"==typeof a&&n&&a.length>n&&"string"===i)throw Error("此内容不能超过"+n+"个字符!");if("string"==typeof a&&n&&a<e&&"number"===i)throw Error("此内容不能超过"+e+"!");if("string"==typeof a&&n&&a>n&&"number"===i)throw Error("此内容不能超过"+n+"!");if("string"==typeof a&&"int"===i){if(!/^\d+$/.test(a))throw Error("此内容必须为整数!")}if("string"==typeof a&&"float"===i){if(!/^[1-9]\d*|0$/.test(a))throw Error("此内容必须为正数!")}if("string"==typeof a&&"float"===i){if(!/^([1-9]\d*|0)(\.\d{1,2})?$/.test(a))throw Error("此内容必须为两位小数!")}}}}e.a=i},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(1),a=n.n(i),o=function t(e,n){a()(this,t),this.chainId=e,this.chainValue=n}},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(8),p=n.n(d),m=n(300),h=function(t){function e(){return s()(this,e),u()(this,(e.__proto__||a()(e)).apply(this,arguments))}return p()(e,t),l()(e,null,[{key:"initialize",value:function(t){return new e(t)}}]),e}(m.a)},function(t,e,n){"use strict";var i=["DELETED","DEPRECATED"];e.a=i},function(t,e,n){"use strict";var i=[{name:"草稿",status:"draft"},{name:"已生效",status:"effective"}];e.a=i},function(t,e,n){"use strict";var i=n(1544),a=n.n(i),o=n(1545),s=n.n(o),r=n(1541),l=n.n(r),c=n(1540),u=n.n(c),d=n(1543),p=n.n(d),m=n(1542),h=n.n(m),f=[{path:"/task/task-kanban",name:"TaskKanban",component:a.a},{path:"/task/task-review",name:"TaskReview",component:s.a},{path:"/task/root-task-list",name:"RootTaskList",component:l.a},{path:"/task/root-task-detail/:taskId",name:"RootTaskDetail",component:u.a},{path:"/task/task-document-list",name:"TaskDocumentList",component:p.a},{path:"/task/task-document-detail/:uid=:taskId",name:"TaskDocumentDetail",component:h.a}];e.a=f},function(t,e,n){"use strict";n.d(e,"a",function(){return B});var i=n(339),a=n.n(i),o=n(19),s=n.n(o),r=n(996),l=n.n(r),c=n(338),u=n.n(c),d=n(40),p=n.n(d),m=n(10),h=n.n(m),f=n(15),v=n.n(f),g=n(1),y=n.n(g),_=n(2),b=n.n(_),C=n(30),k=n(12),I=n.n(k),D=n(3),S=n.n(D),w=n(107),x=n(648),E=n(647),T=n(646),N=n(630),P=n(621),M=n(295),$=n(198),U=n(294),L=n(156),R=n(85),A=n(622),F=n(633),B=function(){function t(){var e=this;y()(this,t),this.taskListInitialize=function(t){return C.c(e,void 0,void 0,h.a.mark(function t(){var e;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.resolve([]);case 2:return e=t.sent,this.taskListOriginal=e,t.abrupt("return",this.taskListProcess(e));case 5:case"end":return t.stop()}},t,this)}))},this.taskListProcess=function(t){return C.c(e,void 0,void 0,h.a.mark(function e(){var n,i,a,o=this;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],i=I.a.map(t,function(t){return C.c(o,void 0,void 0,h.a.mark(function e(){var i;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.taskListItemInitialize(t);case 2:return i=e.sent,n.push(i),e.abrupt("return",i);case 5:case"end":return e.stop()}},e,this)}))}),e.next=4,v.a.all(i);case 4:this.taskList=n,a=this.taskListGrouping(n),this.taskListProcessed=a,this.taskListInitializeSelect(this.taskListProcessed);case 8:case"end":return e.stop()}},e,this)}))},this.taskListItemInitialize=function(t){return C.c(e,void 0,void 0,h.a.mark(function e(){var n,i,a,o,s,r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.parentId,i=void 0,a=void 0,n?(i=t.parentsTaskIds.split(",")[0],a=w.a.taskDetailGet(n)):(i=t.taskId,a=v.a.resolve({taskName:"",status:""})),o=w.a.taskDetailGet(i),e.next=7,v.a.all([a,o]);case 7:return e.next=9,a;case 9:return s=e.sent,e.next=12,o;case 12:return r=e.sent,e.abrupt("return",x.a.initialize(p()({},t,{parentTaskId:n,rootTaskId:i,parentTaskName:s.taskName,parentTaskStatus:s.status,rootTaskName:r.taskName})));case 14:case"end":return e.stop()}},e,this)}))},this.taskListGrouping=function(t){var n=I.a.map(e.taskStatusConfig,function(t){return E.a.initialize(t)});return I.a.map(t,function(t){var e=!0,i=!1,a=void 0;try{for(var o,s=u()(n);!(e=(o=s.next()).done);e=!0){var r=o.value;t.status===r.status&&r.list.push(t)}}catch(t){i=!0,a=t}finally{try{!e&&s.return&&s.return()}finally{if(i)throw a}}}),e.taskListSorting(n)},this.taskListSorting=function(t){return I.a.map(t,function(t){var e=E.a.initialize(t),n=t.list,i=[],a=[];return I.a.map(n,function(t){if(t.parentTaskId)a.push(t);else{var e=E.a.initialize({name:t.rootTaskId,status:""});e.list.push(t),i.push(e)}}),I.a.map(a,function(t){var e=I.a.find(i,function(e){return!!e.list.length&&e.list[0].rootTaskId===t.rootTaskId});if(e)e.list.push(t);else{var n=E.a.initialize({name:t.rootTaskId,status:""});n.list.push(t),i.push(n)}}),I.a.each(i,function(t){I.a.each(t.list,function(){for(var e=0;e<t.length;e++)for(var n=e+1;n<t.length;n++)if(t[e].parentTaskId===t[n].taskId){var i=t[e];t[e]=t[n],t[n]=i}})}),e.list=i,e})},this.changeShowList=function(t){e.isShowList=t},this.taskListInitializeSelect=function(t){var n=void 0;I.a.some(t,function(t){return I.a.some(t.list,function(t){return I.a.some(t.list,function(t){return!!t&&(n=t,!0)})})}),n?e.taskListItemSelectAction(n):e.taskDetail=null},this.taskListItemSelect=function(t){I.a.each(e.taskList,function(t){t.gsIsSelect=!1}),e.taskListItemSelectAction(t)},this.taskListItemSelectById=function(t){I.a.each(e.taskList,function(e){e.gsTaskId===t?e.gsIsSelect=!0:e.gsIsSelect=!1})},this.taskListItemSelectAction=function(t){t.gsIsSelect=!0,e.taskDetailInitializeByItem(t)},this.taskDetailInitializeByItem=function(t){return C.c(e,void 0,void 0,h.a.mark(function e(){var n,i,a;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,!t.parentTaskId){e.next=6;break}return e.next=4,w.a.taskDetailGet(t.parentTaskId);case 4:i=e.sent,n.parentTaskStatus=i.status;case 6:return e.next=8,w.a.taskDetailGet(n.taskId);case 8:a=e.sent,this.taskDetailInitialize(n,a);case 10:case"end":return e.stop()}},e,this)}))},this.taskDetailInitializeById=function(t){return C.c(e,void 0,void 0,h.a.mark(function e(){var n,i;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.taskDetailGet(t);case 2:return n=e.sent,e.next=5,this.taskListItemInitialize(n);case 5:i=e.sent,this.taskListItemSelectById(t),this.taskDetailInitialize(i,n);case 8:case"end":return e.stop()}},e,this)}))},this.taskDetailInitialize=function(t,n){var i=T.a.initialize(p()({head:t},n));return e.taskDetail=i,e.taskDetailUserStaff=R.a.userKey,e.initializeTaskOperationButton(),e.taskDetailRelationalUsersInitialize(),I.a.map(i.childList,function(t){e.initializeChildTaskOperationButton(t)}),i},this.taskDetailRelationalUsersInitialize=function(){return C.c(e,void 0,void 0,h.a.mark(function t(){var e,n=this;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=I.a.find(R.a.organizationTask.companys,function(t){return l()(t.id)===l()(n.taskDetail.companyId)}).employees,this.taskDetailRelationalUsers=e,this.taskDetailUsersInitailize();case 3:case"end":return t.stop()}},t,this)}))},this.taskDetailUsersInitailize=function(){if(e.taskDetail){var t=I.a.find(e.taskDetailRelationalUsers,function(t){return""+t.id==""+e.taskDetail.creator}).name,n=I.a.find(e.taskDetailRelationalUsers,function(t){return""+t.id==""+e.taskDetail.responsible}),i=n?n.name:"",a=I.a.map(e.taskDetail.gsResponsibleCandidate,function(t){return I.a.find(e.taskDetailRelationalUsers,function(e){return""+e.id===t}).name}).join(","),o=I.a.find(e.taskDetailRelationalUsers,function(t){return""+t.id==""+e.taskDetail.confirmor}),s=o?o.name:"",r=I.a.map(e.taskDetail.gsConfirmablePerson,function(t){return I.a.find(e.taskDetailRelationalUsers,function(e){return""+e.id===t}).name}).join(",");e.taskDetailUsers={creator:t,responsible:i,responsibleCandidate:a,confirmor:s,confirmablePerson:r}}},this.initializeTaskOnEdit=function(t){var n=L.a.initialize(t);e.taskOnEdit=n},this.initializeTaskOperationButton=function(){e.taskOperationButton=[];var t=I.a.map(N.a,function(t){return p()({},t,{render:e.checkIsSameStatusWithDetail(t.status)&&e.checkNecessary(t.necessary),click:t.click?e[t.click]:function(){return!0},beforeOperation:t.beforeOperation?e[t.beforeOperation]:""})});e.taskOperationButton=t},this.checkIsSameStatusWithDetail=function(t,n){return t===(n||e.taskDetail).status},this.checkNecessary=function(t,n){return I.a.every(t,function(t){return e[t](n)})},this.checkIsDetailCreator=function(t){return""+(t||e.taskDetail).creator==""+e.taskDetailUserStaff.id},this.checkIsDetailRootTask=function(t){return!(t||e.taskDetail).parentId},this.checkIsNotDetailRootTask=function(t){return!!(t||e.taskDetail).parentId},this.checkIsDetailParentTaskReceived=function(t){var n=t||e.taskDetail;return n.head?!n.head.parentTaskStatus||"RECEIVED"===n.head.parentTaskStatus:"RECEIVED"===e.taskDetail.status},this.checkTaskNoDocument=function(t){return!(t||e.taskDetail).documentId},this.checkIsOneOfResponsibleCandidate=function(t){return(t||e.taskDetail).gsResponsibleCandidate.includes(""+e.taskDetailUserStaff.id)},this.checkIsResponsible=function(t){return""+(t||e.taskDetail).responsible==""+e.taskDetailUserStaff.id},this.checkNoChildTaskCreatedBySelfExcludeSpecial=function(t){var n=t||e.taskDetail;return!I.a.some(n.childList,function(t){return""+t.creator==""+e.taskDetailUserStaff.id&&!M.a.includes(t.status)})},this.checkAllChildTaskConfirmed=function(t){var n=t||e.taskDetail;return I.a.every(n.childList,function(t){return"CONFIRMED"===t.status||"COMPLETED"===t.status&&t.confirmablePerson.includes(""+e.taskDetailUserStaff.id)})},this.checkModulusNotEmpty=function(t){return!!(t||e.taskDetail).modulus},this.checkIsOneOfConfirmablePerson=function(t){return(t||e.taskDetail).gsConfirmablePerson.includes(""+e.taskDetailUserStaff.id)},this.onModifyTask=function(){return e.onEditTask(I.a.cloneDeep(e.taskDetail)),v.a.resolve(!1)},this.onOperateTask=function(t,n,i){return C.c(e,void 0,void 0,h.a.mark(function e(){var a,o;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=i||this.taskDetail,e.next=3,w.a.taskOperationPut(a.taskId,this.taskDetailUserStaff.id,{operation:t});case 3:return o=e.sent,this[n](i),e.abrupt("return",o);case 6:case"end":return e.stop()}},e,this)}))},this.onDeleteTask=function(t){var n=t||e.taskDetail,i=I.a.find(e.taskList,function(t){return t.taskId===n.taskId});e.taskList.splice(e.taskList.indexOf(i),1),e.taskListProcessed=e.taskListGrouping(e.taskList),e.taskListInitializeSelect(e.taskListProcessed),e.taskDetail=null},this.onOperationTask=function(t){return C.c(e,void 0,void 0,h.a.mark(function e(){var n,i,a,o,s,r=this;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t||this.taskDetail,e.next=3,w.a.taskDetailGet(n.taskId);case 3:return i=e.sent,e.next=6,this.taskListItemInitialize(i);case 6:return a=e.sent,o=I.a.find(this.taskList,function(t){return t.taskId===n.taskId}),this.taskList.splice(this.taskList.indexOf(o),1,a),s=I.a.map(a.childList,function(t){return C.c(r,void 0,void 0,h.a.mark(function e(){var n,i;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.taskListItemInitialize(t);case 2:return n=e.sent,i=I.a.find(this.taskList,function(t){return t.taskId===n.taskId}),this.taskList.splice(this.taskList.indexOf(i),1,n),e.abrupt("return",n);case 6:case"end":return e.stop()}},e,this)}))}),e.next=12,v.a.all(s);case 12:this.taskListProcessed=this.taskListGrouping(this.taskList),this.taskListItemSelect(t?this.taskDetail.head:a);case 14:case"end":return e.stop()}},e,this)}))},this.onEditTask=function(t){e.initializeTaskOnEdit(t||{companyId:R.a.userKey.companys[0].id}),e.isEditTask=!0,e.searchUsers()},this.onConfirmTask=function(){return C.c(e,void 0,void 0,h.a.mark(function t(){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.taskDetail.parentId?this.onOperationTask():this.taskListInitialize();case 1:case"end":return t.stop()}},t,this)}))},this.onCreateDocument=function(){return C.c(e,void 0,void 0,h.a.mark(function t(){var e,n,i,a,o;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=[{key:"taskDocument",value:this.taskDetail.creator+"/draft"}],t.next=3,$.a.createOneResource(e);case 3:return n=t.sent,this.taskOnEdit.documentId=n.uid,this.onConfirmEditTask(),i=U.a.initialize({documentName:this.taskDocumentName,status:"draft",createTime:S()(new Date).format("YYYY-MM-DD hh:mm:ss"),task:P.a.initialize(this.taskDetail),uid:n.uid}),a=new FormData,a.append("dataName","taskDocument"),a.append("data",s()(i)),a.append("dataContentType","application/json"),t.next=13,$.a.putResource(n.uid,a,{headers:{"Content-Type":"multipart/form-data",operationToken:n.operationToken}});case 13:return o=t.sent,t.abrupt("return",o);case 15:case"end":return t.stop()}},t,this)}))},this.onConfirmEditTask=function(t){return C.c(e,void 0,void 0,h.a.mark(function e(){var n,i,a,o,s,r,l;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t||this.taskOnEdit,i=P.a.initialize(n),!n.taskId){e.next=15;break}return e.next=5,w.a.saveTaskPut(i);case 5:return a=e.sent,e.next=8,this.taskListItemInitialize(a);case 8:o=e.sent,s=I.a.find(this.taskList,function(t){return t.taskId===o.taskId}),this.taskList.splice(this.taskList.indexOf(s),1,o),this.taskListProcessed=this.taskListGrouping(this.taskList),this.taskListItemSelect(t?this.taskDetail.head:o),e.next=24;break;case 15:return e.next=17,w.a.newTaskPost(i);case 17:return r=e.sent,e.next=20,this.taskListItemInitialize(r);case 20:l=e.sent,this.taskList.push(l),this.taskListProcessed=this.taskListGrouping(this.taskList),this.taskListItemSelect(l.parentTaskId?this.taskDetail.head:l);case 24:return e.abrupt("return",this.onCloseEditTask());case 25:case"end":return e.stop()}},e,this)}))},this.onCancelEditTask=function(){e.onCloseEditTask()},this.onCloseEditTask=function(){e.isEditTask=!1},this.searchUsers=function(){return C.c(e,void 0,void 0,h.a.mark(function t(){var e,n,i,a,o=this;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=I.a.find(R.a.userKey.companys,function(t){return l()(t.id)===l()(o.taskOnEdit.companyId)}),this.taskOnEdit.creator=""+R.a.userKey.id,n=e.employees,i=n,a=I.a.map(i,function(t){return{value:""+t.id,label:t.name}}),this.relationalUsers=a,t.abrupt("return",a);case 7:case"end":return t.stop()}},t,this)}))},this.onCompanyChange=function(){e.searchUsers()},this.createChildTask=function(){return C.c(e,void 0,void 0,h.a.mark(function t(){var e;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=L.a.initialize({companyId:this.taskDetail.companyId,creator:this.taskDetail.responsible?this.taskDetail.responsible:this.taskDetail.creator,parentId:this.taskDetail.taskId,parentsTaskIds:this.taskDetail.parentsTaskIds+(this.taskDetail.parentsTaskIds?",":"")+this.taskDetail.taskId,confirmablePerson:this.taskDetail.responsible?this.taskDetail.responsible:this.taskDetail.creator}),e.isEdit=!0,this.taskDetail.childList.unshift(e);case 3:case"end":return t.stop()}},t,this)}))},this.initializeChildTaskOperationButton=function(t){var n=I.a.map(A.a,function(n){return p()({},n,{render:e.checkIsSameStatusWithDetail(n.status,t)&&e.checkNecessary(n.necessary,t),click:n.click?e[n.click]:function(){return!0},beforeOperation:n.beforeOperation?e[n.beforeOperation]:""})});return t.taskOperationButton=n,n},this.onModifyChildTask=function(t,e,n){return n.isEdit=!0,v.a.resolve()},this.onEditModulus=function(t,n){e.buttonOnEdit=t,e.gsModulusOnEdit=n.modulus,e.taskOnEdit=n,e.isEditModulus=!0},this.onConfirmEditModulus=function(){return C.c(e,void 0,void 0,h.a.mark(function t(){var e,n;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.modifyModulusPut(this.taskOnEdit.taskId,this.modulusOnEdit);case 2:return e=this.buttonOnEdit.btn,t.next=5,e.click(e.operation,e.onOperation,this.buttonOnEdit.task);case 5:if(n=t.sent){t.next=8;break}return t.abrupt("return");case 8:this.buttonOnEdit.instance.$message({type:"success",message:e.name+"成功！"}),this.taskOnEdit.modulus=this.modulusOnEdit,this.taskDetailInitializeByItem(this.taskDetail.head),this.onCloseEditModulus();case 12:case"end":return t.stop()}},t,this)}))},this.onCancelEditModulus=function(){e.onCloseEditModulus()},this.onCloseEditModulus=function(){e.isEditModulus=!1},this.onEditDocumentName=function(t,n){e.buttonOnEdit=t,e.taskDocumentName=n.taskName+"任务的文档",e.taskOnEdit=n,e.isEditDocumentName=!0},this.onConfirmEditDocumentName=function(){e.onCreateDocument(),e.onCloseEditDocumentName()},this.onCancelEditDocumentName=function(){e.onCloseEditDocumentName()},this.onCloseEditDocumentName=function(){e.isEditDocumentName=!1},this.organizationInitialize=function(){return C.c(e,void 0,void 0,h.a.mark(function t(){var e;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F.a.initialize();case 2:return e=t.sent,this.organizationTask=e.gsOrganizationTask,R.a.organizationTask=this.organizationTask,this.keyCompany=this.organizationTask.companys[0],this.afterKeyCompanyChange(),t.abrupt("return");case 8:case"end":return t.stop()}},t,this)}))},this.keyCompanyChange=function(t){return e.keyCompany=I.a.find(e.organizationTask.companys,function(e){return e.id===t}),e.afterKeyCompanyChange()},this.afterKeyCompanyChange=function(){return e.keyCompanyId=e.keyCompany.id,e.keyUser=e.keyCompany.employees[0],e.keyUserId=e.keyUser.id,e.afterKeyUserChange()},this.keyUserChange=function(t){return e.keyUser=I.a.find(e.keyCompany.employees,function(e){return e.id===t}),e.afterKeyUserChange()},this.afterKeyUserChange=function(){return R.a.userKey=p()({},e.keyUser,{companys:[e.keyCompany]}),e.taskListInitialize()},this.relationalUsers=[],this.taskStatusConfig=[],this.taskListOriginal=[],this.taskList=[],this.taskListProcessed=[],this.taskDetail=null,this.taskDetailRelationalUsers=[],this.taskDetailUsers={creator:"",responsible:"",responsibleCandidate:"",confirmor:"",confirmablePerson:""},this.taskDetailUserStaff="",this.taskOperationButton=[],this.taskOnEdit=null,this.isEditTask=!1,this.isEditModulus=!1,this.modulusOnEdit="",this.buttonOnEdit=null,this.isShowList=!0,this.isShowListControl=!0,this.taskDocumentName="",this.isEditDocumentName=!1,this.organizationTask=null,this.keyCompany=null,this.keyCompanyId="",this.keyUser=null,this.keyUserId=""}return b()(t,[{key:"gsRelationalUsers",get:function(){return this.relationalUsers},set:function(t){this.relationalUsers=t}},{key:"gsTaskStatusConfig",get:function(){return this.taskStatusConfig},set:function(t){this.taskStatusConfig=t}},{key:"gsTaskListOriginal",get:function(){return this.taskListOriginal},set:function(t){this.taskListOriginal=t}},{key:"gsTaskList",get:function(){return this.taskList},set:function(t){this.taskList=t}},{key:"gsTaskListProcessed",get:function(){return this.taskListProcessed},set:function(t){this.taskListProcessed=t}},{key:"gsTaskDetail",get:function(){return this.taskDetail},set:function(t){this.taskDetail=t}},{key:"gsTaskDetailRelationalUsers",get:function(){return this.taskDetailRelationalUsers},set:function(t){this.taskDetailRelationalUsers=t}},{key:"gsTaskDetailUsers",get:function(){return this.taskDetailUsers},set:function(t){this.taskDetailUsers=t}},{key:"gsTaskDetailUserStaff",get:function(){return this.taskDetailUserStaff},set:function(t){this.taskDetailUserStaff=t}},{key:"gsTaskOperationButton",get:function(){return this.taskOperationButton},set:function(t){this.taskOperationButton=t}},{key:"gsTaskOnEdit",get:function(){return this.taskOnEdit},set:function(t){this.taskOnEdit=t}},{key:"gsIsEditTask",get:function(){return this.isEditTask},set:function(t){this.isEditTask=t}},{key:"gsIsEditModulus",get:function(){return this.isEditModulus},set:function(t){this.isEditModulus=t}},{key:"gsModulusOnEdit",get:function(){return!a()(this.modulusOnEdit)&&0!==a()(this.modulusOnEdit)||""+a()(this.modulusOnEdit)!==this.modulusOnEdit?this.modulusOnEdit:a()(this.modulusOnEdit)},set:function(t){this.modulusOnEdit=""+t}},{key:"gsButtonOnEdit",get:function(){return this.buttonOnEdit},set:function(t){this.buttonOnEdit=t}},{key:"gsTaskDocumentName",get:function(){return this.taskDocumentName},set:function(t){this.taskDocumentName=t}},{key:"gsIsEditDocumentName",get:function(){return this.isEditDocumentName},set:function(t){this.isEditDocumentName=t}},{key:"gsOrganizationTask",get:function(){return this.organizationTask},set:function(t){this.organizationTask=t}},{key:"gsKeyCompany",get:function(){return this.keyCompany},set:function(t){this.keyCompany=t}},{key:"gsKeyCompanyId",get:function(){return this.keyCompanyId},set:function(t){this.keyCompanyId=t}},{key:"gsKeyUser",get:function(){return this.keyUser},set:function(t){this.keyUser=t}},{key:"gsKeyUserId",get:function(){return this.keyUserId},set:function(t){this.keyUserId=t}},{key:"gsIsShowList",get:function(){return this.isShowList},set:function(t){this.isShowList=t}},{key:"gsIsShowListControl",get:function(){return this.isShowListControl},set:function(t){this.isShowListControl=t}},{key:"gsIsShowAddChildTask",get:function(){return"UNPUBLISHED"===this.taskDetail.status&&""+this.taskDetailUserStaff.id==""+this.taskDetail.creator||"RECEIVED"===this.taskDetail.status&&""+this.taskDetailUserStaff.id==""+this.taskDetail.responsible}},{key:"gsIsShowEditModulus",get:function(){var t=this;return"RECEIVED"===this.taskDetail.status&&""+this.taskDetailUserStaff.id==""+this.taskDetail.responsible||"COMPLETED"===this.taskDetail.status&&I.a.some(this.taskDetail.gsConfirmablePerson,function(e){return""+e==""+t.taskDetailUserStaff.id})}}],[{key:"initialize",value:function(e,n){return new t}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return _});var i=n(10),a=n.n(i),o=n(7),s=n.n(o),r=n(1),l=n.n(r),c=n(2),u=n.n(c),d=n(9),p=n.n(d),m=n(8),h=n.n(m),f=n(30),v=n(298),g=n(626),y=n(107),_=function(t){function e(){l()(this,e);var t=p()(this,(e.__proto__||s()(e)).call(this));return t.taskListInitialize=function(e){return f.c(t,void 0,void 0,a.a.mark(function t(){var n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.rootTaskChildrenListGet(e);case 2:return n=t.sent,this.taskListOriginal=n,t.abrupt("return",this.taskListProcess(n));case 5:case"end":return t.stop()}},t,this)}))},t.taskStatusConfig=g.a,t}return h()(e,t),u()(e,null,[{key:"initialize",value:function(t,n){var i=new e;return i.taskListInitialize(t),i}}]),e}(v.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=function(){function t(e){a()(this,t),this.documentName=e.documentName,this.status=e.status,this.createTime=e.createTime,this.task=e.task,this.uid=e.uid}return s()(t,[{key:"gsDocumentName",get:function(){return this.documentName},set:function(t){this.documentName=t}},{key:"gsStatus",get:function(){return this.status},set:function(t){this.status=t}},{key:"gsCreateTime",get:function(){return this.createTime},set:function(t){this.createTime=t}},{key:"gsTask",get:function(){return this.task},set:function(t){this.task=t}},{key:"gsUid",get:function(){return this.uid},set:function(t){this.uid=t}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return g});var i=n(40),a=n.n(i),o=n(7),s=n.n(o),r=n(1),l=n.n(r),c=n(2),u=n.n(c),d=n(9),p=n.n(d),m=n(8),h=n.n(m),f=n(300),v=n(156),g=function(t){function e(){return l()(this,e),p()(this,(e.__proto__||s()(e)).apply(this,arguments))}return h()(e,t),u()(e,null,[{key:"initialize",value:function(t){return new e(a()({},t,{task:v.a.initialize(t.task)}))}}]),e}(f.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return Z});var i,a,o=n(19),s=n.n(o),r=n(15),l=n.n(r),c=n(7),u=n.n(c),d=n(1),p=n.n(d),m=n(2),h=n.n(m),f=n(9),v=n.n(f),g=n(8),y=n.n(g),_=n(108),b=n(308),C=n(877),k=n(863),I=n(876),D=n(136),S=n(111),w=n(32),x=n(160),E=n(207),T=n(216),N=n(213),P=n(217),M=n(318),$=n(881),U=n(317),L=n(880),R=n(316),A=n(879),F=n(205),B=n(860),O=(n(206),n(314),n(215),n(315)),V=n(878),j=n(870),z=n(309),G=n(305),q=n(306),H=n(307),K=n(859),W=n(310),Y=n(4),J=n.n(Y),Q=n(87),Z=(a=i=function(t){function e(t){p()(this,e);var n=v()(this,(e.__proto__||u()(e)).call(this,t));return n.$supportDocumentTypes=[{TypeName:"标准文档",DocumentType:1},{TypeName:"供应商文档",DocumentType:2},{TypeName:"合同文档",DocumentType:3},{TypeName:"付款文档",DocumentType:4},{TypeName:"项目文档",DocumentType:7},{TypeName:"基础绩效",DocumentType:5},{TypeName:"申报绩效",DocumentType:6}],n.$defaultDocumentQueryOptions=[{supplierStatus:-1,tag:"",id:{id:0,type:2},form:{formType:0,version:0}},{contractStatus:-1,id:{id:0,type:3},form:{formType:0,version:0}},{payStatus:-1,id:{id:0,type:4},form:{formType:0,version:0}},{projectStatus:-1,id:{id:0,type:7},form:{formType:0,version:0}},{applyStatus:-1,id:{id:0,type:5},form:{formType:0,version:0}}],e.instance=n,n._leftWidth="200",n}return y()(e,t),h()(e,[{key:"onLeftWidthChanged",value:function(t){this.eventManager.on("leftWidthChanged",t)}},{key:"createDocument",value:function(t){switch(t){case 2:return this.createSupplier();case 3:return this.createContract();case 4:return this.createPayment();case 7:return this.createProject();case 5:return this.createApplyPerDocument();case 1:default:return this.createCommonDocument()}}},{key:"createSupplier",value:function(){var t=n.i(w.a)(x.a);return new b.a(t,this.apiManager,!1)}},{key:"createContract",value:function(){var t=n.i(w.a)(E.a);return new k.a(t,this.apiManager,!1)}},{key:"createPayment",value:function(){var t=n.i(w.a)(N.a);return new I.a(t,this.apiManager,!1)}},{key:"createProject",value:function(){var t=n.i(w.a)(T.a);return new C.a(t,this.apiManager,!1)}},{key:"createCommonDocument",value:function(){var t=n.i(w.a)(F.a);return new B.a(t,this.apiManager,!1)}},{key:"createApplyPerDocument",value:function(){var t=n.i(w.a)(W.a);return new K.a(t,this.apiManager,!1)}},{key:"getDocumentById",value:function(t){return this.apiManager.getApiHost("documentation").get("GetDocumentById",{documentId:t}).then(function(t){switch(t.id.type){case 2:return new b.a(t.content,this.apiManager);case 4:return new I.a(t.content,this.apiManager);case 7:return new C.a(t.content,this.apiManager);case 3:return new k.a(t.content,this.apiManager);case 5:return new K.a(t.content,this.apiManager);case 1:default:return new B.a(t.content,this.apiManager)}}.bind(this))}},{key:"searchSuppliers",value:function(t){var e=t.version,n=void 0===e?0:e,i=t.title,a=void 0===i?"":i,o=t.supplierStatus,s=void 0===o?-1:o,r=t.tag,l=void 0===r?"":r,c=t.startIndex,u=void 0===c?0:c,d=t.fetchSize,p=void 0===d?10:d,m={version:n,title:a,supplierStatus:s,tag:l,startIndex:u,fetchSize:p,id:{id:0,type:2}};return this.queryDocuments(m).then(function(t){return J.a.map(t.content,function(t){return 0===n?new b.a(t):new D.a(t)})})}},{key:"searchProjects",value:function(t){var e=t.version,n=void 0===e?0:e,i=t.title,a=void 0===i?"":i,o=t.projectStatus,s=void 0===o?-1:o,r=t.startIndex,l=void 0===r?0:r,c=t.fetchSize,u=void 0===c?10:c,d={version:n,title:a,projectStatus:s,startIndex:l,fetchSize:u,id:{id:0,type:7}};return this.queryDocuments(d).then(function(t){return J.a.map(t.content,function(t){return 0===n?new C.a(t):new D.a(t)})})}},{key:"searchContract",value:function(t){var e=t.version,n=void 0===e?0:e,i=t.title,a=void 0===i?"":i,o=t.contractStatus,s=void 0===o?-1:o,r=t.startIndex,l=void 0===r?0:r,c=t.fetchSize,u=void 0===c?10:c,d={version:n,title:a,contractStatus:s,startIndex:l,fetchSize:u,id:{id:0,type:3}};return this.queryDocuments(d).then(function(t){return J.a.map(t.content,function(t){return console.log(t),0===n?new k.a(t):new D.a(t)})})}},{key:"searchPays",value:function(t){var e=t.version,n=void 0===e?0:e,i=t.title,a=void 0===i?"":i,o=t.payStatus,s=void 0===o?-1:o,r=t.startIndex,l=void 0===r?0:r,c=t.fetchSize,u=void 0===c?10:c,d={version:n,title:a,payStatus:s,startIndex:l,fetchSize:u,id:{id:0,type:4}};return this.queryDocuments(d).then(function(t){return J.a.map(t.content,function(t){return console.log(t),0===n?new PayModel(t):new D.a(t)})})}},{key:"searchDocumentsByKeyword",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(arguments.length>4&&void 0!==arguments[4]&&arguments[4],null);switch(t){case 2:a=new z.a;break;case 3:a=new G.a;break;case 4:a=new q.a;break;case 7:a=new H.a;break;default:return l.a.reject(new Error("invalid document type."))}return a.Title=e,a.companyId=n,a.form.formType=1,J.a.extendOwn(a,i),this.queryByEnvelop(a)}},{key:"queryTinyDocuments",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=n.i(Q.a)(J.a.find(this.$defaultDocumentQueryOptions,function(e){return e.id.type===t}));return a.title=e,a.form.version=2,a.form.formType=1,a.startIndex=0,a.fetchSize=99,J.a.isEmpty(i)||(a=J.a.extend(a,i)),this.queryDocuments(a).then(function(t){return J.a.map(t.content,function(t){return new D.a(t)})})}},{key:"queryDocuments",value:function(t){var e=n.i(w.a)(P.a);J.a.extendOwn(e,t);var i={jsonContent:s()(e)};return this.apiManager.getApiHost("documentation").post("Query",i)}},{key:"queryByEnvelop",value:function(t){var e={jsonContent:s()(t.toData())};return this.apiManager.getApiHost("documentation").post("Query",e).then(function(t){if(2===t.form.version)return new j.a(t,S.a,D.a);if(2===t.id.type){if(1===t.form.version)return new j.a(t,M.a,$.a);if(0===t.form.version)return new j.a(t,x.a,b.a)}if(3===t.id.type){if(1===t.form.version)return new j.a(t,O.a,V.a);if(0===t.form.version)return new j.a(t,E.a,k.a)}if(4===t.id.type){if(1===t.form.version)return new j.a(t,R.a,A.a);if(0===t.form.version)return new j.a(t,N.a,I.a)}if(7===t.id.type){if(1===t.form.version)return new j.a(t,U.a,L.a);if(0===t.form.version)return new j.a(t,T.a,C.a)}}).catch(function(t){return console.log(t)})}},{key:"delete",value:function(t){}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this.eventManager.emit("leftWidthChanged",t)}},{key:"supportDocumentTypes",get:function(){return this.$supportDocumentTypes}}]),e}(_.a),i.instance=null,a)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(4),l=n.n(r),c=function(){function t(e,n){a()(this,t),this.$type=e,this.$handler=n}return s()(t,[{key:"handler",get:function(){return this.$handler}},{key:"type",get:function(){return this.$type}}]),t}(),u=function(){function t(){a()(this,t),this.$events={}}return s()(t,[{key:"on",value:function(t,e){if(l.a.isEmpty(t))throw new Error("type 参数为空");if(!l.a.isFunction(e))throw new Error("handler 不是一个function");var n=this.$events[t];l.a.isEmpty(n)&&(n=[],this.$events[t]=n);var i=l.a.find(n,function(t){return t.handler===e});return null==i&&(i=new c(t,e),n.push(i)),i}},{key:"off",value:function(t){if(l.a.isEmpty(t))throw new Error("eventHandler 参数为空");var e=this.$events[t.type];if(!l.a.isEmpty(e)){var n=l.a.indexOf(t);n>=0&&e.splice(n,1)}}},{key:"emit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(l.a.isEmpty(t))throw new Error("type 参数为空");var n=this.$events[t];l.a.isEmpty(n)||l.a.each(n,function(t){return t.handler(e)})}}]),t}()},function(t,e,n){"use strict";e.a={props:{visible:{type:Boolean,default:!1}},data:function(){return{isDialogShow:!1}},methods:{closeDialog:function(t){t?this.onDialogOk()&&this.$emit("dialogOk"):this.isDialogShow=!1},onDialogOk:function(){return!0},onDialogShow:function(){}},watch:{isDialogShow:function(t){this.$emit("update:visible",t)},visible:function(t){this.isDialogShow=t,t&&this.onDialogShow()}}}},function(t,e,n){"use strict";n.d(e,"a",function(){return _});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(34),p=n.n(d),m=n(8),h=n.n(m),f=n(158),v=n(206),g=n(32),y=(n(134),n(4)),_=(n.n(y),function(t){function e(){s()(this,e);var t=u()(this,(e.__proto__||a()(e)).call(this,n.i(g.a)(v.a),v.a,!1));return t.$data.id.type=3,t}return h()(e,t),l()(e,[{key:"setListType",value:function(t){p()(e.prototype.__proto__||a()(e.prototype),"setListType",this).call(this,t),this.ContractStatus=1===t?3:-1}},{key:"ContractStatus",get:function(){return this.$data.contractStatus},set:function(t){this.$data.contractStatus=t}},{key:"ContractCode",get:function(){return this.$data.contractCode},set:function(t){this.$data.contractCode=t}},{key:"TotalPrice",get:function(){return this.$data.totalPrice},set:function(t){this.$data.totalPrice=t}},{key:"Validity",get:function(){return this.$data.validity},set:function(t){console.log("set value="+t),this.$data.validity=this.setDateValue(t),console.log(this.$data.validity)}},{key:"SelectStatus",get:function(){return[{id:-1,name:"全部"},{id:0,name:"草稿"},{id:1,name:"审批中"},{id:2,name:"终止"},{id:3,name:"生效"}]}}]),e}(f.a))},function(t,e,n){"use strict";n.d(e,"a",function(){return _});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(34),p=n.n(d),m=n(8),h=n.n(m),f=n(158),v=n(314),g=n(32),y=n(4),_=(n.n(y),function(t){function e(){s()(this,e);var t=u()(this,(e.__proto__||a()(e)).call(this,n.i(g.a)(v.a),v.a,!1));return t.$data.id.type=4,t}return h()(e,t),l()(e,[{key:"setListType",value:function(t){p()(e.prototype.__proto__||a()(e.prototype),"setListType",this).call(this,t),this.PaymentStatus=1===t?3:-1}},{key:"PaymentStatus",get:function(){return this.$data.paymentStatus},set:function(t){this.$data.paymentStatus=t}},{key:"Tag",get:function(){return this.$data.tag},set:function(t){this.$data.tag=t}},{key:"Validity",get:function(){return this.$data.validity},set:function(t){this.$data.validity=this.setDateValue(t)}},{key:"SelectStatus",get:function(){return[{id:-1,name:"全部"},{id:0,name:"草稿"},{id:1,name:"审批中"},{id:2,name:"终止"},{id:3,name:"合作"}]}}]),e}(f.a))},function(t,e,n){"use strict";n.d(e,"a",function(){return _});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(34),p=n.n(d),m=n(8),h=n.n(m),f=n(158),v=n(215),g=n(32),y=n(4),_=(n.n(y),function(t){function e(){s()(this,e);var t=u()(this,(e.__proto__||a()(e)).call(this,n.i(g.a)(v.a),v.a,!1));return t.$data.id.type=7,console.log(t.$data),t}return h()(e,t),l()(e,[{key:"setListType",value:function(t){p()(e.prototype.__proto__||a()(e.prototype),"setListType",this).call(this,t),this.ProjectStatus=1===t?3:-1}},{key:"ProjectStatus",get:function(){return this.$data.projectStatus},set:function(t){this.$data.projectStatus=t}},{key:"Tag",get:function(){return this.$data.tag},set:function(t){this.$data.tag=t}},{key:"Validity",get:function(){return this.$data.validity},set:function(t){this.$data.validity=this.setDateValue(t)}},{key:"SelectStatus",get:function(){return[{id:-1,name:"全部"},{id:0,name:"草稿"},{id:1,name:"审批中"},{id:2,name:"终止"},{id:3,name:"合作"}]}}]),e}(f.a))},function(t,e,n){"use strict";n.d(e,"a",function(){return S});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(8),p=n.n(d),m=n(34),h=n.n(m),f=n(109),v=n(4),g=n.n(v),y=n(160),_=n(211),b=n(43),C=n(872),k=n(86),I=n(32),D=n(3),S=(n.n(D),function(t){function e(t,n){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];s()(this,e);var o=u()(this,(e.__proto__||a()(e)).call(this,2,n,t,y.a,i));if(o.$apiManager=n,void 0!=o.$data.tags&&""!=o.$data.tags.replace(/\s/g,"")?o.$tags=o.$data.tags.replace(/(^,)|(,$)/g,"").split(","):o.$tags=[],o.$payMethods=[],o.$certificates=[],o.$supplierRelation=[],g.a.isEmpty(o.$data.payMethods)||(o.$payMethods=g.a.map(o.$data.payMethods,function(t){return new C.a(t)})),g.a.isEmpty(o.$data.certificates)||(o.$certificates=g.a.map(o.$data.certificates,function(t){return new k.a(t)})),!g.a.isEmpty(o.$data.relations)){var r=o.$data.relations[0];o.$supplierRelation=h()(e.prototype.__proto__||a()(e.prototype),"addRelation",o).call(o,r.documentId,r.name,r.behaviour)}return o}return p()(e,t),l()(e,[{key:"onToggleEndorsementMode",value:function(){this.EndorsementMode?3===this.$data.supplierStatus&&(this.$supplierRelation=h()(e.prototype.__proto__||a()(e.prototype),"addRelation",this).call(this,this.DocumentId,"供应商关联",1),this.$data.documentId=0):null!=this.$supplierRelation&&h()(e.prototype.__proto__||a()(e.prototype),"removeRelation",this).call(this,this.$supplierRelation)}},{key:"createPayMethod",value:function(){var t=n.i(I.a)(_.a),e=new C.a(t,_.a,!1);this.$payMethods.push(e)}},{key:"createCertificate",value:function(t){var e=n.i(I.a)(b.a),i=new k.a(e,b.a,!1);g.a.extendOwn(i,t),this.$certificates.push(i)}},{key:"toData",value:function(){var t=h()(e.prototype.__proto__||a()(e.prototype),"toData",this).call(this);return g.a.isEmpty(t.validity)&&(t.validity=this.Validity),t.payMethods=g.a.map(this.$payMethods,function(t){return t.toData()}),t.certificates=g.a.map(this.$certificates,function(t){return t.toData()}),t.tags=this.$tags.join(","),t}},{key:"hasSupplierRelation",get:function(){return!g.a.isEmpty(this.$supplierRelation)}},{key:"supplierRelation",get:function(){return this.$supplierRelation}},{key:"DocumentComponentName",get:function(){return"SupplierDocument"}},{key:"EnglishTitle",get:function(){return this.$data.englishTitle},set:function(t){this.$data.englishTitle=t}},{key:"Address",get:function(){return this.$data.address},set:function(t){this.$data.address=t}},{key:"ContactName",get:function(){return this.$data.contactName},set:function(t){this.$data.contactName=t}},{key:"Telephone",get:function(){return this.$data.telephone},set:function(t){this.$data.telephone=t}},{key:"Validity",get:function(){return this.getDateValue(this.$data.validity)},set:function(t){this.$data.validity=this.setDateValue(t)}},{key:"TaxId",get:function(){return this.$data.taxId},set:function(t){this.$data.taxId=t}},{key:"Mobile",get:function(){return this.$data.mobile},set:function(t){this.$data.mobile=t}},{key:"Tags",get:function(){return this.$tags}},{key:"SupplierStatus",get:function(){return this.$data.supplierStatus}},{key:"PayMethods",get:function(){return this.$payMethods}},{key:"Certificates",get:function(){return this.$certificates},set:function(t){this.$certificates=t}},{key:"PostCode",get:function(){return this.$data.postCode},set:function(t){this.$data.postCode=t}},{key:"auditable",get:function(){return h()(e.prototype.__proto__||a()(e.prototype),"auditable",this)&&0===this.SupplierStatus}},{key:"editable",get:function(){return h()(e.prototype.__proto__||a()(e.prototype),"editable",this)&&0===this.SupplierStatus}}]),e}(f.a))},function(t,e,n){"use strict";n.d(e,"a",function(){return _});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(34),p=n.n(d),m=n(8),h=n.n(m),f=n(158),v=n(217),g=n(32),y=n(4),_=(n.n(y),function(t){function e(){s()(this,e);var t=u()(this,(e.__proto__||a()(e)).call(this,n.i(g.a)(v.a),v.a,!1));return t.$data.id.type=2,t}return h()(e,t),l()(e,[{key:"setListType",value:function(t){p()(e.prototype.__proto__||a()(e.prototype),"setListType",this).call(this,t),this.SupplierStatus=1===t?3:-1}},{key:"SupplierStatus",get:function(){return this.$data.supplierStatus},set:function(t){this.$data.supplierStatus=t}},{key:"Tag",get:function(){return this.$data.tag},set:function(t){this.$data.tag=t}},{key:"Validity",get:function(){return this.$data.validity},set:function(t){this.$data.validity=this.setDateValue(t)}},{key:"SelectStatus",get:function(){return[{id:-1,name:"全部"},{id:0,name:"草稿"},{id:1,name:"审批中"},{id:2,name:"终止"},{id:3,name:"合作"}]}}]),e}(f.a))},function(t,e,n){"use strict";var i=n(885);e.a={auditeUserId:{type:Number},auditeUserName:{type:String},auditeTime:{type:String},acionType:{type:String},CreateUserId:{type:String},createUserName:{type:String},description:{type:String},statusStr:{type:String},itemNum:{type:String},totalScore:{type:String},applyStatus:{type:String},companyName:{type:String},payableTerms:{required:!1,type:Array,itemType:Object,itemValidator:i.a}}},function(t,e,n){"use strict";e.a={ID:{required:!0,type:Number,isFloat:!1},CompanyId:{required:!0,type:Number,isFloat:!1},StrKey:{required:!0,type:String},StrUrl:{required:!0,type:String},Pos:{required:!1,type:String}}},function(t,e,n){"use strict";var i=n(888),a=n(892),o=n(209);e.a={DocumentId:{required:!0,type:Number,isFloat:!1},Title:{required:!0,type:String},Keyword:{required:!1,type:String},Priority:{required:!0,type:Number,isFloat:!1},DocumentType:{required:!0,type:String},DocumentTypeName:{required:!0,type:String},CreateDateTime:{required:!1,type:String},CreateUserId:{required:!0,type:Number,isFloat:!1},CreateUserName:{required:!1,type:String},PublishDepartmentId:{required:!0,type:Number,isFloat:!1},PublishCompanyId:{required:!0,type:Number,isFloat:!1},PublishCompanyName:{required:!1,type:String},DocumentStatus:{required:!0,type:Number,isFloat:!1},TemplateId:{required:!0,type:Number,isFloat:!1},TemplateName:{required:!1,type:String},DeliveryOrganization:{required:!1,type:String},CurrentNode:{required:!0,type:Number,isFloat:!1},IsReject:{required:!0,type:Boolean},CheckOutList:{type:Array,itemType:Number,isFloat:!1},DocumentContext:{required:!1,type:Object,validator:i.a},RequestTime:{required:!1,type:String},ListNodes:{required:!0,type:Array,itemType:Object,itemValidator:a.a},ExendedDocuemnts:{required:!0,type:Array,itemType:Object,itemValidator:o.a}}},function(t,e,n){"use strict";e.a={ID:{required:!0,type:Number,isFloat:!1},CompanyID:{required:!0,type:Number,isFloat:!1},Name:{required:!0,type:String},EnName:{required:!1,type:String},Type:{required:!0,type:Number,isFloat:!1},PID:{required:!0,type:Number,isFloat:!1},NodePath:{required:!0,type:String},NodePathNames:{required:!0,type:String},IconKey:{required:!1,type:String}}},function(t,e,n){"use strict";var i=(n(75),n(76),n(110)),a=n(4),o=n.n(a),s={paymentStatus:{required:!0,type:Number,isFloat:!1},tag:{required:!1,type:String},validity:{type:String}};e.a=o.a.extend(s,i.a)},function(t,e,n){"use strict";var i=n(111),a=n(320),o=n(4),s=n.n(o),r={contractStatus:{type:Number,isFloat:!1},totalPrice:{required:!0,type:Array,itemType:Object,itemValidator:a.a}};e.a=s.a.extend(r,i.a)},function(t,e,n){"use strict";var i=n(111),a=n(4),o=n.n(a),s={paymentNo:{type:String},supplierId:{type:Number,isFloat:!1},supplierName:{type:String},payment:{type:String},remark:{type:String},paymentStatus:{type:Number,isFloat:!1},payType:{type:Number,isFloat:!1},bankName:{type:String},bankAccount:{type:String},holder:{type:String}};e.a=o.a.extend(s,i.a)},function(t,e,n){"use strict";var i=n(111),a=n(4),o=n.n(a),s={projectId:{type:Number,isFloat:!1},projectCode:{type:String},director:{type:String},beginTime:{type:String},endTime:{type:String},projectStatus:{type:Number,isFloat:!1},budget:{type:Number,isFloat:!0}};e.a=o.a.extend(s,i.a)},function(t,e,n){"use strict";var i=n(111),a=n(4),o=n.n(a),s={validity:{type:String},tags:{type:String},supplierStatus:{type:Number,isFloat:!1}};e.a=o.a.extend(s,i.a)},function(t,e,n){"use strict";e.a={id:{required:!0,type:Number,isFloat:!1},name:{required:!0,type:String},grouptype:{required:!0,type:Number,isFloat:!1},groupid:{required:!0,type:Number,isFloat:!1},groupname:{required:!0,type:String}}},function(t,e,n){"use strict";e.a={index:{require:!0,type:Number,isFloat:!1},minAmount:{require:!0,type:Number},maxAmount:{required:!0,type:Number},termId:{required:!0,type:Number}}},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(4),l=n.n(r),c=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};a()(this,t),this._displayText=n,this._selected=!0,this._filter=e,this._checked=!1,this._key=l.a.uniqueId(n),this._count=i||0,this._options=o||{}}return s()(t,[{key:"toData",value:function(){return{displayText:this._displayText,count:this._count,options:this._options}}},{key:"key",get:function(){return this._key}},{key:"displayText",get:function(){return this._displayText}},{key:"selected",get:function(){return this._selected},set:function(t){this._selected=t}},{key:"multiSelection",get:function(){return this._filter.multiSelection}},{key:"checked",get:function(){return this._checked},set:function(t){this._checked=t}},{key:"count",get:function(){return this._count}},{key:"options",set:function(t){this._options=t},get:function(){return this._options||{}}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=function(){function t(e){a()(this,t),this._principalType=e.principalType,this._principalId=e.principalId,this._principalName=e.principalName,this._parentId=e.parentId,this._parentType=e.parentType}return s()(t,null,[{key:"parseLines",value:function(e){for(var n=e.split("\n"),i=_.first(n).split(/\t| +/),a=[],o=1;o<n.length;o++)_.isEmpty(n[o])||function(){var e={},s=n[o].split(/\t| +/);_.each(i,function(t,n){e[t]=s[n]}),a.push(new t(e))}();return a}}]),s()(t,[{key:"principalId",get:function(){return this._principalId}},{key:"principalType",get:function(){return this._principalType}},{key:"parentId",get:function(){return this._parentId}},{key:"parentType",get:function(){return this._parentType}},{key:"principalName",get:function(){return this._principalName}}]),t}()},function(t,e,n){"use strict";e.a={chainId:{type:String},chainValue:{type:Array,itemType:String}}},function(t,e,n){"use strict";e.a={keyName:{type:String},keyType:{type:String}}},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(4),l=n.n(r),c=n(162),u=n(164),d=n(138),p=n(161),m=n(218),h=function(){function t(e){var n=this;a()(this,t),this._vue=e,this._filterableFields=[new c.a("员工",String,this.getEmployeeName,this.createMatch(this.getEmployeeName)),new c.a("职位",String,this.getPositionName,this.createMatch(this.getPositionName)),new c.a("类型",String,this.getTypeName,this.createMatch(this.getTypeName)),new c.a("工作日期",String,this.getHumanizeWorkingDate,this.createMatch(this.getHumanizeWorkingDate)),new c.a("状态",String,this.getStatusName,this.createMatch(this.getStatusName)),new c.a("分享目标",Array,function(t){return n.getReporters(t,e)},this.createMatch(function(t){return n.getReporters(t,e)})),new c.a("操作",Array,function(t){return n.getOperation(t,e)},this.createMatch(function(t){return n.getOperation(t,e)}))],this._sortableFields=[new u.a("员工",this.getEmployeeName),new u.a("职位",this.getPositionName),new u.a("类型",this.getTypeName),new u.a("工作日期",this.getWorkingDate),new u.a("状态",this.getStatusName),new u.a("绩效项",this.getItemName),new u.a("得分",this.getCalculatedScore),new u.a("基础分",this.getBaseScore),new u.a("质量",function(t){return n.getQualityScore(t)}),new u.a("系数",function(t){return n.getRatio(t)})],this._groupableFields=[new d.a("员工",this.getEmployeeName),new d.a("职位",this.getPositionName),new d.a("类型",this.getTypeName),new d.a("工作日期",this.getWorkingDate),new d.a("状态",this.getStatusName),new d.a("绩效项",this.getItemName)],this._aggregationFields=[new p.a("得分",["求和","平均"],this.getCalculatedScore),new p.a("基础分",["平均"],this.getBaseScore),new p.a("质量",["平均"],function(t){return n.getQualityScore(t)}),new p.a("系数",["平均"],function(t){return n.getRatio(t)}),new p.a("数量",["求和","平均"],this.getCalculatedScore)],this._bulkFields=[new m.a("质量",Number,function(t){return n.getQualityScore(t)},function(t,e){return n.setQualityScore(t,e)},function(t,e){return n.getQualityScoreRange(t,e)}),new m.a("系数",Number,function(t){return n.getRatio(t)},function(t,e){return n.setRatio(t,e)},function(t,e){return n.getRatioRange(t,e)})],this._items=[]}return s()(t,[{key:"getPositionName",value:function(t){return t.position.principalName}},{key:"getBaseScore",value:function(t){return isNaN(t.baseScore)?0:t.baseScore}},{key:"getRatio",value:function(t){return t.commentable(this._vue.currentEmployeeId)?t.ratio:null}},{key:"setRatio",value:function(t,e){t.commentable(this._vue.currentEmployeeId)&&(t.ratio=e)}},{key:"getRatioRange",value:function(t,e){if(t.isRoutine||!t.isDraft)return e;if(l.a.isNull(e)&&t.isTemporary)return[-1/0,1/0];var n=t.reference.minimumRatio,i=t.reference.maximumRatio;if(l.a.isNull(e))return[n,i];var a=[l.a.max([n,e[0]]),l.a.min([i,e[1]])];return a[0]>a[1]?[]:a}},{key:"getQualityScore",value:function(t){return t.commentable(this._vue.currentEmployeeId)?t.qualityScore:null}},{key:"setQualityScore",value:function(t,e){t.commentable(this._vue.currentEmployeeId)&&(t.qualityScore=e)}},{key:"getQualityScoreRange",value:function(t,e){return t.commentable(this._vue.currentEmployeeId)?[0,1]:e}},{key:"getCalculatedScore",value:function(t){return isNaN(t.calculatedScore)?0:t.calculatedScore}},{key:"getItemName",value:function(t){return t.itemName}},{key:"getEmployeeName",value:function(t){return t.initiator.principalName}},{key:"getHumanizeWorkingDate",value:function(t){return t.humanizeWorkDate}},{key:"getWorkingDate",value:function(t){return t.workingDate}},{key:"getTypeName",value:function(t){return t.typeName}},{key:"getStatusName",value:function(t){return t.statusName}},{key:"getOperation",value:function(t,e){var n=e.currentEmployeeId,i=[];return t.deletable(n)&&i.push("可删除"),t.shareable(n)&&i.push("可分享"),t.editable(n)&&i.push("可修改"),t.rejectable(n)&&i.push("可驳回"),t.readed?i.push("已读"):i.push("未读"),i}},{key:"getReporters",value:function(t,e){return t.shareable(e.currentEmployeeId)?l.a.isArray(t.currentReporters)&&0!=t.currentReporters.length?l.a.chain(t.currentReporters).map(function(t){return l.a.find(e.employees,function(e){return e.principalId==t})}).filter(function(t){return!l.a.isUndefined(t)}).map(function(t){return t.principalName}).value():["任意"]:[]}},{key:"createMatch",value:function(t){return function(e,n){return l.a.any(n,function(n){var i=t(e);return"range"===n.options.type?i>=n.options.left&&i<=n.options.right:l.a.isArray(i)?l.a.any(i,function(t){return t==n.displayText}):i==n.displayText})}}},{key:"getKey",value:function(t){return t.itemId}},{key:"bulkFields",get:function(){return this._bulkFields}},{key:"aggregationFields",get:function(){return this._aggregationFields}},{key:"groupableFields",get:function(){return this._groupableFields}},{key:"filterableFields",get:function(){return this._filterableFields}},{key:"sortableFields",get:function(){return this._sortableFields}},{key:"items",get:function(){return this._items},set:function(t){this._items=t}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return b});var i=n(19),a=n.n(i),o=n(10),s=n.n(o),r=n(22),l=n.n(r),c=n(1),u=n.n(c),d=n(2),p=n.n(d),m=n(28),h=n(4),f=n.n(h),v=n(911),g=n(220),y=n(166),_=n(170),b=function(){function t(){u()(this,t),this._inProcessing=[],this._workItems=[],this._keys=[]}return p()(t,[{key:"setWorkItems",value:function(t){this._workItems=t}},{key:"getWorkItems",value:function(){function t(t){return e.apply(this,arguments)}var e=l()(s.a.mark(function t(e){var n,i,a,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.getWorkItem(e,"","");case 2:return n=t.sent,i=[],f.a.each(n,function(t){t._reference=JSON.parse(t.referenceItem),f.a.isEmpty(t._reference)||(f.a.isEmpty(t._reference.workCycleValue)&&(t._reference.workCycleValue="0"),t._reference=new y.a(t._reference)),t.amount=t.amount||1,"0"!=t.initiatorId&&i.push(new g.a(t))}),a="",f.a.each(i,function(t){a+="keys="+e+"-"+t.itemId+"&"}),t.next=9,_.a.getKey(a.substring(0,a.length-1),"");case 9:return o=t.sent,f.a.each(o,function(t,e){return i[e].readed=t}),t.abrupt("return",i);case 12:case"end":return t.stop()}},t,this)}));return t}()},{key:"setWorkItemReaded",value:function(){function t(t,n,i){return e.apply(this,arguments)}var e=l()(s.a.mark(function t(e,n,i){var a,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.registerProcessing(n),a=f.a.map(n,function(t){return e+"-"+t.itemId}),t.next=4,_.a.setKey({keys:a,value:i});case 4:o=t.sent,this.clearProcessing(n);case 6:case"end":return t.stop()}},t,this)}));return t}()},{key:"getItemReadKey",value:function(t,e){return t+"-"+e.itemId}},{key:"keyExists",value:function(){function t(t){return e.apply(this,arguments)}var e=l()(s.a.mark(function t(e){var n=this;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",m.a.asyncTimeout(function(t){return t(f.a.map(e,function(t){return f.a.any(n._keys,function(e){return e==t})}))},1e3));case 1:case"end":return t.stop()}},t,this)}));return t}()},{key:"setKeys",value:function(){function t(t,n){return e.apply(this,arguments)}var e=l()(s.a.mark(function t(e,n){var i=this;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",m.a.asyncTimeout(function(t){f.a.each(e,function(t){return i.setKey(t,n)}),t()},1e3));case 1:case"end":return t.stop()}},t,this)}));return t}()},{key:"setKey",value:function(t,e){var n=f.a.findIndex(this._keys,function(e){return e==t});n<0&&e?this._keys.push(t):n>-1&&!e&&this._keys.splice(n,1)}},{key:"inProcessing",value:function(t){return f.a.findIndex(this._inProcessing,function(e){return e==t})>-1}},{key:"setProcessing",value:function(t){this.inProcessing(t)||this._inProcessing.push(t)}},{key:"registerProcessing",value:function(t){var e=this;f.a.each(t,function(t){return e.setProcessing(t.itemId)})}},{key:"clearProcessing",value:function(t){var e=this;f.a.each(t,function(t){return m.a.removeArrayItem(e._inProcessing,t.itemId)})}},{key:"resolve",value:function(t,e,n){f.a.isUndefined(e)||f.a.isEmpty(e)||this.clearProcessing(e),f.a.isUndefined(n)||t(n()),t()}},{key:"saveWorkItems",value:function(){function t(t,n){return e.apply(this,arguments)}var e=l()(s.a.mark(function t(e,n){var i,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.registerProcessing(e),i=f.a.map(e,function(t){var e=t.toData();return e.referenceItem=a()(e.reference),e}),t.next=4,v.a.saveWorkItem(i,{headers:{ownerId:n}});case 4:return o=t.sent,this.clearProcessing(e),t.abrupt("return",o);case 7:case"end":return t.stop()}},t,this)}));return t}()},{key:"deleteWorkItems",value:function(){function t(t,n){return e.apply(this,arguments)}var e=l()(s.a.mark(function t(e,n){var i,a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.registerProcessing(e),i=[],f.a.each(e,function(t){i.push(t.itemId)}),t.prev=3,t.next=6,v.a.deleteItem({itemId:i},{headers:{ownerId:n}});case 6:a=t.sent,this.clearProcessing(e),t.next=13;break;case 10:throw t.prev=10,t.t0=t.catch(3),new Error(t.t0);case 13:return t.abrupt("return",e);case 14:case"end":return t.stop()}},t,this,[[3,10]])}));return t}()},{key:"transmitWorkItems",value:function(){function t(t,n,i,a){return e.apply(this,arguments)}var e=l()(s.a.mark(function t(e,n,i,a){var o,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.registerProcessing(e),o=f.a.map(e,function(t){return t.itemId}),t.prev=2,t.next=5,v.a.transmitItem({itemIds:o,targetId:n,force:i},{headers:{userId:a}});case 5:r=t.sent,this.clearProcessing(e),t.next=12;break;case 9:throw t.prev=9,t.t0=t.catch(2),new Error(t.t0);case 12:return t.abrupt("return",e);case 13:case"end":return t.stop()}},t,this,[[2,9]])}));return t}()},{key:"commentWorkItems",value:function(){function t(t,n){return e.apply(this,arguments)}var e=l()(s.a.mark(function t(e,n){var i,a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.registerProcessing(e),i=f.a.map(e,function(t){return{itemId:t.itemId,ratio:t.ratio,qualityScore:t.qualityScore}}),t.prev=2,t.next=5,v.a.commentItem(i,{headers:{userId:n}});case 5:a=t.sent,this.clearProcessing(e),t.next=12;break;case 9:throw t.prev=9,t.t0=t.catch(2),new Error(t.t0);case 12:return t.abrupt("return",e);case 13:case"end":return t.stop()}},t,this,[[2,9]])}));return t}()}]),t}()},function(t,e,n){"use strict";function i(t){this._ServerBatch=new a.a(t),this.IsLoding=!1,this.Items=[],this.EventloadItems=null,this.EventRefreshCount=null,i.prototype.CLearItems=function(){this.Items.splice(0,this.Items.length)},i.prototype.AddItems=function(t){for(;t.length>0;){var e=t.shift();this.Items.push({Title:e.Title,ID:e.Para,ShowRed:e.IsAutoLoad})}},i.prototype.load_Completed=function(t,e){if(e.IsLoding=!1,void 0!=t&&void 0!=t.Success&&t.Success){var n=t.Data;e.CLearItems(),e.AddItems(n)}null!=e.EventloadItems&&e.EventloadItems(t)},i.prototype.load=function(){if(null===this._ServerBatch)return!1;var t={};return this.IsLoding=this._ServerBatch.GetKanbanTypeList(t,this.load_Completed,this),this.IsLoding},i.prototype.loadItem_Completed=function(t,e){e._this.IsLoding=!1},i.prototype.loadItemsAllByUserID=function(t,e,n){if(null===this._ServerBatch)return!1;var i={UserID:t,kanBanType:e,Key:n.searchkey};return i.companyId=0,i.fetchStartIndex=0,i.fetchSize=1e5,i.sortField="",i.sortDescend=!1,this.IsLoding=this._ServerBatch.GetKanbanList(i,this.loadItem_Completed,{_this:this,ID:e}),this.IsLoding},i.prototype.loadDocCount_Completed=function(t,e){e._this.IsLoding=!1,null!=e._this.EventRefreshCount&&e._this.EventRefreshCount(t,e.ID)},i.prototype.getDocCount=function(t){if(null===this._ServerBatch)return!1;var e={kanbanType:t};return this.IsLoding=this._ServerBatch.GetKanbanCount(e,this.loadDocCount_Completed,{_this:this,ID:t}),this.IsLoding},i.prototype.loadreadDoc_Completed=function(t,e){e._this.IsLoding=!1,console.log(t),null!=e._this.EventRefreshCount&&e._this.EventRefreshCount(t,e.ID)},i.prototype.readDoc=function(t,e){if(null===this._ServerBatch)return!1;var n={kanbanType:t,documentId:e};return this.IsLoding=this._ServerBatch.ReadKanbanDocs(n,this.loadreadDoc_Completed,{_this:this,ID:t}),this.IsLoding}}var a=n(90);e.a=i},function(t,e,n){"use strict";function i(t){this._ServerBatch=new a.a(t),this.IsLoding=!1,this.Items=[],this.EventloadItems=null,i.prototype.setGroupUser=function(t,e){for(var n=0;n<t.nodes.length;n++){var i=t.nodes[n];i.groupusers=[];for(var a=0;a<i.users.length;a++){for(var o=i.users[a],s=!1,r=0;r<i.groupusers.length;r++)if(i.groupusers[r].grouptype==o.grouptype&&i.groupusers[r].groupid==o.groupid){s=!0;break}0==s&&i.groupusers.push({grouptype:o.grouptype,groupname:o.groupname,id:o.groupid,groupid:o.groupid,name:o.groupname})}t.nodes[n].users=e.cloneObject(i.groupusers)}},i.prototype.CLearItems=function(){this.Items.splice(0,this.Items.length)},i.prototype.AddItems=function(t){for(;t.length>0;){var e=t.shift();this.Items.push({Title:e.name,ID:e.id,Category:e.category})}},i.prototype.AddItemsByID=function(t){for(var e=null,n=0;n<this.Items.length;n++)if(this.Items[n].ID==t.id){e=this.Items[n];break}null==e&&(e={Title:t.name,ID:t.id,Category:t.category},this.Items.push(e));for(var i=null,n=0;n<t.nodes.length;n++)if(0==t.nodes[n].index){i=t.nodes[n];break}if(null!=i){e.condition=i.voteCount,e.UserIDs=[];for(var n=0;n<i.users.length;n++)e.UserIDs.push(i.users[n].id+"-"+i.users[n].grouptype)}},i.prototype.load_Completed=function(t,e){if(e.IsLoding=!1,void 0!=t&&void 0!=t.Success&&t.Success){var n=t.Data.templates;e.CLearItems(),e.AddItems(n)}null!=e.EventloadItems&&e.EventloadItems(t)},i.prototype.load=function(t){if(null===this._ServerBatch)return!1;var e={companyId:t};return e.keyword="",e.categoryId="",e.fetchStartIndex=0,e.fetchSize=1e4,e.sortField="",e.sortDescend=!1,this.IsLoding=this._ServerBatch.GetTemplateList(e,this.load_Completed,this),this.IsLoding},i.prototype.loadByID=function(t){if(null===this._ServerBatch)return!1;var e={templateId:t};return this.IsLoding=this._ServerBatch.GetTemplateByID(e,this.loadByID_Completed,this),this.IsLoding},i.prototype.loadByID_Completed=function(t,e){if(e.IsLoding=!1,void 0!=t&&void 0!=t.Success&&t.Success){var n=t.Data;e.AddItemsByID(n)}null!=e.EventloadItems&&e.EventloadItems(t)},i.prototype.cloneObject=function(t){if("string"==typeof t||"number"==typeof t||"boolean"==typeof t||void 0===t||null===t)return t;if(Array.isArray(t)){for(var e=[],n=0;n<t.length;n++)e.push(this.cloneObject(t[n]));return e}var i={};for(var a in t)t.hasOwnProperty(a)&&(i[a]=this.cloneObject(t[a]));return i}}var a=n(90);e.a=i},function(t,e,n){"use strict";function i(t){this._ServerSystem=new a.a(t),this.IsLoding=!1,this.Items=[],this.EventloadItems=null,i.prototype.CLearItems=function(){this.Items.splice(0,this.Items.length)},i.prototype.AddItems=function(t){this.Items=s.a.map(t,function(t){return{Title:t.name,ID:t.id+"-"+t.grouptype}})},i.prototype.load_Completed=function(t,e){var n=e.$this,i=e.companyId;if(n.IsLoding=!1,void 0!=t&&void 0!=t.Success&&t.Success){r[i]=t;var a=t.Data;n.CLearItems(),n.AddItems(a)}null!=n.EventloadItems&&n.EventloadItems(t)},i.prototype.load=function(t){if(null===this._ServerSystem)return!1;var e={companyId:t,$this:this};if(s.a.has(r,t))return void this.load_Completed(r[t],e);var n={companyId:t,query:""};return this.IsLoding=this._ServerSystem.GetUserDepartRoleList(n,this.load_Completed,e),this.IsLoding}}var a=n(335),o=n(4),s=n.n(o),r={};e.a=i},function(t,e,n){"use strict";function i(t){this._ServerUser=new a.a(t),this.UserID="",this.CompanyID="",this.CompanyName="",this.InvitationCode="",this.SearchCN="",this.ApplyID="",this.CompanyList=[],this.IsLoding=!1,this.EventsSearchCompanyCompleted={},this.EventsGetUCListCompleted={},this.EventsJCByApplyCompleted={},this.EventsJCByICodeCompleted={},this.EventsJCByUserConfirmCompleted={},this.EventsDelApplyCompleted={},i.prototype.GetUserCompanyList=function(){if(null===this._ServerUser)return!1;var t={};return t={UserID:this.UserID},this.IsLoding=this._ServerUser.GetUserStaffAndRequestList(t,this.GetUCList_Completed,this),this.IsLoding},i.prototype.GetUCList_Completed=function(t,e){if(e.IsLoding=!1,void 0!=t&&void 0!=t.Success&&t.Success){if(void 0!=e.CompanyList&&e.CompanyList.length>0)for(;0<e.CompanyList.length;n++)e.CompanyList.splice(0,1);console.log(t.Data);for(var n=0;n<t.Data.length;n++){var i=t.Data[n];if(void 0!=i.EmployeeApply){var a={};a.ApplyID=i.EmployeeApply.ApplyID,a.CompanyID=i.EmployeeApply.CompanyID,a.CompanyName=i.EmployeeApply.CompanyName,a.CompanyEName=i.EmployeeApply.CompanyEnName,a.InitiateType=i.EmployeeApply.InitiateType,a.State=i.EmployeeApply.State,1==a.State?a.StateDes="申请中":10==a.State&&(a.StateDes="在职"),void 0!=i.Employee&&(a.StaffCode=i.Employee.StaffCode,a.DepartmentName=i.Employee.DepartmentName,a.PositionalTitle=i.Employee.PositionalTitle,a.WorkMobile=i.Employee.WorkMobile,a.WorkEmail=i.Employee.WorkEmail),e.CompanyList.push(a)}}}for(var o in e.EventsGetUCListCompleted)null!=e.EventsGetUCListCompleted[o]&&e.EventsGetUCListCompleted[o](t)},i.prototype.JoinCompanyByApply=function(){if(null===this._ServerUser)return!1;var t={};return t={UserID:this.UserID,CompanyID:this.CompanyID},this.IsLoding=this._ServerUser.JoinCompanyByApply(t,this.JCByApply_Completed,this),this.IsLoding},i.prototype.JCByApply_Completed=function(t,e){e.IsLoding=!1,void 0!=t&&void 0!=t.Success&&t.Success;for(var n in e.EventsJCByApplyCompleted)null!=e.EventsJCByApplyCompleted[n]&&e.EventsJCByApplyCompleted[n](t)},i.prototype.JoinCompanyByInvitationCode=function(){if(null===this._ServerUser)return!1;var t={};return t={InvitationCode:this.InvitationCode},this.IsLoding=this._ServerUser.JoinCompanyByInvitationCode(t,this.JCByICode_Completed,this),this.IsLoding},i.prototype.JCByICode_Completed=function(t,e){e.IsLoding=!1,void 0!=t&&void 0!=t.Success&&t.Success;for(var n in e.EventsJCByICodeCompleted)null!=e.EventsJCByICodeCompleted[n]&&e.EventsJCByICodeCompleted[n](t)},i.prototype.JoinCompanyByUserConfirm=function(){if(null===this._ServerUser)return!1;var t={};return t={ApplyID:this.ApplyID},console.log(t),this.IsLoding=this._ServerUser.JoinCompanyByUserConfirm(t,this.JCByUserConfirm_Completed,this),this.IsLoding},i.prototype.JCByUserConfirm_Completed=function(t,e){e.IsLoding=!1,void 0!=t&&void 0!=t.Success&&t.Success;for(var n in e.EventsJCByUserConfirmCompleted)null!=e.EventsJCByUserConfirmCompleted[n]&&e.EventsJCByUserConfirmCompleted[n](t)},i.prototype.SearchCompany=function(){if(null===this._ServerUser)return!1;var t={};return t={name:this.SearchCN},this.IsLoding=this._ServerUser.SearchCompany(t,this.SearchCompany_Completed,this),this.IsLoding},i.prototype.SearchCompany_Completed=function(t,e){e.IsLoding=!1,console.log(t),void 0!=t&&void 0!=t.Success&&t.Success&&(e.CompanyID=t.Data.CompanyID,e.CompanyName=t.Data.Name);for(var n in e.EventsSearchCompanyCompleted)null!=e.EventsSearchCompanyCompleted[n]&&e.EventsSearchCompanyCompleted[n](t)},i.prototype.CancelApplyIntoCompany=function(){if(null===this._ServerUser)return!1;var t={};return t={applyid:this.ApplyID},this.IsLoding=this._ServerUser.CancelApplyIntoCompany(t,this.CancelApply_Completed,this),this.IsLoding},i.prototype.CancelApply_Completed=function(t,e){e.IsLoding=!1,void 0!=t&&void 0!=t.Success&&t.Success;for(var n in e.EventsDelApplyCompleted)null!=e.EventsDelApplyCompleted[n]&&e.EventsDelApplyCompleted[n](t)}}var a=n(117);e.a=i},function(t,e,n){"use strict";n.d(e,"a",function(){return b});var i=n(15),a=n.n(i),o=n(10),s=n.n(o),r=n(22),l=n.n(r),c=n(1),u=n.n(c),d=n(2),p=n.n(d),m=n(170),h=n(941),f=n(114),v=n(171),g=n(224),y=n(106),b=function(){function t(){u()(this,t)}return p()(t,[{key:"getResourceDetail",value:function(){function t(t){return e.apply(this,arguments)}var e=l()(s.a.mark(function t(e){var n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.getResourceDetail(e);case 3:return n=t.sent,f.a.currentPerformanceDocumentDetail=n,_.each(n.metadata.labels,function(t){"performanceDefinitionDoc1"===t.key&&(f.a.currentPerformanceDocumentDetailState=t.value.split("/")[1])}),t.abrupt("return",f.a.currentPerformanceDocumentDetailState);case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return t}()},{key:"getAllPerformanceDocumentList",value:function(){function t(){return e.apply(this,arguments)}var e=l()(s.a.mark(function t(){var e,n,i,o=this;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return f.a.performanceDocumentList=[],e={value:y.a.currentStaffId},t.next=4,m.a.queryResourceByKey("performanceDefinitionDoc1",e);case 4:return n=t.sent,_.each(n,function(t){var e=new h.a(t);f.a.performanceDocumentList.push(e)}),i=_.map(f.a.performanceDocumentList,function(){var t=l()(s.a.mark(function t(e){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.getPerformanceDocumentDetail(e.metadata.uid);case 3:return e.content=t.sent,t.abrupt("return",e);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},t,o,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()),t.abrupt("return",a.a.all(i).then(function(t){return f.a.performanceDocumentList=t}));case 8:case"end":return t.stop()}},t,this)}));return t}()},{key:"getPerformanceDocumentList",value:function(){function t(t){return e.apply(this,arguments)}var e=l()(s.a.mark(function t(e){var n,i,o,r=this;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return f.a.performanceDocumentList=[],n={value:y.a.currentStaffId+"/"+e},t.next=4,m.a.queryResourceByKey("performanceDefinitionDoc1",n);case 4:return i=t.sent,_.each(i,function(t){var e=new h.a(t);f.a.performanceDocumentList.push(e)}),o=_.map(f.a.performanceDocumentList,function(){var t=l()(s.a.mark(function t(e){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.getPerformanceDocumentDetail(e.metadata.uid);case 3:return e.content=t.sent,t.abrupt("return",e);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},t,r,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()),t.abrupt("return",a.a.all(o).then(function(t){return f.a.performanceDocumentList=t}));case 8:case"end":return t.stop()}},t,this)}));return t}()},{key:"getPerformanceDocumentDetail",value:function(){function t(t){return e.apply(this,arguments)}var e=l()(s.a.mark(function t(e){var n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.queryResourceContent(e,"performanceDefinitionList",{version:0});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}},t,this)}));return t}()},{key:"getPerformanceDocumentData",value:function(){function t(t){return e.apply(this,arguments)}var e=l()(s.a.mark(function t(e){var n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getPerformanceDocumentDetail(e);case 2:return n=t.sent,n.list=_.map(n.list,function(t){var e=new v.a(t.$data);return e.performanceDefinitionList=_.map(e.performanceDefinitionList,function(t){return new g.a(t.$data)}),e}),t.abrupt("return",n);case 5:case"end":return t.stop()}},t,this)}));return t}()},{key:"deletePerformanceDocument",value:function(){function t(t,n){return e.apply(this,arguments)}var e=l()(s.a.mark(function t(e,n){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.deleteResource(e,{headers:{operationToken:n}});case 2:case"end":return t.stop()}},t,this)}));return t}()},{key:"changePerforamnceDocumentState",value:function(t,e){return m.a.putLabels(t,e)}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return m});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(14),l=n.n(r),c=n(33),u=n(57),d=n(39),p=n(116),m=function(){function t(){a()(this,t)}return s()(t,[{key:"insertOrderedList",value:function(t){this.toggleList("OL",t)}},{key:"insertUnorderedList",value:function(t){this.toggleList("UL",t)}},{key:"indent",value:function(t){var e=this,n=p.a.create(t).wrapBodyInlineWithPara(),i=n.nodes(d.a.isPara,{includeAncestor:!0}),a=c.a.clusterBy(i,u.a.peq2("parentNode"));l.a.each(a,function(t,n){var i=c.a.head(n);d.a.isLi(i)?e.wrapList(n,i.parentNode.nodeName):l.a.each(n,function(t,e){l()(e).css("marginLeft",function(t,e){return(parseInt(e,10)||0)+25})})}),n.select()}},{key:"outdent",value:function(t){var e=this,n=p.a.create(t).wrapBodyInlineWithPara(),i=n.nodes(d.a.isPara,{includeAncestor:!0}),a=c.a.clusterBy(i,u.a.peq2("parentNode"));l.a.each(a,function(t,n){var i=c.a.head(n);d.a.isLi(i)?e.releaseList([n]):l.a.each(n,function(t,e){l()(e).css("marginLeft",function(t,e){return e=parseInt(e,10)||0,e>25?e-25:""})})}),n.select()}},{key:"toggleList",value:function(t,e){var n=this,i=p.a.create(e).wrapBodyInlineWithPara(),a=i.nodes(d.a.isPara,{includeAncestor:!0}),o=i.paraBookmark(a),s=c.a.clusterBy(a,u.a.peq2("parentNode"));if(c.a.find(a,d.a.isPurePara)){var r=[];l.a.each(s,function(e,i){r=r.concat(n.wrapList(i,t))}),a=r}else{var m=i.nodes(d.a.isList,{includeAncestor:!0}).filter(function(e){return!l.a.nodeName(e,t)});m.length?l.a.each(m,function(e,n){d.a.replace(n,t)}):a=this.releaseList(s,!0)}p.a.createFromParaBookmark(o,a).select()}},{key:"wrapList",value:function(t,e){var n=c.a.head(t),i=c.a.last(t),a=d.a.isList(n.previousSibling)&&n.previousSibling,o=d.a.isList(i.nextSibling)&&i.nextSibling,s=a||d.a.insertAfter(d.a.create(e||"UL"),i);return t=t.map(function(t){return d.a.isPurePara(t)?d.a.replace(t,"LI"):t}),d.a.appendChildNodes(s,t),o&&(d.a.appendChildNodes(s,c.a.from(o.childNodes)),d.a.remove(o)),t}},{key:"releaseList",value:function(t,e){var n=[];return l.a.each(t,function(t,i){var a=c.a.head(i),o=c.a.last(i),s=e?d.a.lastAncestor(a,d.a.isList):a.parentNode,r=s.childNodes.length>1?d.a.splitTree(s,{node:o.parentNode,offset:d.a.position(o)+1},{isSkipPaddingBlankHTML:!0}):null,u=d.a.splitTree(s,{node:a.parentNode,offset:d.a.position(a)},{isSkipPaddingBlankHTML:!0});i=e?d.a.listDescendant(u,d.a.isLi):c.a.from(u.childNodes).filter(d.a.isLi),!e&&d.a.isList(s.parentNode)||(i=i.map(function(t){return d.a.replace(t,"P")})),l.a.each(c.a.from(i).reverse(),function(t,e){d.a.insertAfter(e,s)});var p=c.a.compact([s,u,r]);l.a.each(p,function(t,e){var n=[e].concat(d.a.listDescendant(e,d.a.isList));l.a.each(n.reverse(),function(t,e){d.a.nodeLength(e)||d.a.remove(e,!0)})}),n=n.concat(i)}),n}}]),t}()},function(t,e,n){"use strict";var i=n(4),a=(n.n(i),n(225)),o={_seq:15,StaffDatas:[{UserID:1,StaffID:1,StaffCode:"200001",StaffName:"张三2丰",Nick:"君宝we",EName:"zhangsanfeng",CompanyID:1,CompanyName:"上海贞易信息科技有限公司",DepartmentID:1,DepartmentName:"信息部",PositionIDs:[1,2],PositionNames:"DBA,运维",State:1,WorkPhone:"12345678",WorkMobile:"18301851000",WorkEmail:"aaa@bb.com",PositionalTitle:"高级",JoinTime:"2010-05-01",UserNum:"abcde1@gitwms.com"},{UserID:2,StaffID:2,StaffCode:"200002",StaffName:"张三5丰",Nick:"君we宝",EName:"zhangsanfeng",CompanyID:1,CompanyName:"上海贞易信息科技有限公司",DepartmentID:1,DepartmentName:"信息部",PositionIDs:[1,2],PositionNames:"DBA,运维",State:10,WorkPhone:"12345678",WorkMobile:"18301851000",WorkEmail:"aaa@bb.com",PositionalTitle:"中级",JoinTime:"2016-07-08",UserNum:"abcde2@gitwms.com"},{UserID:3,StaffID:3,StaffCode:"200401",StaffName:"张三3丰",Nick:"君ed宝",EName:"zhangsanfeng",CompanyID:1,CompanyName:"上海贞易信息科技有限公司",DepartmentID:1,DepartmentName:"信息部",PositionIDs:[1,2],PositionNames:"DBA,运维",State:10,WorkPhone:"12345678",WorkMobile:"18301851000",WorkEmail:"aaa@bb.com",PositionalTitle:"初级级",JoinTime:"2008-05-03",UserNum:"abcde3@gitwms.com"},{UserID:4,StaffID:4,StaffCode:"206001",StaffName:"张三34丰",Nick:"君d宝",EName:"zhangsanfeng",CompanyID:1,CompanyName:"上海贞易信息科技有限公司",DepartmentID:1,DepartmentName:"信息部",PositionIDs:[1,2],PositionNames:"DBA,运维",State:5,WorkPhone:"12345678",WorkMobile:"18301851000",WorkEmail:"aaa@bb.com",PositionalTitle:"",JoinTime:"2010-05-01",UserNum:"abcde4@gitwms.com"},{UserID:5,StaffID:5,StaffCode:"207001",StaffName:"张三45丰",Nick:"君df宝",EName:"zhangsanfeng",CompanyID:1,CompanyName:"上海贞易信息科技有限公司",DepartmentID:1,DepartmentName:"信息部",PositionIDs:[1,2],PositionNames:"DBA,运维",State:1,WorkPhone:"12345678",WorkMobile:"18301851000",WorkEmail:"aaa@bb.com",PositionalTitle:"高级",JoinTime:"2010-05-01",UserNum:"abcde5@gitwms.com"},{UserID:6,StaffID:6,StaffCode:"200801",StaffName:"张三丰",Nick:"君宝dsf",EName:"zhangsanfeng",CompanyID:1,CompanyName:"上海贞易信息科技有限公司",DepartmentID:1,DepartmentName:"信息部",PositionIDs:[1,2],PositionNames:"DBA,运维",State:10,WorkPhone:"12345678",WorkMobile:"18301851000",WorkEmail:"aaa@bb.com",PositionalTitle:"高级",JoinTime:"2010-05-01",UserNum:"abcde6@gitwms.com"},{UserID:7,StaffID:7,StaffCode:"20t001",StaffName:"张三4丰",Nick:"君宝",EName:"zhangsanfeng",CompanyID:1,CompanyName:"上海贞易信息科技有限公司",DepartmentID:1,DepartmentName:"信息部",PositionIDs:[1,2],PositionNames:"DBA,运维",State:1,WorkPhone:"12345678",WorkMobile:"18301851000",WorkEmail:"aaa@bb.com",PositionalTitle:"高级",JoinTime:"2010-05-01",UserNum:"abcde7@gitwms.com"},{UserID:8,StaffID:8,StaffCode:"400001",StaffName:"张三45丰",Nick:"君sdf宝",EName:"zhangsanfeng",CompanyID:1,CompanyName:"上海贞易信息科技有限公司",DepartmentID:1,DepartmentName:"信息部",PositionIDs:[1,2],PositionNames:"DBA,运维",State:10,WorkPhone:"12345678",WorkMobile:"18301851000",WorkEmail:"aaa@bb.com",PositionalTitle:"高级",JoinTime:"2010-05-01",UserNum:"abcde8@gitwms.com"},{UserID:9,StaffID:9,StaffCode:"200001",StaffName:"张三丰",Nick:"君sdsdff宝",EName:"zhangsanfeng",CompanyID:1,CompanyName:"上海贞易信息科技有限公司",DepartmentID:1,DepartmentName:"信息部",PositionIDs:[1,2],PositionNames:"DBA,运维",State:10,WorkPhone:"12345678",WorkMobile:"18301851000",WorkEmail:"aaa@bb.com",PositionalTitle:"高级",JoinTime:"2010-05-01",UserNum:"abcde9@gitwms.com"},{UserID:10,StaffID:10,StaffCode:"260001",StaffName:"张三45丰",Nick:"君sd宝",EName:"zhangsanfeng",CompanyID:1,CompanyName:"上海贞易信息科技有限公司",DepartmentID:1,DepartmentName:"信息部",PositionIDs:[1,2],PositionNames:"DBA,运维",State:5,WorkPhone:"12345678",WorkMobile:"18301851000",WorkEmail:"aaa@bb.com",PositionalTitle:"高级",JoinTime:"2010-05-01",UserNum:"abcd12e@gitwms.com"},{UserID:11,StaffID:11,StaffCode:"500001",StaffName:"张w三丰",Nick:"君sdf宝",EName:"zhangsanfeng",CompanyID:1,CompanyName:"上海贞易信息科技有限公司",DepartmentID:1,DepartmentName:"信息部",PositionIDs:[1,2],PositionNames:"DBA,运维",State:10,WorkPhone:"12345678",WorkMobile:"18301851000",WorkEmail:"aaa@bb.com",PositionalTitle:"高级",JoinTime:"2010-05-01",UserNum:"abc123de@gitwms.com"},{UserID:12,StaffID:12,StaffCode:"300001",StaffName:"张三ds丰",Nick:"君sf宝",EName:"zhangsanfeng",CompanyID:1,CompanyName:"上海贞易信息科技有限公司",DepartmentID:1,DepartmentName:"信息部",PositionIDs:[1,2],PositionNames:"DBA,运维",State:90,WorkPhone:"12345678",WorkMobile:"18301851000",WorkEmail:"aaa@bb.com",PositionalTitle:"高级",JoinTime:"2010-05-01",UserNum:"abcd24e@gitwms.com"},{UserID:13,StaffID:13,StaffCode:"700001",StaffName:"张we三丰",Nick:"君sdf宝",EName:"zhangsanfeng",CompanyID:1,CompanyName:"上海贞易信息科技有限公司",DepartmentID:1,DepartmentName:"信息部",PositionIDs:[1,2],PositionNames:"DBA,运维",State:1,WorkPhone:"12345678",WorkMobile:"18301851000",WorkEmail:"aaa@bb.com",PositionalTitle:"高级",JoinTime:"2010-05-01",UserNum:"abcd25e@gitwms.com"}],JoinCompanyApplyDatas:[{ApplyID:1,UserID:1,UserName:"TestUser1",InitiatorID:1,InitiatorName:"TestUser1",InitiateType:1,StaffID:1,StaffName:"张三",CompanyID:"1",CompanyName:"上海贞易信息科技有限公司",PositionNames:[],Role:"",StaffCode:"",WorkEmail:"",InvitationCode:"",SendTime:"2017-07-17 10:00:00",EffectiveTime:"",UserConfirmationTime:"",HRConfirmationTime:"",State:"1",StateDes:"申请中",RequestTime:""},{ApplyID:2,UserID:2,UserName:"TestUser2",InitiatorID:2,InitiatorName:"TestUser2",InitiateType:1,StaffID:2,StaffName:"赵四",CompanyID:"1",CompanyName:"上海贞易信息科技有限公司",PositionNames:[],Role:"",StaffCode:"",WorkEmail:"",InvitationCode:"",SendTime:"2017-07-18 10:00:00",EffectiveTime:"",UserConfirmationTime:"",HRConfirmationTime:"",State:"1",StateDes:"申请中",RequestTime:""},{ApplyID:3,UserID:3,UserName:"TestUser3",InitiatorID:3,InitiatorName:"TestUser3",InitiateType:1,StaffID:3,StaffName:"王五",CompanyID:"1",CompanyName:"上海贞易信息科技有限公司",PositionNames:[],Role:"",StaffCode:"",WorkEmail:"",InvitationCode:"",SendTime:"2017-07-19 10:00:00",EffectiveTime:"",UserConfirmationTime:"",HRConfirmationTime:"",State:"1",StateDes:"申请中",RequestTime:""}],getStaffInfoByStaffID:function(t){for(var e=0;e<this.StaffDatas.length;e++){var n=this.StaffDatas[e];if(n.StaffID==t)return n}return null},getStaffInfoListByUserID:function(t){for(var e=[],n=0;n<this.StaffDatas.length;n++){var i=this.StaffDatas[n];i.UserID==t&&e.push(i)}return e},_getApplyInfoByHR:function(t){for(var e=[],n=0;n<this.JoinCompanyApplyDatas.length;n++){var i=this.JoinCompanyApplyDatas[n];i.CompanyID==t&&1==i.InitiateType&&1==i.State&&e.push(i)}return e},getJoinCompanyData:function(t){for(var e=0;e<this.JoinCompanyApplyDatas.length;e++)if(this.JoinCompanyApplyDatas[e].ApplyID==t)return this.JoinCompanyApplyDatas[e];return null},getNowFormatDate:function(){var t=new Date,e=t.getMonth()+1,n=t.getDate();return e>=1&&e<=9&&(e="0"+e),n>=0&&n<=9&&(n="0"+n),t.getFullYear()+"-"+e+"-"+n+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()},CreateStaff:function(t,e,n){var i=t.UserID,a=t.StaffCode,o=t.StaffName,s=t.Nick,r=t.EName,l=t.CompanyID,c=t.DepartmentID,u=t.DepartmentName,d=t.PositionIDs,p=t.PositionNames,m=t.State,h=t.WorkPhone,f=t.WorkMobile,v=t.WorkEmail,g=t.PositionalTitle,y=t.JoinTime,_=t.UserNum,b={UserID:i,StaffID:this._seq++,StaffCode:a,StaffName:o,Nick:s,EName:r,CompanyID:l,DepartmentID:c,DepartmentName:u,PositionIDs:d,PositionNames:p,State:m,WorkPhone:h,WorkMobile:f,WorkEmail:v,PositionalTitle:g,JoinTime:y,UserNum:_};this.StaffDatas.push(b),e({Success:!0,Data:{StaffID:b.StaffID}},n)},UpdateStaff:function(t,e,n){var i=t.StaffID,a=this.getStaffInfoByStaffID(i);if(null==a)return void e({Success:!0,Error:"员工不存在"},n);a.StaffCode=t.StaffCode,a.StaffName=t.StaffName,a.Nick=t.Nick,a.EName=t.EName,a.CompanyID=t.CompanyID,a.DepartmentID=t.DepartmentID,a.DepartmentName=t.DepartmentName,a.PositionIDs=t.PositionIDs,a.PositionNames=t.PositionNames,a.State=t.State,a.WorkPhone=t.WorkPhone,a.WorkMobile=t.WorkMobile,a.WorkEmail=t.WorkEmail,a.PositionalTitle=t.PositionalTitle,a.JoinTime=t.JoinTime,a.UserNum=t.UserNum,e({Success:!0,Data:a},n)},SearchStaffs:function(t,e,n){var i=this.StaffDatas,o=i,s=t.NodeId,r=t.NodeType;if(void 0!=s&&void 0!=r)for(var l=new a.a,c=l.SearchNodes(t.CompanyID,t.Keyword,s,r),u=0;u<c.length;u++)for(var d=0;d<i.length;d++){var p=i[d];(1==c[u].Type&&p.StaffID==c[u].ID||2==c[u].Type&&p.DepartmentID==c[u].ID||4==c[u].Type&&p.PositionIDs.indexOf(c[u].ID>=0))&&o.push(i[d])}if(void 0!=t.Keyword)for(var u=0;u<i.length;u++)(i[u].StaffCode.indexOf(t.Keyword)>-1||i[u].StaffName.indexOf(t.Keyword)>-1||i[u].Nick.indexOf(t.Keyword)>-1||i[u].EName.indexOf(t.Keyword)>-1||i[u].WorkPhone.indexOf(t.Keyword)>-1||i[u].WorkMobile.indexOf(t.Keyword)>-1||i[u].WorkEmail.indexOf(t.Keyword)>-1)&&o.push(i[u]);else o=i;var m=[];if(t.State>0)for(var u=0;u<o.length;u++)o[u].State==t.State&&m.push(o[u]);else m=o;e({Success:!0,Data:m},n)},GetStaffByID:function(t,e,n){var i=t.StaffID;return e({Success:!0,Data:this.getStaffInfoByStaffID(i)},n),!0},GetStaffListByUserID:function(t,e,n){var i=t.StaffID;return e({Success:!0,Data:this.getStaffInfoListByUserID(i)},n),!0},Dimission:function(t,e,n){var i=t.StaffID,a=this.getStaffInfoByStaffID(i);return void 0==a?void e({Success:!1,Error:"员工不存在",Data:void 0},n):10!=a.State?void e({Success:!1,Error:"该员工不在职",Data:void 0},n):(a.State=90,void e({Success:!0,Data:void 0},n))},GetApplyInfoByHR:function(t,e,n){var i=t.CompanyID;e({Success:!0,Data:this._getApplyInfoByHR(i)},n)},HRConfirmApplication:function(t,e,n){var i=t.ApplyID,a=t.StaffID,o=this.getStaffInfoByStaffID(a);if(null==o)return void e({Success:!1,Error:"员工不存在"},n);var s=this.getJoinCompanyData(i);o.UserID=s.UserID,o.State=10,s.StaffID=o.StaffID,s.StaffName=o.StaffName,s.HRConfirmationTime=this.getNowFormatDate(),s.State=10,e({Success:!0,Data:o},n)}};e.a=o},function(t,e,n){"use strict";function i(t){this.Servers=t,i.prototype.GetPerformanceList_Completed=function(e,n,i){return t.Performance.GetPerformanceList_Completed(e,n,i)}}e.a=i},function(t,e,n){"use strict";function i(t){this.Servers=t,i.prototype.GetCompanyList=function(e,n,i){return t.System.GetCompanyList(e,n,i)},i.prototype.GetUserList=function(e,n,i){return t.System.GetUserList(e,n,i)},i.prototype.GetCompanysByUserID=function(e,n,i){return t.System.GetCompanysByUserID(e,n,i)},i.prototype.GetUserDepartRoleList=function(e,n,i){return t.System.GetUserDepartRoleList(e,n,i)}}e.a=i},function(t,e,n){"use strict";n.d(e,"a",function(){return m});var i=n(19),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(31),u=(n.n(c),n(6)),d=n(23),p={GetList:d.a+"/api/Document/Query",GetOne:d.a+"/api/Document/GetDocumentById?documentId=",CreateDraft:d.a+"/api/Document/CreateDraft",UpdateDraft:d.a+"/api/Document/UpdateDraft",DeleteDraft:d.a+"/api/Document/DeleteDraft?documentId=",GetPayableItems:d.a+"/api/Payable/GetPayableItems?",GetSubjectById:d.a+"/api/Payable/GetSubjectById?subjectId=",GetPayableWithPayment:d.a+"/api/Payable/GetPayableWithPayment",GetPayableInPastDays:d.a+"/api/Payable/GetPayableInPastDays"};Date.prototype.format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in e)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[n]:("00"+e[n]).substr((""+e[n]).length)));return t};var m=function(){function t(){s()(this,t)}return l()(t,[{key:"getList",value:function(t){var e={jsonContent:a()(t)};return u.a.post(p.GetList,e)}},{key:"getOne",value:function(t){return u.a.get(p.GetOne+t)}},{key:"updateDraft",value:function(t,e,n){var i={jsonContent:a()({content:e,form:{formType:0,version:0},id:{id:t,type:n}})};return u.a.post(p.UpdateDraft,i)}},{key:"createDraft",value:function(t,e){var n={jsonContent:a()({content:t,form:{formType:0,version:0},id:{id:0,type:e}})};return u.a.post(p.CreateDraft,n)}},{key:"formatDraft",value:function(t,e){return{content:t,form:{formType:0,version:0},id:{id:t.documentId,type:e}}}},{key:"deleteDraft",value:function(t){return u.a.delete(p.DeleteDraft+t)}},{key:"getPayableSubject",value:function(t){return u.a.get(p.GetSubjectById+t)}},{key:"getPayableInPastDays",value:function(t,e){return u.a.get(p.GetPayableInPastDays,{subjectId:t,pastDays:e})}},{key:"getPayableWithPayment",value:function(t,e){return u.a.get(p.GetPayableWithPayment,{subjectId:t,payableId:e})}},{key:"getPayableItems",value:function(t,e,n){""!=t&&void 0!=t||(t=0);var i={subjectId:t,bankAccount:e,searchRange:n};return u.a.get(p.GetPayableItems,i)}}]),t}()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){n(1312);var i=n(0)(n(658),n(1654),"data-v-147c0c34",null);t.exports=i.exports},function(t,e,n){n(1325);var i=n(0)(n(661),n(1668),"data-v-1f1855a6",null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(664),n(1810),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(665),n(1631),null,null);t.exports=i.exports},function(t,e,n){n(1445);var i=n(0)(n(726),n(1818),"data-v-fc086278",null);t.exports=i.exports},function(t,e,n){n(1335);var i=n(0)(n(737),n(1680),"data-v-26b397f4",null);t.exports=i.exports},function(t,e,n){n(1316);var i=n(0)(n(740),n(1658),"data-v-16e3ddf6",null);t.exports=i.exports},function(t,e,n){n(1401);var i=n(0)(n(742),n(1760),"data-v-692f7123",null);t.exports=i.exports},function(t,e,n){n(1326);var i=n(0)(n(745),n(1669),"data-v-1f803e0a",null);t.exports=i.exports},function(t,e,n){n(1353);var i=n(0)(n(760),n(1701),"data-v-383b3b58",null);t.exports=i.exports},function(t,e,n){n(1375);var i=n(0)(n(771),n(1725),"data-v-51e35636",null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(775),n(1661),null,null);t.exports=i.exports},function(t,e,n){n(1354);var i=n(0)(n(782),n(1702),"data-v-384e4d7d",null);t.exports=i.exports},function(t,e,n){n(1340),n(1341);var i=n(0)(n(798),n(1690),"data-v-2bbec808",null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(801),n(1805),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(806),n(1813),null,null);t.exports=i.exports},function(t,e,n){n(1338);var i=n(0)(n(817),n(1686),"data-v-2ae4cd80",null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(826),n(1769),null,null);t.exports=i.exports},function(t,e,n){n(1407);var i=n(0)(n(845),n(1766),"data-v-6f879d99",null);t.exports=i.exports},,function(t,e){t.exports={itemId:"",type:"routine",title:"",workCycleValue:"",workCycleUnit:"day",startTime:"",baseScore:"",minimumRatio:0,maximumRatio:1,units:"",state:"start",sourceLog:""}},function(t,e){t.exports=[{itemId:"1",type:"routine",title:"日常标题测试日常标题测试",workCycleValue:"",workCycleUnit:"",startTime:"",baseScore:5,minimumRatio:0,maximumRatio:1,units:"",state:"effected"},{itemId:"2",type:"cycle",title:"周期标题",workCycleValue:10,workCycleUnit:"week",startTime:"2018-2-6",baseScore:5,minimumRatio:0,maximumRatio:1,units:"件",state:"effected"},{itemId:"3",type:"measureTimes",title:"标题",workCycleValue:10,workCycleUnit:"week",startTime:"2018-2-6",baseScore:5,minimumRatio:0,maximumRatio:1,units:"times",state:"effected"},{itemId:"4",type:"measurePiece",title:"标题",workCycleValue:10,workCycleUnit:"week",startTime:"2018-2-6",baseScore:5,minimumRatio:0,maximumRatio:1,units:"piece",state:"effected"}]},function(t,e,n){"use strict";var i=n(1460),a=n.n(i),o=n(528),s=n.n(o),r=n(1461),l=n.n(r),c=n(529),u=n.n(c),d=n(1462),p=n.n(d),m=n(608),h=n(609),f=function(t){t.component(a.a.name,a.a),t.component(s.a.name,s.a),t.component(l.a.name,l.a),t.component(u.a.name,u.a),t.component(p.a.name,p.a),t.prototype.$BudgetDetailManager=new m.a,t.prototype.$BudgetKanbanManager=new h.a};e.a={install:f}},function(t,e,n){"use strict";var i=n(1621),a=n.n(i),o=n(1619),s=n.n(o),r=function(t){t.component(a.a.name,a.a),t.component(s.a.name,s.a)};e.a={install:r}},function(t,e,n){"use strict";var i=n(1495),a=n.n(i),o=n(853),s=n(1497),r=n.n(s),l=n(1494),c=n.n(l),u=n(1498),d=n.n(u),p=n(1496),m=n.n(p),h=n(1499),f=n.n(h),v=n(1500),g=n.n(v),y=n(1463),_=n.n(y),b=n(531),C=n.n(b),k=n(530),I=n.n(k),D=function(t){t.component(a.a.name,a.a),t.component(o.a.name,o.a),t.component(r.a.name,r.a),t.component(c.a.name,c.a),t.component(d.a.name,d.a),t.component(m.a.name,m.a),t.component(C.a.name,C.a),t.component(_.a.name,_.a),t.component(I.a.name,I.a),t.component(f.a.name,f.a),t.component(g.a.name,g.a)};e.a={install:D}},function(t,e,n){"use strict";(function(t){var i=n(15),a=n.n(i),o=n(36),s=n.n(o),r=n(302),l=n(134),c=n(203),u=n(850),d=n(851),p=n(852),m=n(70),h=n(129),f=n(855),v=n(854),g=n(858),y=n(856),_=n(857),b=n(1493),C=n.n(b),k=n(1475),I=n.n(k),D=n(1480),S=n.n(D),w=n(1466),x=n.n(w),E=n(1471),T=n.n(E),N=n(1489),P=n.n(N),M=n(1486),$=n.n(M),U=n(1467),L=n.n(U),R=n(1483),A=n.n(R),F=n(1465),B=n.n(F),O=n(1472),V=n.n(O),j=n(1482),z=n.n(j),G=n(1477),q=n.n(G),H=n(1473),K=n.n(H),W=n(1479),Y=n.n(W),J=n(1481),Q=n.n(J),Z=n(1478),X=n.n(Z),tt=n(1476),et=n.n(tt),nt=n(1491),it=n.n(nt),at=n(1469),ot=n.n(at),st=n(1485),rt=n.n(st),lt=n(1488),ct=n.n(lt),ut=n(1490),dt=n.n(ut),pt=n(1468),mt=n.n(pt),ht=n(1484),ft=n.n(ht),vt=n(1487),gt=n.n(vt),yt=n(1474),_t=n.n(yt),bt=n(1492),Ct=n.n(bt),kt=n(1470),It=n.n(kt),Dt=n(1501),St=n.n(Dt),wt=n(4),xt=n.n(wt),Et=function(e){var n;h.a.use(f.a),h.a.use(g.a),h.a.use(v.a),h.a.use(y.a),h.a.use(_.a);var i=new r.a(h.a),a=new l.a(h.a),o=new c.a(h.a),b=new u.a(h.a),k=new d.a(h.a),D=new p.a(h.a);e.prototype.$documentManager=i,e.prototype.$userManager=a,e.prototype.$companyManager=o,e.prototype.$endorsementManager=b,e.prototype.$payableManager=k,e.prototype.$templateManager=D,e.prototype.$validateObject=m.a,e.prototype.$language=t.language,e.component(I.a.name,I.a),e.component(S.a.name,S.a),e.component(x.a.name,x.a),e.component(T.a.name,T.a),e.component(P.a.name,P.a),e.component($.a.name,$.a),e.component(C.a.name,C.a),e.component(B.a.name,B.a),e.component(V.a.name,V.a),e.component(z.a.name,z.a),e.component(L.a.name,L.a),e.component(A.a.name,A.a),e.component(q.a.name,q.a),e.component(K.a.name,K.a),e.component(Y.a.name,Y.a),e.component(Q.a.name,Q.a),e.component(X.a.name,X.a),e.component(et.a.name,et.a),e.component(it.a.name,it.a),e.component(ot.a.name,ot.a),e.component(rt.a.name,rt.a),e.component(ct.a.name,ct.a),e.component(dt.a.name,dt.a),e.component(mt.a.name,mt.a),e.component(ft.a.name,ft.a),e.component(gt.a.name,gt.a),e.component(_t.a.name,_t.a),e.component(Ct.a.name,Ct.a),e.component(It.a.name,It.a),e.component(St.a.name,St.a);var w=(n={"忘记密码":"Forget Password","账号、邮箱、手机号":"AccountID, Email or Mobile","请输入您的密码":"Password","登 录":"Login","立即注册":"Register","畅想个性化定制在线办公服务":"","沪ICP备17014083号 沪公网安备 31011502005295号":"沪ICP备17014083号 沪公网安备 31011502005295号","移动":"Mobile Version","合作":"Cooperation","帮助":"Help","找回密码":"Retrieve password","填写账户信息":"Fill Account Info","验证个人信息":"Personal Information Verfication","设置密码":"Set Password","账号":"Account","请输入您的账号":"Please enter your Account ID","验证码":"Verification code","使用手机验证":"使用手机验证(en)","使用邮箱验证":"使用邮箱验证(en)","验证手机或邮箱":"验证手机或邮箱(en)","验证码已发送至您":"验证码已发送至您(en)","新密码":"New Password","请输入您的新密码":"请输入您的新密码(en)","确认密码":"Confirm New Password","请再次输入您的新密码":"请再次输入您的新密码(en)","下 一 步":"Next","沪ICP备88888888号":"沪ICP备88888888号","验证成功，请重置密码":"验证成功，请重置密码(en)","验证失败":"验证失败(en)","密码不一致，请确认":"密码不一致，请确认(en)","重置密码成功":"Reset Password Successfully","重置失败":"重置失败(en)","重新获取":"重新获取(en)","获取验证码":"Send","邮箱未绑定！":"邮箱未绑定！(en)","您已绑定手机":"Bind your mobile phone","您已绑定邮箱":"您已绑定邮箱(en)","手机或邮箱验证失败":"手机或邮箱验证失败(en)","绑定邮箱设置":"绑定邮箱设置(en)","您还没有绑定邮箱":"您还没有绑定邮箱(en)","您可在这里绑定邮箱":"您可在这里绑定邮箱(en)","输入您的邮箱账户":"Please enter your E-mail account","输入您收到的验证码":"输入您收到的验证码(en)","验证登录密码":"Verify login password","绑 定":"Bind","验证码未填写":"Verification code required","邮箱填写错误":"邮箱填写错误(en)","绑定邮箱成功":"绑定邮箱成功(en)","修改邮箱设置":"Modify E-mail settings","您绑定邮箱":"Your bind E-mail","您可以在这里修改邮箱":"You can modify your E-mail here","输入新的邮箱账户":"输入新的邮箱账户(en)"},s()(n,"输入您收到的验证码","输入您收到的验证码(en)"),s()(n,"请输入您收到的验证码","Please enter your mobile verification code"),s()(n,"验证登录密码","Please enter your login password"),s()(n,"请输入您的账户登录密码","Please enter your account login password"),s()(n,"新邮箱填写错误","新邮箱填写错误(en)"),s()(n,"修改邮箱成功","修改邮箱成功(en)"),s()(n,"用户邮箱输入错误","用户邮箱输入错误(en)"),s()(n,"修改手机","Bind Mobile phone"),s()(n,"您绑定手机","Bind your mobile phone"),s()(n,"您可以在这里修改手机","You can modify you mobile phone here"),s()(n,"输入新手机号码","Enter new mobile phone number"),s()(n,"请输入新手机号码","Please Enter new mobile phone number"),s()(n,"手机验证码","Mobile phone verification code"),s()(n,"新手机填写错误","新手机填写错误(en)"),s()(n,"修改手机成功","修改手机成功(en)"),s()(n,"用户手机输入错误","用户手机输入错误(en)"),s()(n,"修改密码","Modify Password"),s()(n,"旧密码","Old Password"),s()(n,"请输入旧密码","Please Enter Old Password"),s()(n,"新密码","New Password"),s()(n,"请输入新密码","Please Enter New Password"),s()(n,"确认新密码","Please Confirm new password"),s()(n,"请再次输入新密码","Confirm New Password"),s()(n,"确 定","OK"),s()(n,"旧密码未输入","旧密码未输入(en)"),s()(n,"新密码未输入","新密码未输入(en)"),s()(n,"新密码不一致","新密码不一致(en)"),s()(n,"修改密码成功","修改密码成功(en)"),s()(n,"我的公司","My company"),s()(n,"申 请 加 入","Apply to join"),s()(n,"请输入关键字搜素","Please enter keyword to search"),s()(n,"搜 索","Search"),s()(n,"工号","Staff number"),s()(n,"部门","Department"),s()(n,"职务","Position"),s()(n,"工作邮箱","Office E-mail"),s()(n,"状态","Status"),s()(n,"接受申请","Accept"),s()(n,"取消申请","Cancel"),s()(n,"申请加入公司","Apply to join company"),s()(n,"请输入公司或者邀请码","Please enter company or invitation number"),s()(n,"成功申请","成功申请(en)"),s()(n,"成功加入","Apply to join"),s()(n,"成功取消","成功取消(en)"),s()(n,"用户信息","User"),s()(n,"保存","Save"),s()(n,"用户头像","Avatar"),s()(n,"上传照片","Upload"),s()(n,"选择计算机上的图像文件（最大为 4MB）","Select a photo file from computer (Max 4MB)"),s()(n,"基本信息","Basic"),s()(n,"姓氏","Family"),s()(n,"名字","Name"),s()(n,"英文名","English Name"),s()(n,"昵称","Nick Name"),s()(n,"性 别","Gender"),s()(n,"男","Male"),s()(n,"女","Female"),s()(n,"生日","Date of birth"),s()(n,"修改成功","修改成功(en)"),s()(n,"上传头像图片只能是 JPG 或 PNG 格式!","上传头像图片只能是 JPG 或 PNG 格式!(en)"),s()(n,"上传头像图片只能是 JPG 或 PNG 格式!","上传头像图片只能是 JPG 或 PNG 格式!(en)"),s()(n,"上传头像图片大小不能超过 4MB!","上传头像图片大小不能超过 4MB!(en)"),s()(n,"新用户注册","User Register"),s()(n,"账号","Account"),s()(n,"请输入账号","Please enter Account ID"),s()(n,"手机","Mobile"),s()(n,"请输入手机号","Please enter Mobile phone"),s()(n,"验证码","Verification code"),s()(n,"请输入验证码","Please enter verification code"),s()(n,"密码","Password"),s()(n,"请输入密码","Please enter password"),s()(n,"确认密码","Confirm Password"),s()(n,"请再次输入密码","Please Conform Password"),s()(n,"我同意","I Agree"),s()(n,"注 册","Register"),s()(n,"恭喜！您的账号注册成功!","恭喜！您的账号注册成功!(en)"),s()(n,"您的账号","Your Account"),s()(n,"已完成注册，请牢记您的账号!","已完成注册，请牢记您的账号!(en)"),s()(n,"登陆后您可以","登陆后您可以(en)"),s()(n,"创建您的公司","创建您的公司(en)"),s()(n,"加入您的公司","加入您的公司(en)"),s()(n,"有任何问题请联系我们的客服","有任何问题请联系我们的客服(en)"),s()(n,"立 即 登 录","Login"),s()(n,"立即登录","Login"),s()(n,"已有账号","Account Exist"),s()(n,"用户账号未输入","用户账号未输入(en)"),s()(n,"用户手机输入错误","用户手机输入错误(en)"),s()(n,"用户密码不一致","用户密码不一致(en)"),s()(n,"注册成功","注册成功(en)"),s()(n,"安全信息","Security"),s()(n,"账号ID","Account ID"),s()(n,"绑定手机","Mobile"),s()(n,"绑定邮箱","Email"),s()(n,"安全信息","Security"),s()(n,"登 录 密 码","Login Password"),s()(n,"安全性高的密码可以使账号更安全。建议您定期更换密码，且设置一个包含数字和字母，并长度超过6位以上的密码","(Higher safety degree password allows your account to be safer. For account safety matters, we advise users to modify their password periodically, it should include numbers and letter, and length above six figures to bind with their mobile phones."),s()(n,"修 改 密 码","Modify Password"),s()(n,"绑 定 手 机","Bind Mobile phone"),s()(n,"绑定手机后，您即可享受我们丰富的手机服务，如手机找回密码等","Mobile phone binding allows users to enjoy our abundant mobile phone services, ex. Find back your password etc…"),s()(n,"修 改 手 机","Modify Mobile phone"),s()(n,"绑 定 邮 箱","Bind E-mail"),s()(n,"绑定邮箱后，您即可享受我们丰富的资讯服务，如邮箱找回密码等","E-mail binding allows users to enjoy our abundant news and information services, ex. Find back your password etc…"),s()(n,"绑 定 邮 箱","Bind E-mail"),s()(n,"修 改 邮 箱","Modify E-mail"),s()(n,"服务条款","Term of service"),s()(n,"组织机构","Organization"),s()(n,"应用模板","应用模板(en)"),s()(n,"角色信息","Role Information"),s()(n,"职位信息","Position Information"),s()(n,"职位名称","Position Name"),s()(n,"英文名称","English Name"),s()(n,"操作","操作(en)"),s()(n,"权限设置","Permission Settings"),s()(n,"用户管理","User Management"),s()(n,"员工数","Employee Count"),s()(n,"签批件","Approval"),s()(n,"物资采购","Purchase"),s()(n,"供应商管理","Supplier"),s()(n,"合同管理","Contract"),s()(n,"付款管理","Payment"),s()(n,"项目款管理","Project"),s()(n,"个人中心","Personal"),s()(n,"公司信息","Compny"),s()(n,"安全管理","Security"),s()(n,"设置","Settings"),s()(n,"组织机构","Organization"),s()(n,"公司管理","Company Management"),s()(n,"模板管理","Template Mangement"),s()(n,"收起菜单","Fold up menu"),s()(n,"签收","Receive"),s()(n,"强制签收","Force Receive"),s()(n,"退签","Withdraw"),s()(n,"强制退签","Force withdraw"),s()(n,"驳回","Reject"),s()(n,"提交","Submit"),s()(n,"发表意见","Issue Opinion"),s()(n,"决策同意","Approved"),s()(n,"完成执行","Completed"),s()(n,"归档","Archive"),s()(n,"撤销","Undo"),s()(n,"删除","Delete"),s()(n,"保存","Save"),s()(n,"修改成功","Successfully"),s()(n,"保存成功","Successfully"),s()(n,"删除成功","Successfully"),s()(n,"草稿","Draft"),s()(n,"待处理","Pending"),s()(n,"决策中","Deciding"),s()(n,"执行中","Executing"),s()(n,"归档","Archive"),s()(n,"关注","Follow"),s()(n,"刷新","Refresh"),s()(n,"新建签批","New Approval"),s()(n,"打印预览","PDF Preview"),s()(n,"标题","Title"),s()(n,"类型","Type"),s()(n,"缓急","Urgency"),s()(n,"请选择签批类型","Please Select Type"),s()(n,"公司","Com"),s()(n,"于","At"),s()(n,"发起","Initiate"),s()(n,"发起签批","Initiate"),s()(n,"该文档已经在签批件中存在，无法重复添加","该文档已经在签批件中存在，无法重复添加(en)"),s()(n,"错误","Error"),s()(n,"该文档在当前签批类型中为必要文档，无法删除","该文档在当前签批类型中为必要文档，无法删除(en)"),s()(n,"添加附件","Add Attachment"),s()(n,"附件列表","Attachments"),s()(n,"更多","More"),s()(n,"上传文件失败","Upload failed"),s()(n,"签批公司","Com"),s()(n,"修 改","Modify"),s()(n,"审批意见","Approval Opinions"),s()(n,"发送给","Send to"),s()(n,"流程模板","Procedure template"),s()(n,"请选择流程模板","Select Procedure Template"),s()(n,"需要的通过人数","Approved number of people"),s()(n,"选择人员","Select personnel"),s()(n,"下一阶段参与人","Next phase participant"),s()(n,"启用自动填充","Auto Fill"),s()(n,"添加自己","Add Self"),s()(n,"附件上传","Upload Attachment"),s()(n,"意见与结果","Suggestion and result"),s()(n,"关闭","Close"),s()(n,"自由流程","Free Procedure"),s()(n,"提交失败","Submit Failed"),s()(n,"提交成功","Successfully"),s()(n,"请选择待审批人员","请选择待审批人员(en)"),s()(n,"有相同文件名附件","有相同文件名附件(en)"),s()(n,"上传","Upload"),s()(n,"有相同文件名附件","有相同文件名附件(en)"),s()(n,"请输入呈文内容","请输入呈文内容(en)"),s()(n,"合同信息","合同信息(en)"),s()(n,"编号","编号(en)"),s()(n,"名称","名称(en)"),s()(n,"签订时间","签订时间(en)"),s()(n,"选择日期","选择日期(en)"),s()(n,"签订地址","签订地址(en)"),s()(n,"项目","项目(en)"),s()(n,"描述","描述(en)"),s()(n,"开始时间","开始时间(en)"),s()(n,"选择日期","选择日期(en)"),s()(n,"结束时间","结束时间(en)"),s()(n,"附件信息","附件信息(en)"),s()(n,"供应商信息","供应商信息(en)"),s()(n,"供应商","供应商(en)"),s()(n,"快捷选择付款账号","快捷选择付款账号(en)"),s()(n,"联系人","联系人(en)"),s()(n,"手机","手机(en)"),s()(n,"电话","电话(en)"),s()(n,"付款账号","付款账号(en)"),s()(n,"开户行","开户行(en)"),s()(n,"开户人","开户人(en)"),s()(n,"付款条款","付款条款(en)"),s()(n,"新增","新增(en)"),s()(n,"总金额","总金额(en)"),s()(n,"元","元(en)"),s()(n,"款期","款期(en)"),s()(n,"第","第(en)"),s()(n,"期","期(en)"),s()(n,"名称","名称(en)"),s()(n,"金额","金额(en)"),s()(n,"比例%","比例%(en)"),s()(n,"浮动%","浮动%(en)"),s()(n,"付款时间","付款时间(en)"),s()(n,"选择日期","选择日期(en)"),s()(n,"备注","备注(en)"),s()(n,"操作","操作(en)"),s()(n,"删除","Delete"),s()(n,"自由条款","自由条款(en)"),s()(n,"新增","新增(en)"),s()(n,"名称","名称(en)"),s()(n,"内容","内容(en)"),s()(n,"开始时间","开始时间(en)"),s()(n,"项目1","项目1(en)"),s()(n,"项目2","项目2(en)"),s()(n,"采购","Purchase"),s()(n,"保养维修","保养维修(en)"),s()(n,"条款金额总数和合同总金额数不一致","条款金额总数和合同总金额数不一致(en)"),s()(n,"保存成功","保存成功(en)"),s()(n,"保存失败","保存失败(en)"),s()(n,"请先输入合同总价","请先输入合同总价(en)"),s()(n,"条款总价,请做出适当调整再增加条款","条款总价,请做出适当调整再增加条款(en)"),s()(n,"付款账号和供应商快捷选择账号不一致","付款账号和供应商快捷选择账号不一致(en)"),s()(n,"百分比已经超过100%, 请调整！","百分比已经超过100%, 请调整！(en)"),s()(n,"条款总金额已经超过合同总金额, 请调整！","条款总金额已经超过合同总金额, 请调整！(en)"),s()(n,"输入关键字","输入关键字(en)"),s()(n,"有效期至","有效期至(en)"),s()(n,"搜索","搜索(en)"),s()(n,"重置","重置(en)"),s()(n,"合同编号","合同编号(en)"),s()(n,"供应商","供应商(en)"),s()(n,"状态","状态(en)"),s()(n,"总价","总价(en)"),s()(n,"删除","Delete"),s()(n,"统计","统计(en)"),s()(n,"查看","View"),s()(n,"审批中","审批中(en)"),s()(n,"终止","终止(en)"),s()(n,"生效","生效(en)"),s()(n,"供应商应付总额","供应商应付总额(en)"),s()(n,"申请中的金额","申请中的金额(en)"),s()(n,"已付金额","已付金额(en)"),s()(n,"付款项明细","付款项明细(en)"),s()(n,"支付单号","支付单号(en)"),s()(n,"银行名称","银行名称(en)"),s()(n,"银行账号","银行账号(en)"),s()(n,"开户人","开户人(en)"),s()(n,"支付金额","支付金额(en)"),s()(n,"状态","状态(en)"),s()(n,"申请时间","申请时间(en)"),s()(n,"支付时间","支付时间(en)"),s()(n,"款期","款期(en)"),s()(n,"支付款项名称","支付款项名称(en)"),s()(n,"预计支付时间","预计支付时间(en)"),s()(n,"应付金额","应付金额(en)"),s()(n,"已申请金额","已申请金额(en)"),s()(n,"已付金额","已付金额(en)"),s()(n,"申请中","申请中(en)"),s()(n,"已审核","已审核(en)"),s()(n,"已确认","已确认(en)"),s()(n,"已完成","已完成(en)"),s()(n,"未知","未知(en)"),s()(n,"新增签批文档","New Document"),s()(n,"文档类型","Type"),s()(n,"请选择文档类型","请选择文档类型(en)"),s()(n,"选择现有文档","Open Exist"),s()(n,"文档名称","Title"),s()(n,"请输入文档关键字","请输入文档关键字(en)"),s()(n,"新增","OK"),s()(n,"上传头像图片只能是 JPG 或 PNG 格式!","上传头像图片只能是 JPG 或 PNG 格式!(en)"),s()(n,"有相同文件名附件!","有相同文件名附件!(en)"),s()(n,"上传","Upload"),s()(n,"更多附件","More"),s()(n,"附件信息","Attachments"),s()(n,"请输入名称","请输入名称(en)"),s()(n,"请选择签批类型","请选择签批类型(en)"),s()(n,"查看","View"),s()(n,"编辑","Edit"),s()(n,"删除","Delete"),s()(n,"上传头像图片只能是 JPG 或 PNG 格式!","上传头像图片只能是 JPG 或 PNG 格式!(en)"),s()(n,"上传头像图片大小不能超过 2MB!","上传头像图片大小不能超过 2MB!(en)"),s()(n,"付款信息","付款信息(en)"),s()(n,"付款单号","付款单号(en)"),s()(n,"供应商","供应商(en)"),s()(n,"付款方式","付款方式(en)"),s()(n,"请选择","Please Select"),s()(n,"转帐帐号","转帐帐号(en)"),s()(n,"请输入内容","请输入内容(en)"),s()(n,"选择条款","选择条款(en)"),s()(n,"条款信息","条款信息(en)"),s()(n,"合同编号","合同编号(en)"),s()(n,"款期","款期(en)"),s()(n,"总金额(元)","总金额(元)(en)"),s()(n,"本次支付金额","本次支付金额(en)"),s()(n,"预计付款时间","预计付款时间(en)"),s()(n,"操作","操作(en)"),s()(n,"凭证信息","凭证信息(en)"),s()(n,"附件信息","附件信息(en)"),s()(n,"付款条款","付款条款(en)"),s()(n,"合同名称","合同名称(en)"),s()(n,"条款名称","条款名称(en)"),s()(n,"总金额(元)","总金额(元)(en)"),s()(n,"已支付(元)","已支付(元)(en)"),s()(n,"已申请(元)","已申请(元)(en)"),s()(n,"可申请(元)","可申请(元)(en)"),s()(n,"账户","账户(en)"),s()(n,"预计付款时间","预计付款时间(en)"),s()(n,"取 消","取 消(en)"),s()(n,"确 定","确 定(en)"),s()(n,"现金","现金(en)"),s()(n,"转账","转账(en)"),s()(n,"付款条款金额校验有误，请检查","付款条款金额校验有误，请检查(en)"),s()(n,"保存成功","保存成功(en)"),s()(n,"保存失败","保存失败(en)"),s()(n,"支付金额不能大于剩余金额","支付金额不能大于剩余金额(en)"),s()(n,"征询","Opinion"),s()(n,"同意","同意(en)"),s()(n,"征询意见","Opinion"),s()(n,"撤销操作","Undo"),s()(n,"意见","Opinion"),s()(n,"执行","Executed"),s()(n,"放弃","Abandon"),s()(n,"发布","Publish"),s()(n,"取消","Cancel"),s()(n,"创建","Create"),s()(n,"更新","Update"),s()(n,"待签收","Waiting"),s()(n,"已签收","Received"),s()(n,"已归档","Archived"),s()(n,"归档完结","Archived"),s()(n,"已删除","Deleted"),s()(n,"已同意","Approved"),s()(n,"采购呈文","Purchase Text"),s()(n,"供应商资质","Supplier Qualification"),s()(n,"呈文","Text"),s()(n,"供应商","Supplier"),s()(n,"项目","Project"),s()(n,"合同签署","Contract"),s()(n,"供应商合同","Supplier & Contract"),s()(n,"对外付款","Payment"),s()(n,"便函请示","Memo Request"),s()(n,"便函","便函"),s()(n,"正式呈文","Text"),s()(n,"一般","Normal"),s()(n,"重要","Important"),s()(n,"紧急","Urgent"),s()(n,"新增文档...","New Document..."),s()(n,"标准文档","Common Document"),s()(n,"供应商文档","Supplier"),s()(n,"合同文档","Contract"),s()(n,"付款文档","Payment"),s()(n,"项目文档","Project"),s()(n,"基础绩效","基础绩效"),s()(n,"申报绩效","申报绩效"),s()(n,"合计","合计(en)"),s()(n,"请选择公司","Please Select Company"),s()(n,"输入关键字","Keyword"),s()(n,"搜索","Search"),s()(n,"重置","Reset"),s()(n,"付款编号","付款编号(en)"),s()(n,"供应商","供应商(en)"),s()(n,"状态","状态(en)"),s()(n,"总金额","总金额(en)"),s()(n,"查看","查看(en)"),s()(n,"确认","确认(en)"),s()(n,"完成","完成(en)"),s()(n,"请选择","请选择(en)"),s()(n,"项目信息","项目信息(en)"),s()(n,"项目编号","项目编号(en)"),s()(n,"名称","名称(en)"),s()(n,"负责人","负责人(en)"),s()(n,"预算","预算(en)"),s()(n,"绩效点数","绩效点数(en)"),s()(n,"开始时间","开始时间(en)"),s()(n,"结束时间","结束时间(en)"),s()(n,"说明","说明(en)"),s()(n,"附件信息","附件信息(en)"),s()(n,"周期","周期(en)"),s()(n,"正常","正常(en)"),s()(n,"有效期更新","有效期更新(en)"),s()(n,"资质证明更新","资质证明更新(en)"),s()(n,"标签信息","标签信息(en)"),s()(n,"资质证","资质证(en)"),s()(n,"资质证明","资质证明(en)"),s()(n,"开户账号","开户账号(en)"),s()(n,"财务信息","财务信息(en)"),s()(n,"有效期","有效期(en)"),s()(n,"税务号","税务号(en)"),s()(n,"电话","电话(en)"),s()(n,"手机","手机(en)"),s()(n,"联系人","联系人(en)"),s()(n,"地址","地址(en)"),s()(n,"英文名称","英文名称(en)"),s()(n,"中文名称","中文名称(en)"),s()(n,"基础信息","基础信息(en)"),s()(n,"供应商操作类型","供应商操作类型(en)"),s()(n,"输入标签","输入标签(en)"),s()(n,"生效时间","生效时间(en)"),s()(n,"标签","标签(en)"),s()(n,"报表","报表(en)"),s()(n,"查看","查看(en)"),s()(n,"单位名称","单位名称(en)"),s()(n,"联系人","联系人(en)"),s()(n,"联系电话","联系电话(en)"),s()(n,"地址","地址(en)"),s()(n,"供应商应付总额","供应商应付总额(en)"),s()(n,"申请中的金额","申请中的金额(en)"),s()(n,"已付金额","已付金额(en)"),s()(n,"供应商合同","供应商合同(en)"),s()(n,"过去一年","过去一年(en)"),s()(n,"过去一季度","过去一季度(en)"),s()(n,"支付款项ID","支付款项ID(en)"),s()(n,"款期","款期(en)"),s()(n,"支付款项名称","支付款项名称(en)"),s()(n,"预计支付时间","预计支付时间(en)"),s()(n,"应付金额","应付金额(en)"),s()(n,"已申请金额","已申请金额(en)"),s()(n,"已付金额","已付金额(en)"),s()(n,"应付ID","应付ID(en)"),s()(n,"合同名称","合同名称(en)"),s()(n,"应付金额","应付金额(en)"),s()(n,"已申请金额","已申请金额(en)"),s()(n,"已付金额","已付金额(en)"),n),E={lang:"cn"};e.mixin({data:function(){return{language:E}},methods:{_rt:function(t,e){var n=this;return xt.a.isEmpty(t)?"":xt.a.reduce(e,function(t,e){return t.replace(e,n._tt(e))},t)},_tt:function(t){return xt.a.isObject(t)?xt.a.has(t,this.language.lang)?t[this.language.lang]:xt.a.isEmpty(t.cn)?t:t.cn:xt.a.isEmpty(this.language)||"cn"===this.language.lang?t:xt.a.has(w,t)?w[t]:t}}})};a.a.prototype.done=function(t,e){this.then(t,e).catch(function(t){setTimeout(function(){throw t},0)})},a.a.prototype.finally=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){throw n})})},e.a={install:Et}}).call(e,n(192))},function(t,e,n){"use strict";var i=n(1520),a=n.n(i),o=n(1511),s=n.n(o),r=n(1509),l=n.n(r),c=n(1508),u=n.n(c),d=n(1513),p=n.n(d),m=n(1512),h=n.n(m),f=n(1505),v=n.n(f),g=n(1506),y=n.n(g),_=n(1518),b=n.n(_),C=n(1515),k=n.n(C),I=n(1514),D=n.n(I),S=n(1519),w=n.n(S),x=function(t){t.component(a.a.name,a.a),t.component(s.a.name,s.a),t.component(l.a.name,l.a),t.component(u.a.name,u.a),t.component(p.a.name,p.a),t.component(h.a.name,h.a),t.component(v.a.name,v.a),t.component(b.a.name,b.a),t.component(k.a.name,k.a),t.component(D.a.name,D.a),t.component(w.a.name,w.a),t.component(y.a.name,y.a)};e.a={install:x}},function(t,e,n){"use strict";var i=n(1531),a=n.n(i),o=n(533),s=n.n(o),r=n(1525),l=n.n(r),c=n(1530),u=n.n(c),d=n(1529),p=n.n(d),m=n(1528),h=n.n(m),f=n(1526),v=n.n(f),g=n(1527),y=n.n(g),_=n(1524),b=n.n(_),C=n(1539),k=n.n(C),I=n(534),D=n.n(I),S=n(1532),w=n.n(S),x=n(1534),E=n.n(x),T=n(1535),N=n.n(T),P=n(536),M=n.n(P),$=n(535),U=n.n($),L=n(1537),R=n.n(L),A=n(1538),F=n.n(A),B=function(t){t.component(a.a.name,a.a),t.component(l.a.name,l.a),t.component(u.a.name,u.a),t.component(p.a.name,p.a),t.component(h.a.name,h.a),t.component(v.a.name,v.a),t.component(y.a.name,y.a),t.component(b.a.name,b.a),t.component(s.a.name,s.a),t.component(k.a.name,k.a),t.component(D.a.name,D.a),t.component(w.a.name,w.a),t.component(E.a.name,E.a),t.component(N.a.name,N.a),t.component(M.a.name,M.a),t.component(U.a.name,U.a),t.component(R.a.name,R.a),t.component(F.a.name,F.a)};e.a={install:B}},function(t,e,n){"use strict";var i=n(532),a=n.n(i),o=n(114),s=n(223),r=n(936),l=n(331),c=n(130),u=(n(113),function(t){t.component(a.a.name,a.a),t.prototype.$PerformancePersistence=o.a,t.prototype.$PerformanceDefinitionManager=new r.a,t.prototype.$PerformanceSelectManager=new s.a,t.prototype.$PerformanceDefinitionDocumentManager=new l.a,t.prototype.$OrganizationManager=new c.a});e.a={install:u}},function(t,e,n){"use strict";var i=n(14),a=n.n(i),o=n(971),s=(n(970),n(955)),r=n(952),l=n(954),c=n(953),u=n(965),d=n(956),p=n(957),m=n(949),h=n(950),f=n(964),v=n(951),g=n(967),y=n(962),_=n(963),b=n(960),C=n(961),k=n(966),I=n(968),D=n(958),S=n(948),w=n(959);n(975);a.a.summernote=a.a.extend(a.a.summernote,{version:"@@VERSION@@",ui:o.a,plugins:{},options:{modules:{editor:s.a,clipboard:r.a,dropzone:l.a,codeview:c.a,statusbar:u.a,fullscreen:d.a,handle:p.a,hintPopover:w.a,autoLink:m.a,autoSync:h.a,placeholder:f.a,buttons:v.a,toolbar:g.a,linkDialog:y.a,linkPopover:_.a,imageDialog:b.a,imagePopover:C.a,tablePopover:k.a,videoDialog:I.a,helpDialog:D.a,airPopover:S.a},buttons:{},lang:"en-US",followingToolbar:!0,otherStaticBar:"",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["fontsize",["fontsize"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popatmouse:!0,popover:{image:[["imagesize",["imageSize100","imageSize50","imageSize25"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,hintDirection:"bottom",tooltip:"auto",container:"body",maxTextLength:0,styleTags:["p","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],colorsName:[["Black","Tundora","Dove Gray","Star Dust","Pale Slate","Gallery","Alabaster","White"],["Red","Orange Peel","Yellow","Green","Cyan","Blue","Electric Violet","Magenta"],["Azalea","Karry","Egg White","Zanah","Botticelli","Tropical Blue","Mischka","Twilight"],["Tonys Pink","Peach Orange","Cream Brulee","Sprout","Casper","Perano","Cold Purple","Careys Pink"],["Mandy","Rajah","Dandelion","Olivine","Gulf Stream","Viking","Blue Marguerite","Puce"],["Guardsman Red","Fire Bush","Golden Dream","Chelsea Cucumber","Smalt Blue","Boston Blue","Butterfly Bush","Cadillac"],["Sangria","Mai Tai","Buddha Gold","Forest Green","Eden","Venice Blue","Meteorite","Claret"],["Rosewood","Cinnamon","Olive","Parsley","Tiber","Midnight Blue","Valentino","Loulou"]],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onInit:null,onFocus:null,onBlur:null,onBlurCodeview:null,onEnter:null,onKeyup:null,onKeydown:null,onSubmit:null,onImageUpload:null,onImageUploadError:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-menu-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}})},function(t,e){!function(t){t.extend(t.summernote.lang,{"zh-CN":{font:{bold:"粗体",italic:"斜体",underline:"下划线",clear:"清除格式",height:"行高",name:"字体",strikethrough:"删除线",subscript:"下标",superscript:"上标",size:"字号"},image:{image:"图片",insert:"插入图片",resizeFull:"缩放至 100%",resizeHalf:"缩放至 50%",resizeQuarter:"缩放至 25%",floatLeft:"靠左浮动",floatRight:"靠右浮动",floatNone:"取消浮动",shapeRounded:"形状: 圆角",shapeCircle:"形状: 圆",shapeThumbnail:"形状: 缩略图",shapeNone:"形状: 无",dragImageHere:"将图片拖拽至此处",dropImage:"Drop image or Text",selectFromFiles:"从本地上传",maximumFileSize:"文件大小最大值",maximumFileSizeError:"文件大小超出最大值。",url:"图片地址",remove:"移除图片",original:"Original"},video:{video:"视频",videoLink:"视频链接",insert:"插入视频",url:"视频地址",providers:"(优酷, 腾讯, Instagram, DailyMotion, Youtube等)"},link:{link:"链接",insert:"插入链接",unlink:"去除链接",edit:"编辑链接",textToDisplay:"显示文本",url:"链接地址",openInNewWindow:"在新窗口打开"},table:{table:"表格",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"水平线"},style:{style:"样式",p:"普通",blockquote:"引用",pre:"代码",h1:"标题 1",h2:"标题 2",h3:"标题 3",h4:"标题 4",h5:"标题 5",h6:"标题 6"},lists:{unordered:"无序列表",ordered:"有序列表"},options:{help:"帮助",fullscreen:"全屏",codeview:"源代码"},paragraph:{paragraph:"段落",outdent:"减少缩进",indent:"增加缩进",left:"左对齐",center:"居中对齐",right:"右对齐",justify:"两端对齐"},color:{recent:"最近使用",more:"更多",background:"背景",foreground:"字体",transparent:"透明",setTransparent:"透明",reset:"重置",resetToDefault:"默认"},shortcut:{shortcuts:"快捷键",close:"关闭",textFormatting:"文本格式",action:"动作",paragraphFormatting:"段落格式",documentStyle:"文档样式",extraKeys:"额外按键"},help:{insertParagraph:"插入段落",undo:"撤销",redo:"重做",tab:"增加缩进",untab:"减少缩进",bold:"粗体",italic:"斜体",underline:"下划线",strikethrough:"删除线",removeFormat:"清除格式",justifyLeft:"左对齐",justifyCenter:"居中对齐",justifyRight:"右对齐",justifyFull:"两端对齐",insertUnorderedList:"无序列表",insertOrderedList:"有序列表",outdent:"减少缩进",indent:"增加缩进",formatPara:"设置选中内容样式为 普通",formatH1:"设置选中内容样式为 标题1",formatH2:"设置选中内容样式为 标题2",formatH3:"设置选中内容样式为 标题3",formatH4:"设置选中内容样式为 标题4",formatH5:"设置选中内容样式为 标题5",formatH6:"设置选中内容样式为 标题6",insertHorizontalRule:"插入水平线","linkDialog.show":"显示链接对话框"},history:{undo:"撤销",redo:"重做"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})}(jQuery)},function(t,e,n){"use strict";function i(t,e,n){n()}var a=n(144),o=n.n(a),s=(n(35),n(547)),r=(n(6),n(63),n(1573)),l=n.n(r),c=n(1574),u=n.n(c),d=n(1568),p=n.n(d),m=n(276),h=n.n(m),f=n(277),v=n.n(f),g=n(1575),y=n.n(g),_=n(1566),b=n.n(_),C=n(1598),k=n.n(C),I=n(1591),D=n.n(I),S=n(1567),w=n.n(S),x=n(1570),E=n.n(x),T=n(1571),N=n.n(T),P=n(1614),M=n.n(P),$=n(1615),U=n.n($),L=n(1613),R=n.n(L),A=n(1612),F=n.n(A),B=n(1616),O=n.n(B),V=n(1611),j=n.n(V),z=n(1606),G=n.n(z),q=n(1605),H=n.n(q),K=n(1578),W=n.n(K),Y=n(1581),J=n.n(Y),Q=n(1585),Z=n.n(Q),X=n(1580),tt=n.n(X),et=n(1582),nt=n.n(et),it=n(1577),at=n.n(it),ot=n(1587),st=n.n(ot),rt=n(1584),lt=n.n(rt),ct=n(1503),ut=n.n(ct),dt=n(1502),pt=n.n(dt),mt=n(1504),ht=n.n(mt),ft=n(917),vt=n(939),gt=n(651),yt=n(612),_t=n(297),bt=[{path:"/batch/kanban/:type",component:D.a,name:"Kanban"},{path:"/scpay/documentmanager/:documentType",component:ut.a,name:"DocumentManager"},{path:"/manager/companymanager/",component:p.a,name:"CompanyManager"},{path:"/manager/companytemplate/",component:h.a,name:"CompanyTemplate"},{path:"/manager/employeemanager/",component:v.a,name:"EmployeeManager"},{path:"/manager/usermanager/",component:y.a,name:"UserManager"},{path:"/manager/templatemanager/",component:l.a,name:"TemplateManager"},{path:"/endorsement/",component:ht.a,name:"Test"},{path:"/manager/companyview/:cname/:id",component:pt.a,name:"CompanyView"},{path:"/manager/templatedetail/",component:u.a,name:"TemplateEdit"},{path:"/center",component:w.a,name:"Center"},{path:"/userdetail",component:F.a,name:"UserDetail"},{path:"/usersecurity",component:O.a,name:"UserSecurity"},{path:"/usercompany",component:j.a,name:"UserCompany"},{path:"/depart",component:E.a},{path:"/depart2",component:N.a},{path:"/manager/performancemanager",component:G.a,name:"PerformanceManager"},{path:"/manager/performancedetail",component:H.a,name:"PerformanceDetail"},{path:"/performance/baseapplylist",component:W.a,name:"BaseApplyList"},{path:"/performance/editbaseapply",component:J.a,name:"EditBaseApply"},{path:"/performance/positionper",component:Z.a,name:"PositionPer"},{path:"/performance/auditdeclare",component:at.a,name:"AuditDeclare"},{path:"/manager/declaremanager",component:tt.a,name:"DeclareManager"},{path:"/manager/editdeclare",component:nt.a,name:"EditDeclare"},{path:"/manager/viewdeclare",component:st.a,name:"ViewDeclare"},{path:"/manager/PersonPerformance",component:lt.a,name:"PersonPerformance"}].concat(o()(vt.a),o()(_t.a),o()(ft.a),o()(gt.a),o()(yt.a)),Ct=[{path:"/",component:k.a,children:bt},{path:"/login",component:M.a,name:"Login"},{path:"/404",component:b.a},{path:"/registerUser",component:U.a,name:"RegisterUser"},{path:"/findPassword",component:R.a,name:"FindPassword"}],kt=new s.a({mode:"history",scrollBehavior:function(t,e,n){if(t.hash)return{selector:t.hash}},routes:Ct});kt.beforeEach(i),e.a=kt},function(t,e,n){"use strict";var i=n(979),a=n(978),o=n(983),s=n(982),r=n(981),l=n(985),c=n(984),u=n(141),d=n(986),p=n(225),m=n(989),h=n(977),f=n(333),v=n(980),g=n(976),y=(i.a,o.a,l.a,new u.a,new m.a,f.a,v.a,g.a,{Kanban:a.a,System:s.a,Scpay:r.a,SystemUser:c.a,CompanyService:new u.a,OrganizeServer:new m.a,EmployeeServer:h.a,DeclareServer:g.a});i.a,o.a,l.a,new d.a,new p.a,h.a;e.a=y},,function(t,e){},function(t,e){},function(t,e){},,function(t,e,n){n(1334);var i=n(0)(n(653),n(1679),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(654),n(1775),null,null);t.exports=i.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",function(){return I});var i=n(19),a=n.n(i),o=n(10),s=n.n(o),r=n(15),l=n.n(r),c=n(1),u=n.n(c),d=n(2),p=n.n(d),m=n(30),h=n(170),f=n(291),v=n(130),g=n(331),y=n(611),_=n(12),b=n.n(_),C=n(104),k=(n.n(C),n(290)),I=function(){function t(){u()(this,t),this.budgetDetailList=[],this.staffId="ptkaifa001-2-1-1",this.currentBudgetDetail=new f.a,this.currentBudgetResource=new y.a,this.currentBudgetDetailState="draft",this.currentCompanyAllNodes=[],this.currentCompanyId="",this.organizationManager=new v.a,this.performanceDefinitionDocumentManager=new g.a}return p()(t,[{key:"getAllBudgetList",value:function(){return m.c(this,void 0,void 0,s.a.mark(function t(){var e,n,i,a=this;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.budgetDetailList=[],e={value:this.staffId},t.next=4,h.a.queryResourceByKey("budgetDetailDoc1",e);case 4:return n=t.sent,b.a.each(n,function(t){var e=new y.a;e.status=t.status,e.datas=t.datas,e.metadata=t.metadata,e.uid=t.metadata.uid,a.budgetDetailList.push(e)}),t.next=8,l.a.all(b.a.map(this.budgetDetailList,function(t){return m.c(a,void 0,void 0,s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getBudegetDetailData(t.metadata.uid);case 3:return t.content=e.sent,e.abrupt("return",t);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.message);case 10:case"end":return e.stop()}},e,this,[[0,7]])}))}));case 8:return i=t.sent,i.sort(function(t,e){return parseInt(e.metadata.uid)-parseInt(t.metadata.uid)}),t.abrupt("return",this.budgetDetailList=i);case 11:case"end":return t.stop()}},t,this)}))}},{key:"getBudgetListByState",value:function(t){return m.c(this,void 0,void 0,s.a.mark(function e(){var i,a,o,r=this;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.budgetDetailList=[],i={value:this.staffId+"/"+t},e.next=4,h.a.queryResourceByKey("budgetDetailDoc1",i);case 4:return a=e.sent,b.a.each(a,function(t){var e=n.i(C.deserialize)(t,y.a);r.budgetDetailList.push(e)}),e.next=8,l.a.all(b.a.map(this.budgetDetailList,function(t){return m.c(r,void 0,void 0,s.a.mark(function e(){var i,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getBudegetDetailData(t.metadata.uid);case 3:return i=e.sent,a=n.i(C.deserialize)(i,f.a),t.content=a,e.abrupt("return",t);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])}))}));case 8:return o=e.sent,o.sort(function(t,e){return parseInt(e.metadata.uid)-parseInt(t.metadata.uid)}),e.abrupt("return",this.budgetDetailList=o);case 11:case"end":return e.stop()}},e,this)}))}},{key:"getBudegetDetailData",value:function(t){return m.c(this,void 0,void 0,s.a.mark(function e(){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.queryResourceContent(t,"budgetDetailList",{version:0});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e,this)}))}},{key:"getCurrentBudgetResourceDetail",value:function(t){return m.c(this,void 0,void 0,s.a.mark(function e(){var n,i=this;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.getResourceDetail(t);case 3:return n=e.sent,this.currentBudgetResource=n,b.a.each(n.metadata.labels,function(t){"budgetDetailDoc1"===t.key&&(i.currentBudgetDetailState=t.value.split("/")[1])}),e.abrupt("return",this.currentBudgetDetailState);case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0.message);case 12:case"end":return e.stop()}},e,this,[[0,9]])}))}},{key:"getCurrentBudetDetailData",value:function(t){return m.c(this,void 0,void 0,s.a.mark(function e(){var i,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBudegetDetailData(t);case 2:return i=e.sent,a=n.i(C.deserialize)(i,f.a),e.abrupt("return",this.currentBudgetDetail=a);case 5:case"end":return e.stop()}},e,this)}))}},{key:"changeCompanyToGetAllNodes",value:function(t){return m.c(this,void 0,void 0,s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("companyId不能为空");case 2:return e.prev=2,e.next=5,this.organizationManager.getAllNodesForOneCompany(t);case 5:return this.currentCompanyAllNodes=e.sent,e.abrupt("return",this.currentCompanyAllNodes);case 9:throw e.prev=9,e.t0=e.catch(2),e.t0;case 12:case"end":return e.stop()}},e,this,[[2,9]])}))}},{key:"putBugetDetail",value:function(){return m.c(this,void 0,void 0,s.a.mark(function t(){var e,i,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=[{key:"budgetDetailDoc1",value:this.staffId+"/draft"},{key:"budgetDetailDoc2",value:"draft/"+this.staffId}],t.prev=1,i=new FormData,i.append("dataName","budgetDetailList"),i.append("data",a()(n.i(C.serialize)(this.currentBudgetDetail))),i.append("dataContentType","application/json"),t.next=8,h.a.putResource(this.currentBudgetDetail.uid,i,{headers:{"Content-Type":"multipart/form-data",operationToken:this.currentBudgetResource.status.operationToken}});case 8:o=t.sent,this.currentBudgetDetailState="draft",t.next=15;break;case 12:throw t.prev=12,t.t0=t.catch(1),new Error(t.t0.message);case 15:case"end":return t.stop()}},t,this,[[1,12]])}))}},{key:"saveBugetDetail",value:function(){return m.c(this,void 0,void 0,s.a.mark(function t(){var e,i,o,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.currentBudgetDetail.uid){t.next=3;break}return this.putBugetDetail(),t.abrupt("return");case 3:return e=[{key:"budgetDetailDoc1",value:this.staffId+"/draft"},{key:"budgetDetailDoc2",value:"draft/"+this.staffId}],t.prev=4,t.next=7,h.a.createOneResource(e);case 7:return i=t.sent,this.currentBudgetDetail.uid=i.uid,o=new FormData,o.append("dataName","budgetDetailList"),o.append("data",a()(n.i(C.serialize)(this.currentBudgetDetail))),o.append("dataContentType","application/json"),t.next=15,h.a.putResource(i.uid,o,{headers:{"Content-Type":"multipart/form-data",operationToken:i.operationToken}});case 15:r=t.sent,this.currentBudgetResource.status.operationToken=r.operationToken,this.currentBudgetDetailState="draft",t.next=23;break;case 20:throw t.prev=20,t.t0=t.catch(4),new Error(t.t0.message);case 23:case"end":return t.stop()}},t,this,[[4,20]])}))}},{key:"changeBudgetToeffected",value:function(){return m.c(this,void 0,void 0,s.a.mark(function t(){var e,n,i,a=this;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(this.currentBudgetDetail.content),e=b.a.map(this.currentBudgetDetail.content,function(t){return{nodeId:t.node.id,type:t.type,amount:t.amount,startTime:a.currentBudgetDetail.startTime,endTime:a.currentBudgetDetail.endTime,content:t.mark}}),n={budgets:e},t.prev=3,t.next=6,k.a.budgetToEffect(n,"");case 6:i=t.sent,t.next=12;break;case 9:throw t.prev=9,t.t0=t.catch(3),new Error(t.t0.message);case 12:case"end":return t.stop()}},t,this,[[3,9]])}))}},{key:"deleteBudgetDetail",value:function(t,e){return m.c(this,void 0,void 0,s.a.mark(function n(){return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.performanceDefinitionDocumentManager.deletePerformanceDocument(t,e));case 1:case"end":return n.stop()}},n,this)}))}},{key:"changeBudgetResourceState",value:function(t,e){return m.c(this,void 0,void 0,s.a.mark(function n(){return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.performanceDefinitionDocumentManager.changePerforamnceDocumentState(t,e));case 1:case"end":return n.stop()}},n,this)}))}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return _});var i=n(15),a=n.n(i),o=n(10),s=n.n(o),r=n(1),l=n.n(r),c=n(2),u=n.n(c),d=n(30),p=n(196),m=n(157),h=n(290),f=n(130),v=n(104),g=(n.n(v),n(12)),y=n.n(g),_=function(){function t(){l()(this,t),this.budgetKanbanList=[],this.currentCompanyId="",this.currentNode=new m.a,this.currentStartTime="",this.currentEndTime="",this.currentTimeRange="",this.currentReason="",this.currentCompanyAllNodes=[],this.allNodes=[],this.organizationManager=new f.a}return u()(t,[{key:"init",value:function(){return d.c(this,void 0,void 0,s.a.mark(function t(){var e,n,i,a,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getAllBudgetList();case 2:e=t.sent,n=this.filterBudgetListByNode(this.currentNode.id,e),i=this.filterBudgetListByTime(this.currentStartTime,this.currentEndTime,n),a=this.filterBudgetListByReason(this.currentReason,i),o=this.setNodeName(a),this.budgetKanbanList=o;case 8:case"end":return t.stop()}},t,this)}))}},{key:"getAllBudgetList",value:function(){return d.c(this,void 0,void 0,s.a.mark(function t(){var e,i,a=this;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.getEffecteBudget("","");case 2:return e=t.sent,i=[],y.a.each(e,function(t){var e=n.i(v.deserialize)(t,p.a);i.push(e)}),y.a.each(i,function(t){var e=a.allNodes.findIndex(function(e){return e.nodeId===t.nodeId});e>=0&&(t.nodeName=a.allNodes[e].nodeName)}),t.abrupt("return",i);case 7:case"end":return t.stop()}},t,this)}))}},{key:"filterBudgetListByTime",value:function(t,e,n){var i=[];t?y.a.each(n,function(e){new Date(e.startTime)>=t&&i.push(e)}):i=n;var a=[];return e?y.a.each(i,function(t){new Date(t.endTime)<=e&&a.push(t)}):a=i,a}},{key:"filterBudgetListByNode",value:function(t,e){var n=[];return t?y.a.each(e,function(e){e.nodeId===t&&n.push(e)}):n=e,n}},{key:"filterBudgetListByReason",value:function(t,e){var n=[];return t?y.a.each(e,function(e){e.content.includes(t)&&n.push(e)}):n=e,n}},{key:"setNodeName",value:function(t){var e=this;return y.a.each(t,function(t){var n=e.currentCompanyAllNodes.findIndex(function(e){return e.nodeId===t.nodeId});n>=0&&(t.nodeName=e.currentCompanyAllNodes[n].nodeName)}),t}},{key:"changeCompanyToGetAllNodes",value:function(t){return d.c(this,void 0,void 0,s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("companyId不能为空");case 2:return e.prev=2,e.next=5,this.organizationManager.getAllNodesForOneCompany(t);case 5:return this.currentCompanyAllNodes=e.sent,e.abrupt("return",this.currentCompanyAllNodes);case 9:throw e.prev=9,e.t0=e.catch(2),e.t0;case 12:case"end":return e.stop()}},e,this,[[2,9]])}))}},{key:"getAllNodes",value:function(t){return d.c(this,void 0,void 0,s.a.mark(function e(){var n,i=this;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.a.all(y.a.map(t,function(t){return d.c(i,void 0,void 0,s.a.mark(function e(){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.organizationManager.getAllNodesForOneCompany(t.value);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e,this)}))}));case 3:return n=e.sent,y.a.each(n,function(t){y.a.each(t,function(t){i.allNodes.push(t)})}),e.abrupt("return",this.allNodes);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}},e,this,[[0,8]])}))}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(155),l=function(){function t(){a()(this,t)}return s()(t,[{key:"addItemForlist",value:function(t){var e=new r.a;return t.push(e),e}},{key:"deleteItemForList",value:function(t,e){var n=t.findIndex(function(t){return t.node.id===e.node.id});if(n<0)throw new Error("该项不存在");t.splice(n,1)}},{key:"addItemForList",value:function(t,e){var n=new r.a,i=t.findIndex(function(t){return t.node.id===e.node.id});t.splice(i+1,0,n)}}]),t}()},function(t,e,n){"use strict";var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(30),l=n(104),c=(n.n(l),function(){function t(){a()(this,t),this._uid="",this._datas=[],this._status={},this._metadata={},this._content=[]}return s()(t,[{key:"uid",get:function(){return this._uid},set:function(t){this._uid=t}},{key:"datas",get:function(){return this._datas},set:function(t){this._datas=t}},{key:"status",get:function(){return this._status},set:function(t){this._status=t}},{key:"metadata",get:function(){return this._metadata},set:function(t){this._metadata=t}},{key:"content",get:function(){return this._content},set:function(t){this._content=t}}]),t}());r.a([n.i(l.JsonProperty)("uid"),r.b("design:type",String)],c.prototype,"_uid",void 0),r.a([n.i(l.JsonProperty)("datas"),r.b("design:type",Object)],c.prototype,"_datas",void 0),r.a([n.i(l.JsonProperty)("status"),r.b("design:type",Object)],c.prototype,"_status",void 0),r.a([n.i(l.JsonProperty)("metadata"),r.b("design:type",Object)],c.prototype,"_metadata",void 0),r.a([n.i(l.JsonProperty)("content"),r.b("design:type",Array)],c.prototype,"_content",void 0),c=r.a([n.i(l.Serializable)()],c),e.a=c},function(t,e,n){"use strict";var i=n(1457),a=n.n(i),o=n(528),s=n.n(o),r=n(1459),l=n.n(r),c=n(1458),u=n.n(c),d=[{path:"/test/BudgetDetail/:id",component:a.a,name:"BudgetDetail"},{path:"/test/BudgetDetailListItem",component:s.a,name:"BudgetDetailListItem"},{path:"/test/BudgetList",component:l.a,name:"BudgetList"},{path:"/test/BudgetKanban",component:u.a,name:"BudgetKanban"}];e.a=d},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=function(){function t(){a()(this,t),this.extendedFields=[]}return s()(t,[{key:"getExtendedFields",value:function(t){this.extendedFields=t}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var i=n(78),a=n.n(i),o=n(19),s=n.n(o),r=n(1),l=n.n(r),c=n(2),u=n.n(c),d=function(){function t(){l()(this,t),this._keyName="",this._keyType=""}return u()(t,[{key:"toJsonString",value:function(){var t=s()(this);return a()(this).filter(function(t){return"_"===t[0]}).forEach(function(e){t=t.replace(e,e.substring(1))}),t}},{key:"keyName",get:function(){return this._keyName},set:function(t){this._keyName=t}},{key:"keyType",get:function(){return this._keyType},set:function(t){this._keyType=t}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=function(){function t(){a()(this,t),this._staffId="",this._staffName=""}return s()(t,[{key:"staffId",get:function(){return this._staffId},set:function(t){this._staffId=t}},{key:"staffName",get:function(){return this._staffName},set:function(t){this._staffName=t}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=function(){function t(){a()(this,t),this._nodeId="",this._nodeName="",this._nodeType=""}return s()(t,[{key:"nodeType",get:function(){return this._nodeType},set:function(t){this._nodeType=t}},{key:"nodeId",get:function(){return this._nodeId},set:function(t){this._nodeId=t}},{key:"nodeName",get:function(){return this._nodeName},set:function(t){this._nodeName=t}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=function(){function t(){a()(this,t),this._positionId="",this._positionName="",this._selected=!0}return s()(t,[{key:"selected",get:function(){return this._selected},set:function(t){this._selected=t}},{key:"positionId",get:function(){return this._positionId},set:function(t){this._positionId=t}},{key:"positionName",get:function(){return this._positionName},set:function(t){this._positionName=t}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return g});var i=n(10),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(30),u=n(12),d=n.n(u),p=n(619),m=n(293),h=n(197),f=n(114),v=n(525),g=(n(1823),n(1822),function(){function t(){s()(this,t),this.chain=[],this.selectOptions=[],this.dialogVisible=!1,this.chainPeople=[]}return l()(t,[{key:"mockRender",value:function(){this.filterSelectOptions(),this.renderPeople()}},{key:"init",value:function(){return c.c(this,void 0,void 0,a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getNodes("1");case 2:this.selectOptions=t.sent,this.renderPeople();case 4:case"end":return t.stop()}},t,this)}))}},{key:"getChains",value:function(t){this.chain=[],0===t.length&&t.push({chainId:v.v1(),chainValue:[]}),this.chain=d.a.map(t,function(t){return new m.a(t.chainId,t.chainValue)})}},{key:"getNodes",value:function(t){return c.c(this,void 0,void 0,a.a.mark(function t(){var e,n,i;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.getNode("","");case 2:return e=t.sent,n=[],d.a.each(e,function(t){d.a.each(t,function(t){if("EMPLOYEE"===t.type){var e=new p.a;e.nodeId=t.id,e.nodeName=t.name,n.push(e)}})}),i=d.a.map(n,function(t){return{label:t.nodeName,value:t.nodeId}}),f.a.EmployeeNodes=i,t.abrupt("return",i);case 8:case"end":return t.stop()}},t,this)}))}},{key:"renderPeople",value:function(){var t=[],e=d.a.cloneDeep(f.a.EmployeeNodes);d.a.each(this.chain,function(n,i){var a=[];d.a.each(n.chainValue,function(t){var n=e.findIndex(function(e){return e.value===t});n>=0&&a.push(e[n].label)}),t.push({keyIndex:i,value:a})}),this.chainPeople=t}},{key:"countPeopleNum",value:function(){var t=0;return d.a.each(this.chainPeople,function(e){t+=e.value.length}),t}},{key:"filterSelectOptions",value:function(){var t=d.a.cloneDeep(f.a.EmployeeNodes);d.a.each(this.chain,function(e){d.a.each(e.chainValue,function(e){var n=t.findIndex(function(t){return t.value===e});n>=0&&t.splice(n,1)})}),this.selectOptions=t}},{key:"addLevelNode",value:function(t){var e=new m.a(v.v1(),[]),n=this.chain.findIndex(function(e){return e.chainId===t});this.chain.splice(n+1,0,e)}},{key:"deleteLevelNode",value:function(t){var e=this.chain.findIndex(function(e){return e.chainId===t});this.chain.splice(e,1)}}]),t}())},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=function(){function t(){a()(this,t),this._nodeId="",this._nodeName=""}return s()(t,[{key:"nodeId",get:function(){return this._nodeId},set:function(t){this._nodeId=t}},{key:"nodeName",get:function(){return this._nodeName},set:function(t){this._nodeName=t}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(1),a=n.n(i),o=n(643),s=function t(){a()(this,t)};s.organizationGet=function(){return o.a.getApiHost("organization").get("")}},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(8),p=n.n(d),m=n(132),h=function(t){function e(){return s()(this,e),u()(this,(e.__proto__||a()(e)).apply(this,arguments))}return p()(e,t),l()(e,null,[{key:"initialize",value:function(t){return new e(t)}}]),e}(m.a)},function(t,e,n){"use strict";var i=[{name:"编辑",type:"info",icon:"edit",status:"UNPUBLISHED",necessary:["checkIsDetailCreator"],confirm:"",beforeOperation:"",click:"onModifyChildTask",operation:"",onOperation:""},{name:"生成文档",type:"info",icon:"document",status:"UNPUBLISHED",necessary:["checkIsDetailCreator","checkIsDetailRootTask","checkTaskNoDocument"],confirm:"任务处于文档中时将不能直接发布，确认生成文档？",beforeOperation:"onEditDocumentName",click:"onCreateDocument",operation:"",onOperation:""},{name:"删除",type:"danger",icon:"delete",status:"UNPUBLISHED",necessary:["checkIsDetailCreator","checkTaskNoDocument"],confirm:"删除操作不可逆转，确认删除此任务？",beforeOperation:"",click:"onOperateTask",operation:"DELETE",onOperation:"onDeleteTask"},{name:"发布",type:"info",icon:"share",status:"UNPUBLISHED",necessary:["checkIsDetailCreator","checkIsDetailParentTaskReceived","checkTaskNoDocument"],confirm:"确认发布此任务？",beforeOperation:"",click:"onOperateTask",operation:"RELEASE",onOperation:"onOperationTask"},{name:"撤回",type:"warning",icon:"d-arrow-left",status:"PUBLISHED",necessary:["checkIsDetailCreator","checkTaskNoDocument"],confirm:"确认撤回此任务？",beforeOperation:"",click:"onOperateTask",operation:"RECALL",onOperation:"onOperationTask"},{name:"领取",type:"info",icon:"star-on",status:"PUBLISHED",necessary:["checkIsOneOfResponsibleCandidate"],confirm:"确认领取此任务？",beforeOperation:"",click:"onOperateTask",operation:"RECEIVE",onOperation:"onOperationTask"},{name:"退回",type:"warning",icon:"star-off",status:"RECEIVED",necessary:["checkIsResponsible","checkNoChildTaskCreatedBySelfExcludeSpecial"],confirm:"确认退回此任务？",beforeOperation:"",click:"onOperateTask",operation:"BACK",onOperation:"onOperationTask"},{name:"强制收回",type:"danger",icon:"delete2",status:"RECEIVED",necessary:["checkIsDetailCreator"],confirm:"强制收回后将无法进行任何操作，确认强制收回此任务？",beforeOperation:"",click:"onOperateTask",operation:"FORCE_WITHDRAW",onOperation:"onOperationTask"},{name:"提交",type:"info",icon:"upload2",status:"RECEIVED",necessary:["checkIsResponsible","checkAllChildTaskConfirmed"],confirm:"",beforeOperation:"onEditModulus",click:"onOperateTask",operation:"SUBMIT",onOperation:"onOperationTask"},{name:"驳回",type:"warning",icon:"close",status:"COMPLETED",necessary:["checkIsOneOfConfirmablePerson"],confirm:"确认驳回此任务？",beforeOperation:"",click:"onOperateTask",operation:"OVERRULE",onOperation:"onOperationTask"},{name:"确认",type:"success",icon:"check",status:"COMPLETED",necessary:["checkIsOneOfConfirmablePerson","checkModulusNotEmpty"],confirm:"",beforeOperation:"onEditModulus",click:"onOperateTask",operation:"CONFIRM",onOperation:"onConfirmTask"}];e.a=i},function(t,e,n){"use strict";var i=[{name:"已发布",status:"PUBLISHED"},{name:"已完成",status:"COMPLETED"},{name:"未发布",status:"UNPUBLISHED"},{name:"已领取",status:"RECEIVED"},{name:"已确认",status:"CONFIRMED"},{name:"已废弃",status:"DEPRECATED"},{name:"已结算",status:"SETTLED"},{name:"已删除",status:"DELETED"}];e.a=i},function(t,e,n){"use strict";var i={gsModulusOnEdit:[{required:!0,type:"number",trigger:"change"}]};e.a=i},function(t,e,n){"use strict";var i=[{key:"任务名称",value:"gsTaskName"},{key:"任务分数",value:"gsPoints"},{key:"系数",value:"gsModulus"},{key:"结算分数",value:["gsPoints","gsModulus"]},{key:"创建时间",value:"gsCreateTime"},{key:"结算时间",value:"gsLastUpdateTime"}];e.a=i},function(t,e,n){"use strict";var i=[{name:"已结算",status:"SETTLED"}];e.a=i},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a});var i=[{key:"文档创建时间",value:"gsCreateTime"}],a=[{key:"根任务创建时间",value:"gsCreateTime"},{key:"根任务名称",value:"gsTaskName"},{key:"根任务分数",value:"gsPoints"}]},function(t,e,n){"use strict";var i={gsTaskDocumentName:[{required:!0,message:"请输入文档名称",trigger:"change"}]};e.a=i},function(t,e,n){"use strict";var i={gsTaskName:[{required:!0,message:"请输入任务名称",trigger:"change"}],gsPoints:[{required:!0,type:"number",message:"请输入数字",trigger:"change"}],gsModulusLowerLimit:[{required:!0,type:"number",message:"请输入数字",trigger:"change"}],gsModulusUpperlimit:[{required:!0,type:"number",message:"请输入数字",trigger:"change"}],gsResponsibleCandidate:[{required:!0,type:"array",message:"请选择负责候选人",trigger:"blur"}],gsConfirmablePerson:[{required:!0,type:"array",message:"请选择可确认人",trigger:"blur"}]};e.a=i},function(t,e,n){"use strict";var i=[{name:"编辑",type:"info",icon:"edit",status:"UNPUBLISHED",necessary:["checkIsDetailCreator"],confirm:"",beforeOperation:"",click:"onModifyTask",operation:"",onOperation:""},{name:"生成文档",type:"info",icon:"document",status:"UNPUBLISHED",necessary:["checkIsDetailCreator","checkIsDetailRootTask","checkTaskNoDocument"],confirm:"任务处于文档中时将不能直接发布，确认生成文档？",beforeOperation:"onEditDocumentName",click:"onCreateDocument",operation:"",onOperation:""},{name:"删除",type:"danger",icon:"delete",status:"UNPUBLISHED",necessary:["checkIsDetailCreator","checkTaskNoDocument"],confirm:"删除操作不可逆转，确认删除此任务？",beforeOperation:"",click:"onOperateTask",operation:"DELETE",onOperation:"onDeleteTask"},{name:"发布",type:"info",icon:"share",status:"UNPUBLISHED",necessary:["checkIsDetailCreator","checkIsDetailParentTaskReceived","checkTaskNoDocument"],confirm:"确认发布此任务？",beforeOperation:"",click:"onOperateTask",operation:"RELEASE",onOperation:"onOperationTask"},{name:"撤回",type:"warning",icon:"d-arrow-left",status:"PUBLISHED",necessary:["checkIsDetailCreator","checkTaskNoDocument"],confirm:"确认撤回此任务？",beforeOperation:"",click:"onOperateTask",operation:"RECALL",onOperation:"onOperationTask"},{name:"领取",type:"info",icon:"star-on",status:"PUBLISHED",necessary:["checkIsOneOfResponsibleCandidate"],confirm:"确认领取此任务？",beforeOperation:"",click:"onOperateTask",operation:"RECEIVE",onOperation:"onOperationTask"},{name:"退回",type:"warning",icon:"star-off",status:"RECEIVED",necessary:["checkIsResponsible","checkNoChildTaskCreatedBySelfExcludeSpecial"],confirm:"确认退回此任务？",beforeOperation:"",click:"onOperateTask",operation:"BACK",onOperation:"onOperationTask"},{name:"强制收回",type:"danger",icon:"delete2",status:"RECEIVED",necessary:["checkIsDetailCreator"],confirm:"强制收回后将无法进行任何操作，确认强制收回此任务？",beforeOperation:"",click:"onOperateTask",operation:"FORCE_WITHDRAW",onOperation:"onOperationTask"},{name:"提交",type:"info",icon:"upload2",status:"RECEIVED",necessary:["checkIsResponsible","checkAllChildTaskConfirmed"],confirm:"",beforeOperation:"onEditModulus",click:"onOperateTask",operation:"SUBMIT",onOperation:"onOperationTask"},{name:"驳回",type:"warning",icon:"close",status:"COMPLETED",necessary:["checkIsOneOfConfirmablePerson"],confirm:"确认驳回此任务？",beforeOperation:"",click:"onOperateTask",operation:"OVERRULE",onOperation:"onOperationTask"},{name:"确认",type:"success",icon:"check",status:"COMPLETED",necessary:["checkIsOneOfConfirmablePerson","checkModulusNotEmpty"],confirm:"",beforeOperation:"onEditModulus",click:"onOperateTask",operation:"CONFIRM",onOperation:"onConfirmTask"}];e.a=i},function(t,e,n){"use strict";var i=[{name:"已发布",status:"PUBLISHED"},{name:"已完成",status:"COMPLETED"},{name:"未发布",status:"UNPUBLISHED"},{name:"已领取",status:"RECEIVED"},{name:"已确认",status:"CONFIRMED"},{name:"已废弃",status:"DEPRECATED"}];e.a=i},function(t,e,n){"use strict";var i=[{render:!0,name:"发布时间",status:"PUBLISHED"},{render:!0,name:"完成时间",status:"COMPLETED"},{render:!1,name:"",status:"UNPUBLISHED"},{render:!0,name:"领取时间",status:"RECEIVED"},{render:!0,name:"确认时间",status:"CONFIRMED"},{render:!1,name:"",status:"DEPRECATED"},{render:!0,name:"结算时间",status:"SETTLEMENT"}];e.a=i},function(t,e,n){"use strict";n.d(e,"a",function(){return _});var i=n(40),a=n.n(i),o=n(999),s=n.n(o),r=n(10),l=n.n(r),c=n(1),u=n.n(c),d=n(2),p=n.n(d),m=n(30),h=n(12),f=n.n(h),v=n(620),g=n(85),y=this,_=function(){function t(){var e=this;u()(this,t),this.initializeOrganizationTask=function(){return m.c(e,void 0,void 0,l.a.mark(function t(){var e,n;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.organizationGet();case 2:return e=t.sent,this.organizationOriginal=e,n=this.fetchOrganizationTask(this.organizationOriginal),this.organizationTask=n,t.abrupt("return",g.a.organizationTask=n);case 7:case"end":return t.stop()}},t,this)}))},this.fetchOrganizationTask=function(t){var n=s()(t);return e.fetchOrganizationTaskCompany(n)},this.fetchOrganizationTaskCompany=function(t){return{companys:f.a.map(t,function(t){var e=f.a.find(t,function(t){return"COMPANY"===t.type}),n=f.a.filter(t,function(t){return"EMPLOYEE"===t.type});return a()({},e,{employees:n})})}},this.organizationOriginal=null,this.organizationTask=null}return p()(t,[{key:"gsOrganizationTask",get:function(){return this.organizationTask}}]),t}();_.initialize=function(){return m.c(y,void 0,void 0,l.a.mark(function t(){var e;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new _,t.next=3,e.initializeOrganizationTask();case 3:return t.abrupt("return",e);case 4:case"end":return t.stop()}},t,this)}))}},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var i=n(10),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(30),u=n(12),d=n.n(u),p=n(156),m=n(85),h=n(107),f=function(){function t(){var e=this;s()(this,t),this.processRootTaskList=function(){return c.c(e,void 0,void 0,a.a.mark(function t(){var e,n,i;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.rootTaskListGet(m.a.userKey.id);case 2:e=t.sent,this.rootTaskListOriginal=e,n=this.rootTaskListInitialize(e),this.rootTaskList=n,i=this.filterRootTaskList(n),this.rootTaskListProcessed=i;case 8:case"end":return t.stop()}},t,this)}))},this.rootTaskListInitialize=function(t){return d.a.map(t,function(t){return p.a.initialize(t)})},this.filterRootTaskList=function(t){return d.a.filter(t,function(t){return"SETTLED"===t.status})},this.rootTaskListOriginal=[],this.rootTaskList=[],this.rootTaskListProcessed=[]}return l()(t,[{key:"gsRootTaskListOriginal",get:function(){return this.rootTaskListOriginal},set:function(t){this.rootTaskListOriginal=t}},{key:"gsRootTaskList",get:function(){return this.rootTaskList},set:function(t){this.rootTaskList=t}},{key:"gsRootTaskListProcessed",get:function(){return this.rootTaskListProcessed},set:function(t){this.rootTaskListProcessed=t}}],[{key:"initialize",value:function(){var e=new t;return e.processRootTaskList(),e}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return E});var i=n(19),a=n.n(i),o=n(15),s=n.n(o),r=n(10),l=n.n(r),c=n(7),u=n.n(c),d=n(1),p=n.n(d),m=n(2),h=n.n(m),f=n(9),v=n.n(f),g=n(8),y=n.n(g),_=n(30),b=n(12),C=n.n(b),k=n(299),I=n(199),D=n(301),S=n(294),w=n(198),x=n(107),E=function(t){function e(){p()(this,e);var t=v()(this,(e.__proto__||u()(e)).call(this));return t.initializeDocument=function(e){return _.c(t,void 0,void 0,l.a.mark(function t(){var n;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.queryResourceContent(e,"taskDocument",{version:"0"});case 2:n=t.sent,this.taskDocument=D.a.initialize(n);case 4:case"end":return t.stop()}},t,this)}))},t.checkNotInDocument=function(){return!1},t.deleteDocument=function(){return _.c(t,void 0,void 0,l.a.mark(function t(){var e,n,i;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.queryResourceByKey();case 3:return e=t.sent,t.next=6,w.a.deleteResource(this.taskDocument.uid,{headers:{operationToken:e.status.operationToken}});case 6:return n=t.sent,t.next=9,x.a.taskDetailGet(this.rootTaskId);case 9:if(!(i=t.sent)){t.next=14;break}return i.documentId="",t.next=14,x.a.saveTaskPut(i);case 14:return t.abrupt("return",n);case 17:return t.prev=17,t.t0=t.catch(0),t.abrupt("return",s.a.reject());case 20:case"end":return t.stop()}},t,this,[[0,17]])}))},t.queryResourceByKey=function(){return _.c(t,void 0,void 0,l.a.mark(function t(){var e,n,i=this;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.queryResourceByKey("taskDocument",{value:this.taskDocument.task.creator});case 2:return e=t.sent,n=C.a.find(e,function(t){return t.metadata.uid===i.taskDocument.uid}),t.abrupt("return",n);case 5:case"end":return t.stop()}},t,this)}))},t.effectDocument=function(){return _.c(t,void 0,void 0,l.a.mark(function t(){var e,n,i,o;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.onOperateTask("RELEASE","onOperationTask");case 3:return t.next=5,this.queryResourceByKey();case 5:return e=t.sent,n=S.a.initialize(this.taskDocument),n.status="effective",i=new FormData,i.append("dataName","taskDocument"),i.append("data",a()(n)),i.append("dataContentType","application/json"),t.next=14,w.a.putResource(this.taskDocument.uid,i,{headers:{"Content-Type":"multipart/form-data",operationToken:e.status.operationToken}});case 14:return o=t.sent,this.taskDocument.status="effective",t.abrupt("return",o);case 19:return t.prev=19,t.t0=t.catch(0),t.abrupt("return",s.a.reject());case 22:case"end":return t.stop()}},t,this,[[0,19]])}))},t.taskStatusConfig=I.a,t.taskDocument=null,t.rootTaskId="",t}return y()(e,t),h()(e,[{key:"gsTaskDocument",get:function(){return this.taskDocument},set:function(t){this.taskDocument=t}},{key:"gsRootTaskId",get:function(){return this.rootTaskId},set:function(t){this.rootTaskId=t}}],[{key:"initialize",value:function(t,n){var i=new e;return i.rootTaskId=n,i.initializeDocument(t),i.taskListInitialize(n),i}}]),e}(k.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return _});var i=n(15),a=n.n(i),o=n(10),s=n.n(o),r=n(144),l=n.n(r),c=n(1),u=n.n(c),d=n(2),p=n.n(d),m=n(30),h=n(12),f=n.n(h),v=n(198),g=n(301),y=n(85),_=function(){function t(){var e=this;u()(this,t),this.processTaskDocumentList=function(){return m.c(e,void 0,void 0,s.a.mark(function t(){var e,n,i,o,r,c,u=this;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],n=f.a.map(y.a.userKey.companys,function(t){return m.c(u,void 0,void 0,s.a.mark(function t(){var n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.queryResourceByKey("taskDocument",{value:y.a.userKey.id});case 2:return n=t.sent,e.push.apply(e,l()(n)),t.abrupt("return",n);case 5:case"end":return t.stop()}},t,this)}))}),t.next=4,a.a.all(n);case 4:return i=[],o=f.a.map(e,function(t){return m.c(u,void 0,void 0,s.a.mark(function e(){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.queryResourceContent(t.metadata.uid,t.datas[0].name,{version:t.metadata.version});case 2:return n=e.sent,i.push(n),e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}))}),t.next=8,a.a.all(o);case 8:this.taskDocumentListOriginal=i,r=this.taskDocumentListInitialize(i),this.taskDocumentList=r,c=this.filterTaskDocumentList(r),this.taskDocumentListProcessed=c;case 13:case"end":return t.stop()}},t,this)}))},this.taskDocumentListInitialize=function(t){return f.a.map(t,function(t){return g.a.initialize(t)})},this.filterTaskDocumentList=function(t){return f.a.filter(t,function(t){return t.status})},this.taskDocumentListOriginal=[],this.taskDocumentList=[],this.taskDocumentListProcessed=[]}return p()(t,[{key:"gsTaskDocumentListOriginal",get:function(){return this.taskDocumentListOriginal},set:function(t){this.taskDocumentListOriginal=t}},{key:"gsTaskDocumentList",get:function(){return this.taskDocumentList},set:function(t){this.taskDocumentList=t}},{key:"gsTaskDocumentListProcessed",get:function(){return this.taskDocumentListProcessed},set:function(t){this.taskDocumentListProcessed=t}}],[{key:"initialize",value:function(){var e=new t;return e.processTaskDocumentList(),e}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return w});var i=n(15),a=n.n(i),o=n(10),s=n.n(o),r=n(144),l=n.n(r),c=n(7),u=n.n(c),d=n(1),p=n.n(d),m=n(2),h=n.n(m),f=n(9),v=n.n(f),g=n(8),y=n.n(g),_=n(30),b=n(12),C=n.n(b),k=n(298),I=n(631),D=n(85),S=n(107),w=function(t){function e(){p()(this,e);var t=v()(this,(e.__proto__||u()(e)).call(this));return t.taskListInitialize=function(e){return _.c(t,void 0,void 0,s.a.mark(function t(){var n,i,o=this;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=[],!e){t.next=4;break}return t.next=4,this.organizationInitialize();case 4:return i=C.a.map(D.a.userKey.companys,function(t){return _.c(o,void 0,void 0,s.a.mark(function t(){var e;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.taskRelatedToMeGet(D.a.userKey.id);case 2:return e=t.sent,n.push.apply(n,l()(e)),t.abrupt("return",e);case 5:case"end":return t.stop()}},t,this)}))}),t.next=7,a.a.all(i);case 7:return this.taskListOriginal=n,t.abrupt("return",this.taskListProcess(n));case 9:case"end":return t.stop()}},t,this)}))},t.taskStatusConfig=I.a,t}return y()(e,t),h()(e,null,[{key:"initialize",value:function(){var t=new e;return t.initializeTaskOnEdit(),t.taskListInitialize(!0),t}}]),e}(k.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return I});var i=n(40),a=n.n(i),o=n(144),s=n.n(o),r=n(10),l=n.n(r),c=n(15),u=n.n(c),d=n(1),p=n.n(d),m=n(2),h=n.n(m),f=n(30),v=n(12),g=n.n(v),y=n(3),_=n.n(y),b=n(85),C=n(107),k=n(649),I=function(){function t(){var e=this;p()(this,t),this.listShowChange=function(){e.onlyShowSettledTaskCompletedByMe?e.taskListInitialize("taskCompletedByMe"):e.taskListInitialize("taskSettled")},this.taskListInitialize=function(t){return f.c(e,void 0,void 0,l.a.mark(function e(){var n,i;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.taskListMap(t),e.next=3,u.a.all(n);case 3:return i=this.taskListFiltered.sort(function(t,e){return _()(t.lastUpdateTime).isBefore(e.lastUpdateTime)}),this.taskListProcessed=i,e.abrupt("return",this.taskListProcessed);case 6:case"end":return e.stop()}},e,this)}))},this.taskListMap=function(t){return e.taskListFiltered=[],g.a.map(b.a.userKey.companys,function(n){return f.c(e,void 0,void 0,l.a.mark(function e(){var i,a,o,r,c,u;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=C.a.taskRelatedToMeGet(b.a.userKey.id),o=g.a.find(b.a.organizationTask.companys,function(t){return t.id===n.id}).employees,e.next=4,a;case 4:return r=e.sent,r=g.a.filter(r,function(t){return"SETTLED"===t.status}),"taskCompletedByMe"===t&&(r=g.a.filter(r,function(t){return""+t.responsible==""+b.a.userKey.id})),c=o,u=this.taskListItemInitialize(r,c),(i=this.taskListFiltered).push.apply(i,s()(u)),e.abrupt("return",r);case 11:case"end":return e.stop()}},e,this)}))})},this.taskListItemInitialize=function(t,e){return g.a.map(t,function(t){var n=g.a.find(e,function(e){return""+e.id==""+t.creator}),i=g.a.find(e,function(e){return""+e.id==""+t.responsible}),o=g.a.find(e,function(e){return""+e.id==""+t.responsible}),s=n.name,r=i.name,l=o.name;return k.a.initialize(a()({},t,{creatorName:s,responsibleName:r,confirmorName:l}))})},this.rowHover=function(t){t.isHover=!t.isHover},this.rowClick=function(t){g.a.each(e.taskListProcessed,function(e){e.isSelect=e===t})},this.onlyShowSettledTaskCompletedByMe=!0,this.taskListFiltered=[],this.taskListProcessed=[]}return h()(t,[{key:"gsOnlyShowSettledTaskCompletedByMe",get:function(){return this.onlyShowSettledTaskCompletedByMe},set:function(t){this.onlyShowSettledTaskCompletedByMe=t}},{key:"gsTaskListFiltered",get:function(){return this.taskListFiltered},set:function(t){this.taskListFiltered=t}},{key:"gsTaskListProcessed",get:function(){return this.taskListProcessed},set:function(t){this.taskListProcessed=t}}],[{key:"initialize",value:function(){var e=new t;return e.taskListInitialize("taskCompletedByMe"),e}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(8),p=n.n(d),m=n(132),h=function(t){function e(t){s()(this,e);var n=u()(this,(e.__proto__||a()(e)).call(this,t));return n.head=t.head,n}return p()(e,t),l()(e,[{key:"gsHead",get:function(){return this.head},set:function(t){this.head=t}}]),e}(m.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=function(){function t(e){a()(this,t),this.name=e.name,this.status=e.status,this.list=e.list}return s()(t,[{key:"gsName",get:function(){return this.name},set:function(t){this.name=t}},{key:"gsStatus",get:function(){return this.status},set:function(t){this.status=t}},{key:"gsList",get:function(){return this.list},set:function(t){this.list=t}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(8),p=n.n(d),m=n(132),h=function(t){function e(t){s()(this,e);var n=u()(this,(e.__proto__||a()(e)).call(this,t));return n.taskId=t.taskId,n.taskName=t.taskName,n.status=t.status,n.parentTaskId=t.parentTaskId,n.parentTaskName=t.parentTaskName,n.parentTaskStatus=t.parentTaskStatus,n.rootTaskId=t.rootTaskId,n.rootTaskName=t.rootTaskName,n}return p()(e,t),l()(e,[{key:"gsTaskId",get:function(){return this.taskId},set:function(t){this.taskId=t}},{key:"gsTaskName",get:function(){return this.taskName},set:function(t){this.taskName=t}},{key:"gsStatus",get:function(){return this.status},set:function(t){this.status=t}},{key:"gsParentTaskId",get:function(){return this.parentTaskId},set:function(t){this.parentTaskId=t}},{key:"gsParentTaskName",get:function(){return this.parentTaskName},set:function(t){this.parentTaskName=t}},{key:"gsParentTaskStatus",get:function(){return this.parentTaskStatus},set:function(t){this.parentTaskStatus=t}},{key:"gsRootTaskId",get:function(){return this.rootTaskId},set:function(t){this.rootTaskId=t}},{key:"gsRootTaskName",get:function(){return this.rootTaskName},set:function(t){this.rootTaskName=t}}]),e}(m.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(8),p=n.n(d),m=n(132),h=function(t){function e(t){s()(this,e);var n=u()(this,(e.__proto__||a()(e)).call(this,t));return n.creatorName=t.creatorName,n.responsibleName=t.responsibleName,n.confirmorName=t.confirmorName,n}return p()(e,t),l()(e,[{key:"gsCreatorName",get:function(){return this.creatorName},set:function(t){this.creatorName=t}},{key:"gsResponsibleName",get:function(){return this.responsibleName},set:function(t){this.responsibleName=t}},{key:"gsConfirmorName",get:function(){return this.confirmorName},set:function(t){this.confirmorName=t}}]),e}(m.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return m});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(31),l=n.n(r),c=n(12),u=n.n(c),d="https://alydnh-api.ptit365.com",p=l.a.create({baseURL:d,withCredentials:!1}),m=function(){function t(){a()(this,t)}return s()(t,null,[{key:"getApiHost",value:function(t){return new h(t)}}]),t}(),h=function(){function t(e){a()(this,t),this._name=e}return s()(t,[{key:"call",value:function(t,e,n,i,a){var o={url:d+"/"+this._name+t,params:n||"",method:e,data:i};return u.a.isEmpty(a)||(o=u.a.assignIn(o,a)),p.request(o).then(function(t){return t.data.data})}},{key:"get",value:function(t,e,n){return this.call(t,"get",e,null,n)}},{key:"delete",value:function(t,e,n){return this.call(t,"delete",e,null,n)}},{key:"post",value:function(t,e,n){return this.call(t,"post",null,e,n)}},{key:"put",value:function(t,e,n){return this.call(t,"put",null,e,n)}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return m});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(31),l=n.n(r),c=n(12),u=n.n(c),d="https://resource-api-test.ptit365.com",p=l.a.create({baseURL:d,withCredentials:!1}),m=function(){function t(){a()(this,t)}return s()(t,null,[{key:"getApiHost",value:function(t){return new h(t)}}]),t}(),h=function(){function t(e){a()(this,t),this._name=e}return s()(t,[{key:"call",value:function(t,e,n,i,a){var o={url:d+"/"+this._name+t,params:n||"",method:e,data:i};return u.a.isEmpty(a)||(o=u.a.assignIn(o,a)),p.request(o).then(function(t){return t.data})}},{key:"get",value:function(t,e,n){return this.call(t,"get",e,null,n)}},{key:"delete",value:function(t,e,n){return this.call(t,"delete",e,null,n)}},{key:"post",value:function(t,e,n){return this.call(t,"post",null,e,n)}},{key:"put",value:function(t,e,n){return this.call(t,"put",null,e,n)}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return m});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(31),l=n.n(r),c=n(12),u=n.n(c),d="https://alydnh-api.ptit365.com",p=l.a.create({baseURL:d,withCredentials:!1}),m=function(){function t(){a()(this,t)}return s()(t,null,[{key:"getApiHost",value:function(t){return new h(t)}}]),t}(),h=function(){function t(e){a()(this,t),this._name=e}return s()(t,[{key:"call",value:function(t,e,n,i,a){var o={url:d+"/"+this._name+t,params:n||"",method:e,data:i};return u.a.isEmpty(a)||(o=u.a.assignIn(o,a)),p.request(o).then(function(t){return t.data.data})}},{key:"get",value:function(t,e,n){return this.call(t,"get",e,null,n)}},{key:"delete",value:function(t,e,n){return this.call(t,"delete",e,null,n)}},{key:"post",value:function(t,e,n){return this.call(t,"post",null,e,n)}},{key:"put",value:function(t,e,n){return this.call(t,"put",null,e,n)}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return _});var i=n(40),a=n.n(i),o=n(7),s=n.n(o),r=n(1),l=n.n(r),c=n(2),u=n.n(c),d=n(9),p=n.n(d),m=n(8),h=n.n(m),f=n(12),v=n.n(f),g=n(639),y=n(156),_=function(t){function e(){return l()(this,e),p()(this,(e.__proto__||s()(e)).apply(this,arguments))}return h()(e,t),u()(e,null,[{key:"initialize",value:function(t){return new e(a()({},t,{childList:v.a.map(t.childList,function(t){return y.a.initialize(t)})}))}}]),e}(g.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(8),p=n.n(d),m=n(640),h=function(t){function e(){return s()(this,e),u()(this,(e.__proto__||a()(e)).apply(this,arguments))}return p()(e,t),l()(e,null,[{key:"initialize",value:function(t){return new e({name:t.name,status:t.status,list:[]})}}]),e}(m.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(8),p=n.n(d),m=n(641),h=function(t){function e(t){s()(this,e);var n=u()(this,(e.__proto__||a()(e)).call(this,t));return n.isSelect=!1,n}return p()(e,t),l()(e,[{key:"gsIsSelect",get:function(){return this.isSelect},set:function(t){this.isSelect=t}}],[{key:"initialize",value:function(t){return new e(t)}}]),e}(m.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(8),p=n.n(d),m=n(642),h=function(t){function e(t){s()(this,e);var n=u()(this,(e.__proto__||a()(e)).call(this,t));return n.isHover=!1,n.isSelect=!1,n}return p()(e,t),l()(e,[{key:"gsIsHover",get:function(){return this.isHover},set:function(t){this.isHover=t}},{key:"gsIsSelect",get:function(){return this.isSelect},set:function(t){this.isSelect=t}}],[{key:"initialize",value:function(t){return new e(t)}}]),e}(m.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(1),a=n.n(i),o=function t(){a()(this,t)}},function(t,e,n){"use strict";var i=n(1617),a=n.n(i),o=[{path:"/test/WorkItemList",component:a.a,name:"WorkItemList"}];e.a=o},function(t,e,n){"use strict";function i(t,e,n,i){return function(a,o,s){var r=s.set;s.set=function(a){if(r.call(this,a),t&&!a)throw Error("此内容为必填项！");if("string"==typeof a&&e&&a.length<e&&"string"===i)throw Error("此内容不能少于"+e+"个字符!");if("string"==typeof a&&n&&a.length>n&&"string"===i)throw Error("此内容不能超过"+n+"个字符!");if("string"==typeof a&&n&&a<e&&"number"===i)throw Error("此内容不能超过"+e+"!");if("string"==typeof a&&n&&a>n&&"number"===i)throw Error("此内容不能超过"+n+"!");if("string"==typeof a&&"number"===i){if(!/^\d+$/.test(a))throw Error("此内容必须为数字!")}}}}e.a=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(993);n.n(i);e.default={name:"app"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"apptest"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),a=n.n(i),o=n(22),s=n.n(o),r=n(36),l=n.n(r),c=n(12),u=n.n(c),d=n(3),p=n.n(d),m=n(106),h=n(291),f=n(133);e.default={name:"BudgetDetail",data:function(){var t;return t={onEdit:!0,companyId:"",companysOptions:m.a.companysOptions,BudgetDetailManager:this.$BudgetDetailManager,OrganizationManager:this.$OrganizationManager},l()(t,"onEdit",!1),l()(t,"error",!1),l()(t,"deepForEach",f.b),t},created:function(){this.init(),this.setReporter()},mounted:function(){},computed:{reporter:function(){return this.BudgetDetailManager.currentBudgetDetail.reporter},state:function(){switch(this.BudgetDetailManager.currentBudgetDetailState){case"draft":return"草稿";case"declared":return"审批中";case"effected":return"已生效"}},startTime:function(){return p()(this.BudgetDetailManager.currentBudgetDetail.startTime).format("YYYY-MM-DD")},endTime:function(){return p()(this.BudgetDetailManager.currentBudgetDetail.endTime).format("YYYY-MM-DD")}},methods:{init:function(){var t=this;return s()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("0"!==t.$route.params.id){e.next=5;break}return t.BudgetDetailManager.currentBudgetDetail=new h.a,t.onEdit=!0,t.BudgetDetailManager.currentBudgetDetailState="draft",e.abrupt("return");case 5:return e.prev=5,e.next=8,t.BudgetDetailManager.getCurrentBudgetResourceDetail(t.$route.params.id);case 8:return e.next=10,t.BudgetDetailManager.getCurrentBudetDetailData(t.$route.params.id);case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(5),new Error(e.t0.message);case 15:case"end":return e.stop()}},e,t,[[5,12]])}))()},setReporter:function(){var t=this,e=this.OrganizationManager.currentCompanyStaffsOptions.findIndex(function(e){return e.value===t.BudgetDetailManager.staffId});this.BudgetDetailManager.currentBudgetDetail.reporter=this.OrganizationManager.currentCompanyStaffsOptions[e].label},checkSave:function(){if(!this.BudgetDetailManager.currentBudgetDetail.title)throw new Error("标题不能为空！");if(!this.BudgetDetailManager.currentBudgetDetail.startTime)throw new Error("起始时间不能为空！");if(!this.BudgetDetailManager.currentBudgetDetail.endTime)throw new Error("结束时间不能为空！");if(this.BudgetDetailManager.currentBudgetDetail.startTime>this.BudgetDetailManager.currentBudgetDetail.endTime)throw new Error("起始时间不能大于结束时间");u.a.each(this.BudgetDetailManager.currentBudgetDetail.content,function(t){if(!t.node||!t.node.value)throw new Error("节点不能为空！");if(!t.type)throw new Error("类型不能为空！");if(!t.amount)throw new Error("金额不能为空！")})},saveBugetDetail:function(){var t=this;return s()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.checkSave(),e.next=4,t.BudgetDetailManager.saveBugetDetail();case 4:t.$router.push("/test/BudgetDetail/"+t.BudgetDetailManager.currentBudgetDetail.uid),t.onEdit=!1,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t.$message({type:"error",message:e.t0.message});case 11:case"end":return e.stop()}},e,t,[[0,8]])}))()},declaredToQianpi:function(){var t=this;return s()(a.a.mark(function e(){var n,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=[{key:"budgetDetailDoc1",value:t.BudgetDetailManager.staffId+"/declared"},{key:"budgetDetailDoc2",value:"declared/"+t.BudgetDetailManager.staffId}],e.next=4,t.$BudgetDetailManager.changeBudgetResourceState(t.BudgetDetailManager.currentBudgetDetail.uid,n);case 4:i=e.sent,t.BudgetDetailManager.currentBudgetDetailState="declared",t.$message({type:"success",message:"审批成功"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t.$message({type:"error",message:"操作失败"});case 12:case"end":return e.stop()}},e,t,[[0,9]])}))()},effecteDoc:function(){var t=this;return s()(a.a.mark(function e(){var n,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=[{key:"budgetDetailDoc1",value:t.BudgetDetailManager.staffId+"/effected"},{key:"budgetDetailDoc2",value:"effected/"+t.BudgetDetailManager.staffId}],e.next=4,t.BudgetDetailManager.changeBudgetToeffected();case 4:return e.next=6,t.BudgetDetailManager.changeBudgetResourceState(t.BudgetDetailManager.currentBudgetDetail.uid,n);case 6:i=e.sent,t.BudgetDetailManager.currentBudgetDetailState="effected",t.$message({type:"success",message:"生效成功"}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t.$message({type:"error",message:"操作失败"});case 14:case"end":return e.stop()}},e,t,[[0,11]])}))()},changeOnEdit:function(){this.onEdit=!this.onEdit},cancel:function(){this.onEdit=!1,"0"===this.$route.params.id?this.$router.push("/test/BudgetList"):this.init()}},errorCaptured:function(t,e,n){return this.error=!0,e.validatorMessage=t.message,!1}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),a=n.n(i),o=n(22),s=n.n(o),r=n(529),l=n.n(r),c=n(157),u=n(3);n.n(u);e.default={name:"BudgetKanban",components:{KanbanBudgetListItem:l.a},created:function(){this.BudgetKanbanManager.currentCompanyId="000002",this.OrganizationManager.init()},data:function(){return{BudgetKanbanManager:this.$BudgetKanbanManager,OrganizationManager:this.$OrganizationManager,queryList:[],onEdit:!0,startTiem:"",endTiem:""}},mounted:function(){this.init()},methods:{init:function(){var t=this;return s()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.BudgetKanbanManager.getAllNodes(t.OrganizationManager.companysOptions);case 2:return e.next=4,t.BudgetKanbanManager.changeCompanyToGetAllNodes(t.BudgetKanbanManager.currentCompanyId);case 4:t.initEmployeesNodes(),t.BudgetKanbanManager.init();case 6:case"end":return e.stop()}},e,t)}))()},onSelected:function(t){},initEmployeesNodes:function(){var t=[];_.each(this.BudgetKanbanManager.currentCompanyAllNodes,function(e){"DEPARTMENT"===e.nodeType&&t.push(e)});var e=[];_.each(this.BudgetKanbanManager.currentCompanyAllNodes,function(t){"POSITION"===t.nodeType&&e.push(t)});var n=[];_.each(this.BudgetKanbanManager.currentCompanyAllNodes,function(t){"EMPLOYEE"===t.nodeType&&n.push(t)});var i=t.concat(e.concat(n));this.queryList=_.map(i,function(t){return{id:t.nodeId,value:t.nodeName}})},changedCompany:function(){var t=this;return s()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.OrganizationManager.currentCompany=t.BudgetKanbanManager.currentCompanyId,e.next=4,t.OrganizationManager.init();case 4:t.init(),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.message);case 10:case"end":return e.stop()}},e,t,[[0,7]])}))()},changeRenderData:function(){try{if(this.BudgetKanbanManager.currentStartTime&&this.BudgetKanbanManager.currentEndTime&&this.BudgetKanbanManager.currentStartTime>this.BudgetKanbanManager.currentEndTime)throw new Error("起始时间不能大于结束时间")}catch(t){this.$message({type:"error",message:t.message})}this.BudgetKanbanManager.init()},reset:function(){this.BudgetKanbanManager.currentNode=new c.a,this.BudgetKanbanManager.currentStartTime="",this.BudgetKanbanManager.currentEndTime="",this.BudgetKanbanManager.currentReason="",this.BudgetKanbanManager.init()}},watch:{"BudgetKanbanManager.currentNode":function(){this.BudgetKanbanManager.init()},"BudgetKanbanManager.currentReason":function(){this.BudgetKanbanManager.init()},"BudgetKanbanManager.currentCompanyId":function(){console.log(this.BudgetKanbanManager.currentNode),this.BudgetKanbanManager.init()}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),a=n.n(i),o=n(22),s=n.n(o),r=n(36),l=n.n(r);e.default={name:"BudgetList",created:function(){this.BudgetDetailManager.currentCompanyId="000002",this.changedCompany()},mounted:function(){this.state="all"},data:function(){var t;return t={options:[{value:"all",label:"全部"},{value:"draft",label:"草稿"},{value:"declared",label:"审批中"},{value:"effected",label:"已生效"}],state:"",companys:[]},l()(t,"state",""),l()(t,"currentCompanyId",[]),l()(t,"performanceDocumentList",[]),l()(t,"OrganizationManager",this.$OrganizationManager),l()(t,"BudgetDetailManager",this.$BudgetDetailManager),t},methods:{getBudgetListByState:function(t){var e=this;return s()(a.a.mark(function n(){return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if("all"!==t){n.next=5;break}return n.next=3,e.BudgetDetailManager.getAllBudgetList();case 3:n.next=7;break;case 5:return n.next=7,e.BudgetDetailManager.getBudgetListByState(t);case 7:case"end":return n.stop()}},n,e)}))()},changedCompany:function(){var t=this;return s()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.OrganizationManager.currentCompany=t.BudgetDetailManager.currentCompanyId,e.next=4,t.OrganizationManager.init();case 4:return e.next=6,t.BudgetDetailManager.changeCompanyToGetAllNodes(t.BudgetDetailManager.currentCompanyId);case 6:t.BudgetDetailManager.staffId=t.OrganizationManager.currentCompanyStaffsOptions[0].value,e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0.message);case 12:case"end":return e.stop()}},e,t,[[0,9]])}))()},changeStaffId:function(){var t=this;return s()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.getBudgetListByState("all");case 1:case"end":return e.stop()}},e,t)}))()}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(15),a=n.n(i),o=n(10),s=n.n(o),r=n(22),l=n.n(r),c=n(155),u=n(113),d=n(133),p=n(12),m=n.n(p);e.default={name:"BudgetDetailListItem",props:{item:{type:Object,default:function(){return new c.a}},onEdit:{type:Boolean,default:!0},listLength:{type:Number,default:0},itemIndex:{type:Number,default:0}},data:function(){return{queryList:[]}},created:function(){this.init()},mounted:function(){},computed:{type:function(){switch(this.item.type){case"mobile":return"机动";case"non_mobile":return"非机动";default:return""}},typeConfig:function(){return[{id:0,value:"mobile",label:"机动"},{id:1,value:"non_mobile",label:"非机动"}]},amount:function(){return n.i(d.a)(this.item.amount,2,".",",")}},methods:{init:function(){var t=this;return l()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$OrganizationManager.getAllNodesForOneCompany(t.$BudgetDetailManager.currentCompanyId);case 2:t.initEmployeesNodes();case 3:case"end":return e.stop()}},e,t)}))()},onSelected:function(t){},initEmployeesNodes:function(){var t=this;return l()(s.a.mark(function e(){var n,i,o,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],m.a.each(t.$BudgetKanbanManager.currentCompanyAllNodes,function(t){"DEPARTMENT"===t.nodeType&&n.push(t)}),e.next=4,a.a.all(m.a.map(n,function(){var e=l()(s.a.mark(function e(n){var i,a,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=new u.a,t.next=3,i.getParentPrincipals(n.nodeId,"DEPARTMENT");case 3:return a=t.sent,o=a[a.length-1].principalName,t.abrupt("return",{nodeId:n.nodeId,nodeName:o+"-"+n.nodeName});case 6:case"end":return t.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()));case 4:return n=e.sent,i=[],m.a.each(t.$BudgetDetailManager.currentCompanyAllNodes,function(t){"POSITION"===t.nodeType&&i.push(t)}),e.next=9,a.a.all(m.a.map(i,function(){var e=l()(s.a.mark(function e(n){var i,a,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=new u.a,t.next=3,i.getParentPrincipals(n.nodeId,"POSITION");case 3:return a=t.sent,o=a[a.length-1].principalName,t.abrupt("return",{nodeId:n.nodeId,nodeName:o+"-"+n.nodeName});case 6:case"end":return t.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()));case 9:return i=e.sent,o=[],m.a.each(t.$BudgetDetailManager.currentCompanyAllNodes,function(t){"EMPLOYEE"===t.nodeType&&o.push(t)}),e.next=14,a.a.all(m.a.map(o,function(){var e=l()(s.a.mark(function e(n){var i,a,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=new u.a,t.next=3,i.getParentPrincipals(n.nodeId,"POSITION");case 3:return a=t.sent,o=a[a.length-1].principalName,t.abrupt("return",{nodeId:n.nodeId,nodeName:o+"-"+n.nodeName});case 6:case"end":return t.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()));case 14:o=e.sent,r=n.concat(i.concat(o)),t.queryList=m.a.map(r,function(t){return{id:t.nodeId,value:t.nodeName}});case 17:case"end":return e.stop()}},e,t)}))()},deleteItem:function(){this.$emit("deleteItem",this.item)},addItem:function(){this.$emit("addItem",this.item)}},errorCaptured:function(t,e,n){return e.validatorMessage=t.message,!1}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(155),a=n(610),o=n(133);e.default={name:"BudgetDetailList",props:{list:{type:Array,default:function(){return[new i.a]}},onEdit:{type:Boolean,default:!0}},data:function(){return{BudgetDetailListManager:new a.a}},computed:{total:function(){var t=0;return _.each(this.list,function(e){t+=parseFloat(e.amount)}),n.i(o.a)(t,2,".",",")}},methods:{addItemForlist:function(){this.BudgetDetailListManager.addItemForlist(this.list)},deleteItemForList:function(t){this.BudgetDetailListManager.deleteItemForList(this.list,t)},addItem:function(t){this.BudgetDetailListManager.addItemForList(this.list,t)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),a=n.n(i),o=n(22),s=n.n(o),r=n(3),l=n.n(r);e.default={name:"BudgetListItem",props:{item:{type:Object,required:null}},data:function(){return{}},mounted:function(){},computed:{state:function(){var t="";switch(_.each(this.item.metadata.labels,function(e){"budgetDetailDoc1"===e.key&&(t=e.value.split("/")[1])}),t){case"draft":return"草稿";case"declared":return"审批中";case"effected":return"已生效"}},time:function(){return l()(this.item.metadata.creationTimestamp).format("YYYY-MM-DD")},stateColor:function(){var t="";switch(_.each(this.item.metadata.labels,function(e){"budgetDetailDoc1"===e.key&&(t=e.value.split("/")[1])}),t){case"draft":return'#2c96fd"';case"declared":return"red";case"effected":return"green"}}},methods:{onDeleteDocument:function(t){var e=this;return s()(a.a.mark(function n(){var i,o,s;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=t.metadata.uid,n.prev=1,n.next=4,e.$BudgetDetailManager.deleteBudgetDetail(i,t.status.operationToken);case 4:o=n.sent,s=e.$BudgetDetailManager.budgetDetailList.findIndex(function(t){return t.metadata.uid===i}),e.$BudgetDetailManager.budgetDetailList.splice(s,1),e.$message({type:"success",message:"删除成功"}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),console.log(n.t0);case 13:case"end":return n.stop()}},n,e,[[1,10]])}))()},onViewDocument:function(t){var e=t.metadata.uid;this.$router.push("/test/BudgetDetail/"+e)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(196),a=n(133),o=n(12),s=(n.n(o),n(3)),r=n.n(s);e.default={name:"KanbanBudgetListItem",props:{item:{type:Object,default:function(){return new i.a}},onEdit:{type:Boolean,default:!0},itemIndex:{type:Number,default:0}},data:function(){return{queryList:[]}},created:function(){},computed:{type:function(){switch(this.item.type){case"mobile":return"机动";case"non_mobile":return"非机动";default:return""}},startTime:function(){return r()(this.item.startTime).format("YYYY-MM-DD")},endTime:function(){return r()(this.item.endTime).format("YYYY-MM-DD")},initial_budget:function(){return n.i(a.a)(this.item.initial_budget/100,2,".",",")},available_budget:function(){return n.i(a.a)(this.item.available_budget/100,2,".",",")}},methods:{onSelected:function(t){console.log(t)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(196),a=n(133);e.default={name:"KanbanBudgetList",props:{list:{type:Array,default:function(){return[new i.a]}},onEdit:{type:Boolean,default:!0}},data:function(){return{}},computed:{inittial_total:function(){var t=0;return _.each(this.list,function(e){t+=parseFloat(e.initial_budget)}),n.i(a.a)(t/100,2,".",",")},available_total:function(){var t=0;return _.each(this.list,function(e){t+=parseFloat(e.available_budget)}),n.i(a.a)(t/100,2,".",",")}},methods:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(142),a=n(4),o=n.n(a);e.default={name:"BatchTemplate",data:function(){return{loading:!0,template:{nodes:[]}}},props:{templateId:{type:Number,default:0,required:!0,validator:function(t){return t>0}},showBasic:Boolean},methods:{showDetail:function(){var t=this;o.a.isEmpty(this.template.nodes)&&i.a.getTemplateDetail(this.templateId).then(function(e){return t.template=e}).finally(function(){return t.loading=!1})},getNodeTypeName:function(t){return i.a.getNodeTypeName(t)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(142);e.default={name:"CategorySelect",validateRules:[{type:"number",required:!0,message:"请选择分类",trigger:"change"},{min:1,message:"请选择分类",type:"number"}],data:function(){return{categories:[],categoryId:null,selectedCategory:null}},props:{disabled:{type:Boolean,required:!1,default:!1},companyId:{type:Number,required:!0,default:0},value:{type:Number,required:!1,default:null},colspan:{type:Number,default:4,required:!0},label:{type:String,default:"分类",required:!1},placeHolder:String,ruleProp:String,showWholeCategory:{type:Boolean,default:!1,required:!1}},methods:{loadcategories:function(){var t=this;this.categories.splice(0,this.categories.length);var e={name:"全部分类",id:0},n={name:"正在加载",id:-1},a={name:"加载失败",id:-2},o=[];this.showWholeCategory&&(this.categories.push(e),this.categoryId=e.id),this.categories.push(n),o.push(a),this.categoryId=null,this.companyId&&i.a.getCategories(this.companyId,o).then(function(n){t.categories=n.result,t.showWholeCategory&&t.categories.splice(0,0,e),n.success&&null!==t.value&&t.value>0&&(t.categoryId=t.value)}).catch(function(e){t.categories=e})},onChange:function(t){for(var e=0;e<this.categories.length;e++)if(this.categories[e].id==t){this.selectedCategory=this.categories[e],this.$emit("change",this.selectedCategory);break}}},mounted:function(){this.companyId>0&&this.loadcategories()},watch:{categoryId:function(t){this.$emit("input",t)},companyId:function(t){this.loadcategories()}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(142);e.default={name:"CompanySelect",validateRules:[{type:"number",required:!0,message:"请选择公司",trigger:"change"},{min:1,message:"请选择公司",type:"number"}],data:function(){return{companies:[],companyId:null,selectedCompany:null}},props:{disabled:{type:Boolean,required:!1,default:!1},value:{type:Number,required:!1,default:null},colspan:{type:Number,default:4,required:!0},label:{type:String,default:"公司",required:!1},placeHolder:String,ruleProp:String,showWholeCompany:{type:Boolean,default:!1,required:!1}},methods:{loadCompanies:function(){var t=this,e={name:"全部公司",id:0},n={name:"正在加载",id:-1},a={name:"加载失败",id:-2},o=[];this.showWholeCompany&&(this.companies.push(e),this.companyId=e.id),this.companies.push(n),o.push(a),i.a.getCompanies(o).then(function(n){t.companies=n.result,t.showWholeCompany&&t.companies.splice(0,0,e),n.success&&null!==t.value&&t.value>0&&(t.companyId=t.value)}).catch(function(e){t.companies=o})},onChange:function(t){for(var e=0;e<this.companies.length;e++)if(this.companies[e].id==t){this.selectedCompany=this.companies[e],this.$emit("change",this.selectedCompany);break}}},mounted:function(){this.loadCompanies()},watch:{companyId:function(t){this.$emit("input",t)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),a=n(56),o=n(105),s=n.n(o),r=n(279),l=n.n(r),c=n(280),u=n.n(c),d=n(278),p=n.n(d),m=n(154),h=n.n(m),f=n(4),v=n.n(f),g=n(23);e.default={name:"ApplyPerDocument",BasePerManager:void 0,props:{document:{type:Object,default:function(){return this.$documentManager.createDocument(5)}}},beforeDestory:function(){},mounted:function(){this.Init()},data:function(){return{Org:{CompanyID:0,Visiable:!1,TypeList:[4]},BasePer:{CompanyID:0,importItem:!1},Source:[],CurrentRow:void 0,importExcel:!1,url:g.c+"/api/Performance/UploadItem",headers:{Authorization:"bearer "+i.a._getToken()},exceldata:[]}},computed:{state:function(){return this.document.viewMode?"view":""}},watch:{Source:{handler:function(){void 0==this.document.applyPerformanceItem&&(this.document.applyPerformanceItem=[]),this.document.applyPerformanceItem.length>0&&this.document.applyPerformanceItem.splice(0,this.document.applyPerformanceItem.length);for(var t=this.document.applyPerformanceItem,e=0;e<this.Source.length;e++)for(var n=0;n<this.Source[e].Items.length;n++)t.push(this.Source[e].Items[n])},deep:!0}},methods:{Init:function(){this.BasePerManager=new a.a},DownloadTmp:function(){var t=this;this.BasePerManager.DownLoad({}).then(function(e){e.Success?window.location.href=e.Data:t.$message.error(e.Error)}).catch(function(t){})},ShowPosition:function(){this.Org.CompanyID=this.document.PublishCompanyId,this.Org.Visiable=!0},SelectPosition:function(t){if(void 0!=t&&t.length>0)for(var e=0;e<t.length;e++){var n=t[e].ID,i=t[e].PID,a=t[e].Name,o=t[e].ParentName,s={};s.departId=i,s.positionId=n;var r=v.a.findWhere(this.Source,s);if(void 0==r){var l={};l.departId=i,l.positionId=n,l.departName=o,l.positionName=a,l.Items=[],this.Source.push(l)}}this.ClosePosition(t)},ClosePosition:function(t){this.Org.CompanyID=0,this.Org.Visiable=!1},DeletePosition:function(t,e){void 0!=this.Source&&this.Source.splice(e,1)},AddPerItem:function(t,e){if(void 0!=this.Source){var n={};n.name="",n.categoryId=0,n.categoryName="",n.baseScore="",n.calcType=0,n.minRate="",n.maxRate="",n.description="",n.associationSystemId="",n.associationSystemName="",n.associationSystemItemId="",n.associationSystemItemName="",n.companyId=this.document.PublishCompanyId,t.Items.push(n)}},DeletePerItem:function(t,e){void 0!=e&&e.length>0&&e.splice(t,1)},ShowBasePer:function(t,e){this.BasePer.CompanyID=this.document.PublishCompanyId,this.BasePer.importItem=!0,this.CurrentRow=t},SelectBasePer:function(t){if(void 0!=t&&void 0!=this.CurrentRow)for(var e=0;e<t.length;e++){var n=this.CurrentRow.Items,i={};i.name=t[e].name;var a=v.a.findWhere(n,i);if(void 0==a){var o={};o.name=t[e].name,o.categoryId=t[e].categoryId,o.categoryName=t[e].categoryName,o.baseScore=t[e].baseScore,o.calcType=t[e].calcType,o.minRate=t[e].minRate,o.maxRate=t[e].maxRate,o.description=t[e].description,o.associationSystemId=t[e].associationSystemId,o.associationSystemName=t[e].associationSystemName,o.associationSystemItemId=t[e].associationSystemItemId,o.associationSystemItemName=t[e].associationSystemItemName,o.companyId=this.document.PublishCompanyId,this.CurrentRow.Items.push(o)}}this.BasePer.CompanyID=0,this.BasePer.importItem=!1,this.CurrentRow=void 0},UploadSuccess:function(t,e,n){t.Success?this.exceldata=t.Data:this.$message.error(t.Error)},HandleExcel:function(){var t=this.exceldata;if(void 0!=t)for(var e=0;e<t.length;e++){var n=t[e].ID,i=t[e].PID,a=t[e].Name,o=t[e].ParentName,s={};s.departId=i,s.positionId=n;var r=v.a.findWhere(this.Source,s);if(void 0==r){var l={};l.departId=i,l.positionId=n,l.departName=o,l.positionName=a,l.Items=[],l.Items.push(t[e]),this.Source.push(l)}}},ImportExcel:function(){this.importExcel=!0}},components:{sorg:s.a,category:l.a,project:u.a,calctype:p.a,baseitem:h.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),a=n(50),o=new a.a;e.default={name:"AttachmentsUpload",componentName:"AttachmentsUpload",props:{doc:{type:Object,default:{}},label:{type:[Number,String],default:""},viewStateName:{type:String,default:"view"},prop:{type:String},followFormState:{type:Boolean,default:!0},itemState:{type:String,default:"default"},showLabel:{type:Boolean,default:!0}},data:function(){return{uploadUrl:o.getUploadUrl(),headers:{Authorization:"bearer "+i.a._getToken()},attachmentData:{type:"Document"},dialogVisible:!1,dialogImageUrl:""}},computed:{},watch:{},methods:{init:function(){},checkLock:function(){0!=this.step?this.$data.cssclose="upload-demo-close":this.$data.cssclose=""},checkFile:function(t){for(var e=this.doc.Attachments.length-1;e>=0;e--)if(this.doc.Attachments[e].name==t.name)return this.$message.error(this._tt("有相同文件名附件")+"!"),!1},handleLoadAttachments:function(t){console.log(t);var e=document.createElement("iframe");e.src=o.downLoadFile(t.key),e.style.display="none",document.body.appendChild(e)},handleUploadSuccess:function(t,e,n){if(void 0!=t.Data)this.doc.createAttachment(t.Data);else{this.$message.error(t.Error);for(var i=0;i<n.length;i++)n[i].name==e.name&&n.splice(i,1)}},handleRemoveAttachment:function(t,e){this.doc.Attachments=e}},mounted:function(){this.init()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),a=n.n(i),o=null;e.default={name:"CommonDocument",props:{document:{type:Object,default:function(){return this.$documentManager.createCommonDocument()}},offsetHeight:{type:Number,default:100},headerHeight:{type:Number,default:0}},mounted:function(){this.loadTemplate(this.document.CompanyID),o=this.document.onValidate(this.validateDraft)},beforeDestory:function(){this.document.eventManager.off(o)},data:function(){return{topBackgroundUrl:"",middleBackgroundUrl:"",bottomBackgroundUrl:"",errorMessage:"",editState:!0}},computed:{editorHeight:function(){return Math.max(400,this.offsetHeight-this.headerHeight-119)},showError:function(){return!this.document.viewMode&&!a.a.isEmpty(this.errorMessage)},showEditButton:function(){return!a.a.isEmpty(this.document.EndorsementFile)&&!this.document.EndorsementFile.viewMode},viewMode:function(){return this.showEditButton?!this.editState:this.document.viewMode}},methods:{toggleEdit:function(){this.editState=!this.editState},validateDraft:function(t){var e=!a.a.isUndefined(this.document.content)&&!a.a.isNull(this.document.content)&&!a.a.isEmpty(this.document.content.replace(/<[^>]*>/g,""));e||(this.errorMessage=this._tt("请输入呈文内容")),t.success=e&&t.success},onContentChanged:function(t){this.document.content=t},loadTemplate:function(t){t>0?this.$companyManager.loadCompanyById(t).then(function(t){return t.loadTemplate()}).then(function(t){this.topBackgroundUrl=t.getLogoUrl(),this.middleBackgroundUrl=t.getBackgroundUrl(),this.bottomBackgroundUrl=t.getSignUrl()}.bind(this)):(this.topBackgroundUrl="",this.middleBackgroundUrl="",this.bottomBackgroundUrl="")}},watch:{"document.CompanyID":function(t){this.loadTemplate(t)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),a=n(50),o=n(4),s=n.n(o),r=(new a.a,null);e.default={name:"ContractDocument",data:function(){return{show:!0,payMethod:{},projects:[{text:"**项目1"},{text:"**项目2"}],suppliers:[],contractTypes:[{value:1,text:"采购"},{value:2,text:"保养维修"}],loading:!1,selBankAccount:"",remind:""}},props:{document:{type:Object,default:function(){return this.$documentManager.createContract(3)}}},watch:{"document.BankAccount":"checkAccount",selBankAccount:{handler:function(){console.log("clear selBankAccount"),s.a.isEmpty(this.selBankAccount)&&this.clearAccount()},deep:!0}},beforeDestory:function(){this.document.eventManager.off(r)},mounted:function(){r=this.document.onSave(this.saveDraft)},computed:{state:function(){return this.document.viewMode?"view":""}},methods:{saveDraft:function(){if(!this.document.checkPayTerms())return void this.$message(this._tt("条款金额总数和合同总金额数不一致"));var t=this;this.$refs.form.validate()&&this.document.saveDraft().then(function(){t.$message(t._tt("保存成功")),t.$emit("backManager","")}).catch(function(e){console.log(e),t.$message(t._tt("保存失败"))})},removePayTerm:function(t){var e=this.document.PayTerms.indexOf(t);-1!==e&&this.document.PayTerms.splice(e,1),this.refreshIndex()},addPayTerm:function(){return 0==this.document.TotalPrice?void this.$message(this._tt("请先输入合同总价")):this.document.checkAddPayTerms()?(this.document.createPayTerm(),void this.refreshIndex()):void this.$message.error(this._tt("条款总价,请做出适当调整再增加条款"))},refreshIndex:function(){for(var t=0;t<this.document.PayTerms.length;t++){this.document.PayTerms[t].Index=t+1}},removeFreeTerm:function(t){var e=this.document.FreeTerms.indexOf(t);-1!==e&&this.document.FreeTerms.splice(e,1)},addFreeTerm:function(){this.document.createFreeTerm()},getTypeName:function(t){var e=s.a.find(this.contractTypes,function(e){return e.value===t});return void 0!=e?e.text:""},selectPayMethod:function(){if(!s.a.isEmpty(this.document.Supplier)&&!s.a.isEmpty(this.document.Supplier.PayMethods))for(var t=0;t<this.document.Supplier.PayMethods.length;t++){var e=this.document.Supplier.PayMethods[t];this.selBankAccount==e.BankAccount&&(this.payMethod=e,this.document.BankAccount=this.payMethod.BankAccount,this.document.BankName=this.payMethod.BankName,this.document.Holder=this.payMethod.Holder)}},clear:function(){this.document.Supplier={},this.selBankAccount=""},clearAccount:function(){this.document.BankAccount="",this.document.BankName="",this.document.Holder=""},checkAccount:function(){s.a.isEmpty(this.selBankAccount)||this.document.BankAccount==this.selBankAccount?this.remind="":this.remind=this._tt("付款账号和供应商快捷选择账号不一致")},refreshTerms:function(){if(void 0!=this.document.PayTerms)for(var t=0;t<this.document.PayTerms.length;t++){var e=this.document.PayTerms[t];e.MinAmount=i.a.formatCurrency(this.document.TotalPrice*(e.Ratio/100))}},getMinAmount:function(t){var e=0;if(void 0!=this.document.PayTerms){for(var n=0;n<this.document.PayTerms.length;n++){var a=this.document.PayTerms[n];a.Ratio=Number(a.Ratio).toFixed(2),e+=a.Ratio}if(e>100)return void this.$message.error(this._tt("百分比已经超过100%, 请调整！"))}t.MinAmount=i.a.formatCurrency(Number(this.document.TotalPrice)*(t.Ratio/100))},getRatio:function(t){var e=0;if(void 0!=this.document.PayTerms){for(var n=0;n<this.document.PayTerms.length;n++){var a=this.document.PayTerms[n];a.MinAmount=i.a.formatCurrency(a.MinAmount),e+=Number(a.MinAmount)}if(e>this.document.TotalPrice)return void this.$message.error(this._tt("条款总金额已经超过合同总金额, 请调整！"))}t.Ratio=(Number(t.MinAmount.replace(",",""))/Number(this.document.TotalPrice)*100).toFixed(2)},getSummaries:function(t){var e=this,n=t.columns,i=t.data,a=[];return n.forEach(function(t,n){if(0===n)return void(a[n]=e._tt("合计"));if(2==n){var o=i.map(function(e){return Number(e[t.property])});o.every(function(t){return isNaN(t)})||(a[n]=o.reduce(function(t,e){var n=Number(e);return isNaN(n)?t:t+e},0),a[n]+=" %")}else if(3==n){var r=i.map(function(e){return Number(s.a.isEmpty(e[t.property])?e[t.property]:e[t.property].replace(",",""))});r.every(function(t){return isNaN(t)})||(a[n]=r.reduce(function(t,e){var n=Number(e);return isNaN(n)?t:t+e},0),a[n]+=" "+e._tt("元"))}else a[n]=""}),a}},components:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"ContractFilter",props:{queryEnvelop:{type:Object,required:!0},activeType:{type:Number,default:1}},mounted:function(){},data:function(){return{}},methods:{doQuery:function(){this.$emit("doQuery")},onReset:function(){this.queryEnvelop.Title="",this.queryEnvelop.Validity="",this.queryEnvelop.StartIndex=0,this.queryEnvelop.setListType(this.activeType),this.doQuery()}},computed:{},watch:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"ContractListItem",props:{item:{type:Object,required:!0},activeType:{type:Number,default:1}},mounted:function(){},data:function(){return{StateLabels:[this._tt("草稿"),this._tt("审批中"),this._tt("终止"),this._tt("生效")]}},methods:{onDeleteDocument:function(t){this.$emit("onDeleteDocument",t)},onViewDocument:function(t){this.$emit("onViewDocument",t)},onShowReport:function(t){this.$emit("onShowReport",t)}},computed:{},watch:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(n(35),n(336)),a=new i.a,o={name:"ContractPaymentReport",data:function(){return{payable:{minimum:0,maximum:0,actualPayment:0,appliedAmount:0,name:"加载中...",items:[]},visible:!1,loading:!1}},methods:{formatPaymentStatus:function(t){return 0==t?this._tt("申请中"):1==t?this._tt("已审核"):2==t?this._tt("已确认"):3==t?this._tt("已完成"):this._tt("未知")},getPayment:function(t,e){return t==e?this.formatMoney(t,2):this.formatMoney(t)+" - "+this.formatMoney(e)},formatMoney:function(t,e){e=e>0&&e<=20?e:2,t=parseFloat((t+"").replace(/[^\d\.-]/g,"")).toFixed(e)+"";for(var n=t.split(".")[0].split("").reverse(),i=t.split(".")[1],a="",o=0;o<n.length;o++)a+=n[o]+((o+1)%3==0&&o+1!=n.length?",":"");return a.split("").reverse().join("")+"."+i},show:function(t,e){var n=this;this.visible=!0,this.loading=!0,a.getPayableWithPayment(t,e).then(function(t){t.Success?n.payable=t.Data:(n.$message.error(t.Error),n.payable.name=t.Error),n.loading=!1})}},props:{supplierPayable:{type:Object,default:void 0}}};e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,a=n(36),o=n.n(a),s=n(4),r=n.n(s);e.default={name:"CreateDocument",props:(i={value:{type:Object},documents:{type:Array,default:function(){return[]}},inSearchingDocument:{type:Boolean,default:!1},documentKey:{type:String}},o()(i,"value",{type:Boolean,default:!1}),o()(i,"inTab",{type:Boolean,default:!1}),i),mounted:function(){this.documentTypes=r.a.filter(this.$documentManager.supportDocumentTypes,function(t){return t.DocumentType>1}),this.selectedDocumentType=r.a.first(this.documentTypes).DocumentType},data:function(){return{isDialogShow:!1,selectExistsDocument:!1,selectedDocumentType:null,selectedDocumentId:null,documentTypes:[]}},methods:{onSearchDocument:function(t){this.$emit("onSearchDocument",this.selectedDocumentType,t)},onCreateDocument:function(){var t=this.selectExistsDocument?this.selectedDocumentId:0;this.$emit("onCreateDocument",this.selectedDocumentType,t),this.isDialogShow=!1}},watch:{selectedDocumentType:function(t){this.documents.splice(0,this.documents.length),this.selectedDocumentId=null},value:function(t){this.isDialogShow=t},isDialogShow:function(t){this.$emit("input",t)},documentKey:function(t,e){t!=e&&(this.selectExistsDocument=!1,this.selectedDocumentId=null)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(43),a=n(32),o=n(86),s=n(4),r=n.n(s),l=n(6),c=n(50),u=new c.a;e.default={name:"ImagesUpload",componentName:"ImagesUpload",props:{imageFiles:{type:[Array,Object],default:void 0},label:{type:[Number,String],default:""},viewStateName:{type:String,default:"view"},prop:{type:String},imageVisable:{type:Boolean,default:!1},followFormState:{type:Boolean,default:!0},itemState:{type:String,default:"default"},showLabel:{type:Boolean,default:!0}},data:function(){return{dialogViewVisible:!1,dialogImageUrl:"",files:[],uploadUrl:u.getUploadUrl(),headers:{Authorization:"bearer "+l.a._getToken()},imageData:{type:"Image"}}},computed:{},watch:{},methods:{init:function(){this.files=this.imageFiles},checkLock:function(){0!=this.step?this.$data.cssclose="upload-demo-close":this.$data.cssclose=""},checkFile:function(t){var e="image/jpeg"===t.type,n="image/png"===t.type;e||n||this.$message.error(this._tt("上传头像图片只能是 JPG 或 PNG 格式!"));for(var i=this.files.length-1;i>=0;i--)if(this.files[i].name==t.name)return this.$message.error(this._tt("有相同文件名附件!")),!1;return e||n},handlePreviewImage:function(t){this.dialogImageUrl=t.url,this.dialogViewVisible=!0},handleUploadSuccess:function(t,e,s){if(void 0!=t.Data){var l={};l.key=t.Data.Key,l.url=t.Data.Url,l.name=t.Data.Name,l.size=t.Data.Size;var c=n.i(a.a)(i.a),u=new o.a(c,i.a,!1);r.a.extendOwn(u,l),this.files.push(u)}else{this.$message.error(t.Error);for(var d=0;d<s.length;d++)s[d].name==e.name&&s.splice(d,1)}this.commit()},handleRemoveImage:function(t,e){this.files=e,this.commit()},commit:function(){this.$emit("UpdateImages",this.files)}},mounted:function(){this.init()},components:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),a=n.n(i);e.default={name:"DocumentAutoComplete",props:{value:{type:Object,default:null},companyId:{type:Number,default:0},documentType:{type:Number,required:!0},selectedDocumentId:{type:Number,default:0},document:{type:Object,default:null},optionStatus:{type:Object,default:null}},data:function(){return{loading:!1,documents:[],DocumentID:""}},mounted:function(){this.selectedDocumentId>0&&this.$documentManager.getDocumentById(this.selectedDocumentId).then(function(t){this.DocumentID=t.Title,this.documents.push(t),1===this.documents.length&&this.$emit("input",this.documents[0])}.bind(this))},watch:{DocumentID:function(t){if(a.a.isNumber(t))if(0!=t){var e=a.a.find(this.documents,function(e){return e.DocumentId===t});this.$emit("input",e)}else 1===this.documents.length&&this.$emit("input",this.documents[0])}},methods:{searchDocuments:function(t){if(a.a.isEmpty(t))this.documents=[];else{this.loading=!0;var e=this;this.$documentManager.searchDocumentsByKeyword(this.documentType,t,this.companyId,this.optionStatus).then(function(t){if(e.documents=t.list,!a.a.isEmpty(e.document)&&e.document.EndorsementMode){var n=e.document.findEndorsementDocuments(e.documentType);a.a.each(n,function(t){return e.documents.push(t)})}e.loading=!1}).catch(function(t){return console.log(t)})}},clear:function(){this.$emit("clear","")}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"DocumentField",props:{title:{type:String},fieldValue:{type:[String,Number,Object]}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4);n.n(i);e.default={name:"DocumentHeader",props:{value:{type:[Number,Object]},showLogo:{type:Boolean,default:!0},showSelect:{type:Boolean,default:!0}},data:function(){return{selectedCompanyId:null,logoUrl:""}},methods:{handleCompanySelect:function(t){this.logoUrl=t.template.getLogoUrl(),this.$emit("input",t.CompanyID)}},watch:{selectedCompanyId:function(t){this.$emit("input",t)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),a=n.n(i);e.default={name:"DocumentSeal",props:{document:{type:Object,required:!0}},data:function(){return{sealUrl:"",pos:""}},methods:{loadTemplate:function(t,e){t>0?this.$companyManager.loadCompanyById(t).then(function(t){return t.loadTemplate()}).then(function(t){this.sealUrl=t.getSealUrl(e)}.bind(this)):this.sealUrl=""},SealShow:function(){var t=this,e=this.document.CompanyID,n=this.document.TemplateId;if(this.document.TemplateId>0)this.$templateManager.loadTemplateById(n).then(function(t){var n=t.level;t.levelstring;this.loadTemplate(e,n)}.bind(this));else{a.a.find(this.document.ListNodes,function(t){return t.NodeType>=1&&a.a.any(t.NodeUsers,function(t){return 20==t.Status})})&&this.document.EndorsementFile.loadDecisionLevel().then(function(n){return t.loadTemplate(e,n)})}}},watch:{"document.PublishCompanyId":function(t){console.log(t),this.loadTemplate(t)}},computed:{StatusShow:function(){return this.document.Status>=10&&this.document.Status<=20&&(this.SealShow(),!0)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),a=n.n(i);e.default={name:"Endorsement",props:{endorsementFile:{type:Object,default:function(){return this.$endorsementManager.createEndorsementFile()}},initializeDocumentId:{type:Number,default:0},showFlowNodes:{type:Boolean,default:!1}},data:function(){return{toggleLoad:!1,activeDocumentTabName:null,searchedDocuments:[],inSearchingDocument:!1,documentLoading:!1,documentKey:a.a.uniqueId(),showCreateDocumentDialog:!1,typeCode:null,height:{inTimer:!1,offsetHeight:0,appliedHeaderHeight:0,appliedOffsetHeight:0}}},mounted:function(){this.height.offsetHeight=this.$el.offsetHeight,this.height.appliedOffsetHeight=this.height.offsetHeight,this.height.appliedHeaderHeight=this.$el.querySelector("#endorsement-header").offsetHeight;var t=this;window.onresize=function(){return function(){t.height.offsetHeight=t.$el.offsetHeight}()}},computed:{state:function(){return this.endorsementFile.viewMode?"view":""},selectedCompanyName:function(){var t=this.$companyManager.getCompanyById(this.endorsementFile.PublishCompanyId);return a.a.isEmpty(t)?"":this._tt({cn:t.Name,en:t.EnName})},selectedPriority:function(){var t=this.endorsementFile.Priority>2?2:this.endorsementFile.Priority;return a.a.find(this.endorsementFile.Priorities,function(e){return e.value===t}).name},selectedCategoryName:function(){return a.a.isEmpty(this.endorsementFile.Category)?"":this.endorsementFile.Category.TypeName},initialDepartmentName:function(){return a.a.isEmpty(this.endorsementFile.Department)?"":this._tt({en:this.endorsementFile.Department.englishName,cn:this.endorsementFile.Department.name})}},methods:{onSaveDraft:function(){if(this.$refs.form.validate()){this.$children[0].$children[0].loading=!0;for(var t=0;t<this.endorsementFile.Documents.length-1;t++){var e=this.endorsementFile.Documents[t],n={success:!0};if(e.emitValidate(n),!n.success)return this.activeDocumentTabName=e.TabName,this.$endorsementManager.emitEndorsementFileSaveFailed(this.endorsementFile),void(this.$children[0].$children[0].loading=!1)}this.$children[0].$children[0].loading=!1,this.$endorsementManager.emitEndorsementFileSaving(this.endorsementFile)}},ChangeTabTitle:function(t){return t.replace("标准文档",this._tt("标准文档")).replace("供应商文档",this._tt("供应商文档")).replace("合同文档",this._tt("合同文档")).replace("付款文档",this._tt("付款文档")).replace("项目文档",this._tt("项目文档")).replace("基础绩效",this._tt("基础绩效")).replace("申报绩效",this._tt("申报绩效")).replace("新增文档...",this._tt("新增文档...")).replace("呈文",this._tt("呈文"))},onSubmit:function(){this.endorsementFile.viewMode=!0},documentClosable:function(t){return!this.endorsementFile.viewMode&&!t.Immutable},toggleViewMode:function(){this.endorsementFile.viewMode=!this.endorsementFile.viewMode},onSearchDocument:function(t,e){this.inSearchingDocument=!0,this.$documentManager.queryTinyDocuments(t,e,{companyId:this.endorsementFile.PublishCompanyId}).then(function(t){this.searchedDocuments=t}.bind(this)).finally(function(){this.inSearchingDocument=!1}.bind(this))},onCreateDocument:function(t,e){if(e<=0){var n=this.$documentManager.createDocument(t);this.addDocument(n)}else this.documentLoading=!0,this.$documentManager.getDocumentById(e).then(function(t){var e=a.a.find(this.endorsementFile.Documents,function(e){return e.DocumentId===t.DocumentId});a.a.isEmpty(e)?this.addDocument(t):this.$alert(this._tt("该文档已经在签批件中存在，无法重复添加"),{type:"error",title:this._tt("错误")})}.bind(this)).finally(function(){this.documentLoading=!1}.bind(this))},onRemoveDocument:function(t){if("flowNodes"===t)return void this.$emit("closeFlowNodes");var e=(this.endorsementFile.Category,a.a.find(this.endorsementFile.Documents,function(e){return e.TabName==t}));if(e.Required){var n=a.a.find(this.endorsementFile.Documents,function(n){return n.TabName!=t&&n.DocumentType==e.DocumentType&&!n.Required});if(a.a.isEmpty(n))return void this.$alert(this._tt("该文档在当前签批类型中为必要文档，无法删除"),{type:"error",title:this._tt("错误")});n.Required=!0}var i=a.a.indexOf(this.endorsementFile.Documents,e);this.endorsementFile.Documents.splice(i,1),i=Math.max(0,i-1),this.activeDocumentTabName=this.endorsementFile.Documents[i].TabName},addDocument:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.GroupTypeName=a.a.find(this.$documentManager.supportDocumentTypes,function(e){return e.DocumentType===t.DocumentType}).TypeName,t.Required=n,t.Immutable=e,t.PublishCompanyId=this.endorsementFile.PublishCompanyId,t.EndorsementFile=this.endorsementFile,t.DocumentId<=0&&(t.DocumentId=-(a.a.uniqueId()+1)),this.endorsementFile.Documents.splice(this.endorsementFile.Documents.length-1,0,t),this.activeDocumentTabName=t.TabName,this.documentKey=t.TabName}},watch:{initializeDocumentId:function(t){t>0&&this.onCreateDocument(0,this.initializeDocumentId)},"height.offsetHeight":function(t){if(!this.height.inTimer){this.height.appliedOffsetHeight=t,this.height.appliedHeaderHeight=this.$el.querySelector("#endorsement-header").offsetHeight,this.height.inTimer=!0;var e=this;setTimeout(function(){e.height.inTimer=!1},100)}},state:function(t){var e=this.endorsementFile.viewMode;a.a.each(this.endorsementFile.Documents,function(t){return t.viewMode=e})},"endorsementFile.PublishCompanyId":function(t){t<=0||a.a.each(this.endorsementFile.Documents,function(e){return e.CompanyID=t})},"endorsementFile.Category":function(t,e){if(a.a.isEmpty(t))return void(this.endorsementFile.attached&&this.endorsementFile.Documents.splice(0,this.endorsementFile.Documents.length-1));if(!this.endorsementFile.attached&&(a.a.each(this.endorsementFile.Documents,function(t){t.DocumentType>0&&(t.GroupTypeName=a.a.find(this.$documentManager.supportDocumentTypes,function(e){return e.DocumentType===t.DocumentType}).TypeName)}.bind(this)),a.a.each(t.DocumentGroups,function(t){var e=a.a.find(this.endorsementFile.Documents,function(e){return e.DocumentType===t.DocumentType});a.a.isEmpty(e)||(e.Immutable=t.Immutable,e.Required=!0)}.bind(this)),this.endorsementFile.setAttached(),this.endorsementFile.DocumentId>0))return void(this.activeDocumentTabName=a.a.first(this.endorsementFile.Documents).TabName);var n=a.a.filter(this.endorsementFile.Documents,function(t){return t.Required});a.a.each(t.DocumentGroups,function(t){var e=a.a.find(n,function(e){return e.DocumentType===t.DocumentType});a.a.isEmpty(e)?(e=this.$documentManager.createDocument(t.DocumentType),this.addDocument(e,t.Immutable,!0)):n.splice(a.a.indexOf(n,e),1)}.bind(this)),a.a.each(n,function(t){this.endorsementFile.Documents.splice(a.a.indexOf(this.endorsementFile.Documents,t),1)}.bind(this)),this.endorsementFile.Documents.length<=2&&(this.activeDocumentTabName=a.a.first(this.endorsementFile.Documents).TabName)},activeDocumentTabName:function(t,e){var n=a.a.find(this.endorsementFile.Documents,function(e){return e.TabName===t});!a.a.isEmpty(n)&&n.DocumentType<0&&(this.showCreateDocumentDialog=!0,this.$nextTick(function(){this.activeDocumentTabName=e}))},showFlowNodes:function(t){this.activeDocumentTabName=t?"flowNodes":this.endorsementFile.Documents[0].TabName}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),a=n(50),o=(n(129),n(4)),s=n.n(o),r=new a.a;e.default={name:"EndorsementAttachmentList",props:{viewStateName:{type:String,default:"view"},prop:{type:String},moreCount:{type:Number,default:2},endorsementFile:{type:Object,required:!0}},mounted:function(){this.reloadFileList()},data:function(){return{uploadUrl:r.getUploadUrl(),headers:{Authorization:"bearer "+i.a._getToken()},postData:{type:"Document"},fileList:[],isListDialogShow:!1,dialogVisible:!1,dialogImageUrl:"",isMobile:/(iPhone|iPad|iPod|iOS|Android)/i.test(navigator.userAgent)}},computed:{showMore:function(){return this.endorsementFile.Attachments.length>this.moreCount}},methods:{showMoreDialog:function(t){t.stopPropagation(),this.isListDialogShow=!0},onUploadFailed:function(t){this.reloadFileList(),this.$alert(this._tt("上传文件失败")+": "+t.message,{type:"error",title:this._tt("错误")})},onUploadSuccessed:function(t,e,n){t.Success?this.endorsementFile.AddAttachment(e):this.$alert(this._tt("上传文件失败")+": "+t.Error,{type:"error",title:this._tt("错误")}),this.reloadFileList()},onFileRemoved:function(t,e){this.endorsementFile.RemoveAttachment(t),this.reloadFileList(),this.isListDialogShow&&(this.isListDialogShow=this.endorsementFile.Attachments.length>0)},reloadFileList:function(){this.fileList=s.a.first(this.endorsementFile.Attachments,this.moreCount)},onFilePreview:function(t){var e=document.createElement("iframe");e.src=r.downLoadFile(t.key),e.style.display="none",document.body.appendChild(e)}},watch:{"endorsementFile.DocumentId":function(){this.reloadFileList()}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),a=n(88),o=n(4),s=n.n(o),r=n(3),l=n.n(r),c=null,u=null;e.default={name:"EndorsementButtonList",props:{endorsementFile:{type:Object}},data:function(){return{user:{},companyID:0,docStatus:0,createUserID:0,nodeType:0,SingedCount:0,AgreeCount:0,MustAgreeCount:0,userStatus:0,userAgree:!1,userOver:!1,isFree:!0,undoCountDown:0,undoCountDownInterval:null,refreshTimeout:null,loading:!1}},computed:{docId:function(){return s.a.isEmpty(this.endorsementFile)?0:this.endorsementFile.DocumentId},showUndo:function(){return this.undoenable&&this.step>=0&&this.step<3},step:function(){return this.$data.docStatus<1?0:this.$data.docStatus<10?1:this.$data.docStatus<20?2:3},forceable:function(){return this.isFree&&!this.singenable&&!this.submitenable&&!this.finishenable&&this.step>0&&this.step<3&&!s.a.isEmpty(this.userPower)&&this.userPower.AgreeRights},showForceWithdraw:function(){return this.forceable&&s.a.any(this.GetCurrentNode(this.BatchDocModel.Batch.Node).Users,function(t){return 1==t.status})},showForceReceive:function(){var t=this;return this.forceable&&this.$data.SingedCount<this.$data.MustAgreeCount&&!s.a.any(this.GetCurrentNode(this.BatchDocModel.Batch.Node).Users,function(e){return e.id==t.$data.user.Id})},userPower:function(){var t=this;if(null==this.$data.user||null==this.$data.user.UserPowers||this.$data.companyID<1)return null;var e=this.$data.user.UserPowers;return s.a.find(e,function(e){return e.CompanyID==t.$data.companyID})},userFinishPower:function(){return null!=this.userPower&&(1==this.step?this.userPower.AgreeRights:2==this.step&&this.userPower.FiledRights)},nodeFinishPower:function(){return 2==this.$data.nodeType||4==this.$data.nodeType},singenable:function(){return 0==this.$data.userStatus&&!(this.$data.SingedCount>=this.$data.MustAgreeCount)},submitenable:function(){return 1==this.$data.userStatus&&(!!this.$data.isFree||!this.nodeFinishPower)},finishenable:function(){return 1==this.$data.userStatus&&(this.$data.isFree?this.userFinishPower:this.nodeFinishPower)},undoenable:function(){return this.$data.userStatus>1},saveenable:function(){return 1==this.$data.userStatus}},watch:{docId:function(t){this.$endorsementManager.SubmitAfterSaving=!1,this.Load()},"endorsementFile.version":function(t){this.$endorsementManager.SubmitAfterSaving=!1,this.Load()}},BatchDocModel:null,ModelsManage:a.a,methods:{init:function(){this.$data.user=i.a.getUser(),this.ModelsManage=a.a,this.ModelsManage.Init(this.$root.$options.Servers),s.a.isEmpty(c)&&(c=this.$endorsementManager.onEndorsementFileSaving(this.onSaveDraft)),s.a.isEmpty(u)&&(u=this.$endorsementManager.onEndorsementFileSaveFailed(this.onSaveDraftFailed)),this.Load()},beforeDestroy:function(){this.$endorsementManager.eventManager.off(c)},clearUndoCountDownInterval:function(){s.a.isNull(this.undoCountDownInterval)||(clearInterval(this.undoCountDownInterval),this.undoCountDownInterval=null),s.a.isNull(this.refreshTimeout)||(clearTimeout(this.refreshTimeout),this.refreshTimeout=null)},Load:function(){this.clearUndoCountDownInterval(),this.BatchDocModel=this.ModelsManage.GetBatchDoc(this.docId),this.BatchDocModel.EventsloadCompleted.KanbanDocToolbar=this.Load_Completed,this.BatchDocModel.EventssaveCompleted.KanbanDocToolbar=this.Save_Completed,this.BatchDocModel.parseData(this.endorsementFile.$data)},GetCurrentNode:function(t){for(var e=t.CurrentIndex,n=0;n<t.Nodes.length;n++)if(t.Nodes[n].index==e)return t.Nodes[n];return null},GetUserStatus:function(t,e){this.$data.userStatus=-1,this.$data.SingedCount=0,this.$data.AgreeCount=0;for(var n=0;n<t.length;n++)t[n].id==e&&(this.$data.userStatus=t[n].status,this.$data.undoCountDown=l()(t[n].lastOperationTime).add(60,"seconds").diff(l()(t[n].currentDateTime),"seconds")),t[n].status>0&&this.$data.SingedCount++,t[n].status>1&&this.$data.MustAgreeCount++;0==this.$data.userStatus&&0==this.step&&this.$data.createUserID===this.$userManager.currentUser.UserID&&(this.$data.userStatus=1)},GetContents:function(){this.$data.docStatus=this.BatchDocModel.Batch.Status,this.$data.isFree=this.BatchDocModel.Batch.Node.TemplateID<1,this.$data.companyID=this.BatchDocModel.Batch.Info.CompanyID,this.$data.createUserID=this.BatchDocModel.Batch.Info.CreateUserID;var t=this.GetCurrentNode(this.BatchDocModel.Batch.Node);if(null==t)return this.$data.nodeType=0,this.$data.MustAgreeCount=1,this.$data.userStatus=1,this.$data.SingedCount=1,void(this.$data.AgreeCount=0);this.$data.nodeType=t.Type,this.$data.MustAgreeCount=t.MustAgreeCount,this.GetUserStatus(t.Users,this.$data.user.Id),this.setupUndoCountDown()},setupUndoCountDown:function(){this.clearUndoCountDownInterval(),this.showUndo&&(this.undoCountDownInterval=setInterval(function(){--this.undoCountDown<=0&&(this.clearUndoCountDownInterval(),this.refreshTimeout=setTimeout(function(){this.$root.$options.Bus.emit("onRefreshKanbanList",this.endorsementFile.DocumentId),this.clearUndoCountDownInterval()}.bind(this),5e3))}.bind(this),1e3))},Load_Completed:function(t){this.$endorsementManager.SubmitAfterSaving&&(this.$endorsementManager.SubmitAfterSaving=!1,this.$root.$options.Bus.emit("Submit",0)),this.GetContents()},Save_Completed:function(t){if(t.Success){var e=this._tt("修改成功"),n=this.docId;0==this.docId&&(e=this._tt("保存成功"),n=t.EffectIds[0],this.ModelsManage.ReplaceDoc(0),this.$root.$options.Bus.emit("newdraftsave"),this.loading=!1),99==t.EffectState&&(e=this._tt("删除成功"),n=0,this.loading=!1),this.$message(e),this.$root.$options.Bus.emit("bdchange",n),this.$root.$options.Bus.emit("draftUpdated",this.endorsementFile),this.BatchDocModel.load(),this.loading=!1}else this.$message(t.Error),this.loading=!1},onSaveDraft:function(t){this.BatchDocModel.parseData(t,!1),this.BatchDocModel.save()},onSaveDraftFailed:function(t){this.$endorsementManager.SubmitAfterSaving=!1},emitSaveDraft:function(){this.$emit("saveDraft")},ForceAction:function(t){var e=this;this.$confirm("您确定要这么做吗?","提示",{type:"warning"}).then(function(){return e.Action(t)}).catch(s.a.noop)},Action:function(t){this.loading=!0,this.BatchDocModel.action(t)},Submit:function(t){if(this.$endorsementManager.SubmitAfterSaving=!1,0===t)return this.$endorsementManager.SubmitAfterSaving=!0,void this.emitSaveDraft();this.$root.$options.Bus.emit("Submit",t)}},mounted:function(){this.init()},components:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(15),a=n.n(i),o=n(4),s=n.n(o);e.default={name:"EndorsementCategorySelect",props:{value:{type:Object},companyId:{type:Number,required:!0},typeCode:{type:String,default:null}},data:function(){return{categories:null,selectedCategoryId:null}},methods:{ensureCategoires:function(){return s.a.isEmpty(this.categoires)?this.$companyManager.loadCompanyById(this.companyId).then(function(t){return t.loadEndorsementCategories()}).then(function(t){this.categories=t,s.a.isEmpty(this.selectedCategoryId)&&!s.a.isEmpty(this.categories)&&(this.selectedCategoryId=s.a.first(this.categories).TypeCode)}.bind(this)):a.a.resolve()}},watch:{selectedCategoryId:function(t){if(t>0){var e=s.a.find(this.categories,function(e){return e.TypeCode===t});this.$emit("input",e)}},companyId:function(t){if(t<=0)return this.categories=null,void(this.selectedCategoryId=null);this.ensureCategoires().then(function(){var t=s.a.isEmpty(this.typeCode)?s.a.first(this.categories).TypeCode:this.typeCode;t!=this.selectedCategoryId&&(this.selectedCategoryId=t)}.bind(this)).catch(function(t){return console.log(t)})},typeCode:function(t){this.selectedCategoryId=t},value:function(t){s.a.isEmpty(t)&&this.companyId>0&&this.ensureCategoires().then(function(){var t=this.typeCode,e=s.a.find(this.categories,function(e){return e.TypeCode===t});this.$emit("input",e)}.bind(this))}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,a=n(36),o=n.n(a),s=n(6),r=n(328),l=n(329),c=n(88),u=n(50),d=n(4),p=n.n(d),m=new u.a;e.default={name:"EndorsementDialog",props:{docId:{type:[Number,String],default:0},doLoad:{type:[Boolean],default:!0},categoryName:{type:[String],default:""}},data:function(){return{notTempPreNode:[],isAutoFill:!1,isExpMe:!1,hasrights:!1,uploadURL:m.getUploadUrl(),headers:{Authorization:"bearer "+s.a._getToken()},data:{type:"batch"},fileList:[],user:{},dialogTitle:"",visiable:!1,companyID:0,docStatus:0,batchType:0,templateID:0,templateList:[],nodeUserList:[],optionalUserList:[],condition:1,content:"",flag:10,loading:!1}},computed:{step:function(){return this.$data.docStatus<1?0:this.$data.docStatus<10?1:this.$data.docStatus<20?2:3}},watch:{docId:"load",templateID:"setNodeUser",nodeUserList:"fixNodeUser",condition:"fixCondition",isAutoFill:"fillUser",isExpMe:"fillGroup"},NodesTemplateModel:null,UsersModel:null,BatchDocModel:null,ModelsManage:c.a,methods:(i={init:function(){this.$data.user=s.a.getUser(),this.ModelsManage=c.a,this.ModelsManage.Init(this.$root.$options.Servers),this.NodesTemplateModel=new r.a(this.$root.$options.Servers),this.UsersModel=new l.a(this.$root.$options.Servers),this.NodesTemplateModel.EventloadItems=this.Load_CompletedT,this.UsersModel.EventloadItems=this.Load_CompletedU,this.$root.$options.Bus.add("Submit","Dialog",this.Open),this.load(),this.fileList=[]},Open:function(t){this.isAutoFill=!1,this.isExpMe=!1,this.$data.flag=t,this.$data.visiable=!0,this.$data.templateID=this.BatchDocModel.Batch.Node.TemplateID,this.setNodeUser()},close:function(){this.$data.visiable=!1,(p.a.isNull(this.$data.content)||""===this.$data.content.replace(/<[^>]+>/g,""))&&(this.$data.content=""),this.fileList.length>0&&this.fileList.splice(0,this.fileList.length)},closeDialog:function(){this.fileList=[],this.$data.content=""},fixCondition:function(){},filterUsers:function(t){void 0==this.$data.ssTemp&&(this.$data.ssTemp=this.$data.optionalUserList.map(function(t){return{Title:t.Title,ID:t.ID}}));var e=this.$data.optionalUserList;if(e.splice(0,e.length),this.$data.optionalUserList=this.$data.ssTemp.filter(function(e){return e.Title.toLowerCase().indexOf(t.toLowerCase())>-1}),e=this.$data.optionalUserList,1==e.length){0==this.$data.nodeUserList.filter(function(t){return t==e[0].ID}).length&&(this.$data.nodeUserList.push(e[0].ID),this.$refs.nodeUserSelector.$data.query="")}},fillGroup:function(){if(this.$data.nodeUserList=[],this.isAutoFill)for(var t=[],e=s.a.getUser().Id,n=0;n<this.notTempPreNode.length;n++){var i=this.notTempPreNode[n],a=!1;if(0!=this.isExpMe||i.id!=e){for(var o=0;o<t.length;o++)if(t[o].grouptype==i.grouptype&&t[o].groupid==i.groupid){a=!0;break}0==a&&(this.$data.nodeUserList.push(i.groupid+"-"+i.grouptype),t.push({grouptype:i.grouptype,groupname:i.groupname,id:i.groupid,groupid:i.groupid,name:i.groupname}))}}},fillUser:function(){this.isAutoFill&&(this.isExpMe=!1),this.fillGroup()},fixNodeUser:function(){void 0!=this.$refs.nodeUserSelector&&void 0!=this.$refs.nodeUserSelector.$data&&(this.$refs.nodeUserSelector.$data.query="")},setNodeUser:function(){if(this.hasrights=!0,this.$data.templateID>0){var t=this.BatchDocModel.Batch.Info.CompanyID,e=s.a.getUser();if(this.hasrights=!1,e.UserPowers.length>0)for(var n=0;n<e.UserPowers.length;n++)e.UserPowers[n].CompanyID==t&&(this.hasrights=e.UserPowers[n].AddUserRights)}if(this.hasrights=!this.hasrights,this.$data.templateID<1){if(this.$data.nodeUserList=[],this.$data.condition=1,this.step>0){for(var i=this.BatchDocModel.Batch.Node.Nodes,a=void 0,o=0;o<i.length;o++)if(i[o].index==this.BatchDocModel.Batch.Node.CurrentIndex){a=i[o].Users;break}if(this.notTempPreNode.splice(0,this.notTempPreNode.length),void 0!=a)for(var r=0;r<a.length;r++)this.notTempPreNode.push({groupid:a[r].groupid,groupname:a[r].groupname,grouptype:a[r].grouptype,id:a[r].id,name:a[r].name})}}else 0==this.step?this.NodesTemplateModel.loadByID(this.$data.templateID):this.LoadNodeUser()},LoadNodeUserT:function(t){this.$data.condition=t.condition,this.$data.nodeUserList=[];for(var e=0;e<t.UserIDs.length;e++)this.$data.nodeUserList.push(t.UserIDs[e])},LoadNodeUser:function(){for(var t=this.BatchDocModel.Batch.Node,e=t.CurrentIndex+1,n=null,i=0;i<t.Nodes.length;i++)if(t.Nodes[i].index==e){n=t.Nodes[i].Users,this.$data.condition=t.Nodes[i].MustAgreeCount;break}this.$data.nodeUserList=[];var a=[];if(null!=n)for(var o=0;o<n.length;o++){for(var s=n[o],r=!1,l=0;l<a.length;l++)if(a[l].grouptype==s.grouptype&&a[l].groupid==s.groupid){r=!0;break}0==r&&(this.$data.nodeUserList.push(s.groupid+"-"+s.grouptype),a.push({grouptype:s.grouptype,groupname:s.groupname,id:s.groupid,groupid:s.groupid,name:s.groupname}))}},load:function(){this.BatchDocModel=this.ModelsManage.GetBatchDoc(this.docId),this.BatchDocModel.EventsloadCompleted.BatchSubmit=this.Load_Completed,this.BatchDocModel.Eventssubmit.BatchSubmit=this.Submit_Completed,this.$data.content="",this.doLoad&&this.BatchDocModel.load()},Load_Completed:function(t){this.$data.companyID=this.BatchDocModel.Batch.Info.CompanyID,this.$data.docStatus=this.BatchDocModel.Batch.Status,null!=this.$data.companyID&&(this.NodesTemplateModel.load(this.$data.companyID),this.UsersModel.load(this.$data.companyID))},Load_CompletedT:function(t){var e=this.$data.templateList,n=this.NodesTemplateModel.Items;e.splice(0,e.length),e.push({Title:this._tt("自由流程"),ID:0});for(var i=0;i<n.length;i++)n[i].Category.name===this.categoryName&&(e.push({Title:n[i].Title,ID:n[i].ID}),0==this.step&&n[i].ID>0&&n[i].ID==this.$data.templateID&&null!=n[i].UserIDs&&this.LoadNodeUserT(n[i]))},Load_CompletedU:function(t){var e=this.$data.optionalUserList,n=this.UsersModel.Items;e.splice(0,e.length);for(var i=0;i<n.length;i++)e.push({Title:n[i].Title,ID:n[i].ID,GroupType:n[i].GroupType});this.$data.ssTemp=this.$data.optionalUserList.map(function(t){return{Title:t.Title,ID:t.ID}})},Submit_Completed:function(t){var e=this._tt("提交失败")+";"+t.Error;t.Success&&(e=this._tt("提交成功"),this.$root.$options.Bus.emit("bdchange",this.docId),this.BatchDocModel.load(),this.loading=!1,this.close()),this.$message(e),this.loading=!1},submit:function(){var t=this.$data,e=this.BatchDocModel.Submit;return e.CreateUserID=t.user.Id,e.TemplateID=t.templateID,e.IsExpMe=!this.isExpMe,0==t.nodeUserList.length&&t.flag<4&&t.flag>-1?void this.$message(this._tt("请选择待审批人员")+t.flag):p.a.isNull(t.content)||""===t.content.replace(/<[^>]+>/g,"")?void this.$message({message:"意见内容不能为空",type:"error"}):(e.ListUsers=t.nodeUserList,e.Comment=t.content,e.ListFiles=this.fileList,this.BatchDocModel.submit(t.flag),void(this.loading=!0))},updateData:function(t){this.$data.content=t},checkFile:function(t){if(void 0!=t&&void 0!=this.fileList)for(var e=this.fileList.length-1;e>=0;e--)if(this.fileList[e].name==t.name)return this.$message.error(this._tt("有相同文件名附件")+"!"),!1},handlePreview:function(t){var e=document.createElement("iframe");e.src=t.url,e.style.display="none",document.body.appendChild(e)},handleUploadSuccess:function(t,e){var n={};void 0!=t.Data&&(n.key=t.Data.Key,n.name=t.Data.Name,n.url=t.Data.Url,n.type=e.raw.type,this.fileList.push(n))}},o()(i,"handleUploadSuccess",function(t,e){var n={};void 0!=t.Data&&(n.key=t.Data.Key,n.name=t.Data.Name,n.url=t.Data.Url,n.type=e.raw.type,this.fileList.push(n))}),o()(i,"handleRemove",function(t,e){this.fileList=e}),i),mounted:function(){this.init()},components:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(n(43),n(32),n(86),n(4)),a=(n.n(i),n(6)),o=n(50),s=new o.a;e.default={name:"ImageOneUpload",props:{title:{type:[Number,String],default:""},imageData:{type:[Object],default:void 0},imageStyle:{type:[Number,String],default:""},imageClass:{type:[Number,String],default:"avatar"},value:{type:[Object],default:void 0}},data:function(){return{image:"",uploadUrl:s.getUploadUrl(),headers:{Authorization:"bearer "+a.a._getToken()}}},computed:{},watch:{value:"init"},methods:{init:function(){void 0!=this.value&&(this.image=this.value)},checkLock:function(){},checkFile:function(t){var e="image/jpeg"===t.type,n="image/png"===t.type,i=t.size/1024/1024<2;return e||n||this.$message.error(this._tt("上传头像图片只能是 JPG 或 PNG 格式!")),e||n||this.$message.error(this._tt("上传头像图片只能是 JPG 或 PNG 格式!")),i||this.$message.error(this._tt("上传头像图片大小不能超过 2MB!")),e&&i||n&&i},handleUploadSuccess:function(t,e,n){void 0!=t.Data&&(this.image=t.Data,this.commit())},commit:function(){this.$emit("UpdateImage",this.image)}},mounted:function(){this.init()},components:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(n(6),n(4)),a=n.n(i),o=(n(3),null);e.default={name:"PayDocument",props:{document:{type:Object,default:function(){return this.$documentManager.createPayment()}}},data:function(){return{suppliers:[],payClauses:[],selPayClauses:[],payTypeList:[{value:0,text:"现金"},{value:1,text:"转账"}],dialogVisible:!1,loading:!1,isFollow:!0,imageValue:"",baseValue:"View"}},computed:{state:function(){return this.baseValue=this.document.viewMode?"view":"",this.document.viewMode?"view":""}},beforeDestory:function(){this.document.eventManager.off(o)},mounted:function(){o=this.document.onSave(this.saveDraft)},watch:{"document.viewMode":function(t){if(t){var e=this.$el.getElementsByTagName("input");e=a.a.filter(e,function(t){return!t.classList.contains("ignore-view-mode")&&!t.disabled}),a.a.each(e,function(t){t.classList.add("view-mode-input"),t.disabled=!0})}else{var n=this.$el.getElementsByClassName("view-mode-input");a.a.each(n,function(t){t.classList.remove("view-mode-input"),t.disabled=!1})}},"document.BankAccount":function(t){for(var e=0;e<this.document.Supplier.PayMethods;e++){var n=this.document.Supplier.PayMethods[e];n.BankAccount==this.document.BankAccount&&(this.document.Holder=n.Holder,this.document.BankName=n.BankName)}},state:{handler:function(){5==this.document.PaymentStatus&&(this.isFollow=!1,this.baseValue="view",this.imageValue="")},deep:!0}},methods:{saveDraft:function(){if(!this.document.checkPayableTerm())return void this.$message.error(this._tt("付款条款金额校验有误，请检查"));var t=this;this.$refs.form.validate()&&this.document.saveDraft().then(function(){t.$message(t._tt("保存成功")),t.$emit("backManager","")}).catch(function(e){t.$message(t._tt("保存失败"))})},updatePaymentVouchers:function(t){this.document.PaymentVouchers=t},open:function(){var t=this,e=1==this.document.PayType?this.document.BankAccount:"";this.$payableManager.getPayableItems(this.document.SupplierID,e).then(function(e){t.payClauses=e,t.loading=!1,t.dialogVisible=!0}).catch(function(t){return console.log(t)})},selectionPayClauses:function(t){this.selPayClauses=t},deletePayClause:function(t,e){this.document.PayableTerms.splice(t,1)},submitPayClause:function(){void 0!=this.document.PayableTerms&&this.document.PayableTerms.splice(0,this.document.PayableTerms.length);for(var t=0;t<this.selPayClauses.length;t++)this.document.createPayableTerm(this.selPayClauses[t]);this.dialogVisible=!1},getTypeName:function(t){return a.a.find(this.payTypeList,function(e){return e.value===t}).text},querySearch:function(t,e){if(void 0!=this.document.Supplier.PayMethods){for(var n=[],i=0;i<this.document.Supplier.PayMethods.length;i++){var a={};a.value=this.document.Supplier.PayMethods[i].BankAccount,n.push(a)}e(t?n.filter(this.createStateFilter(t)):n)}},createStateFilter:function(t){return function(e){return 0===e.value.indexOf(t.toLowerCase())}},handleSelect:function(t){this.document.BankAccount=t.value},clear:function(){this.document.Supplier={},this.document.BankAccount=""},checkPayment:function(t){Number(t.Payment)>Number(t.SurplusPayment)&&this.$message.error(this._tt("支付金额不能大于剩余金额")+":"+t.SurplusPayment)},changePayType:function(){0==this.document.PayType&&(this.document.BankAccount="")}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"PaymentFilter",props:{queryEnvelop:{type:Object,required:!0},activeType:{type:Number,default:1}},mounted:function(){},data:function(){return{}},methods:{doQuery:function(){this.$emit("doQuery")},onReset:function(){this.queryEnvelop.Title="",this.queryEnvelop.Validity="",this.queryEnvelop.StartIndex=0,this.queryEnvelop.setListType(this.activeType),this.doQuery()}},computed:{},watch:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"PaymentListItem",props:{item:{type:Object,required:!0},activeType:{type:Number,default:1}},mounted:function(){},data:function(){return{StateLabels:[this._tt("草稿"),this._tt("审批中"),this._tt("同意"),"",this._tt("确认"),this._tt("完成")]}},methods:{onDeleteDocument:function(t){this.$emit("onDeleteDocument",t)},onViewDocument:function(t){this.$emit("onViewDocument",t)}},computed:{},watch:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(n(6),n(50)),a=n(4),o=(n.n(a),new i.a,null);e.default={name:"ProjectDocument",props:{document:{type:Object,default:function(){return this.$documentManager.createDocument(7)}}},beforeDestory:function(){this.document.eventManager.off(o)},mounted:function(){o=this.document.onSave(this.saveDraft)},data:function(){return{pickerOptions0:{disabledDate:function(t){return t.getTime()<Date.now()-864e5}},pickerOptions1:{disabledDate:function(t){return t.getTime()<Date.now()-864e5}},dataTimes:""}},computed:{state:function(){return this.document.viewMode?"view":""}},methods:{validateDraft:function(t){t.success=this.$refs.form.validate()&&t.success},saveDraft:function(){var t=this;this.$refs.form.validate()&&this.document.saveDraft().then(function(){t.$message(t._tt("保存成功")),t.$emit("backManager","")}).catch(function(e){t.$message(t._tt("保存失败")+":"+e.message)})},back:function(){this.$router.push({name:"ProjectManager"})},saveSupplierDetail:function(){this.document.saveDraft()}},components:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"ProjectFilter",created:function(){},props:{queryEnvelop:{type:Object,required:!0},activeType:{type:Number,default:1}},mounted:function(){},data:function(){return{}},methods:{doQuery:function(){this.$emit("doQuery")},onReset:function(){this.queryEnvelop.Title="",this.queryEnvelop.Validity="",this.queryEnvelop.StartIndex=0,this.queryEnvelop.setListType(this.activeType),this.doQuery()}},computed:{},watch:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"ProjectListItem",props:{item:{type:Object,required:!0},activeType:{type:Number,default:1}},mounted:function(){},data:function(){return{StateLabels:[this._tt("草稿"),this._tt("审批中"),this._tt("终止"),this._tt("正常")]}},methods:{onDeleteDocument:function(t){this.$emit("onDeleteDocument",t)},onViewDocument:function(t){this.$emit("onViewDocument",t)}},computed:{},watch:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(n(6),n(50)),a=n(4),o=(n.n(a),new i.a),s=null,r=null;e.default={name:"SupplierDocument",props:{document:{type:Object,default:function(){return this.$documentManager.createDocument(2)}}},beforeDestory:function(){this.document.eventManager.off(s),this.document.eventManager.off(r)},mounted:function(){s=this.document.onSave(this.saveDraft),r=this.document.onValidate(this.validateDraft)},data:function(){return{uploadUrl:o.getUploadUrl(),documentBehaviours:[{label:"资质证明更新",value:1},{label:"有效期更新",value:2}],inputVisible:!1,inputValue:"",dateVisible:!1,isFollow:!0,imageValue:"",baseValue:""}},computed:{state:function(){return this.document.viewMode?"view":""}},watch:{state:{handler:function(){console.log("supplier state change"),this.document.hasSupplierRelation&&(console.log("supplier edite hasSupplierRelation:"+this.document.hasSupplierRelation),this.monitorBehaviour(this.document.supplierRelation.Behaviour))},deep:!0},"document.supplierRelation.Behaviour":{handler:function(){console.log("supplierRelation.Behaviour change"),this.monitorBehaviour(this.document.supplierRelation.Behaviour)},deep:!0}},methods:{saveDraft:function(){var t=this;this.$refs.form.validate()&&this.document.saveDraft().then(function(){t.$message(t._tt("保存成功")),t.$emit("backManager","")}).catch(function(e){console.log(e),t.$message(t._tt("保存失败"))})},validateDraft:function(t){t.success=this.$refs.form.validate()&&t.success},removeDomain:function(t){var e=this.document.PayMethods.indexOf(t);-1!==e&&this.document.PayMethods.splice(e,1)},addDomain:function(){this.document.createPayMethod()},handleClose:function(t){this.document.Tags.splice(this.document.Tags.indexOf(t),1)},showInput:function(){var t=this;this.inputVisible=!0,this.$nextTick(function(e){t.$refs.saveTagInput.$refs.input.focus()})},handleInputConfirm:function(){var t=this.inputValue;t&&this.document.Tags.push(t),this.inputVisible=!1,this.inputValue=""},back:function(){this.$router.push({name:"SupplierManager"})},saveSupplierDetail:function(){this.document.saveDraft()},getSupplierDetail:function(){},updateCertificates:function(t){this.document.Certificates=t},monitorBehaviour:function(t){this.isFollow=!1,this.baseValue="view",1==t?(console.log("behaviour == 1;"+this._tt("资质证明更新")),this.dateVisible=!0,this.imageValue=""):2==t&&(console.log("behaviour == 2;"+this._tt("有效期更新")),this.dateVisible=!1,this.imageValue="view")}},components:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"SupplierFilter",props:{queryEnvelop:{type:Object,required:!0},activeType:{type:Number,default:1}},mounted:function(){},data:function(){return{}},methods:{doQuery:function(){this.$emit("doQuery")},onReset:function(){this.queryEnvelop.Title="",this.queryEnvelop.Tag="",this.queryEnvelop.Validity="",this.queryEnvelop.StartIndex=0,this.queryEnvelop.setListType(this.activeType),this.doQuery()}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"SupplierListItem",props:{item:{type:Object,required:!0},activeType:{type:Number,default:1}},mounted:function(){},data:function(){return{StateLabels:[this._tt("草稿"),this._tt("审批中"),this._tt("终止"),this._tt("合作"),this._tt("归档")]}},methods:{onDeleteDocument:function(t){this.$emit("onDeleteDocument",t)},onViewDocument:function(t){this.$emit("onViewDocument",t)},onShowReport:function(t){this.$emit("onShowReport",t)}},computed:{},watch:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(n(35),n(336)),a=new i.a,o={name:"SupplierPayableReport",data:function(){return{subject:{minimum:0,maximum:0,actualPayment:0,appliedAmount:0},supplier:{title:"加载中...",documentId:0,mobile:"",address:"",companyName:""},pastDays:"90",dataLoading:!1,payables:[],visible:!1,loading:!1}},methods:{getPayment:function(t,e){return t==e?this.formatMoney(t,2):this.formatMoney(t)+" - "+this.formatMoney(e)},formatMoney:function(t,e){e=e>0&&e<=20?e:2,t=parseFloat((t+"").replace(/[^\d\.-]/g,"")).toFixed(e)+"";for(var n=t.split(".")[0].split("").reverse(),i=t.split(".")[1],a="",o=0;o<n.length;o++)a+=n[o]+((o+1)%3==0&&o+1!=n.length?",":"");return a.split("").reverse().join("")+"."+i},showContractPaymentReport:function(t){this.$refs.report.show(this.supplier.documentId,t)},show:function(t){var e=this;this.pastDays="90",this.visible=!0,this.loading=!0,a.getOne(t).then(function(t){return t.Success||(e.$message.error(t.Error),e.loading=!1,e.visible=!1),e.supplier=t.Data.content,a.getPayableSubject(e.supplier.documentId)}).then(function(t){return e.subject=t.Data,a.getPayableInPastDays(e.supplier.documentId,e.pastDays)}).then(function(t){e.payables=t.Data}).then(function(){return e.loading=!1})},closeDailog:function(){this.$emit("closeDailog","")}},watch:{pastDays:function(t){var e=this;this.dataLoading=!0,this.payables.splice(0,this.payables.length),a.getPayableInPastDays(this.supplier.documentId,this.pastDays).then(function(t){e.dataLoading=!1,e.payables=t.Data})},document:{handler:function(){void 0!=this.document&&this.show(this.document.DocumentId)},deep:!0}},props:{document:{type:Object,default:void 0}}};e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),a=n.n(i);e.default={name:"UserCompanySelect",created:function(){var t=this;this.$userManager.loadCurrentUser().then(function(e){t.companies=a.a.sortBy(e.companies,function(t){return t.IconKey}),a.a.isEmpty(t.companies)||(t.selectedCompanyId=t.companies[0].CompanyID)})},props:{value:{type:Number,default:null}},data:function(){return{companies:null,selectedCompanyId:this.value}},methods:{getSelectedCompany:function(){var t=this,e=a.a.find(this.companies,function(e){return e.CompanyID===t.selectedCompanyId});return a.a.isEmpty(e)&&!a.a.isEmpty(this.companies)&&(e=a.a.first(this.companies),this.selectedCompanyId=e.CompanyID),e},handleCompanySelect:function(t){var e=this.getSelectedCompany();a.a.isEmpty(e)||this.$emit("change",this.getSelectedCompany())}},watch:{selectedCompanyId:function(t){var e=this.getSelectedCompany();this.$emit("input",a.a.isEmpty(e)?0:e.CompanyID)},value:function(t){this.selectedCompanyId=t}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"PtitButton",data:function(){return{}},props:{disabled:{type:Boolean,default:!1},type:{type:String,default:"button"},viewStateName:{type:String,default:"view"},ignoreViewState:{type:Boolean,default:!1},followFormState:{type:Boolean,default:!0},itemState:{type:String,default:"default"}},methods:{handleClick:function(t){this.$emit("click",t)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(n(35),n(4)),a=n.n(i);e.default={name:"PtitForm",componentName:"PtitForm",props:{model:{type:Object},states:{type:Array,default:function(){return[]}},state:{type:String},labelWidth:{type:String,default:"100px"},validator:{type:Object,default:function(){}}},data:function(){return{fields:[]}},methods:{addFormItem:function(t){this.fields.push(t)},removeItem:function(t){a.a.isEmpty(t.prop)||this.fields.splice(this.fields.indexOf(t),1)},validate:function(){var t=!0;return a.a.each(this.fields,function(e){var n=e.validate();t&&(t=n)}),t}},watch:{state:function(t){a.a.isEmpty(t)||"default"===t||a.a.each(this.fields,function(t){return t.clearError()})}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"PtitFormCard",props:{title:{type:String,default:"未命名"}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),a=n.n(i);e.default={name:"PtitInputItem",props:{value:{type:[String,Number],default:""},label:{type:String},labelWidth:{type:String,default:"100px"},viewStateName:{type:String,default:"view"},arrayProp:{type:String,default:null},prop:{type:String},name:{type:String},inputWidth:{type:String,default:"200px"},viewWidth:{type:String,default:"auto"},placeHolder:{type:String,default:""},showLabel:{type:Boolean,default:!0},inputVisable:{type:Boolean,default:!1},followFormState:{type:Boolean,default:!0},itemState:{type:String,default:"default"}},data:function(){return{currentValue:this.value}},methods:{handleInput:function(t){var e=t.target.value;this.$emit("input",e),this.currentValue=e,this.$emit("change",e)},handleBlur:function(t){this.$emit("blur",t),this.$refs.item.validate()}},computed:{viewText:function(){return a.a.isEmpty(String(this.currentValue))?"　":this.currentValue},inputStyle:function(){return{width:this.inputWidth}},viewStyle:function(){return{minWidth:this.viewWidth}}},watch:{value:function(t){this.currentValue=t}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4);n.n(i);e.default={name:"TableInputItem",props:{value:{type:[String,Number],default:""},isShow:{type:[String],default:""}},data:function(){return{currentValue:this.value}},methods:{handleInput:function(t){this.$emit("input",t)},handleBlur:function(t){this.$emit("blur",t)}},computed:{},watch:{value:function(t){this.currentValue=t}},created:function(){}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(28),a=n(4),o=n.n(a);e.default={name:"PtitTooltipContainer",props:{iconClasses:{type:[Object,String],default:i.a.emptyObject()},tooltip:{type:String,default:null},placement:{type:String,default:"bottom-end"},color:{type:String,default:"black"},effect:{type:String,default:"dark"},hOffset:{type:Number,default:0},vOffset:{type:Number,default:0}},data:function(){return{iconOffset:"auto"}},computed:{showTooltip:function(){return!o.a.isEmpty(this.tooltip)},tooltipIconClasses:function(){return i.a.concatClass("tooltip-icon",this.iconClasses)},iconRightOffset:function(){return o.a.isNumber(this.iconOffset)?this.iconOffset+this.hOffset+"px":"auto"},iconTopOffset:function(){return o.a.isNumber(this.iconOffset)?this.iconOffset+this.vOffset+"px":"auto"}},methods:{setIconPosition:function(){if("auto"==this.iconOffset){var t=this.$el.offsetHeight,e=this.$refs.icon.offsetHeight;this.iconOffset=(t-e)/2}}},mounted:function(){this.showTooltip&&(this.$emit("on"),this.setIconPosition())},watch:{showTooltip:function(t){var e=this;t?(this.$emit("on"),this.$nextTick(function(){return e.setIconPosition()})):this.$emit("off")}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),a=n.n(i),o=(n(28),n(3));n.n(o);e.default={name:"PtitTooltipInput",props:{tooltipColor:{type:String,default:"red"},showInputBorder:{type:Boolean,default:!0},tooltip:{type:String,default:null},iconClasses:{type:String,default:"fa fa-warning"},value:{type:[String,Number,Date]},tooltipEffect:{type:String,default:"red"},validate:{type:[Function,Object],default:a.a.noop()},width:{type:String,default:"auto"},inputType:{type:String,default:"input"}},data:function(){return{currentValue:this.value}},methods:{getInputNode:function(){var t=this.$refs.elInput;return a.a.isEmpty(t)?null:(this.suggestionMode||this.isNumber?t=t.$refs.input:this.isDatePicker?t=t.$refs.reference:this.isSelect&&(t=t.$refs.reference),t.$refs.input)},setInputBorderColor:function(t){if(this.showInputBorder){var e=this.getInputNode();a.a.isEmpty(e)||(e.style.borderColor=t)}},onShowTooltip:function(){this.setInputBorderColor(this.tooltipColor)},onOffTooltip:function(){this.setInputBorderColor("")},onBlur:function(t){a.a.isFunction(this.validate)&&this.validate(this.currentValue),this.$emit("blur",t),this.isSelect&&this.$emit("change",t)},onSelectVisibleChange:function(t,e){t||this.doValidate()},doValidate:function(){a.a.isFunction(this.validate)?this.validate(this.currentValue):a.a.isObject(this.validate)&&a.a.isFunction(this.validate.validate)&&this.validate.validate(this.currentValue)}},computed:{suggestionMode:function(){return a.a.has(this.$attrs,"fetch-suggestions")},isInput:function(){return"input"===this.inputType},isNumber:function(){return"number"===this.inputType},isDatePicker:function(){return"date"===this.inputType},isSelect:function(){return"select"===this.inputType},iconHOffset:function(){return this.isDatePicker||this.isSelect?10:0}},watch:{value:function(t){this.currentValue=t},currentValue:function(t){this.$emit("input",t),this.doValidate()}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"VueHtmlEditor",props:{model:{required:!0,twoWay:!0},height:{type:Number,required:!1,default:160},minHeight:{type:Number,required:!1,default:160},maxHeight:{type:Number,required:!1,default:800},name:{type:String,required:!1,default:""},toolbar:{type:Array,required:!1,default:function(){return[["font",["bold","italic","underline","clear"]],["fontsize",["fontsize"]],["para",["ul","ol","paragraph"]],["color",["color"]]]}}},created:function(){this.isChanging=!1,this.control=null},mounted:function(){this.minHeight>this.height&&(this.minHeight=this.height),this.maxHeight<this.height&&(this.maxHeight=this.height);var t=this;this.control=$(this.$el),this.control.summernote({lang:"zh-CN",height:this.height,minHeight:this.minHeight,maxHeight:this.maxHeight,toolbar:this.toolbar,callbacks:{onInit:function(){t.control.summernote("code",t.model)}}}).on("summernote.change",function(){if(!t.isChanging){t.isChanging=!0;var e=t.control.summernote("code"),n=null===e||0===e.length?null:e;t.$emit("update:model",n),t.$emit("change",n),t.$nextTick(function(){t.isChanging=!1})}})},watch:{model:function(t,e){if(!this.isChanging){this.isChanging=!0;var n=null===t?"":t;this.control.summernote("code",n),this.isChanging=!1}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(n(6),n(169)),a=n(141),o=n(50),s=new a.a;new o.a;e.default={data:function(){return{company:new i.a,bgImageFile:{},logoImageFile:{},signImageFile:{},companySealImageFile:{},departmentImageFile:{},financeImageFile:{},seal:"1",showSeal:{},logoData:{type:"company",pos:"logo"},sealData:{type:"company",pos:"seal"},financeData:{type:"company",pos:"finance"},departmentData:{type:"company",pos:"department"},signData:{type:"company",pos:"sign"},bgData:{type:"company",pos:"bg"}}},created:function(){var t=this;if(void 0!=this.$route.params.id){this.company.id=this.$route.params.id,this.company.Name=this.$route.params.cname;var e=this;s.getCompanyView(this.company.id).then(function(n){if(n.Success){for(var i=0;i<n.Data.length;i++){var a=n.Data[i];"logo"==a.Pos?e.logoImageFile=e.setDataToVData(a):"seal"==a.Pos?e.companySealImageFile=e.setDataToVData(a):"finance"==a.Pos?e.financeImageFile=e.setDataToVData(a):"department"==a.Pos?e.departmentImageFile=e.setDataToVData(a):"sign"==a.Pos?e.signImageFile=e.setDataToVData(a):"bg"==a.Pos&&(e.bgImageFile=e.setDataToVData(a))}t.selectSeal()}})}},watch:{seal:"selectSeal"},methods:{handleClose:function(){},submit:function(){var t=[];if(void 0!=this.logoImageFile&&void 0!=this.logoImageFile.Key){var e=this.getData(this.logoImageFile);t.push(e)}if(void 0!=this.companySealImageFile&&void 0!=this.companySealImageFile.Key){var n=this.getData(this.companySealImageFile);t.push(n)}if(void 0!=this.financeImageFile&&void 0!=this.financeImageFile.Key){var i=this.getData(this.financeImageFile);t.push(i)}if(void 0!=this.departmentImageFile&&void 0!=this.departmentImageFile.Key){var a=this.getData(this.departmentImageFile);t.push(a)}if(void 0!=this.signImageFile&&void 0!=this.signImageFile.Key){var o=this.getData(this.signImageFile);t.push(o)}if(void 0!=this.bgImageFile&&void 0!=this.bgImageFile.Key){var r=this.getData(this.bgImageFile);t.push(r)}console.log(t);var l=this;s.updateCompanyView(t).then(function(t){t.Success?l.$message("保存成功"):l.$message.err("保存失败")})},getData:function(t){var e={};return e.CompanyId=this.company.id,e.StrKey=t.Key,e.StrUrl=t.Url,e.TemplateName="Default",e.Pos=t.Pos,e},setDataToVData:function(t){var e={};return e.Key=t.StrKey,e.Url=t.StrUrl,e.Pos=t.Pos,e},setFDataToVData:function(t){var e={};if(e.Key=t.Key,e.Url=t.Url,void 0!=t.Extends)for(var n=0;n<t.Extends.length;n++)"pos"==t.Extends[n].Key&&(e.Pos=t.Extends[n].Value);else e.Pos="Default";return e},updataImage:function(t){if(void 0!=t.Extends){for(var e=0;e<t.Extends.length;e++)"pos"==t.Extends[e].Key&&("logo"==t.Extends[e].Value?this.logoImageFile=this.setFDataToVData(t):"seal"==t.Extends[e].Value?this.companySealImageFile=this.setFDataToVData(t):"finance"==t.Extends[e].Value?this.financeImageFile=this.setFDataToVData(t):"department"==t.Extends[e].Value?this.departmentImageFile=this.setFDataToVData(t):"sign"==t.Extends[e].Value?this.signImageFile=this.setFDataToVData(t):"bg"==t.Extends[e].Value&&(this.bgImageFile=this.setFDataToVData(t)));this.selectSeal()}},selectSeal:function(){"1"==this.seal?this.showSeal=this.companySealImageFile:"2"==this.seal?this.showSeal=this.financeImageFile:"3"==this.seal&&(this.showSeal=this.departmentImageFile)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(309),a=n(305),o=n(306),s=n(307),r=n(4),l=n.n(r);e.default={mounted:function(){this.init(),this.$documentManager.onLeftWidthChanged(this.setWidth);var t=this;this.$el.querySelector(".document-list-view").onscroll=function(){var e=this.scrollTop,n=this.scrollHeight,i=this.offsetHeight,a=t.$el.querySelector(".document-item");e+i>=n-(l.a.isEmpty(a)?10:a.offsetHeight)&&!t.loading&&e>t.lastScrollTop&&(t.lastScrollTop=e,t.onScrollDown())}},data:function(){return{activeType:-1,queryEnvelop:{},list:[],totalCount:0,originalActiveType:0,document:null,documentType:-1,documentName:"",componentName:"",editComponentName:"",filterName:"",scrollTop:0,lastScrollTop:0,loading:!1,listWidth:"200px",SupplierReport:{}}},methods:{init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.documentType=parseInt(this.$route.params.documentType),2==this.documentType?(this.documentName="供应商",this.queryEnvelop=new i.a,this.componentName="SupplierListItem",this.filterName="SupplierFilter",this.editComponentName="supplier-document"):3==this.documentType?(this.documentName="合同",this.queryEnvelop=new a.a,this.componentName="ContractListItem",this.filterName="ContractFilter",this.editComponentName="contract-document"):4==this.documentType?(this.documentName="付款",this.queryEnvelop=new o.a,this.componentName="PaymentListItem",this.filterName="PaymentFilter",this.editComponentName="pay-document"):7==this.documentType?(this.documentName="项目",this.queryEnvelop=new s.a,this.componentName="ProjectListItem",this.filterName="ProjectFilter",this.editComponentName="project-document"):5==this.documentType&&(this.documentName="基础绩效",this.queryEnvelop=new s.a,this.componentName="ApplyPerListItem",this.filterName="ProjectFilter",this.editComponentName="apply-per-document"),this.queryEnvelop.StartIndex=0,this.queryEnvelop.FetchSize=10,this.queryEnvelop.form.version=1,this.queryEnvelop.form.formType=1,l.a.isEmpty(t)&&(this.queryEnvelop.companyId=t),this.list=[],this.lastScrollTop=0,this.loading=!1,this.scrollTop=0,this.document=null,this.originalActiveType=0,this.totalCount=0,this.activeType=1,this.listWidth=this.$documentManager.leftWidth+"px",this.setDocumentQueryStatus()},toggleActiveLink:function(t){this.activeType=t<0?this.originalActiveType:t,this.setDocumentQueryStatus()},setDocumentQueryStatus:function(){2==this.documentType?this.queryEnvelop.SupplierStatus=1==this.activeType?3:-1:3==this.documentType?this.queryEnvelop.ContractStatus=1==this.activeType?3:-1:4==this.documentType?this.queryEnvelop.PaymentStatus=1==this.activeType?2:-1:7==this.documentType&&(this.queryEnvelop.ProjectStatus=1==this.activeType?3:-1)},onFilterQuery:function(){this.queryEnvelop.StartIndex=0,this.lastScrollTop=0,this.doQuery()},doQuery:function(){this.queryEnvelop.companyId<=0||this.$documentManager.queryByEnvelop(this.queryEnvelop).then(function(t){this.list=t.list,this.totalCount=t.totalCount}.bind(this))},onCreateDocument:function(){this.document=this.$documentManager.createDocument(this.documentType),this.document.CompanyID=this.queryEnvelop.companyId,this.activeType=2},onSaveDocument:function(){this.document.emitSave()},onEditDocument:function(){this.document.viewMode=!1},onDeleteDocument:function(t){var e=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){var n=e.$documentManager.createDocument(e.documentType);n.DocumentId=t.DocumentId,n.deleteDraft().then(function(){this.$message({type:"success",message:"删除成功"});var e=l.a.indexOf(this.list,t);this.list.splice(e,1),this.queryEnvelop.StartIndex=Math.max(0,this.queryEnvelop.StartIndex-1)}.bind(e))})},onViewDocument:function(t){this.$documentManager.getDocumentById(t.DocumentId).then(function(t){this.document=t,this.document.viewMode=!0,this.activeType=2}.bind(this))},onShowReport:function(t){void 0!=t.SupplierStatus?this.$refs.supplierReport.show(t.DocumentId):void 0!=t.ContractStatus&&this.$refs.contractReport.show(t.$data.supplierId,t.DocumentId)},closeDailog:function(t){this.SupplierReport=void 0},onAudit:function(){this.$router.push({name:"Kanban",params:{propid:this.document.DocumentId,type:1,docid:-1,proptype:this.document.DocumentType}}),this.$root.$options.Bus.emit("selectDraft",1)},onScrollDown:function(){if(!this.loading){if(this.queryEnvelop.StartIndex>this.totalCount-1)return void(this.loading=!1);this.queryEnvelop.StartIndex+=this.queryEnvelop.FetchSize,this.loading=!0;var t=this;this.$documentManager.queryByEnvelop(this.queryEnvelop).then(function(e){l.a.each(e.list,function(e){return t.list.push(e)}),t.totalCount=e.totalCount}).finally(function(){return t.loading=!1})}},setWidth:function(t){this.listWidth=t+"px"}},computed:{isRelatedList:function(){return 0===this.activeType},isCompanyList:function(){return 1===this.activeType},isDetailMode:function(){return 2===this.activeType},showSaveButton:function(){return this.isDetailMode&&!this.document.viewMode},showEditButton:function(){return!l.a.isEmpty(this.document)&&4==this.document.DocumentType&&2==this.document.PaymentStatus||this.isDetailMode&&this.document.viewMode&&this.document.editable},showCompanySelect:function(){return!this.isDetailMode||!this.document.viewMode&&this.document.companyEditable()},showLoading:function(){return!this.isDetailMode&&this.loading},showAuditButton:function(){return this.isDetailMode&&this.document.auditable}},watch:{"queryEnvelop.companyId":function(t){this.isDetailMode?!this.document.viewMode&&this.document.companyEditable()&&(this.document.CompanyID=t):(this.queryEnvelop.CompanyId=t,this.doQuery())},activeType:function(t,e){if(this.queryEnvelop.startIndex=0,this.lastScrollTop=0,this.queryEnvelop.setListType(t),2==t)return void(this.originalActiveType=e);this.doQuery()},"$route.params.documentType":function(t){this.init(this.queryEnvelop.companyId),this.queryEnvelop.setListType(this.activeType),this.doQuery()}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),a=n.n(i);e.default={props:{endorsementFile:{type:Object,default:function(){return this.$endorsementManager.createEndorsementFile()}}},data:function(){return{activeDocumentTabName:null,searchedDocuments:[],inSearchingDocument:!1,documentLoading:!1,documentKey:a.a.uniqueId(),showCreateDocumentDialog:!1}},computed:{state:function(){return this.endorsementFile.viewMode?"view":""},selectedCompanyName:function(){var t=this.$companyManager.getCompanyById(this.endorsementFile.PublishCompanyId);return a.a.isEmpty(t)?"":t.Name},selectedPriority:function(){var t=this;return a.a.find(this.endorsementFile.Priorities,function(e){return e.value===t.endorsementFile.Priority}).name},selectedCategoryName:function(){return a.a.isEmpty(this.endorsementFile.Category)?"":this.endorsementFile.Category.TypeName}},methods:{saveDraft:function(){if(this.$refs.form.validate()){for(var t=1;t<this.endorsementFile.Documents.length-1;t++){var e=this.endorsementFile.Documents[t],n={success:!0};if(e.emitValidate(n),!n.success){this.activeDocumentTabName=e.TabName;break}}this.endorsementFile.saveDraft()}},documentClosable:function(t){return!this.endorsementFile.viewMode&&!t.Immutable},toggleViewMode:function(){this.endorsementFile.viewMode=!this.endorsementFile.viewMode},onSearchDocument:function(t,e){this.inSearchingDocument=!0,this.$documentManager.queryTinyDocuments(t,e).then(function(t){this.searchedDocuments=t}.bind(this)).finally(function(){this.inSearchingDocument=!1}.bind(this))},onCreateDocument:function(t,e){if(e<=0){var n=this.$documentManager.createDocument(t);this.addDocument(n)}else this.documentLoading=!0,this.$documentManager.getDocumentById(e).then(function(t){var e=a.a.find(this.endorsementFile.Documents,function(e){return e.DocumentId===t.DocumentId});a.a.isEmpty(e)?this.addDocument(t):this.$alert("该文档已经在签批件中存在，无法重复添加",{type:"error",title:"错误"})}.bind(this)).finally(function(){this.documentLoading=!1,console.log(this.documentLoading)}.bind(this))},onRemoveDocument:function(t){var e=(this.endorsementFile.Category,a.a.find(this.endorsementFile.Documents,function(e){return e.TabName==t}));if(e.Required){var n=a.a.find(this.endorsementFile.Documents,function(n){return n.TabName!=t&&n.DocumentType==e.DocumentType&&!n.Required});if(a.a.isEmpty(n))return void this.$alert("该文档在当前签批类型中为必要文档，无法删除",{type:"error",title:"错误"});n.Required=!0}this.endorsementFile.Documents.splice(a.a.indexOf(this.endorsementFile.Documents,e),1)},addDocument:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.GroupTypeName=a.a.find(this.$documentManager.supportDocumentTypes,function(e){return e.DocumentType===t.DocumentType}).TypeName,t.Required=n,t.Immutable=e,t.PublishCompanyId=this.endorsementFile.PublishCompanyId,t.EndorsementFile=this.endorsementFile,t.DocumentId<=0&&(t.DocumentId=-(a.a.uniqueId()+1)),this.endorsementFile.Documents.splice(this.endorsementFile.Documents.length-1,0,t),this.activeDocumentTabName=t.TabName,this.documentKey=t.TabName,console.log(this.documentKey)}},watch:{"endorsementFile.viewMode":function(t){a.a.each(this.endorsementFile.Documents,function(e){return e.viewMode=t})},"endorsementFile.PublishCompanyId":function(t){a.a.each(this.endorsementFile.Documents,function(e){return e.PublishCompanyId=t})},"endorsementFile.Category":function(t,e){if(a.a.isEmpty(t))return void this.endorsementFile.Documents.splice(0,this.endorsementFile.Documents.length-1);var n=a.a.filter(this.endorsementFile.Documents,function(t){return t.Required});a.a.each(t.DocumentGroups,function(t){var e=a.a.find(n,function(e){return e.DocumentType===t.DocumentType});a.a.isEmpty(e)?(e=this.$documentManager.createDocument(t.DocumentType),this.addDocument(e,t.Immutable,!0)):n.splice(a.a.indexOf(n,e),1)}.bind(this)),a.a.each(n,function(t){this.endorsementFile.Documents.splice(a.a.indexOf(this.endorsementFile.Documents,t),1)}.bind(this))},activeDocumentTabName:function(t,e){var n=a.a.find(this.endorsementFile.Documents,function(e){return e.TabName===t});!a.a.isEmpty(n)&&n.DocumentType<0&&(this.showCreateDocumentDialog=!0,this.$nextTick(function(){this.activeDocumentTabName=e}))}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4);n.n(i),n(28);e.default={name:"AggregationListItem",data:function(){return{}},props:{item:{type:Object,required:!0},minIndent:{type:Number,required:!0},indent:{type:Number,default:20},showCheckBox:{type:Boolean,default:!1},controller:{type:Object,required:!0}},methods:{onCheckedChange:function(){this.$emit("checkedChange",this.checked)}},computed:{marginLeft:function(){return(this.item.indent-this.minIndent)*this.indent+"px"},itemLeft:function(){return(this.item.indent-this.minIndent)*this.indent+10+24+"px"},indeterminate:function(){return 0===this.controller.itemChecked(this.item)},backgroundColor:function(){return this.item.index%2==0?"#ffe5bb":"#faf5ed"},checked:{get:function(){return this.controller.itemChecked(this.item)>0},set:function(t){this.controller.setItemChecked(this.item,t)}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(304);e.default={name:"BulkEditDialog",mixins:[i.a],data:function(){return{}},props:{dialogLoading:{type:Boolean,default:!1},operations:{type:Array,required:!0}},methods:{isRange:function(t){return"range"==t.options.type},rangeText:function(t){var e=t.options.min==-1/0,n=t.options.max==1/0;return e&&n?"(任意数字)":"("+(e?"无限小":t.options.min)+"-"+(n?"无限大":t.options.max)+")"},onUnlock:function(t){t.locked=!1},onDialogOK:function(){},getBackgroundColor:function(t){return t%2==0?"rgb(255, 229, 187)":"rgb(250, 245, 237)"}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=(n(163),n(162)),l=n(164),c=n(161),u=n(138),d=n(219),p=n(165),m=n(4),h=n.n(m),f=n(28);e.default={data:function(){return{list:new v,controller:new d.a,filterTexts:"",userStore:new p.a("filter-controller-test"),indent:""}},created:function(){this.controller.setUserStore(this.userStore)},methods:{onRenderResult:function(){this.renderResults()},onFilterChanged:function(t,e){this.controller.setFilter(t,e),this.renderResults()},onOptionClick:function(t,e){this.controller.setFilter(t,e),this.renderResults()},onDeleteFieldFilter:function(t){this.controller.setFilter(t.filter,[]),this.renderResults()},onCustomOptionAdd:function(t){t.calculateFilterOptions(this.list,this.userStore)},renderResults:function(){this.controller.renderResults()},showItem:function(t){var e=this,n=h.a.find(this.indents,function(t){return t.displayText===e.indent});return h.a.isUndefined(n)?0:t.indent<=n.indent}},computed:{minIndent:function(){return h.a.min(this.controller.resultList,function(t){return t.indent}).indent},indents:function(){for(var t=[],e=this.minIndent;e<0;)t.push({indent:e+1,displayText:e-this.minIndent}),e++;return t}},watch:{minIndent:function(t){var e=h.a.find(this.indents,function(e){return e.indent==t});h.a.isUndefined(e)?this.indent=h.a.last(this.indents).displayText:this.indent=e.displayText},filterTexts:function(t){this.list.setLines(t),this.controller.setList(this.list)}}};var v=function(){function t(){a()(this,t),this._filterableFields=[],this._items=[]}return s()(t,[{key:"match",value:function(t,e){return"range"===e.options.type?t>=e.options.left&&t<=e.options.right:t==e.displayText}},{key:"setLines",value:function(t){var e=this,n=t.split("\n"),i=h.a.map(h.a.first(n).split(/\t| +/),function(t,e){return{data:t.split("|"),index:e}});this._filterableFields=h.a.filter(i,function(t){return f.a.intOfArray(t.data,1,-1)>-1}),this._filterableFields=h.a.map(this._filterableFields,function(t){return new r.a(t.data[0],String,function(e){return f.a.valueOfArray(e,t.index)},function(n,i){return h.a.any(i,function(i){return e.match(f.a.valueOfArray(n,t.index),i)})},f.a.valueOfArray(t.data,1)||0)}),this._sortableFields=h.a.filter(i,function(t){return f.a.intOfArray(t.data,2,0)>0}),this._sortableFields=h.a.map(this._sortableFields,function(t){return new l.a(t.data[0],function(e){return f.a.valueOfArray(e,t.index)})}),this._groupableFields=h.a.filter(i,function(t){return f.a.intOfArray(t.data,3,0)>0}),this._groupableFields=h.a.map(this._groupableFields,function(t){return new u.a(t.data[0],function(e){return f.a.valueOfArray(e,t.index)})}),this._aggregationFields=h.a.filter(i,function(t){return!h.a.isUndefined(f.a.stringOfArray(t.data,4))}),this._aggregationFields=h.a.map(this._aggregationFields,function(t){return new c.a(t.data[0],t.data[4].split(","),function(e){return f.a.valueOfArray(e,t.index)})}),this._items=h.a.map(h.a.rest(n),function(t){return t.split(/\t| +/)})}},{key:"getKey",value:function(t){return t[0]}},{key:"filterableFields",get:function(){return this._filterableFields}},{key:"sortableFields",get:function(){return this._sortableFields}},{key:"groupableFields",get:function(){return this._groupableFields}},{key:"aggregationFields",get:function(){return this._aggregationFields}},{key:"items",get:function(){return this._items}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"filterOption",data:function(){return{}},props:{option:{type:Object,required:!0}},methods:{onClose:function(t){t.stopPropagation(),this.$emit("closeCustomOption")},emitClick:function(){this.option.multiSelection?this.isCustomOption&&(this.option.checked=!this.option.checked):this.$emit("click")}},computed:{isCustomOption:function(){return!_.isUndefined(this.option.options.custom)&&this.option.options.custom}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n(163);e.default={name:"FilterTagList",props:{fieldFilters:{type:Array,required:!0}},methods:{onDeleteFieldFilter:function(t){this.$emit("delete",t)},changeShowFilter:function(){this.$emit("changeShowFilter")}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(163),a=n(165),o=n(28);e.default={data:function(){return{filter:new i.a("价格"),options:"100\r\n200\r\n300\r\n400\r\n500",userStore:new a.a("item-filter-test"),maxOptions:-1}},methods:{onFilterChanged:function(t){alert(_.map(t,function(t){return t.displayText}).join(",")+"被选中")},onOptionClick:function(t){alert(t.displayText+"被点击")},onSquashOptions:function(){this.filter.squashOptions(10)}},watch:{options:function(t){var e=this.options.split("\n"),n={};e=_.each(e,function(t){var e=t.split("|",2);n[e[0]]=o.a.valueOfArray(e,1)||0}),this.filter.options=n}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),a=n.n(i),o=n(28);e.default={name:"AggregationFilter",data:function(){return{multiline:!1,customOptionText:"",customOptionVisible:!1,hasMouse:!1}},props:{filter:{type:Object,required:!0},maxItemsPreLine:{type:Number,default:10},controller:{type:Object,default:o.a.emptyObject()},customOptionStore:{type:Object,default:o.a.emptyObject()},maxItems:{type:Number,default:-1}},methods:{isCustomOption:function(t){return!a.a.isUndefined(t.options.custom)&&t.options.custom},onAddCustomOption:function(){a.a.isEmpty(this.customOptionText.trim())||this.customOptionStore.addFilterOption(this.filter,this.options,this.customOptionText)&&(this.customOptionText="",this.$emit("addCustomOption"))},onCloseCustomOption:function(t){this.customOptionStore.deleteFilterOption(this.filter,t)},onToggleMouseStatus:function(t){this.hasMouse=t},onToggleCustomOption:function(){var t=this;this.customOptionVisible=!this.customOptionVisible,this.customOptionVisible&&this.$nextTick(function(e){t.$refs.customOptionInput.$refs.input.focus()}),this.customOptionText=""},onMultiSelect:function(t){a.a.isEmpty(this.controller)||this.controller.clearAllFilterMultiSelection(),this.filter.multiSelection=t},getLineOptions:function(t){return a.a.first(a.a.rest(this.options,(t-1)*this.maxItemsPreLine),this.maxItemsPreLine)},emitClick:function(t){this.$emit("click",t)},emitFilterChanged:function(){this.$emit("change",a.a.filter(this.options,function(t){return t.checked})),this.filter.multiSelection=!1},toggleMulitline:function(){this.multiline=!this.multiline}},computed:{showCustomOptions:function(){return!a.a.isEmpty(this.customOptionStore)},options:function(){var t=[];if(this.showCustomOptions){var e=this.customOptionStore.getFilterOptions(this.filter.displayText);t=o.a.mergeArrays([e,this.filter.options])}else t=this.filter.options;return this.maxItems>0?a.a.first(t,this.maxItems):t},lines:function(){return parseInt(Math.ceil(this.options.length/this.maxItemsPreLine))},showConfirm:function(){return a.a.any(this.options,function(t){return t.checked})},moreText:function(){return this.multiline?"收起":"更多"}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),a=n.n(i);e.default={name:"AggregationGrouper",data:function(){return{selectedFieldGroupers:[]}},props:{controller:{type:Object,required:!0}},methods:{onSelectGroupField:function(t){var e=a.a.find(this.controller.remainingFieldGroupers,function(e){return e.field.key==t});this.controller.addGrouper(e),this.$emit("group")},onCloseFieldGrouper:function(t,e){this.controller.removeGrouper(t),this.$emit("group")},onCurrentAggregatorChanged:function(t){var e=a.a.find(this.controller.fieldAggregators,function(e){return e.field.key==t[0]});this.controller.setAggregator(e,t[1]),this.$emit("group")}},computed:{hasRemainingFieldGrouper:function(){return!a.a.isEmpty(this.controller.remainingFieldGroupers)},hasGrouper:function(){return!a.a.isEmpty(this.controller.currentFieldGroupers)},showCurrentAggregator:function(){return this.hasGrouper&&!a.a.isEmpty(this.controller.fieldAggregators)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),a=n.n(i),o=n(1268);n.n(o);e.default={name:"AggregationSorter",data:function(){return{}},methods:{toggleSorterState:function(t){t.toggleState(),this.$emit("sort")},getIconClass:function(t){return t.desc?"el-icon-arrow-down":"el-icon-arrow-up"},querySortFields:function(t,e){e(this.controller.remainingFieldStorters),this.fieldInputText=""},onSelectSortField:function(t){var e=a.a.find(this.controller.remainingFieldStorters,function(e){return e.field.key==t});this.controller.addSorter(e),this.$emit("sort")},onCloseFieldSorter:function(t,e){e.stopPropagation(),this.controller.removeSorter(t),this.$emit("sort")}},props:{controller:{type:Object,required:!0}},computed:{hasRemainingSortFields:function(){return!a.a.isEmpty(this.controller.remainingFieldStorters)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(304);e.default={name:"WorkEmployeeSelector",mixins:[i.a],data:function(){return{employeeProps:{value:"principalName",label:"principalName"},employeeName:""}},props:{validator:{type:Object,required:!0},fetchEmployees:{type:Function,required:!0},dialogMode:{type:Boolean,default:!1},dialogTitle:{type:String,default:"选择员工"},placeholder:{type:String,default:"目标员工"},dialogLoading:{type:Boolean,default:!1},value:{type:String,default:""}},methods:{onDialogOk:function(){return this.validator.validate()},onSelectEmployee:function(t){this.$emit("select",t)}},watch:{employeeName:function(t){this.$emit("input",t)},value:function(t){this.employeeName=t}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(n(28),n(4)),a=n.n(i);e.default={name:"WorkColumn",props:{flexWidth:{type:[Number,String],default:"1"},textAlign:{type:String,default:"center"},width:{type:String,default:"100%"},state:{type:String,default:""}},computed:{row:function(){for(var t=this.$parent,e=t.$options.componentName;"WorkRow"!==e;)t=t.$parent,e=t.$options.componentName;return t},calculatedState:function(){return a.a.isEmpty(this.state)?this.row.state:this.state},inEditing:function(){return"edit"===this.calculatedState}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(220),a=n(325),o=n(113),s=(n(322),n(162),n(219)),r=n(165),l=n(326),c=n(913),u=(n(166),n(4)),d=n.n(u),p=n(28),m=n(6),h=(n(164),n(138),n(161),n(218),n(275));n.n(h);e.default={name:"WorkItemList",data:function(){return{showFilter:!1,item:i.a.create(),list:new a.a(this),controller:new s.a,userStore:new r.a("work-item-list"),workItemStore:new l.a,principalStore:new o.a,referenceStore:new c.a,indent:"",definitionTexts:m.a.getItem("definition-text"),workItemTexts:m.a.getItem("work-item-texts"),principalTexts:m.a.getItem("principal-texts"),definitions:[],companies:[],positions:[],employees:[],selectedKey:"",editingKey:"",currentEmployeeId:"",currentCompanyId:"",shareDialog:{show:!1,employeeName:"",employee:{},validator:{},items:[],loading:!1},bulkEditDialog:{show:!1,loading:!1,operations:[],items:[]},autoInitialize:!1,loading:!0}},created:function(){this.init(),this.controller.setList(this.list),this.controller.setUserStore(this.userStore),this.shareDialog.validator=p.a.createModelValidator({employeeName:function(){var t=this;return this.required("目标员工不能为空")&&this.must(function(e){return!d.a.isEmpty(t.target.employee)},"目标员工不存在")&&this.must(function(e){return t.target.employee.principalName==e},"目标员工不存在")&&this.must(function(e){return t.target.employee.principalId!=t.context.currentEmployeeId},"无法分享给自己")}})(this.shareDialog,this)},methods:{init:function(){var t=this;this.principalStore.getChildrenPrincipals("","COMPANY").then(function(e){t.companies=e,t.currentCompanyId=t.companies[0].principalId})},getEffeteReference:function(){},onInitializeWithTexts:function(){this.autoInitialize=!0},onSelectShareEmployee:function(t){this.shareDialog.employee=t,this.shareDialog.validator.employeeName.validate()},queryShareEmployees:function(t,e){e(d.a.filter(this.employees,function(e){return e.principalName.indexOf(t)>-1}))},onItemBulkDelete:function(t){var e=this,n=this.controller.getCheckedItems(t),i=d.a.filter(d.a.map(n,function(t){return t.item}),function(t){return t.deletable(e.currentEmployeeId)});d.a.isEmpty(i)?this.$message({type:"error",message:"当前无任何可删除的工作项!"}):this.workItemStore.deleteWorkItems(i,this.currentEmployeeId).then(function(){return d.a.each(i,function(t){return p.a.removeArrayItem(e.workItems,t)})}).then(function(){return d.a.each(i,function(t){return p.a.removeArrayItem(e.list.items,t)})}).then(function(){return e.renderResults()})},onItemBulkRead:function(t,e){var n=this,i=this.controller.getCheckedItems(t),a=d.a.map(i,function(t){return t.item});this.workItemStore.setWorkItemReaded(this.currentEmployeeId,a,e).then(function(){return d.a.each(a,function(t){return t.readed=e})}).then(function(){return n.renderResults()})},onItemBulkReject:function(t){var e=this,n=this.controller.getCheckedItems(t),i=d.a.chain(n).map(function(t){return t.item}).filter(function(t){return t.rejectable(e.currentEmployeeId)}).value();d.a.isEmpty(i)?this.$message.error("当前无可驳回的工作项!"):this.workItemStore.transmitWorkItems(i,"",!1,this.currentEmployeeId).then(function(){return e.afterReject(i)})},onItemBulkEdit:function(t){var e=this.controller.getCheckedItems(t),n=this.controller.getFieldBulkOperations(e);d.a.isEmpty(n)?this.$message({type:"error",message:"当前无可批量修改的工作项!"}):(this.bulkEditDialog.operations=n,this.bulkEditDialog.items=e,this.bulkEditDialog.show=!0)},onBulkEdit:function(){var t=this,e=this.bulkEditDialog.operations,n=this.bulkEditDialog.items;d.a.each(n,function(t){return t.item.snapshot()}),this.controller.applyBulkOperations(e,n);var i=d.a.map(n,function(t){return t.item});this.workItemStore.commentWorkItems(i,this.currentEmployeeId).then(function(){return d.a.each(i,function(t){return t.apply()})}).catch(function(e){return t.$message.error(e.message)}),this.bulkEditDialog.loading=!1,this.bulkEditDialog.show=!1},onItemBulkShare:function(t){var e=this,n=this.controller.getCheckedItems(t),i=d.a.chain(n).map(function(t){return t.item}).filter(function(t){return t.shareable(e.currentEmployeeId)}).value(),a="";if(d.a.isEmpty(i))a="当前无任何可分享的工作项";else if(d.a.all(i,function(t){return d.a.isEmpty(t.currentReporters)}))return this.shareDialog.employee={},this.shareDialog.employeeName="",this.shareDialog.items=i,void(this.shareDialog.show=!0);d.a.isEmpty(a)&&(d.a.all(i,function(t){return 1==t.currentReporters.length})?!d.a.chain(i).reduce(function(t,e){return t.concat(e.currentReporters)},[]).unique().value().length>1&&(a="存在多分享目标的工作项，请在自动分享筛选器中选择目标后再进行操作"):a="存在无法确定唯一分享目标的工作项，请在自动分享筛选器中选择目标后再进行操作");var o={};if(d.a.isEmpty(a)){var s=i[0].currentReporters[0];o=this.employees.find(function(t){return t.principalId==s}),d.a.isUndefined(o)&&(a="无法找到ID为:"+s+"的分享目标")}if(!d.a.isEmpty(a))return void this.$message.error(a);this.$confirm("这些工作项将自动分享给:"+o.principalName+",确定要这么做吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"info"}).then(function(){return e.workItemStore.transmitWorkItems(i,o.principalId,!0,e.currentEmployeeId)}).then(function(){return e.afterShare(i,o.principalId)}).catch(d.a.noop)},onItemShare:function(t){var e=this,n=t.item.currentReporters;if(1==n.length){var i=this.employees.find(function(t){return t.principalId==n[0]});if(!d.a.isUndefined(i))return void this.$confirm("此工作项将自动分享给:"+i.principalName+",确定要这么做吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"info"}).then(function(){return e.workItemStore.transmitWorkItems([t.item],i.principalId,!0,e.currentEmployeeId)}).then(function(){return e.afterShare([t.item],i.principalId)}).catch(d.a.noop)}else n.length>1&&(this.shareDialog.employees=d.a.filter(d.a.map(n,function(t){return e.employees.find(function(e){return e.principalId==t})}),function(t){return!d.a.isUndefined(t)}));this.shareDialog.employee={},this.shareDialog.employeeName="",this.shareDialog.items=[t.item],this.shareDialog.show=!0},onItemReject:function(t){var e=this;this.workItemStore.transmitWorkItems([t.item],t.item.initiatorId,!1,this.currentEmployeeId).then(function(){return e.afterReject([t.item])})},onShareDialogOK:function(){var t=this,e=this.shareDialog.items;this.workItemStore.transmitWorkItems(e,this.shareDialog.employee.principalId,!0,this.currentEmployeeId).then(function(){return t.afterShare(e,t.shareDialog.employee.principalId)}),this.shareDialog.loading=!1,this.shareDialog.show=!1},onCreateWorkItem:function(){var t=this;this.item.ownerId=this.currentEmployeeId,this.item.transitions=[this.item.initiatorId],this.item.status="draft",this.workItemStore.saveWorkItems([this.item],this.currentEmployeeId).then(function(t){this.item.itemId=t[0],this.workItems.push(this.item),this.list.items.push(this.item),this.item=i.a.create(),this.renderResults()}.bind(this)).catch(function(e){return t.$message.error(e.message)})},onItemClick:function(t){this.selectedKey=this.controller.getListItemKey(t)},onItemEye:function(t){t.item.readed=!t.item.readed,this.workItemStore.setWorkItemReaded(this.currentEmployeeId,[t.item],t.item.readed),this.renderResults()},onItemOK:function(t){t.item.apply(),this.editingKey=""},onItemDelete:function(t){var e=this;this.workItemStore.deleteWorkItems([t.item],this.currentEmployeeId).then(function(){return p.a.removeArrayItem(e.workItems,t.item)}).then(function(){return p.a.removeArrayItem(e.list.items,t.item)}).then(function(){return e.renderResults()})},onItemEdit:function(t){d.a.isUndefined(this.editingItem)||this.editingItem.item.revert(),t.item.snapshot(),this.editingKey=this.controller.getListItemKey(t)},onItemCancel:function(t){t.item.revert(),this.editingKey=""},onRenderResult:function(){this.renderResults()},onFilterChanged:function(t,e){this.controller.setFilter(t,e),this.renderResults()},onOptionClick:function(t,e){this.controller.setFilter(t,e),this.renderResults()},onDeleteFieldFilter:function(t){this.controller.setFilter(t.filter,[]),this.renderResults()},onCustomOptionAdd:function(t){t.calculateFilterOptions(this.list,this.userStore)},afterShare:function(t,e){d.a.each(t,function(t){return t.transitions.push(e)}),this.renderResults()},afterReject:function(t){var e=this;d.a.each(t,function(t){return t.transitions.splice(1)}),d.a.each(t,function(t){return p.a.removeArrayItem(e.workItems,t)}),d.a.each(t,function(t){return p.a.removeArrayItem(e.list.items,t)}),this.renderResults()},itemSelected:function(t){return this.selectedKey==this.controller.getListItemKey(t)},itemEditMode:function(t){return this.editingKey==this.controller.getListItemKey(t)},queryDefinitions:function(t,e,n){e&&this.referenceStore.getReferences(e).then(function(i){var a=d.a.filter(i,function(n){return n.principalId==e&&n.title.indexOf(t)>-1});n(a)})},queryEmployees:function(t,e){var n=this.employees;this.shareDialog.show&&!d.a.isEmpty(this.shareDialog.employees)&&(n=this.shareDialog.employees),n=d.a.filter(n,function(e){return e.principalName.indexOf(t)>-1}),e(n)},renderResults:function(){this.controller.renderResults()},fetchEmployeePositions:function(t,e){this.principalStore.getParentPrincipals(t,"POSITION").then(function(t){return e(t)}).catch(e([]))},loadWorkItems:function(){var t=this;this.workItemStore.getWorkItems(this.currentEmployeeId).then(function(e){return t.workItems=e}).then(function(){var t=this,e=d.a.filter(this.workItems,function(e){return e.ownerId==t.currentEmployeeId||d.a.any(e.transitions,function(e){return e==t.currentEmployeeId})||d.a.any(t.positions,function(t){return t.principalId==e.principalId})});d.a.each(e,function(e){return e.initiator=d.a.find(t.employees,function(t){return t.principalId==e.initiatorId})}),d.a.each(e,function(e){return e.position=d.a.find(t.positions,function(t){return t.principalId==e.principalId})}),this.list.items=e,this.controller.renderResults()}.bind(this))},changeShowFilter:function(){this.showFilter=!this.showFilter}},computed:{editingItem:function(){var t=this;return d.a.isEmpty(this.editingKey)?void 0:d.a.find(this.controller.resultList,function(e){return t.controller.getListItemKey(e)==t.editingKey})},minIndent:function(){var t=d.a.min(this.controller.resultList,function(t){return t.indent});return d.a.isUndefined(t)?0:t.indent},indents:function(){for(var t=[],e=this.minIndent;e<0;)t.push({indent:e+1,displayText:e-this.minIndent}),e++;return t}},watch:{currentEmployeeId:function(t){this.loadWorkItems()},currentCompanyId:function(t){var e=this;this.principalStore.getChildrenPrincipals(t,"EMPLOYEE").then(function(t){e.employees=t,e.currentEmployeeId=e.employees[0].principalId}),this.principalStore.getChildrenPrincipals(t,"POSITION").then(function(t){return e.positions=t})}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(15),a=n.n(i),o=n(220),s=n(325),r=n(912),l=n(322),c=(n(162),n(219)),u=n(165),d=n(326),p=n(166),m=n(4),h=n.n(m),f=n(28),v=n(6),g=(n(164),n(138),n(161),n(218),n(275));n.n(g);e.default={name:"WorkItemList",data:function(){return{item:o.a.create(),list:new s.a(this),controller:new c.a,userStore:new u.a("work-item-list"),workItemStore:new d.a,principalStore:new r.a,indent:"",definitionTexts:v.a.getItem("definition-text"),workItemTexts:v.a.getItem("work-item-texts"),principalTexts:v.a.getItem("principal-texts"),definitions:[],companies:[],positions:[],employees:[],selectedKey:"",editingKey:"",currentEmployeeId:"",currentCompanyId:"",shareDialog:{show:!1,employeeName:"",employee:{},validator:{},items:[],loading:!1},bulkEditDialog:{show:!1,loading:!1,operations:[],items:[]},autoInitialize:!1}},created:function(){this.controller.setList(this.list),this.controller.setUserStore(this.userStore),this.shareDialog.validator=f.a.createModelValidator({employeeName:function(){var t=this;return this.required("目标员工不能为空")&&this.must(function(e){return!h.a.isEmpty(t.target.employee)},"目标员工不存在")&&this.must(function(e){return t.target.employee.principalName==e},"目标员工不存在")&&this.must(function(e){return t.target.employee.principalId!=t.context.currentEmployeeId},"无法分享给自己")}})(this.shareDialog,this)},methods:{autoChangeText:function(t){return t.lastIndexOf("\n")==t.length-1?t=t.substring(0,t.lastIndexOf("\n")):t+="\n",t},onInitializeWithTexts:function(){this.autoInitialize=!0,this.principalTexts=this.autoChangeText(this.principalTexts)},onSelectShareEmployee:function(t){this.shareDialog.employee=t,this.shareDialog.validator.employeeName.validate()},queryShareEmployees:function(t,e){e(h.a.filter(this.employees,function(e){return e.principalName.indexOf(t)>-1}))},onItemBulkDelete:function(t){var e=this,n=this.controller.getCheckedItems(t),i=h.a.filter(h.a.map(n,function(t){return t.item}),function(t){return t.deletable(e.currentEmployeeId)});h.a.isEmpty(i)?this.$message({type:"error",message:"当前无任何可删除的工作项!"}):this.workItemStore.deleteWorkItems(i).then(function(){return h.a.each(i,function(t){return f.a.removeArrayItem(e.workItems,t)})}).then(function(){return h.a.each(i,function(t){return f.a.removeArrayItem(e.list.items,t)})}).then(function(){return e.renderResults()})},onItemBulkRead:function(t,e){var n=this,i=this.controller.getCheckedItems(t),a=h.a.map(i,function(t){return t.item});this.workItemStore.setWorkItemReaded(this.currentEmployeeId,a,e).then(function(){return h.a.each(a,function(t){return t.readed=e})}).then(function(){return n.renderResults()})},onItemBulkReject:function(t){var e=this,n=this.controller.getCheckedItems(t),i=h.a.chain(n).map(function(t){return t.item}).filter(function(t){return t.rejectable(e.currentEmployeeId)}).value();h.a.isEmpty(i)?this.$message.error("当前无可驳回的工作项!"):this.workItemStore.transmitWorkItems(i,"",!1).then(function(){return e.afterReject(i)})},onItemBulkEdit:function(t){var e=this.controller.getCheckedItems(t),n=this.controller.getFieldBulkOperations(e);h.a.isEmpty(n)?this.$message({type:"error",message:"当前无可批量修改的工作项!"}):(this.bulkEditDialog.operations=n,this.bulkEditDialog.items=e,this.bulkEditDialog.show=!0)},onBulkEdit:function(){var t=this,e=this.bulkEditDialog.operations,n=this.bulkEditDialog.items;h.a.each(n,function(t){return t.item.snapshot()}),this.controller.applyBulkOperations(e,n);var i=h.a.map(n,function(t){return t.item});this.workItemStore.commentWorkItems(i).then(function(){return h.a.each(i,function(t){return t.apply()})}).catch(function(e){return t.$message.error(e.message)}),this.bulkEditDialog.loading=!1,this.bulkEditDialog.show=!1},onItemBulkShare:function(t){var e=this,n=this.controller.getCheckedItems(t),i=h.a.chain(n).map(function(t){return t.item}).filter(function(t){return t.shareable(e.currentEmployeeId)}).value(),a="";if(h.a.isEmpty(i))a="当前无任何可分享的工作项";else if(h.a.all(i,function(t){return h.a.isEmpty(t.currentReporters)}))return this.shareDialog.employee={},this.shareDialog.employeeName="",this.shareDialog.items=i,void(this.shareDialog.show=!0);h.a.isEmpty(a)&&(h.a.all(i,function(t){return 1==t.currentReporters.length})?!h.a.chain(i).reduce(function(t,e){return t.concat(e.currentReporters)},[]).unique().value().length>1&&(a="存在多分享目标的工作项，请在自动分享筛选器中选择目标后再进行操作"):a="存在无法确定唯一分享目标的工作项，请在自动分享筛选器中选择目标后再进行操作");var o={};if(h.a.isEmpty(a)){var s=i[0].currentReporters[0];o=this.employees.find(function(t){return t.principalId==s}),h.a.isUndefined(o)&&(a="无法找到ID为:"+s+"的分享目标")}if(!h.a.isEmpty(a))return void this.$message.error(a);this.$confirm("这些工作项将自动分享给:"+o.principalName+",确定要这么做吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"info"}).then(function(){return e.workItemStore.transmitWorkItems(i,o.principalId,!0)}).then(function(){return e.afterShare(i,o.principalId)}).catch(h.a.noop)},onItemShare:function(t){var e=this,n=t.item.currentReporters;if(1==n.length){var i=this.employees.find(function(t){return t.principalId==n[0]});if(!h.a.isUndefined(i))return void this.$confirm("此工作项将自动分享给:"+i.principalName+",确定要这么做吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"info"}).then(function(){return e.workItemStore.transmitWorkItems([t.item],i.principalId,!0)}).then(function(){return e.afterShare([t.item],i.principalId)}).catch(h.a.noop)}else n.length>1&&(this.shareDialog.employees=h.a.filter(h.a.map(n,function(t){return e.employees.find(function(e){return e.principalId==t})}),function(t){return!h.a.isUndefined(t)}));this.shareDialog.employee={},this.shareDialog.employeeName="",this.shareDialog.items=[t.item],this.shareDialog.show=!0},onItemReject:function(t){var e=this;this.workItemStore.transmitWorkItems([t.item],t.item.initiatorId,!1).then(function(){return e.afterReject([t.item])})},onShareDialogOK:function(){var t=this,e=this.shareDialog.items;this.workItemStore.transmitWorkItems(e,this.shareDialog.employee.principalId,!0).then(function(){return t.afterShare(e,t.shareDialog.employee.principalId)}),this.shareDialog.loading=!1,this.shareDialog.show=!1},onCreateWorkItem:function(){var t=this;this.item.ownerId=this.currentEmployeeId,this.item.transitions=[this.item.initiatorId],this.item.status="draft",this.workItemStore.saveWorkItems([this.item]).then(function(t){this.item.itemId=t[0],this.workItems.push(this.item),this.list.items.push(this.item),this.item=o.a.create(),this.renderResults()}.bind(this)).catch(function(e){return t.$message.error(e.message)})},onItemClick:function(t){this.selectedKey=this.controller.getListItemKey(t)},onItemEye:function(t){t.item.readed=!t.item.readed,this.workItemStore.setWorkItemReaded(this.currentEmployeeId,[t.item],t.item.readed),this.renderResults()},onItemOK:function(t){t.item.apply(),this.editingKey=""},onItemDelete:function(t){var e=this;this.workItemStore.deleteWorkItems([t.item]).then(function(){return f.a.removeArrayItem(e.workItems,t.item)}).then(function(){return f.a.removeArrayItem(e.list.items,t.item)}).then(function(){return e.renderResults()})},onItemEdit:function(t){h.a.isUndefined(this.editingItem)||this.editingItem.item.revert(),t.item.snapshot(),this.editingKey=this.controller.getListItemKey(t)},onItemCancel:function(t){t.item.revert(),this.editingKey=""},onRenderResult:function(){this.renderResults()},onFilterChanged:function(t,e){this.controller.setFilter(t,e),this.renderResults()},onOptionClick:function(t,e){this.controller.setFilter(t,e),this.renderResults()},onDeleteFieldFilter:function(t){this.controller.setFilter(t.filter,[]),this.renderResults()},onCustomOptionAdd:function(t){t.calculateFilterOptions(this.list,this.userStore)},afterShare:function(t,e){h.a.each(t,function(t){return t.transitions.push(e)}),this.renderResults()},afterReject:function(t){var e=this;h.a.each(t,function(t){return t.transitions.splice(1)}),h.a.each(t,function(t){return f.a.removeArrayItem(e.workItems,t)}),h.a.each(t,function(t){return f.a.removeArrayItem(e.list.items,t)}),this.renderResults()},itemSelected:function(t){return this.selectedKey==this.controller.getListItemKey(t)},itemEditMode:function(t){return this.editingKey==this.controller.getListItemKey(t)},queryDefinitions:function(t,e,n){n(h.a.filter(this.definitions,function(n){return n.principalId==e&&n.title.indexOf(t)>-1}))},queryEmployees:function(t,e){var n=this.employees;this.shareDialog.show&&!h.a.isEmpty(this.shareDialog.employees)&&(n=this.shareDialog.employees),n=h.a.filter(n,function(e){return e.principalName.indexOf(t)>-1}),e(n)},renderResults:function(){this.controller.renderResults()},fetchEmployeePositions:function(t,e){this.principalStore.getParentPrincipals(t,"POSITION").then(function(t){return e(t)}).catch(e([]))},loadWorkItems:function(){var t=this;this.workItemStore.getWorkItems(this.currentEmployeeId).then(function(e){return t.workItems=e}).then(function(){var t=this,e=h.a.filter(this.workItems,function(e){return e.ownerId==t.currentEmployeeId||h.a.any(e.transitions,function(e){return e==t.currentEmployeeId})||h.a.any(t.positions,function(t){return t.principalId==e.principalId})});h.a.each(e,function(e){return e.initiator=h.a.find(t.employees,function(t){return t.principalId==e.initiatorId})}),h.a.each(e,function(e){return e.position=h.a.find(t.positions,function(t){return t.principalId==e.principalId})}),this.list.items=e,this.controller.renderResults()}.bind(this))}},computed:{editingItem:function(){var t=this;return h.a.isEmpty(this.editingKey)?void 0:h.a.find(this.controller.resultList,function(e){return t.controller.getListItemKey(e)==t.editingKey})},minIndent:function(){var t=h.a.min(this.controller.resultList,function(t){return t.indent});return h.a.isUndefined(t)?0:t.indent},indents:function(){for(var t=[],e=this.minIndent;e<0;)t.push({indent:e+1,displayText:e-this.minIndent}),e++;return t}},watch:{definitionTexts:function(t){v.a.setItem("definition-text",t),this.definitions=p.a.parseLines(t),this.workItemTexts=this.autoChangeText(this.workItemTexts)},workItemTexts:function(t){v.a.setItem("work-item-texts",t),this.workItemStore.setWorkItems(o.a.parseLines(t,this.definitions))},currentEmployeeId:function(t){this.loadWorkItems()},principalTexts:function(t){var e=this;v.a.setItem("principal-texts",t),this.principalStore.setPrincipals(l.a.parseLines(t)),this.principalStore.getChildrenPrincipals("","COMPANY").then(function(t){return e.companies=t}),h.a.isEmpty(this.currentCompanyId)||(this.definitionTexts=this.autoChangeText(this.definitionTexts))},currentCompanyId:function(t){var e=this;a.a.all([this.principalStore.getChildrenPrincipals(t,"EMPLOYEE").then(function(t){return e.employees=t}),this.principalStore.getChildrenPrincipals(t,"POSITION").then(function(t){return e.positions=t})]).then(function(){return e.definitionTexts=e.autoChangeText(e.definitionTexts)})}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4);n.n(i);e.default={name:"WorkRow",componentName:"WorkRow",props:{flexWidth:{type:[Number,String],default:"1"},state:{type:String,default:""}},data:function(){return{}},methods:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),a=n.n(i);e.default={name:"WorkingAggregationItem",props:{item:{type:Object,required:!0},hasChildrenChecked:{type:Boolean,required:!0}},methods:{onCommand:function(t){this.$emit(t)}},computed:{hasAggregator:function(){return!a.a.isUndefined(this.item.item.aggreator)&&!a.a.isEmpty(this.item.item.aggreator)&&this.item.item.calculated}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n(28);e.default={name:"WorkingItem",data:function(){return{titleProps:{value:"title",label:"title"},employeeProps:{value:"principalName",label:"principalName"},isHover:!1,initiator:{},positions:[]}},props:{item:{type:Object,required:!0},fetchEmployeePositions:{type:Function,required:!0},queryDefinitions:{type:Function,required:!0},queryEmployees:{type:Function,required:!0},editMode:{type:Boolean,default:!1},selected:{type:Boolean,default:!1},currentEmployeeId:{type:String,required:!0},loading:{type:Boolean,default:!1}},methods:{onClick:function(){console.log(this.item),this.$emit("click")},onEdit:function(){this.$emit("edit")},onDelete:function(){this.$emit("delete")},onReject:function(){this.$emit("reject")},onEye:function(){this.$emit("eye")},onOK:function(){this.item.modelValidator.validate()&&_.reduce(this.item.templateValues,function(t,e){return e.modelValidator.validate()&&t},!0)&&this.$emit("ok")},onCancel:function(){this.$emit("cancel")},onShare:function(){this.$emit("share")},onPositionChanged:function(){var t=this;this.item.position=_.find(this.positions,function(e){return e.principalId==t.item.principalId})},onSelectDefinition:function(t){(_.isEmpty(this.item.reference)||t.sourceItemId!=this.item.reference.sourceItemId||t.sourceVersionId!=this.item.reference.sourceVersionId)&&(this.item.reference=t,this.validator.itemName.validate())},fetchDefinitions:function(t,e){this.queryDefinitions(t,this.item.principalId,function(t){if(!_.isEmpty(t)&&1==t.length){var n=t[0];if(this.item.itemName==n.title)return this.onSelectDefinition(n),void e([])}e(t)}.bind(this))},onSelectInitiator:function(t){this.item.initiator=t,this.validator.initiatorName.validate()},fetchEmployees:function(t,e){this.queryEmployees(t,e)},onHover:function(t){this.isHover=!this.isHover}},watch:{selected:function(t){console.log(this.item)},hasDefinition:function(t){t||(this.item.ratio=1)},"item.initiatorId":function(t){var e=this;this.positions=[],this.item.principalId="",this.fetchEmployeePositions(this.item.initiatorId,function(t){e.positions=t})},"item.initiatorName":function(t){t!=this.item.initiator.principalName&&(this.positions=[],this.item.principalId="")}},computed:{state:function(){return this.editMode?"edit":"default"},showButton:function(){return!this.editMode&&!this.loading},showControl:function(){return this.editMode&&!this.loading},showEdit:function(){return this.item.editable(this.currentEmployeeId)&&this.selected&&this.showButton},showShare:function(){return this.item.shareable(this.currentEmployeeId)&&this.showButton},showScore:function(){return!this.item.isRoutine&&this.showBaseScore},showDelete:function(){return this.selected&&this.item.deletable(this.currentEmployeeId)&&this.showButton},showReject:function(){return this.selected&&this.item.rejectable(this.currentEmployeeId)&&this.showButton},showBaseScore:function(){return!!this.item.isTemporary||(this.item.isStatistical?this.item.score>0:!this.item.isRoutine)},showAmount:function(){return this.item.amountParticipateCalculation},showQualityScore:function(){return this.showBaseScore},showRatio:function(){return!this.item.isRoutine},showRatioRange:function(){return this.showRatio&&!this.item.isTemporary},showOK:function(){return this.showControl&&"edit"==this.state},showCancel:function(){return this.showControl&&"edit"==this.state&&!this.isNewItem},showDescriptionRow:function(){return!_.isUndefined(this.item.description)&&this.selected},keyColumnState:function(){return this.showControl&&this.isNewItem?"edit":"default"},contentColumnState:function(){return this.showControl&&(this.isNewItem||this.isDraft&&this.isOwner)?"edit":"default"},baseScoreState:function(){return this.showControl&&(this.isNewItem||this.isTemporary)?"edit":"default"},baseScore:function(){return this.item.baseScore},amountState:function(){return this.showControl&&(this.isNewItem||this.item.isPieceOrTimes||this.item.isTemporary)?"edit":"default"},commentColumnState:function(){if(!this.showControl)return"default";this.isNewItem||this.item.commentable(this.currentEmployeeId)},isNewItem:function(){return _.isEmpty(this.item.itemId)},calculatedScore:function(){return this.item.calculatedScore},positionName:function(){return _.isUndefined(this.item.position)?"":this.item.position.principalName},typeName:function(){return this.item.typeName},isOwner:function(){return this.item.ownerId==this.currentEmployeeId},isCurrentUser:function(){return this.item.currentUserId==this.currentEmployeeId},isDraft:function(){return this.item.isDraft},isLocked:function(){return this.item.isLocked},notEffected:function(){return this.item.notEffected},isInitiator:function(){return this.item.initiatorId==this.currentEmployeeId},classes:function(){return{"work-row-hover":this.isHover,"work-row-selected":this.selected}},showTemplateRow:function(){return this.hasTemplateValues&&this.selected},hasTemplateValues:function(){return!_.isUndefined(this.item.templateValues)&&!_.isEmpty(this.item.templateValues)},validator:function(){return this.item.modelValidator},eyeIconClass:function(){return["fa","fa-eye",this.item.readed?"readed":"unread"]}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(15),a=n.n(i),o=n(10),s=n.n(o),r=n(22),l=n.n(r),c=(n(223),n(171));e.default={name:"OwnPerformanceDefinitionCart",data:function(){return{principalAndOwnPerformanceDefinitionList:[],positionList:[],companyId:"",organizationManager:this.$OrganizationManager}},created:function(){this.init()},mounted:function(){},methods:{init:function(){var t=this;return l()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.organizationManager.ownCartInit();case 2:return e.next=4,t.getChangedPerformanceDefinitionOfPrincipal();case 4:case"end":return e.stop()}},e,t)}))()},positionClose:function(t){var e=this.principalAndOwnPerformanceDefinitionList.findIndex(function(e){return e.principalId===t.principalId});e>=0&&this.principalAndOwnPerformanceDefinitionList.splice(e,1);var n=this.$refs.performancePositionSelect.organizationManager.kanbanFilterList.findIndex(function(e){return e.positionId===t.principalId});e>=0&&(this.$refs.performancePositionSelect.organizationManager.kanbanFilterList[n].selected=!1)},getChangedPerformanceDefinitionOfPrincipal:function(){var t=this;return l()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.principalAndOwnPerformanceDefinitionList=[],e.prev=1,e.next=4,a.a.all(_.map(t.$OrganizationManager.ownCartFilterList,function(){var e=l()(s.a.mark(function e(n){var i,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=new c.a({}),i.principalId=n.positionId,i.employeePosition=n.positionName,i.selected=!0,i.performanceDefinitionList=[],e.next=7,t.$PerformanceDefinitionManager.getAllIncludeChangedAndEffected(i.principalId,"-1");case 7:return a=e.sent,_.each(a,function(t){("draft"===t.state||t.delete&&"effected"===t.state)&&i.performanceDefinitionList.push(t)}),e.abrupt("return",i);case 10:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()));case 4:t.principalAndOwnPerformanceDefinitionList=e.sent,console.log(t.principalAndOwnPerformanceDefinitionList),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(1),new Error(e.t0.message);case 11:case"end":return e.stop()}},e,t,[[1,8]])}))()},selectedItemToKanban:function(t){var e=this;return l()(s.a.mark(function n(){var i,a,o,r;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=new c.a({}),i.principalId=t.positionId,i.employeePosition=t.positionName,i.selected=!0,i.performanceDefinitionList=[],e.$PerformancePersistence.currentPrincipalId=""+i.positionId,n.next=8,e.$PerformanceDefinitionManager.getAllIncludeChangedAndEffected(i.principalId,"-1");case 8:a=n.sent,o=[],_.each(a,function(t){("draft"===t.state||t.delete&&"effected"===t.state)&&o.push(t)}),i.performanceDefinitionList=o,r=e.principalAndOwnPerformanceDefinitionList.findIndex(function(t){return t.principalId===i.principalId}),r<0?e.principalAndOwnPerformanceDefinitionList.push(i):e.principalAndOwnPerformanceDefinitionList.splice(r,1,i),e.principalAndOwnPerformanceDefinitionList.sort(function(t,e){return parseInt(e.principalId)-parseInt(t.principalId)});case 15:case"end":return n.stop()}},n,e)}))()},declaredDocument:function(){var t=this;return l()(s.a.mark(function e(){var n,i,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=0,i=0,_.each(t.principalAndOwnPerformanceDefinitionList,function(t){_.each(t.performanceDefinitionList,function(t){t.checked&&n++})}),0!==n){e.next=6;break}return t.$message({type:"error",message:"无可申报的模板项"}),e.abrupt("return");case 6:if(_.each(t.principalAndOwnPerformanceDefinitionList,function(t){_.each(t.performanceDefinitionList,function(t){t.conflictState&&i++})}),!(i>0)){e.next=10;break}return t.$message({type:"error",message:"存在冲突的模板项"}),e.abrupt("return");case 10:return e.prev=10,e.next=13,t.$PerformanceDefinitionManager.declaredToDocument(t.principalAndOwnPerformanceDefinitionList);case 13:return a=e.sent,_.each(a.list,function(t){t.checked=!1}),_.each(t.principalAndOwnPerformanceDefinitionList,function(t){t.checked=!1}),_.each(a.itemIds,function(e){_.each(t.principalAndOwnPerformanceDefinitionList,function(t){var n=t.performanceDefinitionList.findIndex(function(t){return e===t.itemId});n>=0&&t.performanceDefinitionList.splice(n,1)})}),e.next=19,t.$OrganizationManager.ownCartInit();case 19:return e.next=21,t.getChangedPerformanceDefinitionOfPrincipal();case 21:t.$message({type:"success",message:"申报成功"}),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(10),console.log(e.t0);case 27:case"end":return e.stop()}},e,t,[[10,24]])}))()},companySelected:function(t){this.getChangedPerformanceDefinitionOfPrincipal()}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,a=n(36),o=n.n(a),s=n(10),r=n.n(s),l=n(22),c=n.n(l);e.default=(i={name:"PerformanceDefinitionDocumentList",data:function(){return{organizationManager:this.$OrganizationManager}},mounted:function(){this.getAllPerformanceDocumentList()}},o()(i,"data",function(){return{options:[{value:"all",label:"全部"},{value:"draft",label:"草稿"},{value:"declared",label:"审批中"},{value:"effected",label:"已生效"}],value:"all",companys:[],companyId:[],performanceDocumentList:[]}}),o()(i,"methods",{getAllPerformanceDocumentList:function(){var t=this;return c()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$PerformanceDefinitionDocumentManager.getAllPerformanceDocumentList();case 2:t.performanceDocumentList=e.sent,t.performanceDocumentList.sort(function(t,e){return parseInt(e.metadata.uid)-parseInt(t.metadata.uid)});case 4:case"end":return e.stop()}},e,t)}))()},getPerformanceDocumentList:function(t){var e=this;return c()(r.a.mark(function n(){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if("all"!==t){n.next=6;break}return n.next=3,e.$PerformanceDefinitionDocumentManager.getAllPerformanceDocumentList();case 3:e.performanceDocumentList=n.sent,n.next=9;break;case 6:return n.next=8,e.$PerformanceDefinitionDocumentManager.getPerformanceDocumentList(t);case 8:e.performanceDocumentList=n.sent;case 9:e.performanceDocumentList.sort(function(t,e){return parseInt(t.metadata.uid)<parseInt(e.metadata.uid)});case 10:case"end":return n.stop()}},n,e)}))()}}),i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),a=n.n(i),o=n(15),s=n.n(o),r=n(22),l=n.n(r),c=(n(223),n(171));n(106);e.default={name:"PerformanceDefinitionKanban",data:function(){return{principalAndOwnPerformanceDefinitionList:[],companyId:"",effectedVersions:[]}},mounted:function(){this.getAllIncludeChangedAndEffected([])},methods:{positionClose:function(t){var e=this.principalAndOwnPerformanceDefinitionList.findIndex(function(e){return e.principalId===t.principalId});e>=0&&this.principalAndOwnPerformanceDefinitionList.splice(e,1);var n=this.$refs.performancePositionSelect.organizationManager.kanbanFilterList.findIndex(function(e){return e.positionId===t.principalId});n>=0&&(this.$refs.performancePositionSelect.organizationManager.kanbanFilterList[n].selected=!1)},getAllIncludeChangedAndEffected:function(){var t=this;return l()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.principalAndOwnPerformanceDefinitionList=[],e.prev=1,e.next=4,s.a.all(_.map(t.$OrganizationManager.kanbanFilterList,function(){var e=l()(a.a.mark(function e(n){var i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=new c.a({}),i.principalId=n.positionId,i.employeePosition=n.positionName,i.selected=!0,i.performanceDefinitionList=[],e.next=7,t.$PerformanceDefinitionManager.getAllIncludeChangedAndEffected(i.principalId,"-1");case 7:return i.performanceDefinitionList=e.sent,e.abrupt("return",i);case 9:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()));case 4:t.principalAndOwnPerformanceDefinitionList=e.sent,e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),new Error(e.t0.message);case 10:case"end":return e.stop()}},e,t,[[1,7]])}))()},selectedItemToKanban:function(t){var e=this;return l()(a.a.mark(function n(){var i,o;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=new c.a({}),i.principalId=t.positionId,i.employeePosition=t.value?t.value:t.positionName,i.selected=!0,i.performanceDefinitionList=[],e.$PerformancePersistence.currentPrincipalId=""+i.positionId,n.next=8,e.$PerformanceDefinitionManager.getAllIncludeChangedAndEffected(i.principalId,"-1");case 8:i.performanceDefinitionList=n.sent,o=e.principalAndOwnPerformanceDefinitionList.findIndex(function(t){return t.principalId===i.principalId}),o<0?e.principalAndOwnPerformanceDefinitionList.unshift(i):e.principalAndOwnPerformanceDefinitionList.splice(o,1,i),e.principalAndOwnPerformanceDefinitionList.sort(function(t,e){return parseInt(e.principalId)-parseInt(t.principalId)});case 12:case"end":return n.stop()}},n,e)}))()},changePrincipalAndOwnPerformanceDefinitionListSelected:function(t){},companySelected:function(t){var e=this;return l()(a.a.mark(function n(){return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e.getAllIncludeChangedAndEffected(t);case 1:case"end":return n.stop()}},n,e)}))()},changeStaffId:function(t){this.getAllIncludeChangedAndEffected(t)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),a=n.n(i),o=n(22),s=n.n(o),r=n(113);e.default={name:"PerformanceDefinitionPositionDetail",props:{item:{type:Object,default:null,require:!0}},data:function(){return{inputValue:"123l",errorMessage:"34",onEdit:!0,isDelete:!1,showList:!0,globalControl:{onEdit:!1,selected:!1},performanceDefinitionList:[],biangeng:!0,showCheck:!0,path:"",principalVersions:[],currentVersion:0,documentState:"",parentPrincipalName:""}},created:function(){this.path=this.$route.path,this.performanceDefinitionList=this.item.performanceDefinitionList,("/test/PerformanceDefinitionKanban"===this.$route.path||this.$route.path.indexOf("PerformanceDefinitionDocumentDetail")>0)&&(this.showCheck=!1),this.getAllPrincipalVersions()},mounted:function(){this.documentState=this.$PerformancePersistence.currentPerformanceDocumentDetailState,this.initParentPrincipal()},methods:{initParentPrincipal:function(){var t=this;return s()(a.a.mark(function e(){var n,i,o,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new r.a,e.next=3,n.getParentPrincipals(t.item.principalId,"POSITION");case 3:return i=e.sent,e.next=6,n.getCurrentPrincipals(t.item.principalId);case 6:o=e.sent,s="",_.each(i,function(t){o[0].parentId===t.principalId&&(s=t.principalName)}),t.parentPrincipalName=s;case 10:case"end":return e.stop()}},e,t)}))()},changeVersion:function(t){var e=this;return s()(a.a.mark(function n(){return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t!==e.principalVersions.length){n.next=6;break}return n.next=3,e.$PerformanceDefinitionManager.getAllIncludeChangedAndEffected(e.item.principalId,t);case 3:e.performanceDefinitionList=n.sent,n.next=9;break;case 6:return n.next=8,e.$PerformanceDefinitionManager.getPerformanceDefinitionListOfOnePosition(e.item.principalId,t);case 8:e.performanceDefinitionList=n.sent;case 9:case"end":return n.stop()}},n,e)}))()},getAllPrincipalVersions:function(){var t=this;return s()(a.a.mark(function e(){var n,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.principalVersions=[],e.next=3,t.$PerformanceDefinitionManager.getAllPrincipalVersions(t.item.principalId);case 3:if(t.principalVersions=e.sent,!(t.principalVersions.length<=0)){e.next=6;break}return e.abrupt("return");case 6:for(n=[],i=1;i<=parseInt(t.principalVersions[0].version);i++)n.push({value:i,label:i});t.principalVersions=n,t.currentVersion=t.principalVersions.length;case 10:case"end":return e.stop()}},e,t)}))()},onSelected:function(t){var e=this;return s()(a.a.mark(function n(){return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!(e.$route.path.indexOf("PerformanceDefinitionDocumentDetail")>0&&"draft"!=e.$PerformancePersistence.currentPerformanceDocumentDetailState)){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,e.$PerformanceDefinitionManager.checkSelected(e.performanceDefinitionList,t);case 5:return n.next=7,e.$PerformanceDefinitionManager.checkAddItem(t,e.performanceDefinitionList);case 7:return t.selected=!0,n.next=10,e.$PerformanceDefinitionManager.changeOtherPerformanceDefinitionToNotSelected(e.performanceDefinitionList,t);case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),e.$message({type:"error",message:n.t0.message});case 15:case"end":return n.stop()}},n,e,[[0,12]])}))()},previewChange:function(){this.biangeng=!this.biangeng,_.each(this.performanceDefinitionList,function(t){"effected"!=t.state&&(t.isPreview=!t.isPreview)})},foldList:function(){this.showList=!this.showList},close:function(){this.item.selected=!1,this.$emit("positionClose",this.item)},changeListItemToChecked:function(){this.$PerformanceDefinitionManager.changeListItemToChecked(this.performanceDefinitionList,this.item)},changeParentChecked:function(t){this.$PerformanceDefinitionManager.changeParentChecked(this.performanceDefinitionList,this.item)},addPerfromaceDefinitionItem:function(){var t=this;return s()(a.a.mark(function e(){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.$PerformancePersistence.currentPrincipalId=t.item.principalId,e.next=4,t.$PerformanceDefinitionManager.checkAddItem("",t.item.performanceDefinitionList);case 4:return _.each(t.item.performanceDefinitionList,function(t){t.selected=!1}),e.next=7,t.$PerformanceDefinitionManager.addItem(t.item.performanceDefinitionList);case 7:n=e.sent,t.$PerformanceDefinitionManager.changeOtherPerformanceDefinitionToNotSelected(t.item.performanceDefinitionList,n),t.performanceDefinitionList=t.item.performanceDefinitionList,console.log(t.item.performanceDefinitionList),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),t.$message({type:"error",message:e.t0.message});case 16:case"end":return e.stop()}},e,t,[[0,13]])}))()}},watch:{"item.performanceDefinitionList":function(){this.performanceDefinitionList=this.item.performanceDefinitionList}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),a=n.n(i),o=n(22),s=n.n(o);e.default={name:"AddPerfromanceDefinitionItem",props:{item:{type:Object,required:!0,default:null}},methods:{addPerfromaceDefinitionItem:function(){var t=this;return s()(a.a.mark(function e(){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$PerformanceDefinitionManager.checkAddItem("",t.item.performanceDefinitionList);case 3:return _.each(t.item.performanceDefinitionList,function(t){t.selected=!1}),e.next=6,t.$PerformanceDefinitionManager.addItem(t.item.performanceDefinitionList);case 6:n=e.sent,t.$PerformanceDefinitionManager.changeOtherPerformanceDefinitionToNotSelected(t.item.performanceDefinitionList,n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t.$message({type:"error",message:e.t0.message});case 13:case"end":return e.stop()}},e,t,[[0,10]])}))()}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"GridCell",props:{editingMode:{type:Boolean,default:!1},flexWidth:{type:[Number,String],default:""},minWidth:{type:[Number,String],default:""},textAlign:{type:String,default:"center"},flexCenter:{type:String,default:"center"},width:{type:String,default:"100%"},titleWidth:{type:String,default:"100%"},isDelete:{type:Boolean,default:!1},isShowHr:{type:Boolean,default:!0}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"GridGroupHead"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"GridGroupHeadColumn",props:{flexWidth:{type:[Number,String],default:null},textAlign:{type:String,default:""},minWidth:{type:[Number,String],default:""}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"GridHeadColumn",props:{flexWidth:{type:[Number,String],default:null},textAlign:{type:String,default:""},minWidth:{type:[Number,String],default:""}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"GridHeadRow"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"GridRow",props:{item:{type:Object,default:null},flexWidth:{type:[Number,String],default:"1"},preventEevent:{type:Boolean,default:!0}},data:function(){return{isHover:!1}},computed:{classs:function(){return{"work-row-selected":this.item.selected}}},methods:{onHover:function(t){this.isHover=!this.isHover},onClick:function(t){this.$emit("onSelected",this.item)}},wacth:{"item.selected":function(t){console.log(this.item)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"InputItem",props:{value:{type:String|Number,default:void 0},isEdit:{type:Boolean,default:!1},inputHeight:{type:String,default:""},inputWidth:{type:String,default:""},inputCenter:{type:String,default:""},iconLeft:{type:String,default:""},iconRight:{type:String,default:"-18px"},errorKey:{type:String,default:""}},data:function(){return{validatorMessage:""}},mounted:function(){var t=this.$el.querySelector("input");t&&(t.style.cssText=this.inputCenter?"text-align: "+this.inputCenter+" !important;":"text-align: left !important")},methods:{emitInput:function(t,e){console.log(3453535345),this.validatorMessage="",this.$emit("input",t)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),a=n.n(i),o=n(22),s=n.n(o),r=n(12);n.n(r),n(130);e.default={name:"OwnerDefintionKanbanSelect",data:function(){return{organizationManager:this.$OrganizationManager,positionSearchValue:"",options:[],searchSelectedPosition:""}},created:function(){},mounted:function(){},computed:{companyId:{get:function(){return this.organizationManager.currentCompany},set:function(t){this.organizationManager.currentCompany=t}}},methods:{changedCompany:function(t){var e=this;return s()(a.a.mark(function n(){return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(12313),n.next=3,e.organizationManager.ownCartInit();case 3:e.$emit("companySelected",t.value);case 4:case"end":return n.stop()}},n,e)}))()},selectedItem:function(t){this.$emit("selectedItemToKanban",t)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(15),a=n.n(i),o=n(10),s=n.n(o),r=n(22),l=n.n(r),c=n(4),u=n.n(c),d=n(3),p=(n.n(d),n(1536)),m=n.n(p);e.default={name:"PerformanceDefinitionDocumentDetail",data:function(){return{path:"",principalAndOwnPerformanceDefinitionList:[],state:this.$PerformancePersistence.currentPerformanceDocumentDetailState,content:{}}},mounted:function(){this.path=this.$route.params.id,this.getPerformanceDocumentData(this.$route.params.id),this.getResourceDetail()},computed:{reporter:function(){var t=this,e=this.$OrganizationManager.currentCompanyAllEmployees.findIndex(function(e){return e.staffId===t.content.reporter});return e>=0?this.$OrganizationManager.currentCompanyAllEmployees[e].staffName:""}},methods:{getResourceDetail:function(){var t=this;return l()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$PerformanceDefinitionDocumentManager.getResourceDetail(t.path);case 2:t.state=e.sent;case 3:case"end":return e.stop()}},e,t)}))()},getPerformanceDocumentData:function(t){var e=this;return l()(s.a.mark(function n(){var i;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$PerformanceDefinitionDocumentManager.getPerformanceDocumentData(t);case 2:i=n.sent,e.content=i,e.getCurrentPerformancefintion(i.list);case 5:case"end":return n.stop()}},n,e)}))()},getCurrentPerformancefintion:function(t){var e=this;return l()(s.a.mark(function n(){return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.all(u.a.map(t,function(){var t=l()(s.a.mark(function t(n){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$PerformanceDefinitionManager.getDocumentIncludeChangedAndEffected(n.principalId,"-1",n.performanceDefinitionList);case 2:return n.performanceDefinitionList=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()));case 2:e.principalAndOwnPerformanceDefinitionList=n.sent;case 3:case"end":return n.stop()}},n,e)}))()},declaredToQianpi:function(){var t=this;return l()(s.a.mark(function e(){var n,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=[{key:"performanceDefinitionDoc1",value:t.$OrganizationManager.currentStaffId+"/declared"},{key:"performanceDefinitionDoc2",value:"declared/"+t.$OrganizationManager.currentStaffId}],e.next=4,t.$PerformanceDefinitionDocumentManager.changePerforamnceDocumentState(t.path,n);case 4:i=e.sent,t.state="declared",t.$message({type:"success",message:"审批成功"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t.$message({type:"error",message:"操作失败"});case 12:case"end":return e.stop()}},e,t,[[0,9]])}))()},effecteDoc:function(){var t=this;return l()(s.a.mark(function e(){var n,i,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=[{key:"performanceDefinitionDoc1",value:t.$OrganizationManager.currentStaffId+"/effected"},{key:"performanceDefinitionDoc2",value:"effected/"+t.$OrganizationManager.currentStaffId}],e.next=4,t.$PerformanceDefinitionManager.changePerformanceDefinitionToEffected(t.path);case 4:return i=e.sent,e.next=7,t.$PerformanceDefinitionDocumentManager.changePerforamnceDocumentState(t.path,n);case 7:a=e.sent,t.state="effected",t.$message({type:"success",message:"生效成功"}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t.$message({type:"error",message:"操作失败"});case 15:case"end":return e.stop()}},e,t,[[0,12]])}))()}},components:{DocumentDetailTitle:m.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),a=n.n(i),o=n(3),s=n.n(o),r=n(224),l=(n(114),n(935)),c=n(934),u=n(548);e.default={name:"PerformanceDefinitionItem",props:{item:{type:Object,default:function(){return new r.a(u)}},index:{type:Number,default:0},showCheck:{type:Boolean,default:!0},onlyShow:{type:Boolean,default:!0},list:{type:Array,required:!0,default:[]}},data:function(){return{typeConfig:l.a,cycleUnit:l.b,operationConfig:c.a,operateConfig:c.b,unitConfig:l.c,operations:[],error:!1,pickerOptions0:{disabledDate:function(t){return t.getTime()<Date.now()-864e5}},isShowOtherLines:!(this.item.itemId&&!this.item.selected),queryList:[]}},mounted:function(){this.getOperation(),this.initEmployeesNodes()},computed:{isInDocument:function(){return"PerformanceDefinitionDocumentDetail"===this.$route.name},unit:function(){switch(this.item.type){case"measureTimes":return"次";case"measurePiece":return"件";default:return""}},type:function(){switch(this.item.type){case"routine":return"日常";case"cycle":return"周期";case"measureTimes":return"计次";case"measurePiece":return"计件";case"statisticalTime":return"自定义计时";case"otherSys":return"外部系统";default:return""}},workCycleUnit:function(){switch(this.item.workCycleUnit){case"day":return"日";case"week":return"周";case"year":return"年";default:return""}},startTime:function(){return this.item.startTime?s()(this.item.startTime).format("YYYY-MM-DD"):""},state:function(){switch(this.item.state){case"effected":return"生效";case"draft":return"草稿";case"locked":return"申报中";default:return""}},templateType:function(){switch(this.item.state){case"effected":return"生效";case"draft":return"草稿";case"locked":return"申报中";default:return""}}},methods:{initEmployeesNodes:function(){this.queryList=a.a.map(this.$OrganizationManager.currentCompanyAllEmployees,function(t){return{id:t.staffId,value:t.staffName}})},taggleLines:function(){this.isShowOtherLines=!this.isShowOtherLines},checkedItem:function(t){this.$emit("checkedItem",this.item)},onSelected:function(t){this.getOperation(),this.$emit("onSelected",t)},checkSave:function(t){if(!t.title)throw new Error("标题不能为空！");if(!t.tabType)throw new Error("分类不能为空！");if(!t.baseScore)throw new Error("基础分不能为空！");if(!t.committedPerson)throw new Error("结算人不能为空！");if("cycle"===t.type){if(!t.workCycleValue)throw new Error("周期数值不能为空！");if(!t.workCycleUnit)throw new Error("周期不能为空！");if(!t.startTime)throw new Error("起始时间不能为空！")}},getOperation:function(){var t=this;a.a.each(this.operationConfig,function(e){e.selected===t.item.selected&&e.onEdit===t.item.onEdit&&e.delete===t.item.delete&&(t.isInDocument&&e.operations.length>0&&"delete"===e.operations[1].name?(t.operations=[],t.operations.push(e.operations[0])):t.isInDocument&&e.operations.length>0&&"reply"===e.operations[0].name?t.operations=[]:t.operations=e.operations)})},handleOperation:function(t,e){var n=this;this.$PerformancePersistence.currentPrincipalId=this.item.principalId,a.a.each(this.operateConfig,function(i){if(i.name===t&&i.parent===n.item.parent&&i.children==n.item.children&&i.state===n.item.state)try{if(n.$PerformancePersistence.loading)return;a.a.each(i.fn,function(i){"check"===t&&n.checkSave(e),n.$PerformanceDefinitionManager[i](e,n.list).catch(function(t){console.log(t)})}),n.item.onEdit=i.onEdit}catch(t){console.log(t),n.$message({type:"error",message:t.message})}})},checkValidator:function(t){return this.error&&"check"===t?(this.$message({type:"error",message:"请先修改错误！"}),!1):""===this.item.itemId?(this.item.title="",this.item.type="",this.item.startTime=void 0,!1):void 0},changeParentChecked:function(t){this.$emit("changeParentChecked",this.item)}},errorCaptured:function(t,e,n){return this.error=!0,e.validatorMessage=t.message,!1},watch:{"item.selected":function(t){this.isShowOtherLines=t,this.getOperation()},"item.onEdit":function(t){this.getOperation()},"item.delete":function(t){this.getOperation()}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),a=n.n(i),o=n(22),s=n.n(o),r=n(12),l=n.n(r);e.default={name:"PerformanceDefinitionSearch",props:{companyId:{type:Number|String,required:!0,default:""}},data:function(){return{positionList:[],searchSelectedPosition:""}},mounted:function(){},methods:{querySearchAsync:function(t,e){var n=this;return s()(a.a.mark(function i(){var o,s;return a.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,n.$PerformanceSelectManager.getPersonalCompanyPositionList(n.companyId?n.companyId:n.$PerformancePersistence.companys[0].value,t);case 2:o=i.sent,s=l.a.map(o,function(t){return{value:t.employeePosition,id:t.principalId}}),e(s);case 5:case"end":return i.stop()}},i,n)}))()},handleSelect:function(t){this.searchSelectedPosition="";var e={};l.a.each(this.$PerformancePersistence.positionList,function(n){t.id===n.principalId&&(e=n)}),this.$emit("searchSelectedPosition",e)},selectedItem:function(t){this.$emit("selectedItemToKanban",t)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),a=n.n(i),o=n(22),s=n.n(o),r=n(3),l=n.n(r);e.default={name:"PerformanceDocumentListItem",props:{item:{type:Object,required:null}},data:function(){return{}},mounted:function(){},computed:{state:function(){var t="";switch(_.each(this.item.metadata.labels,function(e){"performanceDefinitionDoc1"===e.key&&(t=e.value.split("/")[1])}),t){case"draft":return"草稿";case"declared":return"审批中";case"effected":return"已生效"}},time:function(){return l()(this.item.metadata.creationTimestamp).format("YYYY-MM-DD")},stateColor:function(){var t="";switch(_.each(this.item.metadata.labels,function(e){"performanceDefinitionDoc1"===e.key&&(t=e.value.split("/")[1])}),t){case"draft":return'#2c96fd"';case"declared":return"red";case"effected":return"green"}}},methods:{onDeleteDocument:function(t){var e=this;return s()(a.a.mark(function n(){var i,o,s,r;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=t.metadata.uid,n.prev=1,n.next=4,e.$PerformanceDefinitionManager.deltePeformanceDefnitionToNotLocked(i);case 4:return o=n.sent,n.next=7,e.$PerformanceDefinitionDocumentManager.deletePerformanceDocument(i,t.status.operationToken);case 7:s=n.sent,r=e.$PerformancePersistence.performanceDocumentList.findIndex(function(t){return t.metadata.uid===i}),e.$PerformancePersistence.performanceDocumentList.splice(r,1),e.$message({type:"success",message:"删除成功"}),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(1),console.log(n.t0);case 16:case"end":return n.stop()}},n,e,[[1,13]])}))()},onViewDocument:function(t){var e=t.metadata.uid;this.$router.push("/test/PerformanceDefinitionDocumentDetail/"+e)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(15),a=n.n(i),o=n(10),s=n.n(o),r=n(22),l=n.n(r),c=n(12),u=n.n(c),d=(n(130),n(113)),p=n(106);n(283);e.default={name:"PerformancePositionSelect",data:function(){return{organizationManager:this.$OrganizationManager,positionSearchValue:"",options:[],positionList:[],searchSelectedPosition:""}},created:function(){},mounted:function(){this.organizationManager.init()},computed:{companyId:{get:function(){return this.organizationManager.currentCompany},set:function(t){this.organizationManager.currentCompany=t}},staffId:{get:function(){return this.organizationManager.currentStaffId},set:function(t){this.organizationManager.currentStaffId=t}}},methods:{handleSelect:function(t){this.searchSelectedPosition="";var e=this.organizationManager.currentCompanySearchPositions.findIndex(function(e){return e.positionId===t.positionId});e>=0&&this.organizationManager.currentCompanySearchPositions.splice(e,1);var n=u.a.find(this.organizationManager.currentCompanyAllPositions,function(e){return e.positionId===t.positionId});this.organizationManager.kanbanFilterList.push(n),this.selectedItem(t)},querySearchAsync:function(t,e){var n=this;return l()(s.a.mark(function i(){var o,r;return s.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return o=[],u.a.each(n.organizationManager.currentCompanySearchPositions,function(){var t=l()(s.a.mark(function t(e){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o.push({positionId:e.positionId,value:e.value});case 1:case"end":return t.stop()}},t,n)}));return function(e){return t.apply(this,arguments)}}()),i.next=4,a.a.all(u.a.map(o,function(){var t=l()(s.a.mark(function t(e){var i,a,o,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=new d.a,t.next=3,i.getParentPrincipals(e.positionId,"POSITION");case 3:return a=t.sent,t.next=6,i.getCurrentPrincipals(e.positionId);case 6:return o=t.sent,r="",u.a.each(a,function(t){o[0].parentId===t.principalId&&(r=t.principalName)}),t.abrupt("return",{positionId:e.positionId,value:r+"-"+e.value});case 10:case"end":return t.stop()}},t,n)}));return function(e){return t.apply(this,arguments)}}()));case 4:o=i.sent,r=[],u.a.each(o,function(e){e.value.includes(t)&&r.push(e)}),e(r);case 8:case"end":return i.stop()}},i,n)}))()},changedCompany:function(t){var e=this;return l()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.organizationManager.init();case 2:e.$emit("companySelected",e.organizationManager.kanbanFilterList);case 3:case"end":return t.stop()}},t,e)}))()},changeStaffId:function(t){var e=this;return l()(s.a.mark(function n(){return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.organizationManager.ownCartInit();case 2:p.a.currentStaffId=t,e.organizationManager.currentStaffId=t,e.$emit("changeStaffId",e.organizationManager.kanbanFilterList);case 5:case"end":return n.stop()}},n,e)}))()},selectedItem:function(t){t.selected=!0,this.$emit("selectedItemToKanban",t)}},watch:{staffId:function(t){p.a.currentStaffId=t,this.organizationManager.currentStaffId=t}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"DocumentDetailTitle",props:{item:{type:Object,default:void 0},onEdit:{type:Boolean,default:!0}},data:function(){return{}},created:function(){},computed:{reporter:function(){var t=this,e=this.$OrganizationManager.currentCompanyAllEmployees.findIndex(function(e){return e.staffId===t.item.reporter});return e>=0?this.$OrganizationManager.currentCompanyAllEmployees[e].staffName:""}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(613);e.default={name:"ExtendedField",props:{value:{type:Array|Object,default:function(){return[]}},isEdit:{type:Boolean,default:!1}},data:function(){return{extendedFieldManager:new i.a,extendedFields:this.value,inputVisible:!1,inputValue:""}},created:function(){this.init()},methods:{init:function(){this.extendedFieldManager.getExtendedFields(this.extendedFields)},handleClose:function(t){this.extendedFieldManager.extendedFields.splice(this.extendedFieldManager.extendedFields.indexOf(t),1)},showInput:function(){var t=this;this.inputVisible=!0,this.$nextTick(function(e){t.$refs.saveTagInput.$refs.input.focus()})},handleInputConfirm:function(){var t=this.inputValue;t&&this.extendedFieldManager.extendedFields.push(t),this.inputVisible=!1,this.inputValue=""}},watch:{"extendedFieldManager.extendedFields":function(t){this.$emit("input",t)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(614);e.default={name:"ExtendedTemplate",props:{value:{type:Array,defalut:function(){return[]}},onEdit:{type:Boolean,default:!0}},data:function(){return{}},created:function(){this.value.length||this.items.push(new i.a),console.log(this.value)},computed:{options:function(){return[{value:"float",label:"小数"},{value:"string",label:"文本"},{value:"Integer",label:"整数"}]},items:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},methods:{addExtendedItem:function(t){var e=new i.a;this.items.splice(t+1,0,e)},deleteExtendedItem:function(t){this.items.splice(t,1)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),a=n.n(i),o=n(22),s=n.n(o),r=n(113);e.default={name:"KanbanFilterSelectItem",props:{item:{type:Object,require:!0,default:"测试职位"}},data:function(){return{path:"",parentPrincipalName:""}},mounted:function(){this.path=this.$route.path,this.initParentPrincipal()},computed:{version:function(){return this.item.principalVersion}},methods:{initParentPrincipal:function(){var t=this;return s()(a.a.mark(function e(){var n,i,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new r.a,e.next=3,n.getParentPrincipals(t.item.positionId,"POSITION");case 3:return i=e.sent,e.next=6,n.getCurrentPrincipals(t.item.positionId);case 6:o=e.sent,_.each(i,function(e){o[0].parentId===e.principalId&&(t.parentPrincipalName=e.principalName)});case 8:case"end":return e.stop()}},e,t)}))()},selectedItem:function(){console.log(this.item),this.$emit("selectedItem",this.item)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(618);n(297);e.default={name:"ReportChain",props:{value:{type:Array,default:function(){return[]}},isEdit:{type:Boolean,default:!0}},data:function(){return{reportChainManager:new i.a,showButton:!1,chainValue:this.value}},created:function(){this.reportChainManager.init()},mounted:function(){this.init()},methods:{init:function(){this.chainValue&&this.chainValue.length>0?(this.reportChainManager.getChains(this.chainValue),this.reportChainManager.renderPeople(),this.showButton=!0):this.reportChainManager.getChains([])},showDialog:function(){this.init(),this.reportChainManager.dialogVisible=!0,this.showButton=!0},closeDialog:function(){this.reportChainManager.renderPeople(),this.reportChainManager.countPeopleNum()<=0&&(this.showButton=!1),this.reportChainManager.dialogVisible=!1,this.chainValue=this.reportChainManager.chain,this.$emit("input",this.reportChainManager.chain)},selectChange:function(){this.reportChainManager.filterSelectOptions(),this.reportChainManager.renderPeople()},addLevelNode:function(t){if(0===t.chainValue.length)return void this.$message({type:"error",message:"请先添加第一节点内容"});this.reportChainManager.addLevelNode(t.chainId)},deleteLevelNode:function(t){this.reportChainManager.deleteLevelNode(t)},deleteOneLevel:function(){var t=this;1!==this.reportChainManager.chain.length&&_.each(this.reportChainManager.chain,function(e){0===e.chainValue.length&&t.deleteLevelNode(e)})}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"SelectItem",props:{item:{type:Object,require:!0,default:"测试职位"}},data:function(){return{path:""}},mounted:function(){this.path=this.$route.path},computed:{version:function(){return this.item.principalVersion}},methods:{selectedItem:function(){this.$emit("selectedItem",this.item)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1552),a=n.n(i);e.default={name:"RootTaskDetail",components:{RootTaskDetailTaskKanban:a.a},methods:{backToList:function(){this.$router.push("/task/root-task-list")}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(634),a=n(1551),o=n.n(a);e.default={name:"RootTaskList",data:function(){return{rootTaskListManager:i.a.initialize()}},components:{RootListItem:o.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(635),a=n(1560),o=n.n(a),s=n(296);e.default={name:"TaskDocumentDetail",data:function(){return{taskDocumentDetailManager:i.a.initialize(this.$route.params.uid,this.$route.params.taskId)}},components:{TaskDocumentDetailList:o.a},computed:{gsStatus:function(){var t=this,e=_.find(s.a,function(e){return e.status===t.taskDocumentDetailManager.gsTaskDocument.gsStatus});return e?e.name:"无效"}},methods:{backToList:function(){this.$router.push("/task/task-document-list")},deleteDocument:function(){var t=this;this.$confirm("确认删除文档?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.taskDocumentDetailManager.deleteDocument().then(function(){t.$message({type:"success",message:"删除成功！"}),t.backToList()}).catch(function(){t.$message({type:"danger",message:"删除失败！"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},effectDocument:function(){var t=this;this.taskDocumentDetailManager.effectDocument().then(function(){t.$message({type:"success",message:"生效成功！"})}).catch(function(){t.$message({type:"danger",message:"生效失败！"})})}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(636),a=n(1562),o=n.n(a);e.default={name:"TaskDocumentList",data:function(){return{taskDocumentListManager:i.a.initialize()}},components:{TaskDocumentListItem:o.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(85),a=n(637),o=n(538),s=n.n(o),r=n(537),l=n.n(r),c=n(629),u=n(624),d=n(628);e.default={name:"TaskKanban",data:function(){return{TaskSc:i.a,taskKanbanManager:a.a.initialize(),taskEditRules:c.a,taskDocumentNameEditRules:d.a}},components:{TaskList:s.a,TaskDetail:l.a},computed:{modulusEditRules:function(){var t=this,e=u.a;return e.gsModulusOnEdit[0].validator=function(e,n,i){"number"!=typeof n?i(new Error("请输入数字")):n<t.taskKanbanManager.taskOnEdit.gsModulusLowerLimit?i(new Error("系数不能小于系数下限")):n>t.taskKanbanManager.taskOnEdit.gsModulusUpperlimit?i(new Error("系数不能大于系数上限!")):i()},e}},methods:{validateForm:function(t,e){this.$refs[t].validate(function(t){if(!t)return!1;e()})},resetForm:function(t){this.$refs[t]&&this.$refs[t].resetFields()}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(638),a=n(1565),o=n.n(a);e.default={name:"TaskReview",data:function(){return{taskReviewManager:i.a.initialize()}},components:{TaskReviewList:o.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(337),a=n.n(i);e.default={name:"GfList",props:{rowColorAlternation:{type:Boolean,required:!1,default:!1}},data:function(){return{flexListHead:null,flexListMain:null,followHeads:[],flexHeads:[]}},mounted:function(){this.flexListHead=this.$refs.flexListHead,this.flexListMain=this.$refs.flexListMain,this.renderFollowHeadWidth(),window.addEventListener("resize",this.renderFollowHeadWidth)},updated:function(){this.flexListHead=this.$refs.flexListHead,this.flexListMain=this.$refs.flexListMain,this.renderFollowHeadWidth()},beforeDestroy:function(){window.removeEventListener("resize",this.renderFollowHeadWidth),this.flexListMain.removeEventListener("scroll",this.renderFlexListHeadScroll)},computed:{flexListScroll:function(){return{flex_list_scroll:!0,flex_row_color_alternation_list_scroll:this.rowColorAlternation}}},methods:{renderFollowHeadWidth:function(){this.followHeads=a()(this.flexListHead.querySelectorAll(".flex_column_head_follow")),this.flexHeads=a()(this.flexListMain.querySelectorAll(".flex_column_head"));for(var t in this.followHeads)this.followHeads.hasOwnProperty(t)&&(this.followHeads[t].style.width=this.flexHeads[t].clientWidth+"px");this.flexListMain.removeEventListener("scroll",this.renderFlexListHeadScroll),this.flexListMain.addEventListener("scroll",this.renderFlexListHeadScroll)},renderFlexListHeadScroll:function(){this.flexListHead.style.marginLeft="-"+this.flexListMain.scrollLeft+"px"}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(143),a=n.n(i);e.default={name:"GfListColumn",props:{flex:{type:String,required:!1,default:"atuo"},styl:{type:Object,required:!1,default:function(){return{}}}},computed:{gsStyl:function(){return a()({flex:this.flex},this.styl)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"GfListColumnHead",props:{styl:{type:Object,required:!1}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"GfListColumnHeadFollow",props:{styl:{type:Object,required:!1}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"GfListColumnRow",props:{row:{type:Object,required:!1},isHover:{type:Boolean,required:!1,default:!1},isSelect:{type:Boolean,required:!1,default:!1},isEdit:{type:Boolean,required:!1,default:!1},rowHover:{type:Function,required:!1,default:function(){return!1}},rowClick:{type:Function,required:!1,default:function(){return!1}},styl:{type:Object,required:!1}},computed:{classes:function(){return{flex_column_row:!0,flex_column_row_hover:this.isHover,flex_column_row_selected:this.isSelect}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(625);e.default={name:"RootListItem",props:{item:{type:Object,required:!0}},data:function(){return{rootListItemConfig:i.a}},methods:{goToDetail:function(){this.$router.push("/task/root-task-detail/"+this.item.gsTaskId)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(299),a=n(538),o=n.n(a),s=n(537),r=n.n(s);e.default={name:"RootTaskDetailTaskKanban",data:function(){return{rootTaskDetailManager:i.a.initialize(this.$route.params.taskId)}},components:{TaskList:o.a,TaskDetail:r.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1556),a=n.n(i),o=n(1553),s=n.n(o),r=n(1558),l=n.n(r);e.default={name:"TaskDetail",props:{manager:{type:Object,required:!0},detail:{type:Object,required:!0},taskDetailUsers:{type:Object,required:!0},taskSelect:{type:Function,required:!1,default:function(){return!0}},taskOperationButton:{type:Array,required:!1,default:function(){return[]}},createChildTask:{type:Function,required:!1,default:function(){return!0}},isShowAddChildTask:{type:Boolean,required:!1,default:!1},onEditModulus:{type:Function,required:!1,default:function(){return!0}},isShowEditModulus:{type:Boolean,required:!1,default:!1},taskDetailRelationalUsers:{type:Array,required:!1,default:function(){return[]}}},components:{TaskDetailHead:a.a,TaskDetailButton:s.a,TaskDetailMain:l.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"TaskDetailButton",props:{taskOperationButton:{type:Array,required:!1,default:function(){return[]}},task:{type:Object,required:!1}},methods:{btnClick:function(t){var e=this;t.confirm?this.$confirm(t.confirm,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:t.type}).then(function(n){e.beforeOperation(t)}).catch(function(t){return t}):this.beforeOperation(t)},beforeOperation:function(t){t.beforeOperation?t.beforeOperation({instance:this,btn:t},this.task):this.btnOperation(t)},btnOperation:function(t){var e=this;t.click(t.operation,t.onOperation).then(function(n){n&&e.$message({type:"success",message:t.name+"成功！"})})}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),a=n.n(i),o=n(623),s=n(295);e.default={name:"TaskDetailChildTask",data:function(){return{notRenderStatus:s.a}},props:{manager:{type:Object,required:!0},task:{type:Object,required:!0},taskSelect:{type:Function,required:!1},taskDetailRelationalUsers:{type:Array,required:!1,default:function(){return[]}}},computed:{gsIsRender:function(){return!this.notRenderStatus.includes(this.task.gsStatus)},gsStatus:function(){var t=this;return a.a.find(o.a,function(e){return e.status===t.task.gsStatus}).name},gsResponsibleCandidate:function(){var t=this;return a.a.map(this.task.gsResponsibleCandidate,function(e){var n=a.a.find(t.taskDetailRelationalUsers,function(t){return""+t.id==""+e});if(n)return n.name})}},methods:{confirmEditTask:function(){if(!this.task.gsTaskName||!this.task.gsPoints||!this.task.gsResponsibleCandidate.length)return void this.$message({type:"warning",message:"子任务列表中所有的输入框为必填字段"});this.manager.onConfirmEditTask(this.task)},btnClick:function(t){var e=this;t.confirm?this.$confirm(t.confirm,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:t.type}).then(function(n){e.beforeOperation(t)}).catch(function(t){return t}):this.beforeOperation(t)},beforeOperation:function(t){t.beforeOperation?t.beforeOperation({instance:this,btn:t,task:this.task},this.task):this.btnOperation(t)},btnOperation:function(t){var e=this;t.click(t.operation,t.onOperation,this.task).then(function(n){n&&e.$message({type:"success",message:t.name+"成功！"})})}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1554),a=n.n(i);e.default={name:"TaskDetailChildTaskList",props:{manager:{type:Object,required:!0},list:{type:Array,required:!0},taskSelect:{type:Function,required:!1},taskDetailRelationalUsers:{type:Array,required:!1,default:function(){return[]}}},components:{TaskDetailChildTask:a.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),a=n.n(i),o=n(199);e.default={name:"TaskDetailHead",props:{head:{type:Object,required:!0},taskSelect:{type:Function,required:!1}},computed:{gsStatus:function(){var t=this;return a.a.find(o.a,function(e){return e.status===t.head.gsStatus}).name}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"TaskDetailKeyValue",props:{name:{type:String,required:!0},value:{type:[String,Number],required:!0},valueButtonIcon:{type:String,required:!1},valueButtonClick:{type:Function,required:!1,default:function(){return!0}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),a=n.n(i),o=n(1559),s=n.n(o),r=n(1557),l=n.n(r),c=n(1555),u=n.n(c),d=n(632);e.default={name:"TaskDetailMain",props:{manager:{type:Object,required:!0},detail:{type:Object,required:!0},taskSelect:{type:Function,required:!1},taskDetailUsers:{type:Object,required:!0},createChildTask:{type:Function,required:!1,default:function(){return!0}},isShowAddChildTask:{type:Boolean,required:!1,default:!1},onEditModulus:{type:Function,required:!1,default:function(){return!0}},isShowEditModulus:{type:Boolean,required:!1,default:!1},taskDetailRelationalUsers:{type:Array,required:!1,default:function(){return[]}}},components:{TaskDetailMainArea:s.a,TaskDetailKeyValue:l.a,TaskDetailChildTaskList:u.a},computed:{gsTimeNameConfig:function(){var t=this;return a.a.find(d.a,function(e){return e.status===t.detail.gsStatus})}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"TaskDetailMainArea",props:{name:{type:String,required:!0},separationEndIcon:{type:String,required:!1},separationEndIconClick:{type:Function,required:!1,default:function(){return!0}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1561),a=n.n(i);e.default={name:"TaskDocumentDetailList",props:{taskDocumentDetailManager:{type:Object,required:!0}},components:{TaskDocumentDetailListItem:a.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),a=n.n(i),o=n(199);e.default={name:"TaskDocumentDetailListItem",props:{task:{type:Object,required:!0}},computed:{gsStatus:function(){var t=this;return a.a.find(o.a,function(e){return e.status===t.task.gsStatus}).name}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),a=n.n(i),o=n(627),s=n(296);e.default={name:"TaskDocumentListItem",props:{item:{type:Object,required:!0}},data:function(){return{baseConfig:o.a,taskConfig:o.b}},computed:{gsStatus:function(){var t=this,e=a.a.find(s.a,function(e){return e.status===t.item.gsStatus});return e?e.name:"无效"}},methods:{goToDetail:function(){this.$router.push("/task/task-document-detail/"+this.item.gsUid+"="+this.item.gsTask.gsTaskId)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),a=n.n(i),o=n(1563),s=n.n(o);e.default={name:"TaskList",props:{taskList:{type:Array,required:!0},taskListItemSelect:{type:Function,required:!1,default:function(){return!0}},taskListRefresh:{type:Function,required:!1},onEditTask:{type:Function,required:!1}},components:{TaskListArea:s.a},computed:{gsAllNoTask:function(){return a.a.every(this.taskList,function(t){return!t.list.length})}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1564),a=n.n(i);e.default={name:"TaskListArea",props:{area:{type:Object,required:!0},taskListItemSelect:{type:Function,required:!1}},components:{TaskListItem:a.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"TaskListItem",props:{item:{type:Object,required:!0},taskListItemSelect:{type:Function,required:!1}},computed:{taskListItem:function(){return{task_list_item:!0,task_list_item_select:this.item.gsIsSelect}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1546),a=n.n(i),o=n(1547),s=n.n(o),r=n(1548),l=n.n(r),c=n(1549),u=n.n(c),d=n(1550),p=n.n(d);e.default={name:"TaskReviewList",components:{GfList:a.a,GfListColumn:s.a,GfListColumnHead:l.a,GfListColumnHeadFollow:u.a,GfListColumnRow:p.a},props:{taskReviewManager:{type:Object,required:!0}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(929),a=n(4);n.n(a);e.default={data:function(){return{Source:[],dialogVisible:!1}},props:{companyid:0,Visiable:!1},ApplyJoinManager:void 0,watch:{Visiable:function(){this.dialogVisible=this.Visiable,this.Search()}},methods:{Init:function(){this.ApplyJoinManager=new i.a(this.$root.$options.Servers),this.ApplyJoinManager.EventError.ErrorComplete=this.ErrorComplete,this.ApplyJoinManager.EventSearcComplete.SearcComplete=this.SearchComplete,this.ApplyJoinManager.EventAgreeComplete.AgreeComplete=this.AgreeComplete,this.Search()},ErrorComplete:function(t){this.$message({type:"error",message:t.Error})},SearchComplete:function(t){var e=this;if(void 0!=e.Source&&e.Source.length>0&&e.Source.splice(0,e.Source.length),t.Success){var n=this.ApplyJoinManager.SearchResult;if(void 0!=n&&n.length>0)for(var i=0;i<n.length;i++)e.Source.push(n[i])}else e.ErrorComplete(t)},AgreeComplete:function(t){var e=this;t.Success?(this.$message({type:"success",message:"操作成功"}),this.Search()):e.ErrorComplete(t)},Search:function(){this.ApplyJoinManager.filter.CompanyID=this.companyid,this.ApplyJoinManager.Search()},Agree:function(t){t.ApplyID,t.UserID,t.StaffID;this.$emit("update:Visiable",!1),this.dialogVisible=!1,this.$emit("EventConfirm",t)},Cancel:function(){this.$emit("update:Visiable",!1),this.$emit("EventClose"),this.dialogVisible=!1}},mounted:function(){this.Init()},components:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),a=n(63),o=n(1576),s=n.n(o);e.default={data:function(){return{value1:"",user:{},dialogVisible:!1}},methods:{logout:function(){var t=this;this.$confirm("确认注销登录","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.a.removeItem(a.a.UserKey),t.$router.push({name:"Login"})})},changePwd:function(){this.dialogVisible=!0}},computed:{},components:{changePwd:s.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(19),a=n.n(i),o=n(36),s=n.n(o),r=n(169),l=n(221),c=n(105),u=n.n(c),d=n(276),p=n.n(d);e.default={data:function(){var t;return t={company:new r.a,companies:[],dialogVisible:!1,filters:{name:""},listLoading:!1},s()(t,"dialogVisible",!1),s()(t,"total",0),s()(t,"validateRules",{Name:[{required:!0,message:"请输入公司名称",trigger:"blur"}]}),s()(t,"Org",{companyid:1,visiable:!1}),s()(t,"Ctpl",{visiable:!1,CompanyID:1}),t},ComapnyManager:void 0,methods:{Init:function(){this.ComapnyManager=new l.a(this.$root.$options.Servers),this.ComapnyManager.EventSearcComplete.SearcComplete=this.SetCompanyList,this.ComapnyManager.EventSingleComplete.SingleComplete=this.SetCompany,this.ComapnyManager.EventAddComplete.AddComplete=this.AddComplete,this.ComapnyManager.EventEditComplete.EditComplete=this.EditComplete,this.ComapnyManager.EventDeleteComplete.DeleteComplete=this.DeleteComplete,this.ComapnyManager.EventEnableComplete.EnableComplete=this.EnableComplete,this.ComapnyManager.EventSetTemplateComplete.SetTemplateComplete=this.SetTemplateComplete,this.ComapnyManager.EventCancelTemplateComplete.CancelTemplateComplete=this.CancelTemplateComplete,this.ComapnyManager.EventError.EventError=this.EventError,this.searchCompanies()},SetCompanyList:function(){var t=this.$data.companies;void 0!=t&&t.length>0&&t.splice(0,t.length);for(var e=0;e<this.ComapnyManager.CompanyList.length;e++)t.push(this.ComapnyManager.CompanyList[e])},SetCompany:function(){var t=this.ComapnyManager.Company;void 0==t&&(t={});var e=this.$data.company;e.ID=t.ID,e.Name=t.Name,e.Phone=t.Phone,e.Fax=t.Fax,e.Zip=t.Zip,e.Desc=t.Desc,e.Address=t.Address,e.LogoKey=t.LogoKey,e.SealKey=t.SealKey,e.SignKey=t.SignKey,e.BgKey=t.BgKey,e.CompanyManager=t.CompanyManager,e.HrManager=t.HrManager,e.Enable=t.Enable,e.IsTemplate=t.IsTemplate},GetCompany:function(){var t=this.$data.company,e=this.ComapnyManager.Company;e.ID=t.ID,e.Name=t.Name,e.Phone=t.Phone,e.Fax=t.Fax,e.Zip=t.Zip,e.Desc=t.Desc,e.Address=t.Address,e.LogoKey=t.LogoKey,e.SealKey=t.SealKey,e.SignKey=t.SignKey,e.BgKey=t.BgKey,e.CompanyManager=t.CompanyManager,e.HrManager=t.HrManager,e.Enable=t.Enable,e.IsTemplate=t.IsTemplate},AddComplete:function(t){t.Success?(this.$message({type:"success",message:"添加成功"}),this.dialogVisible=!1,this.searchCompanies()):this.$message({type:"error",message:t.Error})},EditComplete:function(t){t.Success?(this.$message({type:"success",message:"编辑成功"}),this.dialogVisible=!1,this.searchCompanies()):this.$message({type:"error",message:t.Error})},DeleteComplete:function(t){t.Success?(this.$message({type:"success",message:"删除成功"}),this.searchCompanies()):this.$message({type:"error",message:t.Error})},EnableComplete:function(t){t.Success?(this.$message({type:"success",message:"启用成功"}),this.searchCompanies()):this.$message({type:"error",message:t.Error})},SetTemplateComplete:function(t){t.Success?(this.$message({type:"success",message:"设置成功"}),this.searchCompanies()):this.$message({type:"error",message:t.Error})},CancelTemplateComplete:function(t){t.Success?(this.$message({type:"success",message:"取消成功"}),this.searchCompanies()):this.$message({type:"error",message:t.Error})},EventError:function(t){this.$message({type:"error",message:t.Error})},searchCompanies:function(){var t=this.$data.filters,e=this.ComapnyManager.filter;e.page=t.page,e.name=t.name,this.ComapnyManager.Search()},handleShowEdit:function(t){"0"===t?(this.ComapnyManager.ID=0,this.ComapnyManager.GetSingle(),this.dialogVisible=!0):(this.ComapnyManager.ID=t.ID,this.ComapnyManager.GetSingle(),this.dialogVisible=!0)},handleEdit:function(){var t=this;t.GetCompany(),t.$refs.company.validate(function(e){e&&(void 0==t.company.ID||0==t.company.ID?t.ComapnyManager.Add():t.ComapnyManager.Edit())})},handleViewEdit:function(t){this.$router.push({name:"CompanyView",params:{id:t.ID,cname:t.Name}})},handleDel:function(t){var e=this;e.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){e.ComapnyManager.ID=t.ID,e.ComapnyManager.Delete()})},handleCurrentChange:function(t){this.page=t,this.getCompanies()},Enable:function(t){var e=this;e.$confirm("确定执行此操作?","提示",{type:"warning"}).then(function(){e.ComapnyManager.ID=t.ID,e.ComapnyManager.Enable()})},CellClick:function(t,e,n,i){var a=this;t.IsTemplate||1==t.IsTemplate?(a.ComapnyManager.ID=t.ID,a.ComapnyManager.SetTemplate()):(a.ComapnyManager.ID=t.ID,a.ComapnyManager.CancelTemplate())},ToTemplate:function(){this.Ctpl.visiable=!0},CtplConfirm:function(t){console.log("输出选中公司"),console.log(t)},CtplClose:function(){console.log("监听关闭222")},ToOrg:function(){this.Org.visiable=!0},OrgClose:function(){console.log("监听关闭")},OrgConfirm:function(t){alert("监听确认,输出结果请看控制台"),console.log(a()(t))}},mounted:function(){this.Init()},components:{sorg:u.a,ctpl:p.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,a=n(36),o=n.n(a),s=n(19),r=n.n(s),l=n(51),c=n.n(l),u=(n(169),n(221)),d=n(1569),p=n.n(d);e.default={data:function(){return{companies:[],filters:{name:""},total:0,page:1,dialogVisible:!1,resultVisible:!1,ProgressInfo:"",View:{companyid:0,visiable:!1,Company:{}}}},props:{visiable:!1,TargetCid:0},watch:{visiable:function(){this.dialogVisible=this.visiable,this.searchCompanies()}},ComapnyManager:void 0,methods:(i={Init:function(){this.ComapnyManager=new u.a(this.$root.$options.Servers),this.ComapnyManager.EventGetTemplateCompanyComplete.GetTemplateCompanyComplete=this.SetCompanyList,this.ComapnyManager.EventCopyCompanyComplete.CopyCompanyComplete=this.CopyCompanyComplete,this.ComapnyManager.EventError.EventError=this.EventError},SetCompanyList:function(){var t=this.$data.companies;void 0!=t&&t.length>0&&t.splice(0,t.length);for(var e=0;e<this.ComapnyManager.TemplateCompanyList.length;e++)t.push(this.ComapnyManager.TemplateCompanyList[e])},EventError:function(t){var e=this;this.$message({type:"error",message:t.Error}),setTimeout(function(){e.CloseResultDialog()},2e3)},CopyCompanyComplete:function(t){var e=this;t.Success?("object"==c()(t.Data)?this.ProgressInfo=this.ProgressInfo+"<br/>"+r()(t.Data):this.ProgressInfo=this.ProgressInfo+"<br/>",this.$emit("EventCopyCompany",this.companyid),setTimeout(function(){e.CloseResultDialog(),e.Cancel()},1500)):this.EventError(t)},searchCompanies:function(){var t=this.$data.filters,e=this.ComapnyManager.filter;e.page=t.page,e.name=t.name,this.ComapnyManager.GetTemplateCompany()},handleViewEdit:function(t){this.$router.push({name:"CompanyView",params:{id:t.ID,cname:t.Name}})},handleCurrentChange:function(t){this.page=t,this.getCompanies()},ViewOrg:function(t){this.dialogVisible=!0,this.CompanyID=t.ID},Cancel:function(){this.$emit("update:visiable",!1),this.$emit("EventClose"),this.dialogVisible=!1},Confirm:function(t){this.$emit("EventSelected",t),this.$emit("update:visiable",!1),this.dialogVisible=!1}},o()(i,"ViewOrg",function(t){this.ProgressInfo="",this.View.companyid=t.ID,this.View.visiable=!0,this.View.Company=t}),o()(i,"ViewClose",function(){this.View.companyid=0,this.View.visiable=!1}),o()(i,"ViewApply",function(t){this.View.visiable=!1,this.ShowResultDialog(t)}),o()(i,"ShowResultDialog",function(t){this.resultVisible=!0,this.ApplyCompany(t)}),o()(i,"CloseResultDialog",function(){this.resultVisible=!1}),o()(i,"ApplyCompany",function(t){this.ProgressInfo="源公司:"+t+" 目标公司："+this.TargetCid+" <br/>正在复制组织架构......",this.ComapnyManager.CopyCompany(t,this.TargetCid)}),i),mounted:function(){this.Init()},components:{ctplview:p.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(n(169),n(221)),a=n(281),o=n.n(a);e.default={data:function(){return{dialogVisible:!1}},props:{visiable:!1,companyid:0,Company:{}},watch:{visiable:function(){this.dialogVisible=this.visiable}},ComapnyManager:void 0,methods:{Init:function(){this.ComapnyManager=new i.a(this.$root.$options.Servers),this.ComapnyManager.EventError.EventError=this.EventError},EventError:function(t){this.$message({type:"error",message:t.Error})},Confirm:function(){this.$emit("EventApply",this.companyid)},Cancel:function(){this.$emit("update:visiable",!1),this.$emit("EventClose"),this.dialogVisible=!1}},mounted:function(){this.Init()},components:{orgtree:o.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(36),a=n.n(i),o=n(194),s=n.n(o),r=n(281),l=n.n(r),c=n(545),u=n.n(c),d=n(77),p=n(277),m=n.n(p),h=n(276),f=n.n(h),v=n(118);e.default={depModel:null,data:function(){var t;return t={comapnyList:[],companyId:0,level:1,levels:[{value:1,text:"公司"},{value:2,text:"财务"},{value:3,text:"部门"}],title:"",activeName:"",depId:[],empolyeeCount:0,roleData:[],positionData:[],isrole:!1,Org:{companyid:0,departid:0,positionid:0}},a()(t,"activeName","first"),a()(t,"showPosition",!1),a()(t,"Ctpl",{visiable:!1}),a()(t,"RightsVisiable",!1),a()(t,"RightsItem",{CreateRights:!1,InstructionsRights:!1,AgreeRights:!1,FiledRights:!1,AddFileRights:!1,AddUserRights:!1}),a()(t,"selectRows",null),a()(t,"currentData",null),t},methods:{optionsmore:function(t){for(var e=document.getElementsByClassName("options"),n=0;n<e.length;n++){var i=e[n];i.id!=t&&(i.style.display="none")}},ChangeCompany:function(){},handleClick:function(){},handleUseTemplet:function(){this.Ctpl.visiable=!0},EventCopyCompany:function(){this.$refs.orgtree.init(),this.$refs.orgtree2.init()},handleNodeClick:function(t,e){this.currentData=t,this.title=t.Name,this.empolyeeCount=t.EmpolyeeCount,32==t.Type&&1==e?(this.isrole=!0,this.activeName="second",this.showPosition=!1):(this.activeName="first",this.showPosition=!0),8==t.Type||32==t.Type&&1==e?(this.isrole=!0,this.depModel.GetRolePositions(t.ID,this.Org.companyid)):(2==t.Type?(this.Org.departid=t.ID,this.Org.positionid=0):4==t.Type?(this.Org.departid=0,this.Org.positionid=t.ID):(this.Org.positionid=0,this.Org.departid=0),this.depModel.GetPositions(this.Org.companyid,t.ID),this.isrole=!1,console.log(this.Org))},handleRights:function(){var t=0;this.RightsItem.CreateRights&&(t+=1),this.RightsItem.InstructionsRights&&(t+=2),this.RightsItem.AgreeRights&&(t+=4),this.RightsItem.FiledRights&&(t+=8),this.RightsItem.AddFileRights&&(t+=16),this.RightsItem.AddUserRights&&(t+=32),this.depModel.SetPositionPermissions(this.Org.companyid,this.selectRow.ID,t,this.level)},EditRights:function(t,e){this.selectRow=e,this.depModel.GetPositionPermissions(this.Org.companyid,this.selectRow.ID)},DeletePosition:function(t,e){this.selectRow=e,this.depModel.SaveRolePosition(this.Org.companyid,this.currentData.ID,e.ID,!1)},eventRolePositions:function(t){t.Success?this.roleData=0==t.Data.length?[]:t.Data[0].Childs:this.$message.error(t.Error)},eventsgetPositionsCompleted:function(t){t.Success?this.positionData=t.Data:this.$message.error(t.Error)},eventsSetPermissions:function(t){t.Success?(this.$message({type:"success",message:"修改成功!"}),this.RightsVisiable=!1):this.$message.error(t.Error)},eventsGetPermissions:function(t){console.log(t),t.Success&&2==t.Data.length?(this.RightsVisiable=!0,(1&t.Data[0])>0?this.RightsItem.CreateRights=!0:this.RightsItem.CreateRights=!1,(2&t.Data[0])>0?this.RightsItem.InstructionsRights=!0:this.RightsItem.InstructionsRights=!1,(4&t.Data[0])>0?this.RightsItem.AgreeRights=!0:this.RightsItem.AgreeRights=!1,(8&t.Data[0])>0?this.RightsItem.FiledRights=!0:this.RightsItem.FiledRights=!1,(16&t.Data[0])>0?this.RightsItem.AddFileRights=!0:this.RightsItem.AddFileRights=!1,(32&t.Data[0])>0?this.RightsItem.AddUserRights=!0:this.RightsItem.AddUserRights=!1,0!=t.Data[1]?this.level=t.Data[1]:this.level=1):this.$message.error(t.Error)},eventsDeletePositionCompleted:function(t){t.Success?(this.$message({type:"success",message:"删除成功!"}),this.depModel.GetRolePositions(this.currentData.ID,this.Org.companyid)):this.$message.error(t.Error)},CtplConfirm:function(t){console.log("输出选中公司"),console.log(t)},CtplClose:function(){console.log("监听关闭222")}},mounted:function(){},created:function(){this.depModel=new d.a(this.$root.$options.Servers),this.depModel.EventsRolePositionsCompleted.rolePositions=this.eventRolePositions,this.depModel.EventsgetPositionsCompleted.getPositions=this.eventsgetPositionsCompleted,this.depModel.EventsSetPositionPermissionsCompleted.setPermissions=this.eventsSetPermissions,this.depModel.EventsGetPositionPermissionsCompleted.getPermissions=this.eventsGetPermissions,this.depModel.EventsSaveRolePositionCompleted.eventsDeletePositionCompleted=this.eventsDeletePositionCompleted;var t=this;v.a.Server().GetCompanyList(void 0,function(e){if(e.Success)for(var n=0;n<e.Data.length;n++){var i={};i.value=e.Data[n].ID,i.text=e.Data[n].Name,t.comapnyList.push(i),t.Org.companyid=t.comapnyList[0].value}})},watch:{"Org.companyid":function(){this.Org.departid=0,this.Org.positionid=0}},components:{department:s.a,orgtree:l.a,orgtree2:u.a,employee:m.a,ctpl:f.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(194),a=n.n(i),o=n(281),s=n.n(o),r=n(545),l=n.n(r),c=n(77),u=n(277),d=n.n(u),p=n(1572),m=n.n(p);e.default={depModel:null,data:function(){return{companyId:0,title:"",activeName:"1",depId:[],empolyeeCount:0,roleData:[],isrole:!1,Org:{companyid:0,departid:0,positionid:0}}},methods:{handleClick:function(){},handleNodeClick:function(t){this.title=t.Name,this.empolyeeCount=t.EmpolyeeCount,this.Org.title=t.Name,this.Org.empolyeeCount=t.EmpolyeeCount,8==t.Type?(this.isrole=!0,this.depModel.GetRolePositions(t.ID)):(2==t.Type?(this.Org.departid=t.ID,this.Org.positionid=0):4==t.Type&&(this.Org.departid=0,this.Org.positionid=t.ID),this.isrole=!1)},eventRolePositions:function(t){t.Success?this.roleData=t.Data:this.$message.error(t.Error)}},mounted:function(){},created:function(){this.depModel=new c.a(this.$root.$options.Servers),this.depModel.EventsRolePositionsCompleted.rolePositions=this.eventRolePositions},watch:{},components:{department:a.a,orgtree:s.a,orgtree2:l.a,employee:d.a,employee2:m.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(222),a=n(194),o=n.n(a),s=n(4),r=n.n(s),l=n(105),c=n.n(l);e.default={data:function(){return{Employee:{State:void 0,InvitationCode:"",JoinTime:void 0,PositionIDs:[],PositionNames:"",DepartmentID:0,DepartmentName:"",UserID:0,UserNum:void 0},dialogVisible:!1,title:"新增员工",EmpStateList:[],Org:{companyid:1,visiable:!1,TypeList:[4]},Dep:{companyid:1,visiable:!1,TypeList:[2]},restaurants:[],SelectEmpName:"",InvitationType:1,CheckVisiable:!1,CheckErrorVisiable:!1}},props:{companyid:0,StaffID:0,Visiable:!1,Command:void 0,UserInfo:void 0},EmployeeManager:void 0,watch:{Visiable:function(){this.dialogVisible=this.Visiable,this.CheckVisiable=!1,this.CheckErrorVisiable=!1,this.SelectEmpName="",void 0!=this.StaffID&&this.StaffID>0?(this.title="编辑员工","View"==this.Command&&(this.title="查看员工")):this.title="新增员工",this.InvitationType="1",this.Dep.companyid=this.companyid,this.Org.companyid=this.companyid,this.GetSingle(),this.restaurants.splice(0,this.restaurants.length),this.EmployeeManager.filter.CompanyID=this.companyid,this.EmployeeManager.GetNewEmployeeList()}},methods:{Init:function(){this.EmployeeManager=new i.a(this.$root.$options.Servers),this.EmployeeManager.EventGetSingleComplete.GetSingleComplete=this.GetSingleComplete,this.EmployeeManager.EventCreateComplete.CreateComplete=this.CreateComplete,this.EmployeeManager.EventNewEmployeeComplete.NewEmployeeComplete=this.NewEmployeeComplete,this.EmployeeManager.EventError.ErrorComplete=this.ErrorComplete;var t=this.EmployeeManager.EmpStateList,e=this.EmpStateList;e.splice(0,e.length),r.a.each(t,function(t,n,i){e.push(t)})},ErrorComplete:function(t){void 0!=t.Error&&this.$message({type:"error",message:t.Error})},GetSingleComplete:function(t){var e=this,n=this.Employee;if(t.Success){var i=e.EmployeeManager.Employee;void 0!=i&&(n.UserID=i.UserID,n.StaffID=i.StaffID,n.StaffCode=i.StaffCode,n.StaffName=i.StaffName,n.Nick=i.Nick,n.EName=i.EName,n.CompanyID=i.CompanyID,n.DepartmentID=i.DepartmentID,n.State=i.State,n.WorkPhone=i.WorkPhone,n.WorkMobile=i.WorkMobile,n.WorkEmail=i.WorkEmail,n.DepartmentName=i.DepartmentName,n.PositionNames=i.PositionNames,n.PositionalTitle=i.PositionalTitle,n.JoinTime=i.JoinTime,n.StateStr=i.StateStr,n.UserNum=i.UserNum,void 0!=i.PositionIDs&&i.PositionIDs.length>0&&r.a.each(i.PositionIDs,function(t,e,i){n.PositionIDs.push(t)}),void 0==n.PositionNames&&(n.PositionNames=""),e.SelectEmpName=i.StaffCode),void 0!=e.UserInfo&&(e.Employee.UserID=e.UserInfo.UserID,e.Employee.UserNum=e.UserInfo.UserCode)}else this.ErrorComplete(t)},GetEmployee:function(){var t=this,e=this.Employee,n=t.EmployeeManager.CompleteEntity;n.UserID=e.UserID,n.StaffID=e.StaffID,n.StaffCode=e.StaffCode,n.StaffName=e.StaffName,n.Nick=e.Nick,n.EName=e.EName,n.CompanyID=e.CompanyID,n.DepartmentID=e.DepartmentID,n.PositionIDs=e.PositionIDs,n.State=e.State,n.WorkPhone=e.WorkPhone,n.WorkMobile=e.WorkMobile,n.WorkEmail=e.WorkEmail,n.DepartmentName=e.DepartmentName,n.PositionNames=e.PositionNames,n.PositionalTitle=e.PositionalTitle,n.JoinTime=e.JoinTime,n.StateStr=e.StateStr,n.UserNum=e.UserNum,n.CompanyID=this.companyid,void 0!=e.StaffCode&&""!=e.StaffCode||(n.StaffCode=this.SelectEmpName)},CreateComplete:function(t){t.Success?void 0!=this.Employee.StaffID&&this.Employee.StaffID>0?this.$message({type:"success",message:"编辑成功"}):this.$message({type:"success",message:"新增成功"}):this.ErrorComplete(t)},NewEmployeeComplete:function(t){var e=this;if(t.Success){var n=this.EmployeeManager.NewEmployeeResult;void 0!=n&&r.a.each(n,function(t,n,i){t.value=t.StaffName,e.restaurants.push(t)})}else this.ErrorComplete(t)},GetSingle:function(){void 0!=this.StaffID&&this.StaffID>0?this.EmployeeManager.GetSingle(this.StaffID):(this.EmployeeManager.Employee={},this.GetSingleComplete({Success:!0,Data:{}}))},Cancel:function(){this.$emit("update:Visiable",!1),this.$emit("EventClose"),this.dialogVisible=!1},Confirm:function(){var t=this;this.$userManager.getUserByAccount(this.Employee.UserNum).then(function(e){t.Employee.UserID=e.UserId,t.GetEmployee(),void 0!=t.StaffID&&t.StaffID>0?t.EmployeeManager.Edit():t.EmployeeManager.Add(),t.$emit("update:Visiable",!1),t.$emit("EventConfirm"),t.dialogVisible=!1}).catch(function(t){console.log(t.message)})},ToOrg:function(){this.Dep.companyid=this.companyid,this.Org.companyid=this.companyid,this.Org.visiable=!0},OrgClose:function(){this.Org.visiable=!1},OrgConfirm:function(t){var e=this;if(void 0!=e.Employee.PositionIDs&&e.Employee.PositionIDs.length>0&&(e.Employee.PositionIDs.splice(0,e.Employee.PositionIDs.length),e.Employee.PositionNames=""),void 0!=t&&t.length>0)for(var n=0;n<t.length;n++)e.Employee.PositionNames+=t[n].Name+";",e.Employee.PositionIDs.push(t[n].ID)},ToDep:function(){this.Dep.companyid=this.companyid,this.Org.companyid=this.companyid,this.Dep.visiable=!0},DepClose:function(){this.Dep.visiable=!1},DepConfirm:function(t){var e=this;if(void 0!=t&&t.length>0){var n=t[0];e.Employee.DepartmentID=n.ID,e.Employee.DepartmentName=n.Name}else e.Employee.DepartmentID=0,e.Employee.DepartmentName=""},querySearch:function(t,e){var n=this.restaurants;e(r.a.filter(n,function(e){return void 0==e||void 0==e.value||void 0==t||e.value.indexOf(t.toLowerCase())>=0}))},handleSelect:function(t){this.Employee.StaffCode=t.StaffCode,this.Employee.StaffID=t.StaffID,this.Employee.StaffCode=t.StaffCode,this.Employee.StaffName=t.StaffName,this.Employee.Nick=t.Nick,this.Employee.EName=t.EName,this.Employee.CompanyID=t.CompanyID,this.Employee.DepartmentID=t.DepartmentID,this.Employee.State=t.State,this.Employee.WorkPhone=t.WorkPhone,this.Employee.WorkMobile=t.WorkMobile,this.Employee.WorkEmail=t.WorkEmail,this.Employee.DepartmentName=t.DepartmentName,this.Employee.PositionNames=t.PositionNames,this.Employee.PositionalTitle=t.PositionalTitle,this.Employee.JoinTime=t.JoinTime,this.Employee.StateStr=t.StateStr},HRSendInvitationCode:function(){var t=this;this.EmployeeManager.HRSendInvitationCode(this.Employee.StaffID,function(e){e.Success?t.Employee.InvitationCode=e.Data:(t.Employee.InvitationCode="",t.ErrorComplete(e))})},ChangeType:function(){2==this.InvitationType&&this.HRSendInvitationCode()},CopyCode:function(){var t=document.getElementById("txtInvitationCode").childNodes;if(void 0!=txtInvitationCode)for(var e=0;e<t.length;e++)if(console.log(t[e].nodeName),"input"==t[e].nodeName.toLowerCase()){t[e].select(),document.execCommand("Copy");break}},CheckUser:function(){var t=this.Employee.UserNum,e=this;void 0!=t&&""!=t&&this.EmployeeManager.CheckUserInfoExists(t,function(t){t.Success?(e.CheckVisiable=!1,e.CheckErrorVisiable=!0):(e.CheckVisiable=!0,e.CheckErrorVisiable=!1)})}},mounted:function(){this.Init()},components:{department:o.a,sorg:c.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(222),a=n(540),o=n.n(a),s=n(4),r=n.n(s),l=n(105),c=n.n(l),u=n(539),d=n.n(u);e.default={data:function(){return{filter:{CompanyID:0,DepartID:0,PositionID:0,StaffName:void 0,StaffCode:void 0,RoleID:0,State:0,Keyword:void 0},PageInfo:{PageIndex:1,PageSize:13,RowCount:0},Source:[],Emp:{companyid:0,StaffID:0,Visiable:!1,Command:"Add",ApplyInfo:void 0},Apply:{companyid:0,Visiable:!1}}},props:{Org:{companyid:0,departid:0,positionid:0}},EmployeeManager:void 0,watch:{Org:{handler:function(){this.CompanyID=this.Org.companyid,this.DepartID=this.Org.departid,this.PositionID=this.Org.positionid,this.filter.CompanyID=this.Org.companyid,this.filter.CompanyID=this.Org.companyid,this.filter.DepartID=this.Org.departid,this.filter.PositionID=this.Org.positionid,this.Search()},deep:!0}},methods:{Init:function(){this.EmployeeManager=new i.a(this.$root.$options.Servers),this.EmployeeManager.EventSearcComplete.SearcComplete=this.SearcComplete,this.EmployeeManager.EventError.ErrorComplete=this.ErrorComplete,this.EmployeeManager.EventDimissionComplete.DimissionComplete=this.DimissionComplete,this.Search()},ErrorComplete:function(t){this.$message({type:"error",message:t.Error})},SearcComplete:function(t){var e=this.Source;if(void 0!=e&&e.length>0&&e.splice(0,e.length),t.Success){var n=this.EmployeeManager.SearchResult;this.PageInfo.RowCount=this.EmployeeManager.filter.RowCount,void 0!=n&&n.length>0&&r.a.each(n,function(t,n,i){e.push(t)})}else this.ErrorComplete(t)},DimissionComplete:function(t){t.Success?this.Search():this.ErrorComplete(t)},Search:function(){var t=this.Source;void 0!=t&&t.length>0&&t.splice(0,t.length);var e=this.filter,n=this.EmployeeManager.filter;n.CompanyID=e.CompanyID,n.DepartID=e.DepartID,n.PositionID=e.PositionID,n.StaffName=e.StaffName,n.StaffCode=e.StaffCode,n.RoleID=e.RoleID,n.State=e.State,n.Keyword=e.Keyword,n.PageIndex=this.PageInfo.PageIndex,n.PageSize=this.PageInfo.PageSize,void 0!=e.CompanyID&&e.CompanyID>0&&this.EmployeeManager.Search()},PageClick:function(t){this.PageInfo.PageIndex=t,this.Search()},ChangeTab:function(t){this.filter.State=t,this.Search()},Add:function(){this.Emp.ApplyInfo=void 0,this.Emp.StaffID=0,this.Emp.companyid=this.Org.companyid,this.Emp.Visiable=!0},Edit:function(t){this.Emp.ApplyInfo=void 0,this.Emp.StaffID=t.StaffID,this.Emp.companyid=this.Org.companyid,this.Emp.Visiable=!0},EmpConfirm:function(){var t=this;setTimeout(function(){t.Search()},1e3)},Dimission:function(t){var e=this;this.$confirm("此操作不能撤回, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.EmployeeManager.Dimission(t.StaffID)})},ToApply:function(){this.Apply.companyid=this.Org.companyid,this.Apply.Visiable=!0},ApplyConfirm:function(){this.Apply.companyid=0,this.Apply.Visiable=!1},AgreeJoin:function(t){this.Emp.ApplyInfo=t,this.Emp.StaffID=0,this.Emp.companyid=t.CompanyID,this.Emp.Visiable=!0}},mounted:function(){this.Init()},components:{empview:o.a,sorg:c.a,appjoin:d.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(222),a=n(540),o=n.n(a),s=n(4),r=n.n(s),l=n(105),c=n.n(l),u=n(539),d=n.n(u);e.default={data:function(){return{filter:{CompanyID:0,DepartID:0,PositionID:0,StaffName:void 0,StaffCode:void 0,RoleID:0,State:0,Keyword:void 0,page:0},PageInfo:{PageIndex:1,PageSize:10,RowCount:0},Source:[],Emp:{companyid:1,StaffID:1,Visiable:!1,Command:"Add"},Apply:{companyid:1,Visiable:!1}}},props:{Org:{companyid:0,departid:0,positionid:0,title:"",empolyeeCount:0}},EmployeeManager:void 0,watch:{Org:{handler:function(){this.CompanyID=this.Org.companyid,this.DepartID=this.Org.departid,this.PositionID=this.Org.positionid,this.Search()},deep:!0}},filters:{CovertActive:function(t,e){return t!=e?"":"active"}},methods:{Init:function(){this.EmployeeManager=new i.a(this.$root.$options.Servers),this.EmployeeManager.EventSearcComplete.SearcComplete=this.SearcComplete,this.EmployeeManager.EventError.ErrorComplete=this.ErrorComplete,this.EmployeeManager.EventDimissionComplete.DimissionComplete=this.DimissionComplete,this.Search()},ErrorComplete:function(t){this.$message({type:"error",message:t.Error})},SearcComplete:function(t){var e=this.Source;if(void 0!=e&&e.length>0&&e.splice(0,e.length),t.Success){var n=this.EmployeeManager.SearchResult;void 0!=n&&n.length>0&&r.a.each(n,function(t,n,i){e.push(t)})}else this.ErrorComplete(t)},DimissionComplete:function(t){t.Success?this.Search():this.ErrorComplete(t)},Search:function(){var t=this.filter,e=this.EmployeeManager.filter;e.CompanyID=t.CompanyID,e.DepartID=t.DepartID,e.PositionID=t.PositionID,e.StaffName=t.StaffName,e.StaffCode=t.StaffCode,e.RoleID=t.RoleID,e.State=t.State,e.Keyword=t.Keyword,e.PageIndex=this.PageInfo.PageIndex,e.PageSize=this.PageInfo.PageSize,this.EmployeeManager.Search()},ChangeTab:function(t){this.filter.State=t,this.Search()},Add:function(){this.Emp.StaffID=0,this.Emp.Visiable=!0},Edit:function(t){this.Emp.StaffID=t.StaffID,this.Emp.Visiable=!0},EmpConfirm:function(){this.Search()},Dimission:function(t){var e=this;this.$confirm("此操作不能撤回, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.EmployeeManager.Dimission(t.StaffID)})},ToApply:function(){this.Apply.Visiable=!0},ApplyConfirm:function(){this.Apply.Visiable=!1}},mounted:function(){this.Init()},components:{empview:o.a,sorg:c.a,appjoin:d.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(928),a=n(194),o=n.n(a),s=n(4),r=n.n(s);e.default={data:function(){return{dialogVisible:!1,heighVisible:!1,DepartList:[],SearchTypeList:[],Source:[],SelectSource:[],SelectType:[],SelectRow:[],filter:{CompanyID:void 0,DepartID:void 0,SearchType:14,Keyword:void 0}}},props:{companyid:0,visiable:!1,departid:0,mult:!0,TypeList:{type:Array,default:function(){return[]}}},created:function(){this.filter.CompanyID=this.companyid},OrganizationManager:void 0,watch:{visiable:function(){if(this.dialogVisible=this.visiable,this.filter.CompanyID=this.companyid,void 0!=this.departid&&this.departid>0?(this.heighVisible=!0,this.filter.DepartID=this.departid):(this.heighVisible=!1,this.filter.DepartID=void 0),this.DepartList.splice(0,this.DepartList.length),this.Source.splice(0,this.Source.length),this.SelectSource.splice(0,this.SelectSource.length),void 0!=this.TypeList&&this.TypeList.length>0){var t=this.SelectType,e=this.SearchTypeList;t.splice(0,t.length);for(var n=0;n<this.TypeList.length;n++){var i={};i.value=this.TypeList[n];var a=r.a.findWhere(e,i);void 0!=a&&t.push(a)}}this.Search(),this.GetDepart()}},methods:{Init:function(){this.OrganizationManager=new i.a(this.$root.$options.Servers),this.OrganizationManager.EventDepartComplete.GetDepartComplete=this.GetDepartComplete,this.OrganizationManager.EventSearcComplete.SearchComplete=this.SearchComplete,this.OrganizationManager.EventError.ErrorComplete=this.ErrorComplete,this.InitSearchType()},InitSearchType:function(){var t=this;if(void 0!=t.SearchTypeList&&t.SearchTypeList.length>0&&t.SearchTypeList.splice(0,t.SearchTypeList.length),void 0!=this.OrganizationManager.SearchTypeList&&this.OrganizationManager.SearchTypeList.length>0){var e=this.OrganizationManager.SearchTypeList;r.a.each(e,function(e,n,i){t.SearchTypeList.push(e)})}},Cancel:function(){this.$emit("update:visiable",!1),this.$emit("EventClose"),this.dialogVisible=!1},Confirm:function(){this.$emit("EventSelected",this.SelectSource),this.$emit("update:visiable",!1),this.dialogVisible=!1},ClearAll:function(){this.SelectSource.splice(0,this.SelectSource.length),this.$refs.multipleTable.clearSelection()},RowClick:function(t,e,n){({}).ID=t.ID},CloseTag:function(t){var e=this;if(e.SelectSource.splice(e.SelectSource.indexOf(t),1),void 0!=e.SelectRow&&e.SelectRow.length>0){var n={};n.ID=t.ID;void 0!=r.a.findWhere(e.SelectRow,n)&&e.$refs.multipleTable.toggleRowSelection(t)}},CloseTypeTag:function(t){var e=this;e.SelectType.splice(e.SelectType.indexOf(t),1)},handleSelectionChange:function(t){var e=this;void 0!=e.SelectRow&&e.SelectRow.length>0&&e.SelectRow.splice(0,e.SelectRow.length);for(var n=0;n<t.length;n++){var i={};i.ID=t[n].ID;void 0==r.a.findWhere(e.SelectSource,i)&&e.SelectSource.push(t[n]),e.SelectRow.push(t[n])}},SelectChange:function(t){var e=this,n=e.SelectType,i=e.SearchTypeList,a={};a.value=t;var o=r.a.findWhere(n,a);void 0==o&&void 0!=(o=r.a.findWhere(i,a))&&n.push(o)},GetSearch:function(){var t=this,e=this.OrganizationManager.filter,n=this.filter;e.CompanyID=n.CompanyID,e.DepartID=n.DepartID,e.Keyword=n.Keyword;for(var i=0,a=0;a<t.SelectType.length;a++)i+=parseInt(t.SelectType[a].value);e.SearchType=i},Search:function(){this.GetSearch(),this.OrganizationManager.Search()},HighSearch:function(){this.heighVisible=!0},GetDepart:function(){this.GetSearch(),this.OrganizationManager.GetDepart()},SearchComplete:function(t){var e=this;if(void 0!=e.Source&&e.Source.length>0&&e.Source.splice(0,e.Source.length),t.Success)for(var n=this.OrganizationManager.SearchResult,i=0;i<n.length;i++){var a={};a.ID=n[i].ID,a.CompanyID=n[i].CompanyID,a.Name=n[i].Name,a.EnName=n[i].EnName,a.Type=n[i].Type,a.PID=n[i].PID,a.IconKey=n[i].IconKey,a.EmpolyeeCount=n[i].EmpolyeeCount,a.NodePath=n[i].NodePathNames,a.TypeLable=n[i].TypeLable,a.ParentName=n[i].ParentName,e.Source.push(a)}else e.ErrorComplete(t)},GetDepartComplete:function(t){var e=this;if(void 0!=e.DepartList&&e.DepartList.length>0&&e.DepartList.splice(0,e.DepartList.length),t.Success)for(var n=e.OrganizationManager.DepartList,i=0;i<n.length;i++){var a={};a.value=n[i].ID,a.text=n[i].Name,e.DepartList.push(a)}else e.ErrorComplete(t)},ErrorComplete:function(t){t.Success||this.$message({type:"error",message:t.Error})}},mounted:function(){this.Init()},components:{department:o.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(142);e.default={data:function(){return{fullscreenLoading:!1,filter:{companyId:0,keyword:""},query:{keyword:"",companyId:"",pagingSize:100,total:0,pageCount:0,currentPage:1,pageSizes:[1,2,10,20]},templates:[],loading:!1}},methods:{onEditTemplate:function(t){var e=this;this.fullscreenLoading=!0,i.a.getTemplateDetail(t).then(function(t){e.$router.push({name:"TemplateEdit",query:{template:i.a.cloneObject(t),query:e.query,filter:e.filter}})}).catch(function(t){})},onDeleteTemplate:function(t){var e=this;this.$confirm("此操作将永久删除，你确定要这么做吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return i.a.deleteTemplate(t).then(function(){return e.doSearch()}).catch(function(t){e.$message.error(t.message)})}).catch(function(){}).finally(function(){return e.loading=!1})},onTemplateExpand:function(t,e){var n=this;e&&this.$nextTick(function(){return n.$refs["batchTemplate"+t.id].showDetail()})},onSizeChange:function(t){this.query.pagingSize=t,this.doSearch()},onPagingUpdate:function(){this.doSearch()},onSearch:function(){this.query.keyword=this.filter.keyword,this.query.companyId=this.filter.companyId,this.doSearch()},onCreateTemplate:function(){this.$router.replace({name:"TemplateEdit",query:{template:i.a.createTemplate(),query:this.query,filter:this.filter}})},doSearch:function(){var t=this;this.loading=!0,i.a.searchTemplates([this.query.companyId,0,this.query.keyword,this.query.currentPage,this.query.pagingSize]).then(function(e){if(t.query.total=e.count,t.query.pageCount=e.pageCount,t.query.total<=0)return t.query.currentPage=1,void t.templates.splice(0,t.templates.length);e.templates.length<=0?(t.query.currentPage=e.pageCount,t.doSearch()):t.templates=e.templates}).finally(function(){return t.loading=!1})}},mounted:function(){var t=this.$route.query.query,e=this.$route.query.filter;i.a.objectIsNullOrUndefined(t)||(this.query=t),i.a.objectIsNullOrUndefined(e)||(this.filter=e),this.onSearch()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(142),a=n(531),o=n.n(a),s=n(530),r=n.n(s),l=n(4),c=n.n(l);e.default={data:function(){return{template:i.a.createTemplate(),loading:!1,loadingMessage:"正在加载中",levels:i.a.levels,templateRules:{name:[{required:"true",message:"模板名称不能为空且不能包含!@#$%^&*等非法字符",trigger:"blur",pattern:/^[^!@#\$%\^&\*]+$/},{min:5,max:50,message:"模板名称长度必须在5-50之间",trigger:"blur"}],categoryId:r.a.validateRules,companyId:o.a.validateRules,description:{max:100,message:"描述长度不能超过100字",trigger:"blur"}},nodeTypes:i.a.nodeTypes,nodeDialog:{searchedUsers:[],visible:!1,selectedUser:null,currentNode:this.createNewNode(),submitButtonText:"新增",title:"新增节点",inSearchingUsers:!1,rules:{name:[{required:"true",message:"节点名称不能为空且不能包含!@#$%^&*等非法字符",trigger:"blur",pattern:/^[^!@#\$%\^&\*]+$/},{min:5,max:50,message:"节点名称长度必须在5-50之间",trigger:"blur"}],nodeType:[{type:"number",required:!0,message:"请选择节点类型",trigger:"change"}]}},nodeTable:{currentMouseEnteredNodeIndex:-1}}},methods:{showNodeDialog:function(t){var e=this;this.$refs.templateEditForm.validateField("companyId",function(n){if(n&&n.length>0)return void e.$message.error(n);t<0?(e.$refs.templateNodeEdit&&e.$refs.templateNodeEdit.resetFields(),e.nodeDialog.currentNode=e.createNewNode(),e.nodeDialog.title="新增节点",e.nodeDialog.submitButtonText="新增"):(e.nodeDialog.currentNode=i.a.cloneObject(e.template.nodes[t]),e.nodeDialog.title="修改节点",e.nodeDialog.submitButtonText="修改"),e.nodeDialog.visible=!0})},onSubmit:function(){var t=this;this.$refs.templateEditForm.validate(function(e){if(!e)return!1;if(t.template.nodes.length<=0)return t.$message.error("流程节点不能为空!"),!1;c.a.each(t.template.nodes,function(t){return c.a.each(t.users,function(t){return t.groupid=t.id})});var n=i.a.cloneObject(t.template);n.company=i.a.cloneObject(t.$refs.companySelect.selectedCompany),n.category=i.a.cloneObject(t.$refs.categorySelect.selectedCategory),t.loading=!0,t.loadingMessage="正在提交，请稍候...",i.a.saveTemplate(n).then(function(e){e.Success?(t.template.id=e.Data.id,t.$confirm("提交成功, 是否返回列表页面?","提示",{confirmButtonText:"转到列表页面",cancelButtonText:"留在此页",type:"success"}).then(function(){t.$router.replace({name:"TemplateManager",params:{companyId:t.template.companyId,categoryId:t.template.categoryId}})}).catch(function(){})):t.$message.error(e.Error)}).catch(function(e){console.log(e),t.$message.error(e.message)}).finally(function(){t.loading=!1})})},onCloseNodeDialog:function(){this.nodeDialog.visible=!1},createNewNode:function(){return{name:"",nodeType:null,voteCount:1,users:[],index:-1}},onSearchUsers:function(t){var e=this;""!==t?(this.nodeDialog.inSearchingUsers=!0,i.a.searchUsers(this.template.companyId,""+t).then(function(t){e.nodeDialog.searchedUsers=t,e.nodeDialog.inSearchingUsers=!1})):this.nodeDialog.searchedUsers=[]},onUserChanged:function(){if(null!=this.nodeDialog.selectedUser){for(var t=!1,e=0;e<this.nodeDialog.currentNode.users.length;e++)if(this.nodeDialog.currentNode.users[e].id===this.nodeDialog.selectedUser.id&&this.nodeDialog.currentNode.users[e].grouptype===this.nodeDialog.selectedUser.grouptype){t=!0;break}t||(console.log(this.nodeDialog.selectedUser),this.nodeDialog.currentNode.users.push(this.nodeDialog.selectedUser)),this.nodeDialog.selectedUser=null}},onRemoveSelectedUser:function(t){for(var e=0;e<this.nodeDialog.currentNode.users.length;e++){var n=this.nodeDialog.currentNode.users[e];if(n.id===t.id&&n.grouptype===t.grouptype){this.nodeDialog.currentNode.users.splice(e,1);break}}},onSubmitNode:function(){var t=this;this.$refs.templateNodeEdit.validate(function(e){if(!e)return!1;var n=i.a.cloneObject(t.nodeDialog.currentNode);n.index>=0?t.template.nodes.splice(n.index,1,n):(t.template.nodes.push(n),n.index=t.template.nodes.length-1),i.a.setUserDisplayGroup(t.template),t.nodeDialog.visible=!1})},onNodeMouseEnter:function(t,e,n,i){this.nodeTable.currentMouseEnteredNodeIndex=t.index},onNodeUp:function(t){this.template.nodes.splice(t.index,1),this.template.nodes.splice(t.index-1,0,t),this.reorderNodes()},onNodeDown:function(t){this.template.nodes.splice(t.index,1),this.template.nodes.splice(t.index+1,0,t),this.reorderNodes()},onDeleteNode:function(t){this.template.nodes.splice(t.index,1),this.reorderNodes()},onDeleteNodes:function(){var t=this,e=this.$refs.nodeTable.store.states.selection;e.length>0&&this.$confirm("此操作将永久删除选中节点，你确定要这么做吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){for(var n=0;n<e.length;n++)t.template.nodes.splice(e[n].index,1),t.reorderNodes()}).catch(function(){})},onBackToList:function(){this.$router.replace({name:"TemplateManager",query:{query:this.$route.query.query,filter:this.$route.query.filter}})},reorderNodes:function(){for(var t=0;t<this.template.nodes.length;t++)this.template.nodes[t].index=t},getNodeTypeName:function(t){return i.a.getNodeTypeName(t)}},mounted:function(){var t=this.$route.query.template;i.a.objectIsNullOrUndefined(t)||(this.template=t,i.a.setUserDisplayGroup(this.template))},computed:{remainingDescriptionChars:function(){return Math.max(0,100-this.template.description.length)},title:function(){return this.template.id<=0?"新增模板":"修改模板"}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),a=n(927),o=n(990),s=n(141),r=new o.a,l=new s.a;e.default={data:function(){return{currectUser:{},user01:new a.a,users:[],total:0,condition:{Keyword:"",username:"",phone:"",companyId:0},NewVisiable:!1,ComapnyList:[],isEdit:!0,RightsVisiable:!1,CompanyListTemp:[],UserItem:{ID:void 0,UserName:void 0,Password:void 0,ConfirmPass:void 0,NickName:void 0,Phone:void 0,Email:void 0,Address:void 0,CompanyIDss:[],CompanyNames:[]},UserRightsItem:{ID:void 0,UserID:void 0,CreateRights:!1,InstructionsRights:!1,AgreeRights:!1,FiledRights:!1,SysRights:!1},CompanyTempItem:{ID:void 0,Name:void 0},title:"新增用户",CompanyTempUserID:""}},methods:{createUser:function(){this.NewVisiable=!0,this.isEdit=!0,this.title="新增用户",console.log(this.user01.CompanyIDss)},search:function(){var t=this;r.search(this.condition).then(function(e){e.Success?(t.users=e.Data,t.total=e.Data.length):t.$message({message:e.Error,type:"warning"})})},handleCurrentChange:function(){},Edit:function(t,e){var n=this;r.get(e.ID).then(function(t){if(t.Success){var e=t.Data;n.user01.ID=e.ID,n.user01.UserCode=e.UserCode,n.user01.Name=e.Name,n.user01.NickName=e.NickName,n.user01.Phone=e.Phone,n.user01.Email=e.Email,n.user01.Address=e.Address,n.user01.CompanyIDs=e.CompanyIDs,n.user01.CompanyNames=e.CompanyNames,n.user01.DepartmentID=e.DepartmentID,n.user01.DepartmentName=e.DepartmentName,n.user01.Pwd=e.Pwd,n.NewVisiable=!0,n.isEdit=!1,n.title="修改用户";var i=t.Data.CompanyIDs.split(",");void 0!=n.user01.CompanyIDss&&n.user01.CompanyIDss.length>0&&n.user01.CompanyIDss.splice(0,n.user01.CompanyIDss.length);for(var a=0;a<i.length;a++)n.user01.CompanyIDss.push(i[a])}else n.$message.error(t.Error)})},Delete:function(t,e){var n=this;r.deleteUser(e.ID).then(function(t){t.Success?(n.$message({message:"删除成功",type:"success"}),n.search()):n.$message.error(t.Error)})},ShowPass:function(t,e){var n=this;r.changePass(e.ID).then(function(t){t.Success?(n.$message({message:"重置密码成功",type:"success"}),n.search()):n.$message.error(t.Error)})},EditRights:function(t,e){this.CompanyTempUserID=e.ID,this.RightsVisiable=!0},ConformEditRights:function(){var t=this,e=this.UserRightsItem;if(e.ComID=this.CompanyTempItem.ID,void 0==e.ComID)return void this.$message.error("请选择公司");r.setUserRights(e).then(function(e){e.Success?(t.search(),t.$message({message:"创建成功",type:"success"}),t.ResetUserRights(),t.Clear()):t.$message.error(e.Error)})},ChangeComp:function(){if(void 0!=this.CompanyTempItem.ID){var t=this,e={};e.UserID=this.CompanyTempUserID,e.ComID=this.CompanyTempItem.ID,r.getUserRightsByUserID(e).then(function(e){if(e.Success){var n=e.Data;void 0!=n&&(t.UserRightsItem.ID=n.ID,t.UserRightsItem.UserID=n.UserID,t.UserRightsItem.CreateRights=n.CreateRights,t.UserRightsItem.InstructionsRights=n.InstructionsRights,t.UserRightsItem.AgreeRights=n.AgreeRights,t.UserRightsItem.FiledRights=n.FiledRights,t.UserRightsItem.SysRights=n.SysRights)}})}},Cancel:function(){this.NewVisiable=!1,this.RightsVisiable=!1,this.Clear()},Clear:function(){this.user01.ID=0,this.user01.UserCode="",this.user01.Name="",this.user01.NickName="",this.user01.Phone="",this.user01.Email="",this.user01.Address="",this.user01.CompanyIDs="",this.user01.CompanyNames="",this.user01.DepartmentID=0,this.user01.DepartmentName="",this.user01.RequestTime="",this.user01.Pwd="",this.user01.ConfirmPass="",void 0!=this.user01.CompanyIDss&&this.user01.CompanyIDss.length>0&&this.user01.CompanyIDss.splice(0,this.user01.CompanyIDss.length),this.RightsVisiable=!1,this.CompanyTempItem.ID=void 0,this.UserRightsItem.CreateRights=!1,this.UserRightsItem.InstructionsRights=!1,this.UserRightsItem.AgreeRights=!1,this.UserRightsItem.FiledRights=!1,this.UserRightsItem.SysRights=!1},Save:function(){for(var t=this,e="",n=0;n<this.user01.CompanyIDss.length;n++)e+=0==n?this.user01.CompanyIDss[n]:","+this.user01.CompanyIDss[n];if(this.user01.CompanyIDs=e,void 0==this.user01.Name||""==this.user01.Name)return this.$message.error("请输入用户名"),!1;if(void 0==this.user01.NickName||""==this.user01.NickName)return this.$message.error("请输入昵称"),!1;if(void 0==e||""==e)return this.$message.error("请选择公司"),!1;if(this.user01.ID>0)r.update(this.user01).then(function(e){e.Success?(t.$message({message:"修改成功",type:"warning"}),t.search(),t.Cancel()):t.$message.error(e.Error)});else{if(void 0==this.user01.Pwd||""==this.user01.Pwd)return this.$message.error("请输入密码"),!1;if(this.user01.Pwd!=this.user01.ConfirmPass)return this.$message.error("输入的密码和确认密码必须一致"),!1;r.create(this.user01).then(function(e){e.Success?(t.$message({message:"创建成功",type:"success"}),t.search(),t.Cancel()):t.$message.error(e.Error)})}}},mounted:function(){this.currectUser=i.a.getUser(),this.search(),void 0!=this.ComapnyList&&this.ComapnyList.length>0&&this.ComapnyList.splice(0,this.ComapnyList.length);var t=this;l.getSelectList().then(function(e){if(e.Success)for(var n=0;n<e.Data.length;n++)t.ComapnyList.push({value:e.Data[n].ID+"",text:e.Data[n].Name})})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(849),a=n(6);e.default={name:"app",data:function(){return{userInfo:{ID:0,UserCode:"",UserName:"",OldPassword:"",NewPassword:"",ReNewPassword:"",RequestTime:"2017-05-23"}}},methods:{handleSubmit:function(t){var e=this,o=a.a.getUser();return console.log(o),this.userInfo.Id=o.Id,this.userInfo.UserCode=o.UserCode,this.userInfo.UserName=o.UserName,""===this.userInfo.OldPassword?void this.$message({type:"error",message:"请输入旧密码"}):""===this.userInfo.NewPassword?void this.$message({type:"error",message:"请输入新密码"}):this.userInfo.NewPassword!==this.userInfo.ReNewPassword?void this.$message({type:"error",message:"两次密码输入不一致"}):void n.i(i.a)(this.userInfo).then(function(t){t.Success?e.$message({type:"success",message:"修改成功"}):e.$message({type:"error",message:t.Error})})},handleClose:function(){this.$router.back()}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),a=n(112),o=n(3),s=new a.a;e.default={data:function(){return{documentid:0,loading:!1,companyid:0,DeclareModel:{documentId:0,companyId:0,applyDate:o().format("YYYY-MM-DD"),totalScore:0,itemNum:0},empData:[],currentItem:{},moreShow:!1,drift:0,dialogVisible:!1,emp:{},batchvalue:0,selectrows:[]}},methods:{Loading:function(){var t=this;this.documentid&&s.GetDeclare(this.documentid).then(function(e){if(e.Success){t.DeclareModel=e.Data,t.empData=[];for(var n=0;n<t.DeclareModel.items.length;n++){var i=t.DeclareModel.items[n],a={};if(t.IsEmpExists(i.userId)){for(var s=0;s<t.empData.length;s++)if(t.empData[s].userId===i.userId){a=t.empData[s];break}}else a={documentId:t.documentId,userId:i.userId,userName:i.userName,positionId:i.positionId,positionName:i.positionName,departId:i.departId,departName:i.departName,items:[]},t.empData.push(a);a.items.push({id:i.id,documentId:i.documentId,perDate:o(i.perDate).format("YYYY-MM-DD"),performanceId:i.performanceId,performanceName:i.performanceName,performanceNameShow:i.performanceName,calcType:i.calcType,calcTypeStr:i.calcTypeStr,num:i.num,remark:i.remark,BaseScore:i.perBaseScore,associationSystemId:i.associationSystemId,associationSystemItemId:i.associationSystemItemId,associationSystemItemName:i.associationSystemItemName,associationSystemName:i.associationSystemName,positionId:i.positionId,positionName:i.positionName,userId:a.userId,drift:(i.realScore-i.totalScore).toFixed(2),realScore:i.realScore,totalScore:i.totalScore})}}else t.$message.error(e.Error)}).catch(function(t){console.log(t)})},IsEmpExists:function(t){for(var e=0;e<this.empData.length;e++)if(this.empData[e].userId===t)return!0;return!1},calculate:function(t){for(var e=0,n=0;n<t.items.length;n++)e+=t.items[n].num*t.items[n].BaseScore;return e},mouseenter:function(t,e){this.currentItem=e,this.moreShow=!0;var n=t.clientX-230,i=t.clientY-70,a=document.getElementById("board");a.style.left=n+"px",a.style.top=i+"px",this.drift=(e.totalScore-e.BaseScore*e.num)/(e.BaseScore*e.num)/100},handleDocumentClick:function(t){for(var e=0;e<t.path.length;e++)if("board"===t.path[e].id)return;this.moreShow=!1},handleMinus:function(){--this.drift,this.handleCalculate()},handlePlus:function(){++this.drift,this.handleCalculate()},handleCalculate:function(){this.currentItem.realScore=(this.currentItem.totalScore+this.currentItem.totalScore*this.drift/100).toFixed(2),this.currentItem.drift=(this.currentItem.realScore-this.currentItem.totalScore).toFixed(2);var t=[{ItemID:this.currentItem.id,DocumentId:this.currentItem.documentId,RealScore:this.currentItem.realScore,AuditeRemark:this.currentItem.auditRemark}];this.toEditRealScore(t)},handleClose:function(){this.batchvalue=0,this.selectrows=[],this.emp={},this.dialogVisible=!1},handleBatchShow:function(t){this.batchvalue=0,this.selectrows=[],this.emp={documentId:t.documentId,userId:t.userId,userName:t.userName,positionId:t.positionId,positionName:t.positionName,departId:t.departId,departName:t.departName,items:[]};for(var e=0;e<t.items.length;e++){var n={id:t.items[e].id,documentId:t.items[e].documentId,perDate:o(t.items[e].perDate).format("YYYY-MM-DD"),performanceId:t.items[e].performanceId,performanceName:t.items[e].performanceName,performanceNameShow:t.items[e].performanceName,calcType:t.items[e].calcType,calcTypeStr:t.items[e].calcTypeStr,num:t.items[e].num,remark:t.items[e].remark,BaseScore:t.items[e].BaseScore,associationSystemId:t.items[e].associationSystemId,associationSystemItemId:t.items[e].associationSystemItemId,associationSystemItemName:t.items[e].associationSystemItemName,associationSystemName:t.items[e].associationSystemName,positionId:t.items[e].positionId,positionName:t.items[e].positionName,userId:t.items[e].userId,drift:(t.items[e].realScore-t.items[e].totalScore).toFixed(2),realScore:t.items[e].realScore,totalScore:t.items[e].totalScore};n.drift=(n.realScore-n.totalScore).toFixed(2),this.emp.items.push(n)}this.dialogVisible=!0},handleBatch:function(){for(var t=0;t<this.empData.length;t++)if(this.emp.userId==this.empData[t].userId){this.empData[t].items=this.emp.items,this.dialogVisible=!1;for(var e=[],n=0;n<this.emp.items.length;n++)e.push({ItemID:this.emp.items[n].id,DocumentId:this.emp.items[n].documentId,RealScore:this.emp.items[n].realScore,AuditeRemark:this.emp.items[n].auditRemark});return void this.toEditRealScore(e)}this.dialogVisible=!1},handleChange:function(){if(null==this.selectrows||0==this.selectrows.length)return this.$message.error("请选择要批量修改的项目"),void(this.batchvalue=0);for(var t=0;t<this.emp.items.length;t++)for(var e=this.emp.items[t],n=0;n<this.selectrows.length;n++)e.performanceId===this.selectrows[n].performanceId&&(e.realScore=(e.totalScore+e.totalScore*this.batchvalue/100).toFixed(2),e.drift=(e.realScore-e.totalScore).toFixed(2))},handleSelectionChange:function(t){this.selectrows=t},toEditRealScore:function(t){for(var e=this,n=0;n<t.length;n++)void 0==t[n].AuditeRemark&&(t[n].AuditeRemark="");s.EditRealScore(t).then(function(t){t.Success||e.$message.error(t.Error)}).catch(function(t){console.log(t)})}},mounted:function(){var t=i.a.getUser();this.DeclareModel.userName=t.Name,this.DeclareModel.userId=t.UserID,this.$route.params.id&&(this.documentid=this.$route.params.id),document.addEventListener("click",this.handleDocumentClick)},watch:{documentid:function(){this.Loading()},batchvalue:function(){this.handleChange()}},created:function(){this.user=i.a.getUser()},components:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(40),a=n.n(i),o=n(128),s=n.n(o),r=n(56),l=(n(118),n(1579)),c=n.n(l),u=n(3),d=new r.a;e.default={data:function(){return{comapnyList:[],loading:!1,data:[],filters:{CompanyID:0,BeginTime:"",EndTime:"",Status:0,DepartID:0,Keyword:"",PageIndex:1,PageSize:7},total:0,position:[],itemShow:!1,state:0,moreShow:!1,currentItem:{},Detail:{ID:0,Visiable:!1}}},methods:{handleState:function(t){this.filters.Status=t,this.filters.PageIndex=1,this.state=t,this.handlePager()},handleView:function(t){var e=this;this.position=[],d.BaseApplyItems(t.documentId).then(function(t){if(t.Success){e.itemShow=!0;for(var n=0;n<t.Data.length;n++){var i=t.Data[n],a=e.Covent(i),o=void 0;e.IsPosition(i.positionId)?(o=e.GetPosition(i.positionId),o.Items.push(a)):(o={PositionId:i.positionId,PositionName:i.positionName,DepartId:i.departId,DepartName:i.departName,Items:[]},o.Items.push(a),e.position.push(o))}}else e.$message.error(t.Error)}).catch(function(t){})},handleEdit:function(t){"0"===t?this.$router.push({name:"EditBaseApply"}):this.$router.push({name:"EditBaseApply",params:{id:this.currentItem.documentId}})},handleDelete:function(t){var e=this;this.$confirm("确定删除该记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){d.DeleteBaseApply(e.currentItem.documentId).then(function(t){t.Success?(e.handlePager(),e.$message("操作成功")):e.$message.error(t.Error)})}).catch(function(){})},Audite:function(){this.$router.push({name:"Kanban",params:{propid:this.currentItem.documentId,type:1,docid:-1,proptype:1}}),this.$root.$options.Bus.emit("selectDraft",1)},handlePager:function(){var t=this;this.loading=!0,d.BaseApplyList(this.filters).then(function(e){if(e.Success){t.total=e.TotalCount;for(var n=[],i=0;i<e.Data.length;i++){var o={};a()(o,e.Data[i]),o.CreateTime=u(o.createDateTime).format("YYYY-MM-DD HH:mm:ss"),o.auditeTime=u(o.auditeTime).format("YYYY-MM-DD HH:mm:ss"),n.push(o)}t.data=n}else t.$message.error(e.Error);t.loading=!1}).catch(function(e){t.loading=!1})},IsPosition:function(t){for(var e=0;e<this.position.length;e++)if(this.position[e].PositionId===t||this.position[e].positionId===t)return!0;return!1},GetPosition:function(t){for(var e=0;e<this.position.length;e++)if(this.position[e].positionId===t)return this.position[e];return null},Covent:function(t){return{Id:t.documentId,Name:t.name,DepartId:t.departId,DepartName:t.departName,PositionId:t.positionId,PositionName:t.positionName,CategoryId:t.categoryId,CategoryName:t.categoryName,BaseScore:t.baseScore,CalcType:t.calcType,MinRate:t.minRate,MaxRate:t.maxRate,Description:t.description,AssociationSystemId:t.associationSystemId,AssociationSystemName:t.associationSystemName,AssociationSystemItemId:t.associationSystemItemId,AssociationSystemItemName:t.associationSystemItemName,Tag:t.tag,ChangeStatus:t.changeStatus,ChangeStatusStr:t.changeStatusStr,PerformanceId:t.performanceId,Status:t.status,StatusStr:t.statusStr,AuditeRemark:t.auditeRemark,CreateTime:u(t.createTime).format("YYYY-MM-DD"),auditeTime:u(t.auditeTime).format("YYYY-MM-DD"),CompanyId:t.companyId,CompanyName:t.companyName}},companyChange:function(t){this.filters.CompanyID=t,this.handlePager()},mouseenter:function(t,e){this.currentItem=e,this.moreShow=!0;var n=t.clientX-30,i=t.clientY-70,a=document.getElementById("more");a.style.left=n+"px",a.style.top=i+"px";var o=document.getElementById("upsmall");o.style.left=n+30+"px",o.style.top=i+70+"px";var s=document.getElementById("upbig");s.style.left=n+30+"px",s.style.top=i+70+"px";var r=document.getElementById("bubble");r.style.left=n+"px",r.style.top=i+70+15+"px"},mouseleave:function(t){},handleDocumentClick:function(t){this.moreShow=!1},HandDetail:function(t){void 0!=t&&(this.Detail.ID=t.documentId,this.Detail.Visiable=!0)},DetailClose:function(t){this.Detail.ID=0,this.Detail.Visiable=!1}},created:function(){},mounted:function(){document.addEventListener("click",this.handleDocumentClick)},components:{company:s.a,basedetail:c.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(77),a=n(56),o=new a.a;e.default={props:{companyid:0,dvisible:!1},data:function(){return{loading:!1,data:[],total:0,filters:{CompanyID:this.companyid,DepartID:0,PositionID:0,Keyword:"",PageIndex:1,PageSize:6},dialogVisible:!1,selectRows:[],depModel:null,deps:[],positions:[],selectDep:[],selectPosition:[]}},methods:{init:function(){this.handlePager(),this.depModel.GDepItems(this.filters.CompanyID)},handlePager:function(){var t=this;o.GetBaseItems(this.filters).then(function(e){if(e.Success){t.data=[];for(var n=0;n<e.Data.length;n++){var i={id:e.Data[n].Id,name:e.Data[n].Name,departId:e.Data[n].DepartId,departName:e.Data[n].DepartName,positionId:e.Data[n].PositionId,positionName:e.Data[n].PositionName,categoryId:e.Data[n].CategoryId,categoryName:e.Data[n].CategoryName,baseScore:e.Data[n].BaseScore,calcType:e.Data[n].CalcType,calcTypeStr:e.Data[n].CalcTypeStr,minRate:e.Data[n].MinRate,maxRate:e.Data[n].MaxRate,description:e.Data[n].Description,associationSystemId:e.Data[n].AssociationSystemId,associationSystemName:e.Data[n].AssociationSystemName,associationSystemItemId:e.Data[n].AssociationSystemItemId,associationSystemItemName:e.Data[n].AssociationSystemItemName,tag:e.Data[n].Tag,status:e.Data[n].Status,statusStr:e.Data[n].StatusStr,createUser:e.Data[n].CreateUser,createUserName:e.Data[n].CreateUserName,createTime:e.Data[n].CreateTime,effectTime:e.Data[n].EffectTime,companyId:e.Data[n].CompanyId,companyName:e.Data[n].CompanyName};t.data.push(i)}t.total=e.TotalCount}else t.$message.error(e.Error)}).catch(function(t){console.log(t)})},handleClose:function(){this.filters={CompanyID:this.companyid,DepartID:0,PositionID:0,Keyword:"",PageIndex:1,PageSize:10},this.selectDep=[],this.selectPosition=[],this.dialogVisible=!1,this.$emit("update:dvisible",!1)},handleSelect:function(){this.filters={CompanyID:this.companyid,DepartID:0,PositionID:0,Keyword:"",PageIndex:1,PageSize:10},this.selectDep=[],this.selectPosition=[],this.dialogVisible=!1,this.$emit("update:dvisible",!1),this.$emit("EventSelected",this.selectRows)},handleSelectionChange:function(t){this.selectRows=t},handleDepChange:function(){this.depModel.GetPositions(this.filters.CompanyID,this.selectDep[0])},handlePositionChange:function(){},handleSearch:function(){this.filters.PageIndex=1,this.filters.DepartID=this.selectDep[0],this.filters.PositionID=this.selectPosition[0],this.handlePager()},depLoadCompleted:function(t){this.deps=[];for(var e=0;e<t[0].Childs.length;e++)this.deps.push({value:t[0].Childs[e].ID,label:t[0].Childs[e].Name})},positionLoadCompleted:function(t){if(t.Success){this.positions=[];for(var e=0;e<t.Data.length;e++)this.positions.push({value:t.Data[e].ID,label:t.Data[e].Name})}else this.$message.error(t.Error)}},watch:{companyid:function(){this.filters.CompanyID=this.companyid,this.init()},dvisible:function(){this.selectRows=[],this.handlePager(),this.dialogVisible=this.dvisible}},created:function(){this.depModel=new i.a(this.$root.$options.Servers),this.depModel.EventsloadCompleted.loadCompleted=this.depLoadCompleted,this.depModel.EventsgetPositionsCompleted.loadCompleted=this.positionLoadCompleted}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),a=n.n(i),o=n(56);n(3);e.default={data:function(){return{dialogVisible:!1,title:"基础绩效申报明细",ApplyID:0,Source:[]}},BaseManager:void 0,props:{ID:0,Visiable:!1},watch:{Visiable:function(){this.dialogVisible=this.Visiable,this.ApplyID=this.ID,this.GetApply()}},methods:{Init:function(){this.BaseManager=new o.a},GetApply:function(){if(void 0==this.ApplyID||0==this.ApplyID)return!1;var t=this;t.Source.splice(0,t.Source.length),this.BaseManager.BaseApplyGetOne(this.ApplyID).then(function(e){if(!e.Success)return t.ErrorComplete(e),!1;var n=e.Data,i=void 0;void 0!=n&&(i=n.applyPerformanceItem),i=void 0==i?[]:i;for(var o=0;o<i.length;o++){var s=a.a.find(t.Source,function(t){return t.departId==i[o].departId&&t.positionId==i[o].positionId});if(void 0==s){var r={};r.departId=i[o].departId,r.positionId=i[o].positionId,r.departName=i[o].departName,r.positionName=i[o].positionName,r.Items=[],r.Items.push(i[o]),t.Source.push(r)}else s.Items.push(i[o])}}).catch(function(e){t.ErrorComplete(e)})},ErrorComplete:function(t){void 0!=t.Error&&this.$message({type:"error",message:t.Error})},Cancel:function(){this.$emit("update:Visiable",!1),this.$emit("EventClose"),this.dialogVisible=!1}},mounted:function(){this.Init()},components:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{calc:0},data:function(){return{calctype:this.calc}},methods:{},watch:{calctype:function(){this.$emit("update:calc",parseInt(this.calctype))},calc:function(){this.calctype=this.calc}},mounted:function(){this.calctype=this.calc}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(118),a=n(6);e.default={props:{select:0},data:function(){return{companyId:0,comapnyList:[]}},methods:{},watch:{companyId:function(){this.$emit("change",this.companyId)}},created:function(){var t=this,e=a.a.getUser();if(void 0==e||0==e.Id)return!1;var n={};n.userid=e.Id,i.a.Server().GetCompanysByUserID(n,function(e){if(e.Success)for(var n=0;n<e.Data.length;n++){var i={};i.value=e.Data[n].ID,i.text=e.Data[n].Name,t.comapnyList.push(i),t.companyId=t.comapnyList[0].value}})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(40),a=n.n(i),o=n(128),s=n.n(o),r=n(112),l=n(1586),c=n.n(l),u=n(3),d=new r.a;e.default={data:function(){return{Source:[],filter:{CompanyID:0,BeginTime:"",EndTime:"",Keyword:"",Status:0,PageIndex:1,PageSize:10,RowCount:0},total:0,DetailParam:{Visiable:!1,CompanyID:2,DepartmentId:0,PositionId:0,UserID:0,PerformanceId:0,BeginTime:"",EndTime:""},state:0,moreShow:!1,currentItem:{}}},methods:{ChangeTab:function(t){this.filter={CompanyID:0,BeginTime:"",EndTime:"",Keyword:"",Status:0,PageIndex:1,PageSize:10,RowCount:0},this.filter.Status=t,this.Search()},Search:function(){var t=this;d.GetDeclareList(this.filter).then(function(e){if(e.Success){t.total=e.TotalCount,t.Source=[];for(var n=0;n<e.Data.length;n++){var i={};a()(i,e.Data[n]),i.applyDate=u(e.Data[n].applyDate).format("YYYY-MM-DD HH:mm:ss"),1===i.status&&(i.auditDate=""),t.Source.push(i)}}else t.$message.error(e.Error)}).catch(function(t){console.log(t)})},ShowView:function(t){this.$router.push({name:"ViewDeclare",params:{id:t.documentId}})},Add:function(){this.$router.push({name:"EditDeclare"})},Edit:function(){this.$router.push({name:"EditDeclare",params:{id:this.currentItem.documentId}})},ToBatch:function(t){},ToAudit:function(){this.$router.push({name:"AuditDeclare",params:{id:this.currentItem.documentId}})},Delete:function(){var t=this;this.$confirm("确定删除该记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){d.DeleteDeclare(t.currentItem.documentId).then(function(e){e.Success?(t.Search(),t.$message("操作成功")):t.$message.error(e.Error)})}).catch(function(){})},PageClick:function(){},companyChange:function(t){this.filter.CompanyID=t,this.Search()},Detail:function(){this.DetailParam.Visiable=!0,this.DetailParam.CompanyID=2},UserDetailClose:function(){this.DetailParam.CompanyID=0},mouseenter:function(t,e){this.currentItem=e,this.moreShow=!0;var n=t.clientX-30,i=t.clientY-70,a=document.getElementById("more");a.style.left=n+"px",a.style.top=i+"px";var o=document.getElementById("upsmall");o.style.left=n+30+"px",o.style.top=i+70+"px";var s=document.getElementById("upbig");s.style.left=n+30+"px",s.style.top=i+70+"px";var r=document.getElementById("bubble");r.style.left=n+"px",r.style.top=i+70+15+"px"},handleDocumentClick:function(t){this.moreShow=!1}},mounted:function(){document.addEventListener("click",this.handleDocumentClick),this.Search()},components:{company:s.a,userdetaildialog:c.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(n(6),n(56)),a=n(105),o=n.n(a),s=(n(118),n(23),n(279)),r=n.n(s),l=n(280),c=n.n(l),u=n(278),d=n.n(u),p=n(154),m=n.n(p),h=n(128),f=n.n(h),v=n(541),g=n.n(v),y=n(1464),_=n.n(y),b=(n(3),new i.a);e.default={name:"EditBaseApply",data:function(){return{documentId:0,companyId:0}},methods:{Loading:function(){this.documentId=this.$route.params.id},HandleSave:function(){var t=this,e=this.$refs.edit.GetData(),n=void 0;n=0===e.documentId?b.BaseApplyCreate(e):b.BaseApplyEdit(e);var i=this;n.then(function(e){e.Success?(i.$message("保存成功"),t.$router.push({name:"BaseApplyList"})):i.$message.error(e.Error)}).catch(function(t){})},companyChange:function(t){this.companyId=t}},watch:{},mounted:function(){this.$route.params.id&&(this.documentId=this.$route.params.id)},created:function(){},components:{sorg:o.a,category:r.a,project:c.a,calctype:d.a,baseitem:m.a,editbasecomponent:g.a,company:f.a,perdoc:_.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(19),a=n.n(i),o=n(40),s=n.n(o),r=n(6),l=n(56),c=n(105),u=n.n(c),d=(n(118),n(23)),p=n(279),m=n.n(p),h=n(280),f=n.n(h),v=n(278),g=n.n(v),y=n(154),_=n.n(y),b=n(3),C=new l.a;e.default={props:{documentid:0,companyid:0},data:function(){return{data:{documentId:0,title:"",createTime:b().format("YYYY-MM-DD"),createUserId:0,createUserName:"",description:"",status:0,statusStr:"",itemNum:0,totalScore:0,auditeUserId:0,auditeUserName:"",auditeTime:"",companyId:0,companyName:"",applyPerformanceItem:[]},position:[],currentItem:{},currentPosition:{},orgVisiable:!1,TypeList:[4],itemShow:!1,importExcel:!1,importItem:!1,user:{},url:d.c+"/api/Performance/UploadItem",headers:{Authorization:"bearer "+r.a._getToken()},exceldata:[]}},methods:{Loading:function(){var t=this;this.documentid?C.BaseApplyGetOne(this.documentid).then(function(e){if(e.Success){t.data=e.Data,t.data.CreateTime=b(t.data.createTime).format("YYYY-MM-DD");for(var n=0;n<t.data.applyPerformanceItem.length;n++){var i=t.data.applyPerformanceItem[n],a=t.Covent(i),o=void 0;t.IsPosition(i.positionId)?(o=t.GetPosition(i.positionId),o.Items.push(a)):(o={positionId:i.positionId,positionName:i.positionName,departId:i.departId,departName:i.departName,Items:[]},o.Items.push(a),t.position.push(o))}}else _this.$message.error(e.Error)}).catch(function(t){}):this.data.companyId=this.companyid},IsPosition:function(t){for(var e=0;e<this.position.length;e++)if(this.position[e].positionId===t)return!0;return!1},IsPositionItem:function(t,e){for(var n=0;n<t.length;n++)if(t[n].name==e)return!0;return!1},GetPosition:function(t){for(var e=0;e<this.position.length;e++)if(this.position[e].positionId===t)return this.position[e];return null},SelectPosition:function(){this.orgVisiable=!0},DepClose:function(){},DepConfirm:function(t){if(void 0!=t&&t.length>0)for(var e=0;e<t.length;e++){for(var n=t[e],i=!1,a=0;a<this.position.length;a++)if(this.position[a].positionId===n.ID){i=!0;break}if(!i){var o={departId:n.PID,departName:n.ParentName,positionId:n.ID,positionName:n.Name,Items:[{documentId:0,name:"",departId:n.departId,departName:n.departName,positionId:n.ID,positionName:n.Name,categoryId:0,categoryName:"",baseScore:0,calcType:0,minRate:0,maxRate:0,description:"",associationSystemId:0,associationSystemName:"",associationSystemItemId:0,associationSystemItemName:"",tag:"",changeStatus:0,changeStatusStr:"",performanceId:0,status:0,statusStr:"",auditeRemark:"",createTime:"",companyId:0,companyName:""}]};this.position.push(o),this.data.applyPerformanceItem.push(o.Items[0])}}},EditItem:function(t,e){for(var n=0;n<this.position.length;n++)if(this.position[n].positionId===t){this.currentItem=this.position[n].Items[e];break}this.itemShow=!0},DeletePosition:function(t){for(var e=0;e<this.position.length;e++)if(this.position[e].positionId===t)return void this.position.splice(e,1)},DeleteItem:function(t,e){for(var n=0;n<this.position.length;n++)this.position[n].positionId===t&&this.position[n].Items.splice(e,1)},AddItem:function(t){this.currentItem={departId:0,departName:"",positionId:t.positionId,positionName:t.positionName},this.itemShow=!0},HandleItem:function(){for(var t=0;t<this.position.length;t++)if(this.position[t].positionId===this.currentItem.positionId){this.IsPositionItem(this.position[t].Items,this.currentItem.name)||(this.position[t].Items.push(this.currentItem),this.data.applyPerformanceItem.push(this.currentItem));break}this.itemShow=!1},HandleCloseDialog:function(){this.itemShow=!1},HandleSave:function(){var t=this;this.data.applyPerformanceItem=[];for(var e=0;e<this.position.length;e++)for(var n=0;n<this.position[e].Items.length;n++)this.data.applyPerformanceItem.push(this.position[e].Items[n]);var i=void 0;i=0===this.data.Id?C.BaseApplyCreate(this.data):C.BaseApplyEdit(this.data);var a=this;i.then(function(e){e.Success?(a.$message("保存成功"),t.$router.push({name:"BaseApplyList"})):a.$message.error(e.Error)}).catch(function(t){})},GetData:function(){this.data.applyPerformanceItem=[];for(var t=0;t<this.position.length;t++)for(var e=0;e<this.position[t].Items.length;e++){var n=this.position[t].Items[e];n.departId=this.position[t].departId,n.departName=this.position[t].departName,n.positionId=this.position[t].positionId,n.positionName=this.position[t].Name,this.data.applyPerformanceItem.push(n)}return this.data},ImportItem:function(t){this.importItem=!0,this.currentPosition=t},HandleBaseItem:function(){},HandleImport:function(){this.importExcel=!0},HandleExcel:function(){this.importExcel=!1;for(var t=0;t<this.exceldata.length;t++){var e=this.exceldata[t],n=this.Covent(e),i=void 0;this.IsPosition(e.positionId)?(i=this.GetPosition(e.positionId),i.Items.push(n)):(i={positionId:e.positionId,positionName:e.positionName,departId:e.departId,departName:e.departName,Items:[]},i.Items.push(n),this.position.push(i))}},DownloadTmp:function(){var t=this;C.DownLoad(this.data).then(function(e){e.Success?window.location.href=e.Data:t.$message.error(e.Error)}).catch(function(t){})},EventSelected:function(t){for(var e=0;e<t.length;e++){var n={};s()(n,t[e]),n.documentId=0,n.positionId=this.currentPosition.positionId,n.positionName=this.currentPosition.positionName,n.departId=0,n.departName="",this.currentPosition.Items.push(n)}},UploadSuccess:function(t,e,n){t.Success?this.exceldata=t.Data:this.$message.error(t.Error)},Covent:function(t){return{documentId:t.documentId,name:t.name,departId:t.departId,departName:t.departName,positionId:t.positionId,positionName:t.positionName,categoryId:t.categoryId,categoryName:t.categoryName,baseScore:t.baseScore,calcType:t.calcType,minRate:t.minRate,maxRate:t.maxRate,description:t.description,associationSystemId:t.associationSystemId,associationSystemName:t.associationSystemName,associationSystemItemId:t.associationSystemItemId,associationSystemItemName:t.associationSystemItemName,tag:t.tag,changeStatus:t.changeStatus,changeStatusStr:t.changeStatusStr,performanceId:t.performanceId,status:t.status,statusStr:t.statusStr,auditeRemark:t.auditeRemark,createTime:b(t.createTime).format("YYYY-MM-DD"),companyId:t.companyId,companyName:t.companyName}}},watch:{documentid:function(){this.Loading()},companyid:function(){this.data.companyId=this.companyid},data:{handler:function(){var t={content:this.data,form:{formType:0,version:0},id:{id:this.data.documentId,type:5}};this.$emit("ChangeEvent",a()(t))},deep:!0}},created:function(){this.user=r.a.getUser(),this.data.CreateUserId=this.user.Id,this.data.CreateUserName=this.user.Name},components:{sorg:u.a,category:m.a,project:f.a,calctype:g.a,baseitem:_.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(40),a=n.n(i),o=n(6),s=n(542),r=n.n(s),l=n(128),c=n.n(l),u=n(154),d=n.n(u),p=n(1583),m=n.n(p),h=n(56),f=n(112),v=n(3),g=new h.a,y=new f.a;e.default={data:function(){return{documentid:0,loading:!1,companyid:0,DeclareModel:{documentId:0,companyId:0,applyDate:v().format("YYYY-MM-DD"),totalScore:0,itemNum:0},options:[],empVisible:!1,empData:[],currentItem:{},importItem:!1,user:{}}},methods:{Loading:function(){var t=this;this.documentid&&y.GetDeclare(this.documentid).then(function(e){if(e.Success){t.DeclareModel=e.Data,t.empData=[];for(var n=0;n<t.DeclareModel.items.length;n++){var i=t.DeclareModel.items[n],a={};if(t.IsEmpExists(i.userId)){for(var o=0;o<t.empData.length;o++)if(t.empData[o].userId===i.userId){a=t.empData[o];break}}else a={documentId:i.documentId,userId:i.userId,userName:i.userName,positionId:i.positionId,positionName:i.positionName,departId:i.departId,departName:i.departName,items:[]},t.empData.push(a);a.items.push({id:i.id,documentId:i.documentId,perDate:i.perDate,performanceId:i.performanceId,performanceName:i.performanceName,performanceNameShow:i.performanceName,calcType:i.calcType,calcTypeStr:i.calcTypeStr,num:i.num,remark:i.remark,BaseScore:i.perBaseScore,associationSystemId:i.associationSystemId,associationSystemItemId:i.associationSystemItemId,associationSystemItemName:i.associationSystemItemName,associationSystemName:i.associationSystemName,positionId:i.positionId,positionName:i.positionName,userId:i.userId,userName:i.userName})}}else t.$message.error(e.Error)}).catch(function(t){console.log(t)})},ChangeCompany:function(t){this.companyid=t},DeleteEmp:function(t){var e=this;this.$confirm("确定删除该员工?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){for(var n=0;n<e.empData.length;n++)if(e.empData[n].userId===t.userId){e.empData.splice(n,1);break}}).catch(function(){})},SelectEmployee:function(){this.empVisible=!0},SelectItem:function(){this.importItem=!0},CurrentRowSelect:function(t){this.currentItem=t},AddItem:function(t){for(var e=0;e<this.empData.length;e++)for(var n=0;n<this.empData[e].items.length;n++)if(this.empData[e].items[n].performanceId===t.performanceId){this.empData[e].items.push({perDate:v().format("YYYY-MM-DD"),performanceId:0,performanceName:"",performanceNameShow:"",calcType:0,calcTypeStr:"",num:1,remark:"",BaseScore:0,userId:this.empData[e].userId});break}},DeleteItem:function(t){for(var e=0;e<this.empData.length;e++)for(var n=0;n<this.empData[e].items.length;n++)if(this.empData[e].items[n].performanceId===t.performanceId&&this.empData[e].items[e].userId===t.userId){1===this.empData[e].items.length?this.empData.splice(e,1):this.empData[e].items.splice(n,1);break}},EmpEventSelected:function(t){console.log(t);for(var e=0;e<t.length;e++)if(!this.IsEmpExists(t[e].UserID)){var n={};a()(n,t[e]),n.documentId=0,n.userName=t[e].StaffName,n.userId=t[e].UserID,n.departId=t[e].DepartmentID,n.departName=t[e].DepartmentName,n.total=0,n.items=[{perDate:v().format("YYYY-MM-DD"),performanceId:0,performanceName:"",performanceNameShow:"",calcType:0,calcTypeStr:"",num:1,remark:"",BaseScore:0,userId:n.userId}],this.empData.push(n)}},ItemEventSelected:function(t){if(0==this.empData.length){var e={documentId:0,userId:o.a.getUser().userId,userName:o.a.getUser().Name,total:0,departId:0,departName:""};e.items=[];for(var n=0;n<t.length;n++)t[n].userId=e.userId,e.items.push(this.ToConvert(t[n]));this.empData.push(e)}else for(var i=0;i<this.empData.length;i++)for(var a=0;a<t.length;a++)this.IsPerExists(this.empData[i].items,t[a].Id)||(t[a].userId=this.empData[i].userId,this.empData[i].items.push(this.ToConvert(t[a])))},IsEmpExists:function(t){for(var e=0;e<this.empData.length;e++)if(this.empData[e].userId===t)return!0;return!1},IsPerExists:function(t,e){for(var n=0;n<t.length;n++)if(t[n].performanceId===e)return!0;return!1},ToConvert:function(t){return{perDate:v().format("YYYY-MM-DD"),performanceId:t.id,performanceName:t.name,performanceNameShow:t.name,calcType:t.calcType,calcTypeStr:t.calcTypeStr,num:1,remark:"",BaseScore:t.baseScore,associationSystemId:t.associationSystemId,associationSystemItemId:t.associationSystemItemId,associationSystemItemName:t.associationSystemItemName,associationSystemName:t.associationSystemName,positionId:t.positionId,positionName:t.positionName,userId:t.userId}},HandlePerChange:function(t){for(var e={},n=0;n<this.options.length;n++)if(this.options[n].Id===t){e=this.options[n];break}console.log(e),this.currentItem.performanceId=e.Id,this.currentItem.performanceName=e.Name,this.currentItem.BaseScore=e.BaseScore,this.currentItem.calcType=e.CalcType,this.currentItem.calcTypeStr=e.CalcTypeStr,this.currentItem.associationSystemId=e.associationSystemId},remoteMethod:function(t){var e=this,n={CompanyID:this.companyid,DepartID:0,PositionID:0,Keyword:t,PageIndex:1,PageSize:10};this.loading=!0,g.GetBaseItems(n).then(function(t){if(t.Success){e.options=[];for(var n=0;n<t.Data.length;n++)e.options.push(t.Data[n])}else e.$message.error(t.Error);e.loading=!1}).catch(function(t){e.loading=!1})},HandleSave:function(){var t=this;if(0==this.empData.length)return void this.$message.error("请选择要申报的员工");this.DeclareModel.items=[],console.log(this.empData);for(var e=0;e<this.empData.length;e++)for(var n=this.empData[e],i=0;i<n.items.length;i++){var a=n.items[i];this.DeclareModel.items.push({id:0,documentId:0,declareType:0,declareTypeStr:"",departId:n.departId,departName:n.departName,userId:a.userId,userName:a.userName,positionId:n.positionId,positionName:n.positionName,perDate:a.perDate,performanceId:a.performanceId,performanceName:a.performanceName,perBaseScore:a.BaseScore,calcType:a.calcType,calcTypeStr:a.calcTypeStr,num:a.num,totalScore:0,adjustmentScore:0,realScore:0,applyUserId:0,applyUserName:"",remark:a.remark,associationSystemId:a.associationSystemId,companyId:this.companyid})}this.DeclareModel.companyId=this.companyid,y.EditDeclare(this.DeclareModel).then(function(e){e.Success?(t.$message("编辑成功"),t.$router.push({name:"DeclareManager"})):t.$message.error(e.Error)}).catch(function(t){console.log(t)})},calculate:function(t){for(var e=0,n=0;n<t.items.length;n++)e+=t.items[n].num*t.items[n].BaseScore;return e}},mounted:function(){var t=o.a.getUser();this.DeclareModel.userName=t.Name,this.DeclareModel.userId=t.UserID,this.$route.params.id&&(this.documentid=this.$route.params.id)},watch:{documentid:function(){this.Loading()},empData:{handler:function(){this.DeclareModel.totalScore=0,this.DeclareModel.itemNum=this.empData.length;for(var t=0;t<this.empData.length;t++)for(var e=this.empData[t],n=0;n<e.items.length;n++){var i=e.items[n];void 0==i.BaseScore&&(i.BaseScore=0),this.DeclareModel.totalScore+=i.BaseScore*e.items[n].num}},deep:!0}},created:function(){this.user=o.a.getUser()},components:{employee:r.a,company:c.a,baseitem:d.a,declareview:m.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),a=n(542),o=n.n(a),s=n(128),r=n.n(s),l=n(154),c=n.n(l),u=n(56),d=n(112),p=n(3),m=(new u.a,new d.a);e.default={props:{documentid:0},data:function(){return{loading:!1,companyid:0,DeclareModel:{documentId:0,companyId:0,applyDate:p().format("YYYY-MM-DD"),totalScore:0,itemNum:0},options:[],empVisible:!1,empData:[],currentItem:{},importItem:!1}},methods:{Loading:function(){var t=this;this.documentid&&m.GetDeclare(this.documentid).then(function(e){if(e.Success){t.DeclareModel=e.Data,t.empData=[];for(var n=0;n<t.DeclareModel.items.length;n++){var i=t.DeclareModel.items[n],a={};if(t.IsEmpExists(i.userId)){for(var o=0;o<t.empData.length;o++)if(t.empData[o].userId===userid){a=t.empData[o];break}}else a={documentId:t.documentId,userId:i.userId,userName:i.userName,positionId:i.positionId,positionName:i.positionName,departId:i.departId,departName:i.departName,items:[]},t.empData.push(a);a.items.push({perDate:p(i.perDate).format("YYYY-MM-DD"),performanceId:i.performanceId,performanceName:i.performanceName,calcType:i.declareType,calcTypeStr:i.declareTypeStr,num:i.num,remark:i.remark,BaseScore:i.perBaseScore,associationSystemId:i.associationSystemId,associationSystemItemId:i.associationSystemItemId,associationSystemItemName:i.associationSystemItemName,associationSystemName:i.associationSystemName,positionId:i.positionId,positionName:i.positionName})}}else t.$message.error(e.Error)}).catch(function(t){console.log(t)})},ChangeCompany:function(t){this.companyid=t},Deletewarranty:function(){},SelectEmployee:function(){this.empVisible=!0},SelectItem:function(){this.importItem=!0},CurrentRowSelect:function(t){this.currentItem=t},IsEmpExists:function(t){for(var e=0;e<this.empData.length;e++)if(this.empData[e].userId===t)return!0;return!1},IsPerExists:function(t,e){for(var n=0;n<t.length;n++)if(t[n].performanceId===e)return!0;return!1},HandleSave:function(){var t=this;if(0==this.empData.length)return void this.$message.error("请选择要申报的员工");this.DeclareModel.companyId=this.companyid,m.EditDeclare(this.DeclareModel).then(function(e){e.Success?(t.$message("编辑成功"),t.$router.push({name:"DeclareManager"})):t.$message.error(e.Error)}).catch(function(t){console.log(t)})},calculate:function(t){for(var e=0,n=0;n<t.items.length;n++)e+=t.items[n].num*t.items[n].BaseScore;return e}},mounted:function(){var t=i.a.getUser();this.DeclareModel.userName=t.Name,this.DeclareModel.userId=t.UserID},watch:{documentid:function(){console.log("--------------------"+this.documentid),this.Loading()},empData:{handler:function(){this.DeclareModel.totalScore=0,this.DeclareModel.itemNum=this.empData.length;for(var t=0;t<this.empData.length;t++)for(var e=this.empData[t],n=0;n<e.items.length;n++)this.DeclareModel.totalScore+=e.items[n].BaseScore*e.items[n].num},deep:!0}},components:{employee:o.a,company:r.a,baseitem:c.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(112),a=new i.a;e.default={props:{dvisible:!1,companyid:0},data:function(){return{dialogVisible:!1,key:"",empData:[],selectRows:[]}},methods:{handleClose:function(){this.key="",this.dialogVisible=!1,this.$emit("update:dvisible",!1)},handleChange:function(){},handleSelect:function(){this.$emit("EventSelected",this.selectRows),this.handleClose()},handleSearch:function(){var t=this;a.SearchEmployee(this.companyid,this.key).then(function(e){e.Success?t.empData=e.Data:t.$message.error(e.Error)}).catch(function(t){console.log(t)})},handleSelectionChange:function(t){this.selectRows=t},handleTagClose:function(t){if(1==this.selectRows.length)return this.selectRows=[],void this.$refs.empTable.clearSelection();for(var e=0,n=0;n<this.selectRows.length;n++)if(this.selectRows[n].StaffCode==t.StaffCode){e=n;break}this.selectRows.splice(1,e)}},watch:{dvisible:function(){this.dialogVisible=this.dvisible,this.selectRows=[]},companyid:function(){this.handleSearch()}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(56),a=new i.a;e.default={props:{selectid:0,companyid:0},data:function(){return{cselectid:this.selectid,items:[]}},methods:{init:function(){var t=this;a.GetCategory(this.companyid).then(function(e){if(e.Success)for(var n=0;n<e.Data.length;n++){var i={};i.value=e.Data[n].CategoryId,i.text=e.Data[n].CategoryName,t.items.push(i)}else t.$message.error(e.Error)}).catch(function(t){})}},watch:{cselectid:function(){this.$emit("update:selectid",this.cselectid)},selectid:function(){this.cselectid=this.selectid}},created:function(){this.init()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(543),a=n.n(i),o=n(128),s=n.n(o),r=n(6),l=n(4),c=(n.n(l),n(3));e.default={data:function(){return{SearchFilter:{CompanyID:0,DepartmentId:0,PositionId:0,UserID:0,PerformanceId:0,BeginTime:"",EndTime:""},Filter:{BeginTime:"",EndTime:""},CompanyID:0}},methods:{ChangeCompany:function(t){this.CompanyID=t},Search:function(){if(this.SearchFilter.BeginTime="",this.SearchFilter.EndTime="",this.SearchFilter.CompanyID=0,void 0!=this.Filter.BeginTime&&void 0!=this.Filter.EndTime){var t=r.a.getUser();console.log(t),void 0!=t&&(this.SearchFilter.UserID=t.Id),this.SearchFilter.BeginTime=c(this.Filter.BeginTime).format("YYYY-MM-DD"),this.SearchFilter.EndTime=c(this.Filter.EndTime).format("YYYY-MM-DD"),this.SearchFilter.CompanyID=this.CompanyID}}},components:{peruserdetail:a.a,company:s.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(77),a=n(118),o=n(56),s=new o.a;e.default={data:function(){return{loading:!1,data:[],total:0,comapnyList:[],filters:{CompanyID:0,DepartID:0,PositionID:0,PageIndex:1,PageSize:10},itemfilters:{CompanyID:0,DepartID:0,PositionID:0,PageIndex:1,PageSize:5},deps:[],positions:[],selectDep:[],selectPosition:[],itemShow:!1,items:[],itemtotal:0}},methods:{init:function(){this.handlePager(),this.depModel.GDepItems(this.filters.CompanyID)},handleView:function(t){this.itemfilters.DepartID=t.DepartID,this.itemfilters.PositionID=t.PositionID,this.itemfilters.PageIndex=1,this.SearchItem()},handleItemPager:function(t){this.itemfilters.PageIndex=t,this.SearchItem()},SearchItem:function(){var t=this;this.items=[],s.GetBaseItems(this.itemfilters).then(function(e){e.Success?(t.items=e.Data,t.itemtotal=e.TotalCount,t.itemShow=!0):t.$message.error(e.Error)}).catch(function(t){})},handleEdit:function(){},handleDepChange:function(){this.depModel.GetPositions(this.filters.CompanyID,this.selectDep[0])},handlePositionChange:function(){},handleSearch:function(){this.filters.PageIndex=1,this.filters.DepartID=this.selectDep[0],this.filters.PositionID=this.selectPosition[0],this.handlePager()},handlePager:function(){var t=this,e=this;this.data.splice(0,this.data.length),this.loading=!0,s.GetOrgPerformanceList(this.filters).then(function(n){if(n.Success){var i=n.Data;if(void 0!=i)for(var a=0;a<i.length;a++)e.data.push(i[a]);t.total=n.TotalCount}else t.$message.error(n.Error);t.loading=!1}).catch(function(e){t.loading=!1})},ChangePage:function(t){this.filters.PageIndex=t,this.handlePager()},depLoadCompleted:function(t){this.deps=[];for(var e=0;e<t[0].Childs.length;e++)this.deps.push({value:t[0].Childs[e].ID,label:t[0].Childs[e].Name})},positionLoadCompleted:function(t){if(t.Success){this.positions=[];for(var e=0;e<t.Data.length;e++)this.positions.push({value:t.Data[e].ID,label:t.Data[e].Name})}else this.$message.error(t.Error)}},watch:{"filters.CompanyID":function(){this.handlePager(),this.depModel.GDepItems(this.filters.CompanyID),void 0!=this.selectPosition&&this.selectPosition.splice(0,this.selectPosition.length)}},created:function(){this.depModel=new i.a(this.$root.$options.Servers),this.depModel.EventsloadCompleted.loadCompleted=this.depLoadCompleted,this.depModel.EventsgetPositionsCompleted.loadCompleted=this.positionLoadCompleted;var t=this;a.a.Server().GetCompanyList(void 0,function(e){if(e.Success)for(var n=0;n<e.Data.length;n++){var i={};i.value=e.Data[n].ID,i.text=e.Data[n].Name,t.comapnyList.push(i),t.filters.CompanyID=t.comapnyList[0].value}})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(56),a=new i.a;e.default={props:{selectid:0,subselectid:0},data:function(){return{cselectid:this.selectid,csubselectid:this.subselectid,items:[],subitems:[]}},methods:{init:function(){var t=this;a.GetProjects().then(function(e){if(e.Success){for(var n=0;n<e.Data.length;n++){var i={};i.value=e.Data[n].ProjectId,i.text=e.Data[n].ProjectName,t.items.push(i)}t.cselectid=t.selectid}else t.$message.error(e.Error)}),this.initSubItems()},initSubItems:function(){var t=this;this.subitems=[],0!=this.cselectid&&void 0!=this.cselectid&&a.GetProjectItems(this.cselectid).then(function(e){if(e.Success){for(var n=0;n<e.Data.length;n++){var i={};i.value=e.Data[n].ItemId,i.text=e.Data[n].ItemName,t.subitems.push(i)}t.csubselectid=t.subselectid}else t.$message.error(e.Error)})}},watch:{cselectid:function(){this.initSubItems(),this.$emit("update:selectid",this.cselectid)},csubselectid:function(){this.$emit("update:subselectid",this.csubselectid)},selectid:function(){this.cselectid=this.selectid,this.csubselectid=this.subselectid},subselectid:function(){this.cselectid=this.selectid,this.csubselectid=this.subselectid}},created:function(){this.init()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(932),a=n(4);n.n(a),n(3);e.default={data:function(){return{Source:[]}},DetailManager:void 0,props:{CompanyID:0,DepartmentId:0,PositionId:0,UserID:0,PerformanceId:0,BeginTime:"",EndTime:""},watch:{CompanyID:function(){this.Search()},DepartmentId:function(){this.Search()},PositionId:function(){this.Search()},UserID:function(){this.Search()},PerformanceId:function(){this.Search()},BeginTime:function(){this.Search()},EndTime:function(){this.Search()}},methods:{Init:function(){this.DetailManager=new i.a(this.$root.$options.Servers),this.DetailManager.EventSearchComplete.SearchComplete=this.SearchComplete,this.DetailManager.EventError.ErrorComplete=this.ErrorComplete,this.Search()},ErrorComplete:function(t){void 0!=t.Error&&this.$message({type:"error",message:t.Error})},SearchComplete:function(t){if(void 0!=this.Source&&this.Source.length>0&&this.Source.splice(0,this.Source.length),t.Success){var e=this.DetailManager.ResultList;if(void 0!=e&&e.length>0)for(var n=0;n<e.length;n++)this.Source.push(e[n])}else this.ErrorComplete(t)},Search:function(){if(void 0==this.CompanyID||0==this.CompanyID)return!1;this.DetailManager.filter={},this.DetailManager.filter.CompanyID=this.CompanyID,this.DetailManager.filter.DepartmentId=this.DepartmentId,this.DetailManager.filter.PositionId=this.PositionId,this.DetailManager.filter.UserID=this.UserID,this.DetailManager.filter.PerformanceId=this.PerformanceId,this.DetailManager.filter.BeginTime=this.BeginTime,this.DetailManager.filter.EndTime=this.EndTime,this.DetailManager.filter.PageIndex=this.PageIndex,this.DetailManager.filter.PageSize=this.PageSize,this.DetailManager.Search()}},mounted:function(){this.Init()},components:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(543),a=n.n(i),o=n(4);n.n(o);e.default={data:function(){return{dialogVisible:!1,title:"绩效申报历史",SearchFilter:{CompanyID:0,DepartmentId:0,PositionId:0,UserID:0,PerformanceId:0,BeginTime:"",EndTime:""}}},props:{Visiable:!1,CompanyID:0,DepartmentId:0,PositionId:0,UserID:0,PerformanceId:0,BeginTime:"",EndTime:""},watch:{Visiable:function(){this.dialogVisible=this.Visiable,this.SearchFilter.DepartmentId=this.DepartmentId,this.SearchFilter.PositionId=this.PositionId,this.SearchFilter.UserID=this.UserID,this.SearchFilter.PerformanceId=this.PerformanceId,this.SearchFilter.BeginTime=this.BeginTime,this.SearchFilter.EndTime=this.EndTime,this.SearchFilter.CompanyID=this.CompanyID}},methods:{Init:function(){},Cancel:function(){this.SearchFilter.CompanyID=0,this.SearchFilter.DepartmentId=0,this.SearchFilter.PositionId=0,this.SearchFilter.UserID=0,this.SearchFilter.PerformanceId=0,this.SearchFilter.BeginTime="",this.SearchFilter.EndTime="",this.$emit("update:Visiable",!1),this.$emit("EventClose"),this.dialogVisible=!1}},mounted:function(){this.Init()},components:{peruserdetail:a.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),a=n(112),o=n(3),s=new a.a;e.default={data:function(){return{documentid:0,loading:!1,companyid:0,DeclareModel:{documentId:0,companyId:0,applyDate:o().format("YYYY-MM-DD"),totalScore:0,itemNum:0},empData:[],currentItem:{},moreShow:!1}},methods:{Loading:function(){var t=this;this.documentid&&s.GetDeclare(this.documentid).then(function(e){if(e.Success){t.DeclareModel=e.Data,t.empData=[];for(var n=0;n<t.DeclareModel.items.length;n++){var i=t.DeclareModel.items[n],a={};if(t.IsEmpExists(i.userId)){for(var s=0;s<t.empData.length;s++)if(t.empData[s].userId===i.userId){a=t.empData[s];break}}else a={documentId:t.documentId,userId:i.userId,userName:i.userName,positionId:i.positionId,positionName:i.positionName,departId:i.departId,departName:i.departName,items:[]},t.empData.push(a);a.items.push({perDate:o(i.perDate).format("YYYY-MM-DD"),performanceId:i.performanceId,performanceName:i.performanceName,performanceNameShow:i.performanceName,calcType:i.calcType,calcTypeStr:i.calcTypeStr,num:i.num,remark:i.remark,BaseScore:i.perBaseScore,associationSystemId:i.associationSystemId,associationSystemItemId:i.associationSystemItemId,associationSystemItemName:i.associationSystemItemName,associationSystemName:i.associationSystemName,positionId:i.positionId,positionName:i.positionName,userId:a.userId})}}else t.$message.error(e.Error)}).catch(function(t){console.log(t)})},IsEmpExists:function(t){for(var e=0;e<this.empData.length;e++)if(this.empData[e].userId===t)return!0;return!1},calculate:function(t){for(var e=0,n=0;n<t.items.length;n++)e+=t.items[n].num*t.items[n].BaseScore;return e},mouseenter:function(t,e){this.currentItem=e,this.moreShow=!0;var n=t.clientX-30,i=t.clientY-70,a=document.getElementById("board");a.style.left=n+"px",a.style.top=i+"px";var o=document.getElementById("upsmall");o.style.left=n+30+"px",o.style.top=i+70+"px";var s=document.getElementById("upbig");s.style.left=n+30+"px",s.style.top=i+70+"px";var r=document.getElementById("bubble");r.style.left=n+"px",r.style.top=i+70+15+"px"}},mounted:function(){var t=i.a.getUser();this.DeclareModel.userName=t.Name,this.DeclareModel.userId=t.UserID,this.documentid=0,this.$route.params.id&&(this.documentid=this.$route.params.id)},watch:{documentid:function(){this.Loading()}},created:function(){this.user=i.a.getUser()},components:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,a=n(36),o=n.n(a),s=n(6),r=n(328),l=n(329),c=n(88),u=n(50),d=new u.a;e.default={props:{docId:{type:[Number,String],default:0},doLoad:{type:[Boolean],default:!0}},data:function(){return{notTempPreNode:[],isAutoFill:!1,isExpMe:!1,hasrights:!1,uploadURL:d.getUploadUrl(),headers:{Authorization:"bearer "+s.a._getToken()},data:{type:"batch"},fileList:[],user:{},dialogTitle:"",visiable:!1,companyID:0,docStatus:0,batchType:0,templateID:0,templateList:[],nodeUserList:[],optionalUserList:[],condition:1,content:"",flag:10}},computed:{step:function(){return this.$data.docStatus<1?0:this.$data.docStatus<10?1:this.$data.docStatus<20?2:3}},watch:{docId:"load",templateID:"setNodeUser",nodeUserList:"fixNodeUser",condition:"fixCondition",isAutoFill:"fillUser",isExpMe:"fillGroup"},NodesTemplateModel:null,UsersModel:null,BatchDocModel:null,ModelsManage:c.a,methods:(i={init:function(){this.$data.user=s.a.getUser(),this.ModelsManage=c.a,this.ModelsManage.Init(this.$root.$options.Servers),this.NodesTemplateModel=new r.a(this.$root.$options.Servers),this.UsersModel=new l.a(this.$root.$options.Servers),this.NodesTemplateModel.EventloadItems=this.Load_CompletedT,this.UsersModel.EventloadItems=this.Load_CompletedU,this.$root.$options.Bus.add("Submit","Dialog",this.Open),this.load(),this.fileList=[]},Open:function(t){this.isAutoFill=!1,this.isExpMe=!1,this.$data.flag=t,this.$data.visiable=!0,this.$data.templateID=this.BatchDocModel.Batch.Node.TemplateID,this.setNodeUser()},close:function(){this.$data.visiable=!1,this.fileList.length>0&&this.fileList.splice(0,this.fileList.length)},fixCondition:function(){},fillGroup:function(){if(this.$data.nodeUserList=[],this.isAutoFill)for(var t=[],e=s.a.getUser().Id,n=0;n<this.notTempPreNode.length;n++){var i=this.notTempPreNode[n],a=!1;if(!this.isExpMe||i.id!=e){for(var o=0;o<t.length;o++)if(t[o].grouptype==i.grouptype&&t[o].groupid==i.groupid){a=!0;break}0==a&&(this.$data.nodeUserList.push(i.groupid+"-"+i.grouptype),t.push({grouptype:i.grouptype,groupname:i.groupname,id:i.groupid,groupid:i.groupid,name:i.groupname}))}}},fillUser:function(){console.log(this.$data.flag),this.isAutoFill&&(this.isExpMe=!1),this.fillGroup()},fixNodeUser:function(){},setNodeUser:function(){if(this.hasrights=!0,this.$data.templateID>0){var t=this.BatchDocModel.Batch.Info.CompanyID,e=s.a.getUser();if(this.hasrights=!1,e.UserPowers.length>0)for(var n=0;n<e.UserPowers.length;n++)e.UserPowers[n].CompanyID==t&&(this.hasrights=e.UserPowers[n].AddUserRights)}if(this.hasrights=!this.hasrights,this.$data.templateID<1){if(this.$data.nodeUserList=[],this.$data.condition=1,this.step>0){for(var i=this.BatchDocModel.Batch.Node.Nodes,a=void 0,o=0;o<i.length;o++)if(i[o].index==this.BatchDocModel.Batch.Node.CurrentIndex){a=i[o].Users;break}if(this.notTempPreNode.splice(0,this.notTempPreNode.length),void 0!=a)for(var r=0;r<a.length;r++)this.notTempPreNode.push({groupid:a[r].groupid,groupname:a[r].groupname,grouptype:a[r].grouptype,id:a[r].id,name:a[r].name})}}else 0==this.step?this.NodesTemplateModel.loadByID(this.$data.templateID):this.LoadNodeUser()},LoadNodeUserT:function(t){this.$data.condition=t.condition,this.$data.nodeUserList=[];for(var e=0;e<t.UserIDs.length;e++)this.$data.nodeUserList.push(t.UserIDs[e])},LoadNodeUser:function(){for(var t=this.BatchDocModel.Batch.Node,e=t.CurrentIndex+1,n=null,i=0;i<t.Nodes.length;i++)if(t.Nodes[i].index==e){n=t.Nodes[i].Users,this.$data.condition=t.Nodes[i].MustAgreeCount;break}this.$data.nodeUserList=[];var a=[];if(null!=n)for(var o=0;o<n.length;o++){for(var s=n[o],r=!1,l=0;l<a.length;l++)if(a[l].grouptype==s.grouptype&&a[l].groupid==s.groupid){r=!0;break}0==r&&(this.$data.nodeUserList.push(s.groupid+"-"+s.grouptype),a.push({grouptype:s.grouptype,groupname:s.groupname,id:s.groupid,groupid:s.groupid,name:s.groupname}))}},load:function(){this.BatchDocModel=this.ModelsManage.GetBatchDoc(this.docId),this.BatchDocModel.EventsloadCompleted.BatchSubmit=this.Load_Completed,this.BatchDocModel.Eventssubmit.BatchSubmit=this.Submit_Completed,this.$data.content="",this.doLoad&&this.BatchDocModel.load()},Load_Completed:function(t){this.$data.companyID=this.BatchDocModel.Batch.Info.CompanyID,this.$data.docStatus=this.BatchDocModel.Batch.Status,null!=this.$data.companyID&&(this.NodesTemplateModel.load(this.$data.companyID),this.UsersModel.load(this.$data.companyID))},Load_CompletedT:function(t){var e=this.$data.templateList,n=this.NodesTemplateModel.Items;e.splice(0,e.length),e.push({Title:"自由流程",ID:0});for(var i=0;i<n.length;i++)e.push({Title:n[i].Title,ID:n[i].ID}),0==this.step&&n[i].ID>0&&n[i].ID==this.$data.templateID&&null!=n[i].UserIDs&&this.LoadNodeUserT(n[i])},Load_CompletedU:function(t){var e=this.$data.optionalUserList,n=this.UsersModel.Items;e.splice(0,e.length);for(var i=0;i<n.length;i++)e.push({Title:n[i].Title,ID:n[i].ID,GroupType:n[i].GroupType})},Submit_Completed:function(t){var e="提交失败;"+t.Error;t.Success&&(e="提交成功",this.$root.$options.Bus.emit("bdchange",this.docId),this.BatchDocModel.load(),this.close()),this.$message(e)},submit:function(){var t=this.$data,e=this.BatchDocModel.Submit;if(e.CreateUserID=t.user.Id,e.TemplateID=t.templateID,e.IsExpMe=this.isExpMe,0==t.nodeUserList.length&&t.flag<4&&t.flag>-1)return void this.$message("请选择待审批人员"+t.flag);e.ListUsers=t.nodeUserList,e.Comment=t.content,e.ListFiles=this.fileList,this.BatchDocModel.submit(t.flag)},updateData:function(t){this.$data.content=t},checkFile:function(t){if(void 0!=t&&void 0!=this.fileList)for(var e=this.fileList.length-1;e>=0;e--)if(this.fileList[e].name==t.name)return this.$message.error("有相同文件名附件!"),!1},handlePreview:function(t){var e=document.createElement("iframe");e.src=t.url,e.style.display="none",document.body.appendChild(e)},handleUploadSuccess:function(t,e){var n={};void 0!=t.Data&&(n.key=t.Data.Key,n.name=t.Data.Name,n.url=t.Data.Url,n.type=e.raw.type,this.fileList.push(n))}},o()(i,"handleUploadSuccess",function(t,e){var n={};void 0!=t.Data&&(n.key=t.Data.Key,n.name=t.Data.Name,n.url=t.Data.Url,n.type=e.raw.type,this.fileList.push(n))}),o()(i,"handleRemove",function(t,e){this.fileList=e}),i),mounted:function(){this.init()},components:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(141),a=new i.a;e.default={props:{value:{type:[Number,String],default:""},docID:{type:[Number,String],default:0},content:{type:String,default:""},isEdit:{type:Boolean,default:!1},status:{type:Number,default:0},commandId:{type:Number,default:0}},data:function(){return{TypeID:0,SelectDocID:0,logo:"",bg:"",sign:"",seal:""}},watch:{value:"valueupdateData",commandId:function(){this.getCompanyView(this.commandId)}},computed:{StatusShow:function(){return this.status>=10&&this.status<=20}},methods:{valueupdateData:function(){this.$data.content=this.value},updateData:function(t){this.$emit("input",t)},getCompanyView:function(t){var e=this;a.getCompanyView(t).then(function(t){t.Success&&(""==t.Data.StrLogo&&""==t.Data.StrSign&&""==t.Data.StrSeal&&t.Data.StrBackground,""==t.Data.StrLogo?e.logo="":e.getFile(t.Data.StrLogo),""==t.Data.StrSign?e.sign="":e.getFile(t.Data.StrSign),""==t.Data.StrSeal?e.seal="":e.getFile(t.Data.StrSeal),""==t.Data.StrBackground?e.bg="":e.getFile(t.Data.StrBackground))})},getFile:function(t){var e=this;a.getFile({key:t}).then(function(t){if(t.Success){var n={};n.key=t.Data.Key,n.name=t.Data.Name,n.url=t.Data.Url,n.Extends=t.Data.Extends;for(var i=0;i<n.Extends.length;i++)"pos"==n.Extends[i].Key&&("logo"==n.Extends[i].Value?e.logo="url('"+n.url+"')":"seal"==n.Extends[i].Value?e.seal="url('"+n.url+"')":"sign"==n.Extends[i].Value?e.sign="url('"+n.url+"')":"bg"==n.Extends[i].Value&&(e.bg="url('"+n.url+"')"))}})}},mounted:function(){this.valueupdateData()},components:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),a=n(63),o=n(4),s=n.n(o);e.default={data:function(){return{user:{}}},filters:{},computed:{languageText:function(){return"cn"===this.language.lang?"English Version":"切换至中文版"}},watch:{},methods:{onToggleLanguage:function(){this.language.lang="cn"===this.language.lang?"en":"cn",this.$forceUpdate()},init:function(){var t=i.a.getUser();s.a.isEmpty(t)||(this.user=i.a.getUser())},logout:function(){var t=this;this.$confirm("确认注销登录","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.a.removeItem(a.a.UserKey),t.$userManager.logout(),t.$router.push({path:"/login"})})}},mounted:function(){this.init()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),a=n(23),o=n(1596),s=n.n(o),r=n(1592),l=n.n(r),c=n(1593),u=n.n(c),d=n(544),p=n.n(d);e.default={data:function(){return{TypeID:0,SelectDocID:0,propid:0,proptype:"",endorsementFile:this.$endorsementManager.createEndorsementFile(),endorsementFileLoading:!1,initializeDocumentId:0,displayNodes:!1,showFlowNodeInTab:!1}},watch:{$route:"init"},methods:{onShowFlowNodeInTab:function(t){this.showFlowNodeInTab=t,t||(this.SelectDocID=this.endorsementFile.DocumentId)},init:function(){this.TypeID=this.$route.params.type,this.$root.$options.Bus.add("newdraft","kanban",this.NewDraft),this.$root.$options.Bus.add("newdraftsave","kanban",this.NewDraftSave),this.$root.$options.Bus.add("nodescount","KanbanDoc",this.OnDisplayNodeList),void 0!==this.$route.params.propid&&this.CreateDraft(this.$route.params.propid,this.$route.params.proptype)},OnDisplayNodeList:function(t){this.displayNodes=t>0},onLoadFailed:function(t,e){this.$message.error("加载失败"),this.$root.$options.Bus.emit("bdchange",e)},selectChange:function(t){var e=this,n=this.$data.SelectDocID;t>0?(this.endorsementFileLoading=!0,this.$endorsementManager.loadEndorsementFile(t).then(function(t){return e.endorsementFile=t}).catch(function(t){return e.onLoadFailed(t,n)}).finally(function(){this.endorsementFile.DocumentId==this.SelectDocID&&(this.endorsementFileLoading=!1)}.bind(this))):this.endorsementFile.DocumentId>0&&(this.endorsementFile=this.$endorsementManager.createEndorsementFile()),this.$data.SelectDocID=t},NewDraft:function(){this.CreateDraft(0,"")},NewDraftSave:function(){this.$data.TypeID=1,this.$root.$options.Bus.emit("selectDraft",1)},CreateDraft:function(t,e){this.endorsementFile=this.$endorsementManager.createEndorsementFile(),this.initializeDocumentId=t,this.$data.propid=t,this.$data.proptype=e,this.$data.TypeID=1,this.$root.$options.Bus.emit("selectDraft",1),this.$root.$options.Bus.emit("bdchange",0)},print:function(){var t=this,e=a.a+"/api/PDF/GetPDF";i.a.get(e,{docid:this.SelectDocID,timeoutMilliseconds:1e6}).then(function(e){e.Success?window.open(e.Data):t.$message.error(e.Error)})}},mounted:function(){this.init()},components:{meToolbar:s.a,meDoc:l.a,meList:u.a,meNodes:p.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1595),a=n.n(i),o=n(1594),s=n.n(o),r=n(544),l=n.n(r),c=n(1588),u=n.n(c),d=n(88);e.default={props:{docId:{type:[Number,String],default:0},doLoad:{type:[Boolean],default:!0},propid:{type:Number,default:0},proptype:{type:String,default:""}},data:function(){return{DoLoad:!1,lcss:"col-9"}},watch:{docId:"Load"},BatchDocModel:null,ModelsManage:d.a,methods:{init:function(){this.ModelsManage=d.a,this.ModelsManage.Init(this.$root.$options.Servers),this.$root.$options.Bus.add("nodescount","KanbanDoc",this.hideNodes),this.Load()},Load:function(){this.BatchDocModel=this.ModelsManage.GetBatchDoc(this.docId),this.BatchDocModel.EventsloadCompleted.KanbanDoc=this.Load_Completed,this.doLoad&&this.BatchDocModel.load()},hideNodes:function(t){this.$data.lcss=t<1?"col-12":"col-9"},Load_Completed:function(t){}},mounted:function(){this.init()},components:{meDocToolbar:a.a,meDocContents:s.a,meDocNodes:l.a,meDocSubmit:u.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(923),a=n(987),o=n(4),s=n.n(o),r=n(3),l=n.n(r);e.default={props:{kanbanTypeId:{type:[Number,String],default:0},sid:{type:[Number,String],default:0}},data:function(){return{DocID:-1,Items:[],loading:!1,loadWhenDocIDChanged:!0,hasMore:!0,filter:{after:"近一个月",keyword:"",applied:!1,afterItems:[{label:"近一周",value:1,type:"weeks"},{label:"近两周",value:2,type:"weeks"},{label:"近一个月",value:1,type:"months"},{label:"近两个月",value:2,type:"months"},{label:"近半年",value:6,type:"months"},{label:"近一年",value:1,type:"years"}]}}},computed:{supportSearch:function(){return 6==this.kanbanTypeId},additionalMode:function(){return this.supportSearch},selectedAfter:function(){var t=this,e=this.supportSearch?s.a.find(this.filter.afterItems,function(e){return e.label===t.filter.after}):null;return s.a.isNull(e)?null:l()().add(-e.value,e.type)},query:function(){return{fetchSize:this.supportSearch?20:1e3,fetchStartIndex:this.supportSearch?this.Items.length:0,keyword:this.supportSearch&&this.filter.applied?this.filter.keyword:"",after:this.selectedAfter}}},watch:{kanbanTypeId:"doFilterQuery",DocID:"Load"},KanbanDocListModel:null,methods:{resetFilter:function(){this.filter.keyword="",this.filter.applied=!1,this.doFilterQuery()},applyFilter:function(){this.filter.applied=!s.a.isEmpty(this.filter.keyword),this.filter.applied&&this.doFilterQuery()},init:function(){this.KanbanDocListModel=new i.a(this.$root.$options.Servers),this.KanbanDocListModel.EventloadItems=this.Load_Completed,this.KanbanDocListModel.EventReadDoc=this.LoadReadDoc_Completed,this.$root.$options.Bus.add("bdchange","List",this.bdchange),this.$root.$options.Bus.add("draftUpdated","List",this.onDraftUpdated),this.$root.$options.Bus.add("onRefreshKanbanList","List",this.onRefreshKanbanList)},bdchange:function(t){t===this.$data.DocID&&this.SelectItem(this.$data.DocID),this.$data.DocID=t},doFilterQuery:function(){this.hasMore=!0,this.Items.splice(0,this.Items.length),this.Load()},onRefreshKanbanList:function(t){(s.a.any(this.Items,function(e){return e.ID===t})||t<=0)&&this.doFilterQuery()},Load:function(){this.loadWhenDocIDChanged?this.LoadMore():(this.loadWhenDocIDChanged=!0,this.SelectItem(this.$data.DocID))},LoadMore:function(){this.loading=!0,this.KanbanDocListModel.loadItemsAllByUserID(11,this.kanbanTypeId,this.query)},ReplaceSubTitle:function(t){return this._rt(t,["草稿","待签收","已签收","已归档","已删除","已同意"])},onDraftUpdated:function(t){var e=s.a.find(this.$data.Items,function(e){return e.ID===t.DocumentId});s.a.isEmpty(e)||(e.Title=t.Title)},Load_Completed:function(t){var e=this.$data.Items,n=this.KanbanDocListModel.Items;this.additionalMode?this.hasMore=n.length>=this.query.fetchSize:e.splice(0,e.length);for(var i=!1,a=0;a<n.length;a++){var o=n[a].Date;o.indexOf("T")>=0&&(o=o.substring(0,o.indexOf("T"))),e.push({Title:n[a].Title,ID:n[a].ID,Priority:n[a].Priority,SubTitle:n[a].SubTitle,IsConcerns:n[a].IsConcerns,Date:o,CreateUserName:n[a].UserName,DocumentType:n[a].DocumentType,Unread:n[a].Unread}),this.$data.DocID==n[a].ID&&(i=!0)}this.additionalMode||(!i&&n.length>0&&0!=this.$data.DocID&&(this.$data.DocID=n[0].ID),this.SelectItem(this.$data.DocID)),this.loading=!1},LoadReadDoc_Completed:function(t,e,n){this.$data.DocID=n},OnClickItem:function(t){t.Unread&&this.KanbanDocListModel.readDoc(this.kanbanTypeId,t.ID),this.loadWhenDocIDChanged=!1,this.$data.DocID=t.ID,t.Unread=!1},SelectItem:function(t){this.$data.DocID=t,this.$emit("onselect",t)},SetConcerns:function(t){var e=this,n=a.a.Server();1==t.IsConcerns?n.CancelConcernsDocument(t.ID,function(n){n.Success&&(e.$message("取消关注成功"),t.IsConcerns=!1)}):n.ConcernsDocument(t.ID,function(n){n.Success&&(e.$message("关注成功"),t.IsConcerns=!0)})}},mounted:function(){this.init()},components:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1604),a=(n.n(i),n(1599)),o=(n.n(a),n(1600)),s=(n.n(o),n(1603)),r=(n.n(s),n(1601)),l=(n.n(r),n(1589)),c=(n.n(l),n(88)),u=n(6),d=n(541),p=(n.n(d),n(3));e.default={props:{docId:{type:[Number],default:0},doLoad:{type:[Boolean],default:!0},propid:{type:Number,default:0},proptype:{type:[String],default:""}},data:function(){return{Contents:{ID:0,Title:"",BatchTypeID:0,CompanyID:0,DepartmentName:"",CreateTime:"",CreateUser:"",Context:"",propid:3,Status:0},editableTabsValue:"1",isEdit:!0,isEdit02:!0,ContractJSON:void 0,cpropid:0,ScyJSON:void 0,DocContent:void 0,tableTabs:{},typeTag:0}},watch:{docId:"Load"},computed:{},BatchDocModel:null,ModelsManage:c.a,UserEmployees:null,methods:{init:function(){console.log("into init"),this.ModelsManage=c.a,this.ModelsManage.Init(this.$root.$options.Servers),this.Load()},Load:function(){this.isEdit=0===this.docId,this.BatchDocModel=this.ModelsManage.GetBatchDoc(this.docId),this.BatchDocModel.EventsloadCompleted.KanbanDocContents=this.Load_Completed,this.BatchDocModel.Eventscommit.KanbanDocContents=this.Commit,this.doLoad&&this.BatchDocModel.load()},GetContents:function(){var t=this.$data.Contents,e=this.BatchDocModel.Batch.Info;t.Status=this.BatchDocModel.Batch.Status,t.ID=e.DocumentID,t.Title=e.Title,t.BatchTypeID=e.BatchTypeID,t.CompanyID=e.CompanyID,t.Priority=e.Priority,t.DepartmentName=e.DepartmentName,t.CreateTime=e.CreateTime,t.CreateUser=e.CreateUser,t.Context=e.context,t.ExendedDocuemnts=e.ExendedDocuemnts,void 0!=t.CreateTime&&e.CreateTime.indexOf("T")>=0&&(t.CreateTime=t.CreateTime.substring(0,t.CreateTime.indexOf("T"))),null!=t.ExendedDocuemnts&&t.ExendedDocuemnts.length>0?this.cpropid=t.ExendedDocuemnts[0].RelevanceId:(this.cpropid=0,this.tag=this.proptype),0==t.ID&&(void 0!=u.a.getUser().UserPowers&&u.a.getUser().UserPowers.length>0&&(t.CreateTime=p().format("YYYY-MM-DD")),t.CreateUser=u.a.getUser().Name),this.$data.tableTabs=this.setTableTabs(this.typeTag)},SetContents:function(){var t=this.$data.Contents,e=this.BatchDocModel.Batch.Info;if(e.Title=t.Title,e.BatchTypeID=t.BatchTypeID,e.CompanyID=t.CompanyID,e.Priority=t.Priority,e.DepartmentName=t.DepartmentName,e.CreateTime=t.CreateTime,e.CreateUser=t.CreateUser,e.context=this.DocContent,void 0==e.ExendedDocuemnts&&(e.ExendedDocuemnts=[]),e.ExendedDocuemnts.length>0&&e.ExendedDocuemnts.splice(0,e.ExendedDocuemnts.length),console.log(this.ScyJSON),void 0!=this.ScyJSON&&""!=this.ScyJSON){var n=JSON.parse(this.ScyJSON);if(console.log(n),void 0!=this.ScyJSON&&""!=this.ScyJSON){var n=JSON.parse(this.ScyJSON),i={};i.DocumentId=e.DocumentId,i.ExtendType=n.id.type,i.ExtendContext=this.ScyJSON,i.RelevanceId=n.content.documentId,i.RequestTime=p().format("YYYY-MM-DD"),e.ExendedDocuemnts.push(i)}}},setTableTabs:function(t){this.cpropid=this.cpropid>0?this.cpropid:this.propid,this.docId<1&&(this.isEdit=!0);var e=[{title:"呈文",name:"1",type:"doc-factum",content:"11doc-factum",propid:0,isEdit:this.isEdit,commandType:2,status:this.Contents.Status}];return 2==t?e.push({title:"供应商",name:"2",type:"supplier-detail",content:"22supplier-detail",propid:this.cpropid,isEdit:this.isEdit,commandType:2,cid:0}):3==t?e.push({title:"合同",name:"3",type:"contract-detail",content:"33contract-detail",propid:this.cpropid,isEdit:this.isEdit,commandType:2,cid:0}):4==t?e.push({title:"付款",name:"4",type:"pay-detail",content:"44pay-detail",propid:this.cpropid,isEdit:this.isEdit,commandType:2,cid:0}):7==t&&e.push({title:"基础绩效",name:"7",type:"EditBaseComponent",content:"77base-detail",propid:this.cpropid,isEdit:this.isEdit,commandType:2,cid:0}),e},Load_Completed:function(t){this.GetContents(),""!=this.proptype&&0==this.Contents.BatchTypeID?(this.typeTag=this.proptype,this.$data.tableTabs=this.setTableTabs(this.typeTag),this.$data.isEdit02=!1,this.$root.$options.Bus.emit("selectidbytag",this.proptype)):this.$data.isEdit02=!0},Commit:function(){this.SetContents()},ChangeCompany:function(t){for(var e=u.a.getUser().Companys,n=0;n<e.length;n++)if(e[n].CompanyID==t)return this.Contents.DepartmentName=e[n].DepartmentName,void(this.Contents.CreateUser=e[n].StaffName);this.Contents.DepartmentName="",this.Contents.CreateUser=""},ChangeBatchType:function(t){(t<=1||this.proptype<=1)&&(this.ScyJSON=""),this.typeTag=t,this.tableTabs=this.setTableTabs(t)},editOrView:function(){this.isEdit=!this.isEdit,this.tableTabs=this.setTableTabs(this.typeTag)},ChangeEvent:function(t){this.ScyJSON=t},ChangeContent:function(t){this.DocContent=t},print:function(){var t=this,e=base+"/api/PDF/GetPDF";u.a.get(e,{docid:this.Contents.ID,timeoutMilliseconds:1e6}).then(function(e){e.Success?window.open(e.Data):t.$message.error(e.Error)})}},mounted:function(){this.init()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),a=n(88);e.default={props:{docId:{type:[Number,String],default:0},doLoad:{type:[Boolean],default:!0}},data:function(){return{user:{},companyID:0,docStatus:0,nodeType:0,SingedCount:0,AgreeCount:0,MustAgreeCount:0,userStatus:0,userAgree:!1,userOver:!1,isFree:!0}},computed:{step:function(){return this.$data.docStatus<1?0:this.$data.docStatus<10?1:this.$data.docStatus<20?2:3},userFinishPower:function(){if(null==this.$data.user||null==this.$data.user.UserPowers)return!1;if(this.$data.companyID<1)return!1;for(var t=this.$data.user.UserPowers,e=null,n=0;n<t.length;n++)t[n].CompanyID==this.$data.companyID&&(e=t[n]);return null!=e&&(e.AgreeRights||e.FiledRights)},nodeFinishPower:function(){return 2==this.$data.nodeType||4==this.$data.nodeType},singenable:function(){return 0==this.$data.userStatus&&!(this.$data.SingedCount>=this.$data.MustAgreeCount)},submitenable:function(){return 1==this.$data.userStatus&&(!!this.$data.isFree||!this.nodeFinishPower)},finishenable:function(){return 1==this.$data.userStatus&&(this.$data.isFree?this.userFinishPower:this.nodeFinishPower)},undoenable:function(){return this.$data.userStatus>1},saveenable:function(){return 1==this.$data.userStatus}},watch:{docId:"Load"},BatchDocModel:null,ModelsManage:a.a,methods:{init:function(){this.$data.user=i.a.getUser(),this.ModelsManage=a.a,this.ModelsManage.Init(this.$root.$options.Servers),this.Load()},Load:function(){this.BatchDocModel=this.ModelsManage.GetBatchDoc(this.docId),this.BatchDocModel.EventsloadCompleted.KanbanDocToolbar=this.Load_Completed,this.BatchDocModel.EventssaveCompleted.KanbanDocToolbar=this.Save_Completed,this.doLoad&&this.BatchDocModel.load()},GetCurrentNode:function(t){for(var e=t.CurrentIndex,n=0;n<t.Nodes.length;n++)if(t.Nodes[n].index==e)return t.Nodes[n];return null},GetUserStatus:function(t,e){this.$data.userStatus=-1,this.$data.SingedCount=0,this.$data.AgreeCount=0;for(var n=0;n<t.length;n++)t[n].id==e&&(this.$data.userStatus=t[n].status),t[n].status>0&&this.$data.SingedCount++,t[n].status>1&&this.$data.MustAgreeCount++},GetContents:function(){this.$data.docStatus=this.BatchDocModel.Batch.Status,this.$data.isFree=this.BatchDocModel.Batch.Node.TemplateID<1,this.$data.companyID=this.BatchDocModel.Batch.Info.CompanyID;var t=this.GetCurrentNode(this.BatchDocModel.Batch.Node);if(null==t)return this.$data.nodeType=0,this.$data.MustAgreeCount=1,this.$data.userStatus=1,this.$data.SingedCount=1,void(this.$data.AgreeCount=0);this.$data.nodeType=t.Type,this.$data.MustAgreeCount=t.MustAgreeCount,this.GetUserStatus(t.Users,this.$data.user.Id)},Load_Completed:function(t){this.GetContents()},Save:function(){this.BatchDocModel.save()},Save_Completed:function(t){if(t.Success){var e="修改成功",n=this.docId;0==this.docId&&(e="保存成功",n=t.EffectIds[0],this.ModelsManage.ReplaceDoc(0),this.$root.$options.Bus.emit("newdraftsave")),99==t.EffectState&&(e="删除成功",n=0),this.$message(e),this.$root.$options.Bus.emit("bdchange",n),this.BatchDocModel.load()}else this.$message(t.Error)},Action:function(t){this.BatchDocModel.action(t)},Submit:function(t){t>-1&&this.Save(),this.$root.$options.Bus.emit("Submit",t)}},mounted:function(){this.init()},components:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(920),a=n(141),o=n(3),s=n.n(o),r=n(4),l=n.n(r),c=new a.a;e.default={props:{docId:{type:[Number,String],default:0},inTab:{type:Boolean,default:!1}},data:function(){return{nodes:[],loading:!1}},watch:{docId:"Load"},BatchNodesModel:null,computed:{tabButtonTooltip:function(){return this.inTab?"在右侧显示":"在签批件中显示"}},methods:{onShowInTab:function(){this.$emit("showInTab")},formatCreateDateTime:function(t){var e=s()(t.createDateTime,"YY-MM-DD HH:mm"),n=s()(new Date);return e.isBefore(n,"day")?e.format("MM-DD"):e.format("HH:mm")},init:function(){this.BatchNodesModel=new i.a(this.$root.$options.Servers),this.BatchNodesModel.EventloadItems=this.Load_Completed,this.$root.$options.Bus.add("onRefreshKanbanList","KanbanNodes",this.Load),this.$root.$options.Bus.add("bdchange","KanbanNodes",this.Load),this.Load()},Load:function(){this.loading=!0,this.loadingDocId=this.docId,this.BatchNodesModel.load(this.docId)},Load_Completed:function(t){for(var e=this,n=this.$data.nodes,i=this.BatchNodesModel.Items,a=[],o=i.length-1;o>=0;o--)!function(t){var n=i[t],o=n.userName.replace(/\(.*\)$/,"");if(n.visible=!0,"撤销"===n.nodeName)n.visible=!1,n.userName=o,a.push(n);else{var s=l.a.find(a,function(t){return t.userName===o});l.a.isEmpty(s)||(n.visible=!1,a.splice(l.a.indexOf(a,s),1))}e.loading=!1}(o);n.splice(0,n.length);for(var s=0;s<i.length;s++){var r=i[s].createDateTime;r.indexOf("T")>=0&&(r=r.substring(0,r.indexOf("T"))),n.push({userName:i[s].userName,createDateTime:r,nodeName:i[s].nodeName,content:i[s].content,reciveUsers:i[s].reciveUsers,attachments:i[s].attachments,visible:i[s].visible})}for(var u=0;u<n.length;u++)if(void 0!=n[u].attachments)for(var d=0;d<n[u].attachments.length;d++)!function(t){var e=n[u].attachments[t];c.getFile({key:e.Key}).then(function(t){t.Success&&(e.Url=t.Data.Url)})}(d);this.$root.$options.Bus.emit("nodescount",l.a.filter(n,function(t){return t.visible}).length)}},mounted:function(){this.init()},components:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(19),a=n.n(i),o=n(327),s=n(6),r=n(23),l=n(63);e.default={props:{kanbanTypeId:{type:[Number,String],default:1}},data:function(){return{kanbanTypes:[]}},computed:{DisplayName:function(){var t=parseInt(this.kanbanTypeId),e=this.$data.kanbanTypes.filter(function(e){return e.ID==t});return 1==e.length?e[0].Title:""}},KanbanTypesModel:null,methods:{init:function(){this.KanbanTypesModel=new o.a(this.$root.$options.Servers),this.KanbanTypesModel.EventloadItems=this.Load_Completed,this.KanbanTypesModel.load()},Load_Completed:function(t){var e=this.$data.kanbanTypes,n=this.KanbanTypesModel.Items;e.splice(0,e.length);for(var i=0;i<n.length;i++)e.push({Title:n[i].Title,ID:n[i].ID})},CreateDraft:function(){this.$root.$options.Bus.emit("newdraft")},RefreshPower:function(){var t=this;this.$root.$options.Bus.emit("onRefreshKanbanList",0);var e=s.a.getUser();e.UserPowers=[],e.Companys=[];var n=r.a+"/api/CompanyManager/GetUserEmployees";s.a.get(n,{Id:s.a.getUser().Id}).then(function(n){if(n.Success){if(null!=n.Data&&n.Data.length>0)for(var i=0;i<n.Data.length;i++){var o=n.Data[i],r={CompanyID:o.CompanyID,DepartmentName:o.DepartmentName,CreateRigths:(1&o.Permissions)>0,InstructionsRights:(2&o.Permissions)>0,AgreeRights:(4&o.Permissions)>0,FiledRights:(8&o.Permissions)>0,AddFileRights:(16&o.Permissions)>0,AddUserRights:(32&o.Permissions)>0,SysRights:o.SysRights,Permissions:o.Permissions};e.Companys.push(o),e.UserPowers.push(r)}}else t.$message.error(n.Error);s.a.setItem(l.a.UserKey,a()(e))})},print:function(){this.$emit("PrintEvent")}},mounted:function(){this.init()},components:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),a=(n(63),n(988),n(327)),o=n(4),s=n.n(o);e.default={data:function(){return{SelectIndex:"1-3",OpenGroupIndex:["1"],kanbanTypes:[],isCollapse:!1,tagName:"",refreshInterval:null}},KanbanTypesModel:null,methods:{init:function(){this.KanbanTypesModel=new a.a(this.$root.$options.Servers),this.KanbanTypesModel.EventloadItems=this.Load_Completed,this.KanbanTypesModel.load(),this.KanbanTypesModel.EventRefreshCount=this.LoadDocCount_Completed,this.$root.$options.Bus.add("selectDraft","leftTypeID",this.selectTypeID),this.$root.$options.Bus.add("onRefreshUnread","leftTypeID",this.onRefreshUnread)},Load_Completed:function(t){var e=this.$data.kanbanTypes,n=this.KanbanTypesModel.Items;this.$data.SelectIndex;e.splice(0,e.length);for(var i=0;i<n.length;i++)e.push({Title:n[i].Title,ID:n[i].ID,ShowRed:n[i].ShowRed,count:0});for(var a=0;a<e.length;a++)1==e[a].ShowRed&&this.KanbanTypesModel.getDocCount(e[a].ID);this.GetUserEmployee()>0?this.$router.push({path:"/batch/kanban/3"}):(this.SelectIndex="3-1",this.$router.push({name:"UserDetail"}))},LoadDocCount_Completed:function(t,e){for(var n=this.$data.kanbanTypes,i=0;i<n.length;i++)1==n[i].ShowRed&&n[i].ID==e&&(void 0!=t&&void 0!=t.Data?n[i].count=t.Data.unreadCount:n[i].count=0)},onRefreshUnread:function(t){this.KanbanTypesModel.getDocCount(t)},onSelect:function(t,e){this.SelectIndex=t,t.indexOf("1-")>-1&&this.KanbanTypesModel.getDocCount(t.split("-")[1])},selectTypeID:function(t){this.SelectIndex="1-"+t},GetUserEmployee:function(){return i.a.getUser().Companys.length},RefreshUnread:function(){var t=this;this.refreshInterval=setInterval(function(){t.KanbanTypesModel.getDocCount(3)},12e4)},ClickCollapse:function(){this.isCollapse=!this.isCollapse,this.ChangeWidth()},ChangeWidth:function(){var t=0;this.isCollapse?(t=66,this.$emit("changeWidth",t)):(t=200,this.$emit("changeWidth",t)),this.$root.$options.Bus.emit("changeWidth",t),this.$documentManager.leftWidth=t},GetTag:function(){return this.isCollapse?(this.tagName=this._tt("展开菜单"),"fa fa-angle-right"):(this.tagName="","fa fa-angle-left")},IsSysRights:function(){var t=i.a.getUser();if(!s.a.isEmpty(t)&&!s.a.isEmpty(t.UserPowers)&&t.UserPowers.length>0)for(var e=0;e<t.UserPowers.length;e++)if(t.UserPowers[e].SysRights)return t.UserPowers[e].SysRights;return!1}},mounted:function(){this.init(),this.RefreshUnread()},beforeDestroy:function(){s.a.isNull(this.refreshInterval)||(clearInterval(this.refreshInterval),this.refreshInterval=null)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(89),a=n(1590),o=n.n(a),s=n(1597),r=n.n(s);e.default={methods:{changeWidth:function(t){this.sideMenuWidth=t+"px",this.leftWidth=Number(t)-1+"px",t>100?(this.isShow=!0,this.wrapHight="70px"):(this.isShow=!1,this.wrapHight="0")}},created:function(){i.a.root=this.$router,i.a.loginname="Login"},data:function(){return{sideMenuWidth:"200px",leftWidth:"199px",isShow:!0,wrapHight:"70px"}},components:{meHead:o.a,meLeft:r.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(921);e.default={props:{value:{type:[Number,String],default:0},Islock:{type:[Boolean],default:!1},CompanyID:{type:[Number,String],default:0},IsEditable:{type:[Boolean],default:!1},IsEditable02:{type:[Boolean],default:!1}},data:function(){return{BatchTypes:[],BatchTypesTag:0,BatchTypeId:0,Editable:!1}},computed:{Locked:function(){return this.$data.BatchTypes.length<2||this.$data.Editable},BatchTypeTitle:function(){for(var t=0;t<this.$data.BatchTypes.length;t++)if(this.$data.BatchTypes[t].ID==this.$data.BatchTypeId)return this.$data.BatchTypes[t].Title;return"未知"}},watch:{value:"valueupdateData",Islock:"this.$data.Editable = !this.Islock",CompanyID:"companyChange"},BtachTypesModel:null,methods:{init:function(){this.BtachTypesModel=new i.a(this.$root.$options.Servers),this.BtachTypesModel.EventloadItems=this.Load_Completed,this.$root.$options.Bus.add("selectidbytag","BatchTypes",this.selectidbytag),this.BtachTypesModel.load(this.CompanyID)},Load_Completed:function(t){var e=this.$data.BatchTypes,n=this.BtachTypesModel.Items;e.splice(0,e.length);for(var i=0;i<n.length;i++)e.push({Title:n[i].Title,ID:n[i].ID}),this.$data.BatchTypesTag==n[i].TypeTag&&(this.$data.BatchTypeId=n[i].ID,this.$emit("input",this.$data.BatchTypeId))},companyChange:function(){this.CompanyID>0&&this.BtachTypesModel.load(this.CompanyID)},valueupdateData:function(){this.$data.BatchTypeId=this.value,this.$data.BatchTypesTag=this.BtachTypesModel.GetTagByID(this.$data.BatchTypeId),0==this.$data.BatchTypesTag&&0==this.$data.BatchTypeId&&void 0!=this.BatchTypes&&this.BatchTypes.length>0&&(this.$data.BatchTypeId=this.BatchTypes[0].ID),this.$emit("changetypetag",this.$data.BatchTypesTag)},selectidbytag:function(t){this.$data.BatchTypesTag=t,this.BtachTypesModel.GetIDByTag(t)>0&&this.updateData(this.BtachTypesModel.GetIDByTag(t))},updateData:function(t){this.$data.BatchTypesTag=this.BtachTypesModel.GetTagByID(this.BatchTypeId),this.$emit("input",t),this.$emit("changetypetag",this.$data.BatchTypesTag)},click:function(){this.$data.Editable=!0}},mounted:function(){this.init(),this.valueupdateData()},components:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(922),a=n(6);e.default={props:{value:{type:[Number,String],default:""},IsUserFilter:{type:[Boolean],default:!1},Islock:{type:[Boolean],default:!1},IsEditable:{type:[Boolean],default:!1},IsEditable02:{type:[Boolean],default:!1}},data:function(){return{Companys:[],CompanyId:"",Editable:!1,UserID:""}},computed:{Locked:function(){return this.$data.Companys.length<2||this.$data.Editable},ConpanyTitle:function(){for(var t=0;t<this.$data.Companys.length;t++)if(this.$data.Companys[t].ID==this.$data.CompanyId)return this.$data.Companys[t].Title;return"未知"}},watch:{value:"valueupdateData",Islock:"this.$data.Editable = !this.Islock"},CompanysModel:null,methods:{init:function(){this.UserID=a.a.getUser().Id,this.CompanysModel=new i.a(this.$root.$options.Servers),this.CompanysModel.EventloadItems=this.Load_Completed,this.CompanysModel.load(this.UserID)},Load_Completed:function(t){var e=this.$data.Companys,n=this.CompanysModel.Items;e.splice(0,e.length);for(var i=0;i<n.length;i++)e.push({Title:n[i].Title,ID:n[i].ID});0==this.$data.CompanyId&&void 0!=e&&e.length>0&&(this.$data.CompanyId=e[0].ID,this.updateData(this.$data.CompanyId))},valueupdateData:function(){this.$data.CompanyId=this.value,0==this.CompanyId&&void 0!=this.Companys&&this.Companys.length>0&&(this.CompanyId=this.Companys[0].ID,this.updateData(this.CompanyId))},updateData:function(t){this.$emit("input",t),this.$data.Editable=!this.Islock},click:function(){this.$data.Editable=!0}},mounted:function(){this.init(),this.valueupdateData()},components:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(77);e.default={depModel:null,props:{companyId:[String,Number],depId:[Array]},data:function(){return{options:[],selectedOptions:[]}},methods:{init:function(){this.companyId&&(this.depModel.GDepItems(this.companyId),this.selectedOptions=this.depId)},handleChange:function(){},eventLoadNodes:function(t){this.options=this.depModel.DepItems}},mounted:function(){},watch:{selectedOptions:function(){this.$emit("update:depId",this.selectedOptions)},companyId:function(){this.init()}},created:function(){this.depModel=new i.a(this.$root.$options.Servers),this.depModel.EventsloadCompleted.deploadCompleted=this.eventLoadNodes,this.init()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),a=n(50),o=n(88),s=new a.a;e.default={props:{docId:{type:[Number,String],default:0},doLoad:{type:[Boolean],default:!0}},data:function(){return{fileList:[],uploadUrl:s.getUploadUrl(),headers:{Authorization:"bearer "+i.a._getToken()},uploaddata:{type:"batch"},cssclose:"upload-demo-close",docStatus:0,dialogImageUrl:"",dialogVisible:!1}},computed:{step:function(){var t=this.$data.docStatus;return null==t?-1:t<1?0:t<10?1:t<20?2:3}},watch:{docId:"Load"},BatchDocModel:null,ModelsManage:o.a,methods:{init:function(){this.ModelsManage=o.a,this.ModelsManage.Init(this.$root.$options.Servers),this.Load(),this.uploadUrl=s.getUploadUrl(),this.uploadheaders={Authorization:"bearer "+i.a._getToken()}},checkLock:function(){0!=this.step?this.$data.cssclose="upload-demo-close":this.$data.cssclose=""},Load:function(){this.BatchDocModel=this.ModelsManage.GetBatchDoc(this.docId),this.BatchDocModel.EventsloadCompleted.DocFiles=this.Load_Completed,this.BatchDocModel.Eventscommit.DocFiles=this.Commit,this.doLoad&&this.BatchDocModel.load()},Load_Completed:function(t){var e=this.$data.fileList,n=this.BatchDocModel.Batch.files;e.splice(0,e.length);for(var i=0;i<n.length;i++)e.push({key:n[i].key,name:n[i].name,url:n[i].url,type:n[i].type});this.$data.docStatus=this.BatchDocModel.Batch.Status,this.checkLock()},Commit:function(){var t=this.$data.fileList,e=this.BatchDocModel.Batch.files;if(e.splice(0,e.length),null!=t)for(var n=0;n<t.length;n++)e.push({key:t[n].key,name:t[n].name,url:t[n].url,type:t[n].type})},checkFile:function(t){for(var e=this.fileList.length-1;e>=0;e--)if(this.fileList[e].name==t.name)return this.$message.error("有相同文件名附件!"),!1},handlePreview:function(t){if(t.type.indexOf("image")>=0)this.dialogImageUrl=t.url,this.dialogVisible=!0;else{var e=document.createElement("iframe");e.src=t.url,e.style.display="none",document.body.appendChild(e)}},handleUploadSuccess:function(t,e,n){console.log(t);var i={};if(void 0!=t.Data)i.key=t.Data.Key,i.name=t.Data.Name,i.url=t.Data.Url,i.type=e.raw.type,this.$data.fileList.push(i);else{this.$message.error(t.Error);for(var a=0;a<n.length;a++)n[a].name==e.name&&n.splice(a,1)}},handleRemove:function(t,e){this.$data.fileList=e}},mounted:function(){this.init()},components:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(40),a=n.n(i),o=n(77),s=n(1602),r=n.n(s);e.default={depModel:null,props:{type:0,companyId:[String,Number],isview:!1},data:function(){return{nodes:[],nodeProps:{children:"Childs",label:"Name"},optionsShow:!1,dialogVisible:!1,activeName:"first",currentNode:null,currentData:null,currentNodes:null,currentId:0,prevNode:null,selectType:"1",Name:"",EnName:"",title:"",dialogRename:!1,roleVisible:!1,ismove:!1,input:"",searchShow:!1,searchNodes:[],positionVisible:!1,selectposition:"",positions:[],rolePositionVisible:!1,selectedOptions:[]}},computed:{optionsId:function(){return"options"+this.type}},methods:{init:function(){this.companyId&&(0==this.type?this.depModel.GetDepartPositions(this.companyId,0,6,!0):this.depModel.GetDepartPositions(this.companyId,0,8,!0))},append:function(t,e,n){this.optionsShow=!1,this.Name="",this.EnName="",32==e.Type&&1==this.type?this.roleVisible=!0:8==e.Type?this.rolePositionVisible=!0:2==e.Type||32==e.Type&&0==this.type?this.dialogVisible=!0:4==e.Type&&(this.positionVisible=!0)},more:function(t,e,n){var i=n.clientX-260,a=n.clientY-90,o=document.getElementById(this.optionsId);o.style.left=i+"px",o.style.top=a+"px",this.optionsShow=!this.optionsShow,this.isopen=!0,this.$emit("optionsmore",this.optionsId)},renderContent:function(t,e){var n=this,i=e.node,a=e.data,o=e.store,s=a.Type,r="a1 ";return 4==s&&(r+="a2"),this.isview?t("div",{class:r},[i.label]):t("div",{class:r},[i.label,t("button",{class:"b1",on:{click:function(t){return n.more(o,a,t)}}},["┇"]),t("button",{class:"b1",on:{click:function(t){return n.append(o,a,t)}}},["✚"])])},loadNode:function(t,e){setTimeout(function(){e(_data)},500)},nodeClick:function(t,e,n){this.currentNode=e,this.currentData=t,this.currentNodes=n,this.title=this.currentNode.data.Name,this.currentId=this.currentData.ID,this.$emit("nodeclick",t,this.type)},nodeCollapse:function(t,e,n){},handleClick:function(t,e){console.log(t,e)},handleDocumentClick:function(t){this.optionsShow=!1,this.searchShow=!1,"fa fa-search"==t.srcElement.className&&(this.searchShow=!0)},rename:function(){this.optionsShow=!1,this.Name=this.currentNode.data.Name,this.dialogRename=!0},moveOut:function(){this.ismove=!0,this.prevNode=this.currentNode,this.optionsShow=!1},moveIn:function(){this.ismove=!1,this.prevNode.data.PID=this.currentNode.data.ID,this.depModel.MoveNode(this.prevNode.data)},refreshNode:function(){this.depModel.RefreshNode(this.companyId,this.currentNode.data.ID),this.optionsShow=!1},deleteNode:function(){var t=this,e="确定删除";2==this.currentNode.data.Type?e+=" "+this.currentNode.data.Name+" 部门信息?":4==this.currentNode.data.Type?e+=" "+this.currentNode.data.Name+" 职位信息?":8==this.currentNode.data.Type&&(e+=" "+this.currentNode.data.Name+" 角色信息?"),this.$confirm(e,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.depModel.DeleteNode(t.currentNode.data.ID,t.currentNode.data.CompanyID)}).catch(function(){t.$message({type:"info",message:"已取消删除"})}),this.optionsShow=!1},handleEdit:function(){var t=this.selectType;4==this.currentNode.data.Type&&(t=4),this.depModel.EditNode({ID:0,CompanyID:this.companyId,Name:this.Name,EnName:this.EnName,Type:t,PID:this.currentNode.data.ID})},handleRoleEdit:function(){this.depModel.EditNode({ID:0,CompanyID:this.companyId,Name:this.Name,EnName:this.EnName,Type:8,PID:0==this.currentNode.data.PID?this.companyId:this.currentNode.data.PID})},handlePositionEdit:function(){if(this.selectedOptions==[]||this.selectedOptions.length<=0)return void this.$message.error("请选择职位");this.depModel.SaveRolePosition(this.companyId,this.currentNode.data.ID,this.selectedOptions[0],!0)},handleRename:function(){var t={};a()(t,this.currentNode.data),t.Name=this.Name,this.depModel.RenameNode(t)},handleSearchClick:function(t){var e=t.srcElement.parentElement.offsetLeft,n=t.srcElement.parentElement.offsetTop+38,i=document.getElementById("searchDiv");i.style.left=e+"px",i.style.top=n+"px",i.style.width=t.srcElement.parentElement.offsetWidth+"px",this.depModel.SearchDepartPositions(this.companyId,this.input)},mapClick:function(t){var e=this.$refs.tree;this.mapNodes(e.$children[0],t)},mapNodes:function(t,e){for(var n=0;n<t.$children.length;n++){var i=t.$children[n].node;if(i.data.ID===e)return this.openNodes(t.$children[n]),void(this.$refs.tree.store.currentNode=i);this.mapNodes(t.$children[n],e)}},openNodes:function(t){t.node&&(t.node.expanded=!0),t.$parent&&this.openNodes(t.$parent)},eventLoadNodes:function(t){this.nodes=[];for(var e=0;e<this.depModel.Nodes.length;e++)this.nodes.push(this.depModel.Nodes[e])},eventSaveCompleted:function(t){t.Success?(8===t.Data.Type||32===this.currentData.Type&&1===this.type?this.currentNode.parent.data[0].Childs.push(t.Data):this.currentNode.doCreateChildren([t.Data]),this.dialogVisible=!1,this.roleVisible=!1,this.positionVisible=!1,this.rolePositionVisible=!1,this.$message({type:"success",message:"编辑成功!"})):this.$message.error(t.Error)},eventDeleteCompleted:function(t){t.Success?this.$message({type:"success",message:"删除成功!"}):this.$message.error(t.Error)},eventRefreshCompleted:function(t){t.Success?this.currentNode.data.Childs=t.Data[0].Childs:this.$message.error(t.Error)},eventRenameCompleted:function(t){t.Success?(this.currentNode.data.Name=this.Name,this.$message({type:"success",message:"修改成功!"}),this.dialogRename=!1):this.$message.error(t.Error)},eventMoveCompleted:function(t){this.currentNode.data.Childs.push(t),this.$message({type:"success",message:"移动成功!"}),this.prevNode=null,this.optionsShow=!1},eventRolesLoadNodes:function(t){this.roleNodes=[];for(var e=0;e<this.depModel.RoleNodes.length;e++)this.roleNodes.push(this.depModel.RoleNodes[e])},eventsSearchCompleted:function(t){this.searchNodes=[];for(var e=this,n=0;n<this.depModel.SearchItems.length;n++)e.searchNodes.push(this.depModel.SearchItems[n]);this.searchShow=!0},eventsSaveRolePositionCompleted:function(t){t.Success?(this.$message({type:"success",message:"添加成功!"}),this.rolePositionVisible=!1,this.nodeClick(this.currentData,this.currentNode,this.currentNodes)):this.$message.error(t.Error)}},mounted:function(){this.init(),document.addEventListener("click",this.handleDocumentClick)},watch:{companyId:function(){this.init()}},created:function(){this.depModel=new o.a(this.$root.$options.Servers),this.depModel.EventsloadCompleted.loadCompleted=this.eventLoadNodes,this.depModel.EventssaveCompleted.saveCompleted=this.eventSaveCompleted,this.depModel.EventsdeleteCompleted.deleteCompleted=this.eventDeleteCompleted,this.depModel.EventsrefreshCompleted.refreshCompleted=this.eventRefreshCompleted,this.depModel.EventsrenameCompleted.renameCompleted=this.eventRenameCompleted,this.depModel.EventsmovenodeCompleted.moveCompleted=this.eventMoveCompleted,this.depModel.EventsrolesloadCompleted.rolesloadCompleted=this.eventRolesLoadNodes,this.depModel.EventsSearchCompleted.eventsSearchCompleted=this.eventsSearchCompleted,this.depModel.EventsSaveRolePositionCompleted.eventsSaveRolePositionCompleted=this.eventsSaveRolePositionCompleted},components:{position:r.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(77);e.default={props:{type:{type:[Number,String],default:0},companyId:{type:[Number,String],default:1}},data:function(){return{nodes:[],nodeProps:{children:"Childs",label:"Name"}}},depModel:null,methods:{init:function(){this.depModel=new i.a(this.$root.$options.Servers),this.Load()},Load:function(){this.depModel.EventsloadCompleted.orgtree=this.Load_Completed,this.depModel.GetDepartPositions(this.companyId,0,6,!0)},Load_Completed:function(t){this.nodes=[];for(var e=0;e<this.depModel.Nodes.length;e++)this.nodes.push(this.depModel.Nodes[e])},loadNode:function(t,e){setTimeout(function(){e(_data)},100)},nodeclicka:function(t,e,n,i){"DIV"==i.srcElement.tagName&&(t.expanded=!t.expanded)},nodeclickb:function(t,e,n,i){console.log("nodeclick"),this.$emit("nodeclick",e)},nodeClick:function(t,e,n){},nodeCollapse:function(t,e,n){},renderContent:function(t,e){var n=this,i=e.node,a=e.data,o=e.store,s=a.Type,r="a1 ";return 4==s&&(r+="a2"),t("div",{on:{click:function(t){return n.nodeclicka(i,a,o,t)}},class:r},[i.label,t("button",{class:"b1",on:{click:function(t){return n.nodeclickb(i,a,o,t)}}},["┇"]),t("button",{class:"b1"},["✚"])])}},mounted:function(){this.init()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(77);e.default={depModel:null,props:{companyId:[String,Number],positionId:[Array]},data:function(){return{options:[],selectedOptions:[]}},methods:{init:function(){this.companyId&&(console.log("----------------------------"),this.depModel.GPositionItems(this.companyId),this.selectedOptions=this.positionId)},handleChange:function(){},eventLoadNodes:function(t){console.log(this.depModel.PositionItems),this.options=this.depModel.PositionItems}},mounted:function(){},watch:{selectedOptions:function(){this.$emit("update:positionId",this.selectedOptions)},companyId:function(){this.init()}},created:function(){this.depModel=new i.a(this.$root.$options.Servers),this.depModel.EventsposloadCompleted.posloadCompleted=this.eventLoadNodes,this.init()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(924);e.default={props:{value:{type:[Number,String],default:2},Islock:{type:[Boolean],default:!1},IsEditable:{type:[Boolean],default:!1}},data:function(){return{Prioritys:[],PriorityId:2,Editable:!1}},computed:{Locked:function(){return this.$data.Prioritys.length<2||this.$data.Editable},PriorityTitle:function(){for(var t=0;t<this.$data.Prioritys.length;t++)if(this.$data.Prioritys[t].ID==this.$data.PriorityId)return this.$data.Prioritys[t].Title;return this.$data.Prioritys.length>0?(this.PriorityId=this.$data.Prioritys[0].ID,this.$data.Prioritys[0].Title):"未知"}},watch:{value:"valueupdateData",Islock:"this.$data.Editable = !this.Islock"},PrioritysModel:null,methods:{init:function(){this.PrioritysModel=new i.a(this.$root.$options.Servers),this.PrioritysModel.EventloadItems=this.Load_Completed,this.PrioritysModel.load()},Load_Completed:function(t){var e=this.$data.Prioritys,n=this.PrioritysModel.Items;e.splice(0,e.length);for(var i=0;i<n.length;i++)e.push({Title:n[i].Title,ID:n[i].ID})},valueupdateData:function(){this.$data.PriorityId=this.value},updateData:function(t){this.$emit("input",t),this.$data.Editable=!this.Islock},click:function(){this.$data.Editable=!0}},mounted:function(){this.init(),this.valueupdateData()},components:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{value:{type:[Number,String],default:""},placeholder:{type:[String],default:"请输入内容"},Islock:{type:[Boolean],default:!1},IsEditable:{type:[Boolean],default:!1}},data:function(){return{Text:"",companyId:2,Editable:!1}},computed:{Locked:function(){return this.$data.Editable}},watch:{value:"valueupdateData",Islock:"this.$data.Editable = !this.Islock"},methods:{init:function(){},Load_Completed:function(t){},valueupdateData:function(){this.$data.Text=this.value},updateData:function(t){},upOut:function(t){this.$emit("input",this.$data.Text),this.$data.Editable=!this.Islock},click:function(){this.$data.Editable=!0}},mounted:function(){this.init(),this.valueupdateData()},components:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(330),a=n(6);e.default={data:function(){return{PerformanceList:[]}},created:function(){},watch:function(){},mounted:function(){this.Init()},UserCompanyModel:null,methods:{Init:function(){this.UserCompanyModel=new i.a(this.$root.$options.Servers),this.Load()},Load:function(){this.UserCompanyModel.UserID=a.a.getUser().UserID,this.UserCompanyModel.GetUserCompanyList()},UserCompany_Complete:function(t,e){t.Success&&(void 0!=this.CompanyList&&this.CompanyList.length>0&&this.CompanyList.splice(0,this.CompanyList.length),this.CompanyList=this.UserCompanyModel.CompanyList)},CreateNewApply:function(){this.ApplyDialogVisible=!0,this.InitVData()},InitVData:function(){this.ICodeOrCName="",this.CompanyName="",this.IsICode=!1,this.ApplyVisible=!1},Check:function(){this.ICodeOrCName.indexOf("IC")>0?(this.IsICode=!0,this.ApplyVisible=!0):(this.IsICode=!1,this.ApplyVisible=!1)},SearchCompany:function(){this.CompanyName="",this.UserCompanyModel.SearchCN=this.ICodeOrCName,this.UserCompanyModel.SearchCompany()},SearchCompany_Complete:function(t,e){t.Success&&(this.CompanyName=this.UserCompanyModel.CompanyName,this.ApplyVisible=!0)},ApplyJoin:function(){this.IsICode?(this.UserCompanyModel.InvitationCode=this.ICodeOrCName,this.UserCompanyModel.JoinCompanyByInvitationCode()):this.UserCompanyModel.JoinCompanyByApply()},JCByApply_Completed:function(t,e){t.Success&&(this.ApplyDialogVisible=!1,this.$message("成功申请"),this.Load())},ApplyQuit:function(t){},Confirm:function(t){this.UserCompanyModel.ApplyID=t.ApplyID,this.UserCompanyModel.JoinCompanyByUserConfirm()},Confirm_Completed:function(t,e){t.Success&&(this.$message("成功加入"),this.Load())}},components:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(930);n(6);e.default={data:function(){return{PerformanceList:[{PerformanceID:"1",CompanyID:"1",CompanyName:"日上免税行(上海)",CompanyEName:"SUNRISE",Department:"IT信息部",PositionNames:"程序员"},{PerformanceID:"2",CompanyID:"2",CompanyName:"平通科技",CompanyEName:"PINGTONG",Department:"运维部",PositionNames:"运维工程师"}],CompanyID:""}},created:function(){},watch:function(){},mounted:function(){this.Init()},PerformanceListModel:null,methods:{Init:function(){this.PerformanceListModel=new i.a(this.$root.$options.Servers),this.PerformanceListModel.EventsGetPerformanceListCompleted.PerformanceListModel=this.Load_Completed},CreateNew:function(){}},components:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,a=n(36),o=n.n(a),s=n(167),r=n(139),l=null;e.default=(i={props:{},data:function(){return{UserEMail:"",VerificationCode:"",Password:"",ErrMessage:"",IntEMail:0,WaitTime:0}},watch:{},created:function(){},SecurityModel:null,VCodeModel:null,mounted:function(){this.Init()},methods:{ShowWaitTime:function(){return this.WaitTime>0?this.WaitTime+","+this._tt("重新获取"):this._tt("获取验证码")},ShowIcon:function(t){return t&&0!=t?1==t?"xlabel icon20 icon-g20":2==t?"xlabel icon20 icon-x20":void 0:""},Init:function(){this.SecurityModel=new s.a(this.$root.$options.Servers),this.SecurityModel.EventsBindingEMailCompleted.BindingEMail=this.BindingEMail_Complete,this.Load(),this.VCodeModel=new r.a(this.$root.$options.Servers),this.VCodeModel.EventsCheckUserEMailCompleted.BindingEMail=this.CheckUserEMail_Complete,this.VCodeModel.EventsGetEMailVCCompleted.BindingEMail=this.GetEMailCode_Completed},Load:function(){this.InitVModel()},InitVModel:function(){this.UserEMail="",this.VerificationCode="",this.ErrMessage="",this.IntEMail=0,this.WaitTime=0,void 0!=l&&clearInterval(l)},SetMData:function(){var t=this.SecurityModel.BindingEM;t.EMail=this.UserEMail,t.ValidateCode=this.VerificationCode,t.Password=this.Password},GetCode:function(){this.WaitTime>0||1==this.IntEMail&&(this.VCodeModel.EMail=this.UserEMail,this.VCodeModel.BehaviorType=4,this.VCodeModel.GetEMailVC())},GetEMailCode_Completed:function(t,e){if(t.Success){this.WaitTime=t.Data;var e=this;l=setInterval(function(){e.WaitTime-=1,e.WaitTime>0||clearInterval(l)},1e3)}},BindingEMail:function(){var t="";return""==this.VerificationCode?(t=this._tt("验证码未填写"),this.$message.error(t),void(this.ErrMessage=t)):1!=this.IntEMail?(t=this._tt("邮箱填写错误"),this.$message.error(t),void(this.ErrMessage=t)):(this.SetMData(),void this.SecurityModel.BindingEMail())},BindingEMail_Complete:function(t,e){t.Success?(this.$message(this._tt("绑定邮箱成功")),this.$emit("HandleCloseDialog",4),this.InitVModel()):(this.ErrMessage=t.Error,this.$message.error(t.Error))},CheckUserEMail:function(){if(""==this.UserEMail||this.UserEMail.indexOf("@")<0)return void(this.IntEMail=2);this.VCodeModel.EMail=this.UserEMail,this.VCodeModel.CheckUserEMail()},CheckUserEMail_Complete:function(t,e){t.Success?this.IntEMail=1:this.IntEMail=2},Close:function(){this.$emit("HandleCloseDialog",4),this.InitVModel()}}},o()(i,"mounted",function(){this.Init()}),o()(i,"components",{}),i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,a=n(36),o=n.n(a),s=n(6),r=n(167),l=n(139),c=null;e.default=(i={props:{email:{type:[String],default:""}},data:function(){return{UserEMail:"",UserNewEMail:"",UserPassword:"",ValidateCode:"",ErrMessage:"",IntEMail:0,WaitTime:0}},watch:{},created:function(){},SecurityModel:null,VCodeModel:null,mounted:function(){this.Init()},methods:{ShowWaitTime:function(){return this.WaitTime>0?this.WaitTime+","+this._tt("重新获取"):this._tt("获取验证码")},ShowIcon:function(t){return t&&0!=t?1==t?"xlabel icon20 icon-g20":2==t?"xlabel icon20 icon-x20":void 0:""},Init:function(){this.SecurityModel=new r.a(this.$root.$options.Servers),this.SecurityModel.EventsChangeEMailCompleted.ChangeEMail=this.ChangeEMail_Complete,this.Load(),this.VCodeModel=new l.a(this.$root.$options.Servers),this.VCodeModel.EventsCheckUserEMailCompleted.ChangeEMail=this.CheckUserEMail_Complete,this.VCodeModel.EventsGetEMailVCCompleted.ChangeEMail=this.GetEMailCode_Completed},Load:function(){this.InitVModel(),this.UserEMail=this.email},InitVModel:function(){this.UserEMail="",this.UserNewEMail="",this.UserPassword="",this.ValidateCode="",this.ErrMessage="",this.IntEMail=0,this.WaitTime=0,void 0!=c&&clearInterval(c)},SetMData:function(){var t=this.SecurityModel.ChangeEM;t.NewEMail=this.UserNewEMail,t.ValidateCode=this.ValidateCode,t.Password=this.UserPassword},GetCode:function(){this.WaitTime>0||1==this.IntEMail&&(this.VCodeModel.EMail=this.UserNewEMail,this.VCodeModel.BehaviorType=4,this.VCodeModel.GetEMailVC())},GetEMailCode_Completed:function(t,e){if(t.Success){this.WaitTime=t.Data;var e=this;c=setInterval(function(){e.WaitTime-=1,e.WaitTime>0||clearInterval(c)},1e3)}},ChangeEMail:function(){var t="";return""==this.VerificationCode?(t=this._tt("验证码未填写"),this.$message.error(t),void(this.ErrMessage=t)):1!=this.IntEMail?(t=this._tt("新邮箱填写错误"),this.$message.error(t),void(this.ErrMessage=t)):(this.SetMData(),void this.SecurityModel.ChangeEMail())},ChangeEMail_Complete:function(t,e){t.Success?(this.$message(this._tt("修改邮箱成功")),this.$emit("HandleCloseDialog",3),this.InitVModel()):(this.ErrMessage=t.Error,this.$message.error(t.Error))},CheckUserEMail:function(){if(""==this.UserNewEMail||this.UserNewEMail.indexOf("@")<0){var t=this._tt("用户邮箱输入错误");return this.$message.error(t),void(this.IntEMail=2)}this.VCodeModel.EMail=this.UserNewEMail,this.VCodeModel.CheckUserEMail()},CheckUserEMail_Complete:function(t,e){t.Success?this.IntEMail=1:this.IntEMail=2},Close:function(){this.$emit("HandleCloseDialog",3)},HideEmail:function(t){return s.a.HideEmail(t)}}},o()(i,"mounted",function(){this.Init()}),o()(i,"components",{}),i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,a=n(36),o=n.n(a),s=n(6),r=n(167),l=n(139),c=null;e.default=(i={props:{mobile:{type:[String],default:""}},data:function(){return{UserMobile:"",UserNewMobile:"",UserPassword:"",VerificationCode:"",ErrMessage:"",IntMobile:0,WaitTime:0}},watch:{},created:function(){},SecurityModel:null,VCodeModel:null,mounted:function(){this.Init()},methods:{ShowWaitTime:function(){return this.WaitTime>0?this.WaitTime+","+this._tt("重新获取"):this._tt("获取验证码")},ShowIcon:function(t){return t&&0!=t?1==t?"xlabel icon20 icon-g20":2==t?"xlabel icon20 icon-x20":void 0:""},Init:function(){this.SecurityModel=new r.a(this.$root.$options.Servers),this.SecurityModel.EventsChangeMobileCompleted.ChangeMobile=this.ChangeUserMobile_Complete,this.Load(),this.VCodeModel=new l.a(this.$root.$options.Servers),this.VCodeModel.EventsCheckUserMobileCompleted.ChangeMobile=this.CheckUserMobile_Complete,this.VCodeModel.EventsGetMobileVCCompleted.ChangeMobile=this.GetMobileCode_Completed},Load:function(){this.InitVModel(),console.log(this.mobile),this.UserMobile=this.mobile},InitVModel:function(){this.UserMobile="",this.UserNewMobile="",this.UserPassword="",this.VerificationCode="",this.ErrMessage="",this.IntMobile=0,this.WaitTime=0,void 0!=c&&clearInterval(c)},SetMData:function(){var t=this.SecurityModel.ChangeMb;t.NewMobile=this.UserNewMobile,t.ValidateCode=this.VerificationCode,t.Password=this.UserPassword},GetCode:function(){this.WaitTime>0||1==this.IntMobile&&(this.VCodeModel.Mobile=this.UserNewMobile,this.VCodeModel.BehaviorType=5,this.VCodeModel.GetMobileVC())},GetMobileCode_Completed:function(t,e){if(t.Success){this.WaitTime=t.Data;var e=this;c=setInterval(function(){e.WaitTime-=1,e.WaitTime>0||clearInterval(c)},1e3)}},ChangeMobile:function(){var t="";return""==this.VerificationCode?(t=this._tt("验证码未填写"),this.$message.error(t),void(this.ErrMessage=t)):1!=this.IntMobile?(t=this._tt("新手机填写错误"),this.$message.error(t),void(this.ErrMessage=t)):(this.SetMData(),void this.SecurityModel.ChangeMobile())},ChangeUserMobile_Complete:function(t,e){t.Success?(this.$message(this._tt("修改手机成功")),this.$emit("HandleCloseDialog",2),this.InitVModel()):(this.ErrMessage="修改手机失败",this.$message.error("修改手机失败"))},CheckUserMobile:function(){if(""==this.UserNewMobile||11!=this.UserNewMobile.length){var t=this._tt("用户手机输入错误");return this.$message.error(t),void(this.IntMobile=2)}this.VCodeModel.Mobile=this.UserNewMobile,this.VCodeModel.CheckUserMobile()},CheckUserMobile_Complete:function(t,e){t.Success?this.IntMobile=1:this.IntMobile=2},Close:function(){this.$emit("HandleCloseDialog",2)},HideMobile:function(t){return s.a.HideMobile(t)}}},o()(i,"mounted",function(){this.Init()}),o()(i,"components",{}),i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(167);e.default={props:{},data:function(){return{UserPassword:"",NewPassword:"",ConfirmPassword:"",VerificationCode:"",ErrMessage:""}},watch:{},created:function(){},SecurityModel:null,methods:{Init:function(){console.log("Init"),this.SecurityModel=new i.a(this.$root.$options.Servers),this.SecurityModel.EventsChangePasswordCompleted.ChangePassword=this.ChangePassword_Completed,this.InitVModel()},InitVModel:function(){this.UserPassword="",this.NewPassword="",this.ErrMessage=""},SetMData:function(){var t=this.SecurityModel.ChangePWD;t.OldPassword=this.UserPassword,t.NewPassword=this.NewPassword},ChangePassword:function(){var t="";return""==this.UserPassword?(t=this._tt("旧密码未输入"),this.$message.error(t),void(this.ErrMessage=t)):""==this.NewPassword?(t=this._tt("新密码未输入"),this.$message.error(t),void(this.ErrMessage=t)):this.NewPassword!=this.ConfirmPassword?(t=this._tt("新密码不一致"),this.$message.error(t),void(this.ErrMessage=t)):(this.SetMData(),void this.SecurityModel.ChangePassword())},ChangePassword_Completed:function(t,e){console.log(t),t.Success?(this.$message(this._tt("修改密码成功")),this.InitVModel(),this.$emit("HandleCloseDialog",1)):(this.ErrMessage=t.Error,this.$message.error(t.Error))},Close:function(){this.InitVModel(),this.$emit("HandleCloseDialog",1)}},mounted:function(){this.Init()},components:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(330),a=n(6);e.default={data:function(){return{CompanyList:[],ICodeOrCName:"",CompanyName:"",ApplyDialogVisible:!1,IsICode:!1,ApplyVisible:!1}},created:function(){},mounted:function(){this.Init()},UserCompanyModel:null,methods:{Init:function(){this.UserCompanyModel=new i.a(this.$root.$options.Servers),this.UserCompanyModel.EventsGetUCListCompleted.UserCompany=this.UserCompany_Complete,this.UserCompanyModel.EventsSearchCompanyCompleted.UserCompany=this.SearchCompany_Complete,this.UserCompanyModel.EventsJCByApplyCompleted.UserCompany=this.JCByApply_Completed,this.UserCompanyModel.EventsJCByICodeCompleted.UserCompany=this.JCByApply_Completed,this.UserCompanyModel.EventsJCByUserConfirmCompleted.UserCompany=this.Confirm_Completed,this.UserCompanyModel.EventsDelApplyCompleted.UserCompany=this.Delete_Completed,this.Load()},Load:function(){this.UserCompanyModel.UserID=a.a.getUser().UserID,this.UserCompanyModel.GetUserCompanyList()},UserCompany_Complete:function(t,e){t.Success&&(this.CompanyList=this.UserCompanyModel.CompanyList,console.log(this.CompanyList))},CreateNewApply:function(){this.ApplyDialogVisible=!0,this.InitVData()},InitVData:function(){this.ICodeOrCName="",this.CompanyName="",this.IsICode=!1,this.ApplyVisible=!1},Check:function(){this.ICodeOrCName.indexOf("-")>=0&&this.ICodeOrCName.length>32?(this.IsICode=!0,this.ApplyVisible=!0):(this.IsICode=!1,this.ApplyVisible=!1)},SearchCompany:function(){this.CompanyName="",this.UserCompanyModel.SearchCN=this.ICodeOrCName,this.UserCompanyModel.SearchCompany()},SearchCompany_Complete:function(t,e){t.Success&&(this.CompanyName=this.UserCompanyModel.CompanyName,this.ApplyVisible=!0)},ApplyJoin:function(){if(this.IsICode)this.UserCompanyModel.InvitationCode=this.ICodeOrCName,this.UserCompanyModel.JoinCompanyByInvitationCode();else{if(""==this.CompanyName)return;this.UserCompanyModel.JoinCompanyByApply()}},JCByApply_Completed:function(t,e){t.Success?(this.ApplyDialogVisible=!1,this.$message(this._tt("成功申请")),this.Load()):this.$message.error(t.Error)},ApplyQuit:function(t){},Confirm:function(t){this.UserCompanyModel.ApplyID=t.ApplyID,this.UserCompanyModel.JoinCompanyByUserConfirm()},Confirm_Completed:function(t,e){t.Success?(this.$message(this._tt("成功加入")),this.Load()):this.$message.error(t.Error)},Delete:function(t){this.UserCompanyModel.ApplyID=t.ApplyID,this.UserCompanyModel.CancelApplyIntoCompany()},Delete_Completed:function(t,e){t.Success?(this.$message(this._tt("成功取消")),this.Load()):this.$message.error(t.Error)}},components:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),a=n(50),o=n(168),s=n(3),r=new a.a;e.default={props:{},data:function(){return{UploadUrl:r.getUploadUrl(),SexList:[],UserInfo:{HeadUrl:"",Surname:"",Name:"",EName:"",NickName:"",Sex:"",Birthday:"",ContactAddress:""},isView:!1,Headers:{Authorization:"bearer "+i.a._getToken()},HeadData:{type:"User",pos:"HeadImage"}}},watch:{},created:function(){},mounted:function(){this.Init()},UserModel:null,methods:{Init:function(){this.UserModel=new o.a(this.$root.$options.Servers),this.UserModel.EventsGetUserInfoCompleted.UserDetail=this.Load_Completed,this.UserModel.EventsChangeUserInfoCompleted.UserDetail=this.ChangeUserInfo_Completed,this.Load()},ChangeUserInfo:function(){this.SetVMData(),this.UserModel.ChangeUserInfo()},ChangeUserInfo_Completed:function(t,e){t.Success?this.$message(this._tt("修改成功")):(this.ErrMessage=t.Error,this.$message.error(t.Error))},SetVMData:function(){var t=this.UserModel.UserInfo;t.HeadImage=this.UserInfo.HeadUrl,t.Surname=this.UserInfo.Surname,t.Name=this.UserInfo.Name,t.EName=this.UserInfo.EName,t.NickName=this.UserInfo.NickName,t.Sex=this.UserInfo.Sex,t.Birthday=this.UserInfo.Birthday,t.ContactAddress=this.UserInfo.ContactAddress},Load:function(){this.UserModel.UserID=i.a.getUser().UserID,this.UserModel.GetUserInfo()},Load_Completed:function(t,e){t.Success?this.GetVMData():(this.ErrMessage=t.Error,this.$message.error(t.Error))},GetVMData:function(){var t=this.UserModel.UserInfo;this.UserInfo.HeadUrl=t.HeadImage,this.UserInfo.Surname=t.Surname,this.UserInfo.Name=t.Name,this.UserInfo.EName=t.EName,this.UserInfo.NickName=t.NickName,this.UserInfo.Sex=t.Sex,this.UserInfo.Birthday=s(t.Birthday).format("YYYY-MM-DD"),this.UserInfo.ContactAddress=t.ContactAddress},HandleUploadSuccess:function(t,e){console.log("FilesUpload.Commit:handleUploadSuccess ==> url:"+t.Data.Url),this.UserInfo.HeadUrl=this.UserModel.UserInfo.HeadImage=t.Data.Url,this.UserModel.UploadHeadImage()},BeforeAvatarUpload:function(t){var e="image/jpeg"===t.type,n="image/png"===t.type,i=t.size/1024/1024<2;return e||n||this.$message.error(this._tt("上传头像图片只能是 JPG 或 PNG 格式!")),e||n||this.$message.error(this._tt("上传头像图片只能是 JPG 或 PNG 格式!")),i||this.$message.error(this._tt("上传头像图片大小不能超过 4MB!")),e&&i||n&&i}},components:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(925),a=n(139),o=null;e.default={data:function(){return{Icon:"",Step:1,VImageCode:"",VMobileCode:"",VCodeBtye:[],VerifyOptions:[],SelOption:1,UserName:"",UserNick:"",UserMobile:"",UserEmail:"",ErrMessage:"",WaitTime:0,NewPasswd:"",ConfirmPassword:"",ConfirmValue:"",InitMobile:0,InitEMail:0}},watch:{SelOption:"GetCue"},created:function(){},filters:{},FindUserPWModel:null,VCodeModel:null,methods:{Init:function(){this.FindUserPWModel=new i.a(this.$root.$options.Servers),this.FindUserPWModel.EventsFindPwdByImageVCCompleted.FindPassword=this.FindPwdValidateByImageVC_Completed,this.FindUserPWModel.EventsFindPwdByVCCompleted.FindPassword=this.FindPwdValidateByValidateCode_Completed,this.FindUserPWModel.EventsFindPasswordCompleted.FindPassword=this.FindPassword_Completed,this.FindUserPWModel.EventsCheckUserPhoneOrMail.FindPassword=this.CheckUserPhoneOrMail_Completed,this.VCodeModel=new a.a(this.$root.$options.Servers),this.VCodeModel.EventsGetImageVCCompleted.FindPassword=this.GetImageVC_Completed,this.VCodeModel.EventsGetMobileVCCompleted.FindPassword=this.GetCode_Completed,this.VCodeModel.EventsGetEMailVCCompleted.FindPassword=this.GetCode_Completed,this.GetImageVC()},FindPwdValidateByImageVC:function(){this.FindUserPWModel.UserName=this.UserName,this.FindUserPWModel.FindPassword.VerificationCode=this.VImageCode,this.FindUserPWModel.FindPassword.GUID=this.VCodeModel.GUID,this.FindUserPWModel.FindPwdValidateByImageVC()},FindPwdValidateByImageVC_Completed:function(t,e){t.Success?(this.Step=2,this.UserNick=this.FindUserPWModel.FindPassword.UserInfo.NickName,this.UserMobile=this.FindUserPWModel.FindPassword.UserInfo.Mobile,this.UserEmail=this.FindUserPWModel.FindPassword.UserInfo.EMail,this.VerifyOptions=this.FindUserPWModel.GetVerifyOptions(),void 0!=this.VerifyOptions&&this.VerifyOptions.length>0&&(this.SelOption=this.VerifyOptions[0].value),void 0!=o&&clearInterval(o)):(this.ErrMessage=t.Error,this.$message.error(t.Error))},FindPwdValidateByValidateCode:function(){this.FindUserPWModel.UserName=this.UserName,this.FindUserPWModel.FindPassword.ValidateType=this.SelOption,this.FindUserPWModel.FindPassword.VerificationCode=this.VMobileCode,this.FindUserPWModel.FindPwdValidateByValidateCode()},FindPwdValidateByValidateCode_Completed:function(t,e){t.Success?(this.$message(this._tt("验证成功，请重置密码")),this.Step=3):this.$message.error(this._tt("验证失败"))},FindPassword:function(){if(this.NewPasswd!=this.ConfirmPassword)return void this.$message.error(this._tt("密码不一致，请确认"));this.FindUserPWModel.NewPassword=this.NewPasswd,this.FindUserPWModel.FindBackPassword()},FindPassword_Completed:function(t,e){t.Success?(this.$message(this._tt("重置密码成功")),this.$router.push({name:"Login"})):this.$message.error(this._tt("重置失败"))},GetImageVC:function(){this.VCodeModel.NewGuid(),this.VCodeBtye=this.VCodeModel.ImageURL,void 0!=this.VCodeBtye&&""!=this.VCodeBtye||(this.FindUserPWModel.FindPassword.GUID=this.VCodeModel.GUID,this.VCodeModel.GetImageVC())},GetImageVC_Completed:function(t,e){t.Success?this.VCodeBtye=t.Data.Image:(this.ErrMessage=t.Error,this.$message.error(t.Error))},GetCode:function(){console.log("GetCode:"+this.WaitTime),this.WaitTime>0||(1==this.InitMobile&&1==this.SelOption&&(this.VCodeModel.Mobile=this.ConfirmValue,this.VCodeModel.BehaviorType=2,this.VCodeModel.GetMobileVC()),1==this.InitEMail&&2==this.SelOption&&(this.VCodeModel.EMail=this.ConfirmValue,this.VCodeModel.BehaviorType=2,this.VCodeModel.GetEMailVC()))},GetCode_Completed:function(t,e){if(t.Success){this.WaitTime=t.Data;var e=this;o=setInterval(function(){e.WaitTime-=1,e.WaitTime>0||clearInterval(o)},1e3)}},ShowWaitTime:function(){return this.WaitTime>0?this.WaitTime+","+this._tt("重新获取"):this._tt("获取验证码")},DoNext:function(){1==this.Step?this.FindPwdValidateByImageVC():2==this.Step?this.FindPwdValidateByValidateCode():3==this.Step&&this.FindPassword()},DoSelOption:function(t){if(1!=t||this.UserMobile)return 2!=t||this.UserEmail?void(this.SelOption=t):void this.$message.error(this._tt("邮箱未绑定！"))},GetCue:function(){return 1==this.SelOption?this._tt("您已绑定手机")+":"+this.UserMobile:this._tt("您已绑定邮箱")+":"+this.UserEmail},CheckUsrPhoneOrMail:function(){this.InitMobile=0,this.InitEMail=0,this.FindUserPWModel.FindPassword.FindType=this.SelOption,this.FindUserPWModel.FindPassword.PhoneOrMail=this.ConfirmValue,this.FindUserPWModel.CheckUserPhoneOrMail()},CheckUserPhoneOrMail_Completed:function(t,e){t.Success?1==this.SelOption?this.InitMobile=1:this.InitEMail=1:(this.$message.error(this._tt("手机或邮箱验证失败")),1==this.SelOption?this.InitMobile=2:this.InitEMail=2)},ShowIcon:function(t){return t&&0!=t?1==t?"xlabel icon20 icon-g20":2==t?"xlabel icon20 icon-x20":void 0:""}},mounted:function(){this.Init()},components:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(19),a=n.n(i),o=n(6),s=n(63),r=n(23),l=n(168),c=n(225);e.default={name:"Login",data:function(){return{logining:!1,user:{userid:"",pwd:"",code:""},error:"",Userfocus:!0,Passfocus:!1}},mounted:function(){this.Init()},UserModel:null,computed:{languageText:function(){return"cn"===this.language.lang?"English Version":"切换至中文"}},methods:{onToggleLanguage:function(){this.language.lang="cn"===this.language.lang?"en":"cn",this.$forceUpdate()},Init:function(){this.UserModel=new l.a(this.$root.$options.Servers),this.UserModel.EventsGetUserEmployeesCompleted.SystemUser=this.GetUserEmployees_Completed,this.UserModel.EventsLoginCompleted.SystemUser=this.Login_Completed,this.$userManager.onUserLogined(this.onUserLogined)},onUserLogined:function(t){},Login:function(){this.$userManager.login(this.user.userid,this.user.pwd).then(function(t){}).catch(function(t){}),this.UserModel.UserInfo.UserName=this.user.userid,this.UserModel.UserInfo.UserPassword=this.user.pwd,this.UserModel.Login()},Login_Completed:function(t,e){this.logining=!1,t.Success?(o.a.setItem(s.a.UserKey,a()(t.Data)),this.GetUserEmployee()):this.error=t.Error},GetUserEmployee:function(){var t=this,e=o.a.getUser();e.UserPowers=[],e.Companys=[];var n=r.a+"/api/CompanyManager/GetUserEmployees";o.a.get(n,{Id:o.a.getUser().Id}).then(function(n){if(n.Success){if(null!=n.Data&&n.Data.length>0)for(var i=0;i<n.Data.length;i++){var r=n.Data[i],l={CompanyID:r.CompanyID,DepartmentName:r.DepartmentName,CreateRigths:(1&r.Permissions)>0,InstructionsRights:(2&r.Permissions)>0,AgreeRights:(4&r.Permissions)>0,FiledRights:(8&r.Permissions)>0,AddFileRights:(16&r.Permissions)>0,AddUserRights:(32&r.Permissions)>0,SysRights:r.SysRights,Permissions:r.Permissions};e.Companys.push(r),e.UserPowers.push(l)}o.a.setItem(s.a.UserKey,a()(e)),t.$router.push({path:"/"})}else t.$message.error(n.Error)})},GetUserEmployees_Completed:function(t,e){t.Success||(this.error=t.Error,this.$message.error(t.Error))},focus:function(){this.error=""},handleInputConfirm:function(t){13==t.keyCode&&(void 0==this.user.userid||""==this.user.userid?document.getElementById("txtUserName").focus():void 0==this.user.pwd||""==this.user.pwd?document.getElementById("txtUserPass").focus():this.handleSubmit(t))},EnterRegisterUser:function(){this.$router.push({name:"RegisterUser"})},EnterFindPassword:function(){this.$router.push({name:"FindPassword"})},Test:function(){(new c.a).GetNodes(1,0,8,!0).then(function(t){t.Success&&console.log(t.Data)})}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(19),a=n.n(i),o=n(926),s=n(168),r=n(139),l=n(6),c=n(63);e.default={data:function(){return{UserName:"",UserMobile:"",UserPassword:"",ConfirmPassword:"",VerificationCode:"",ErrMessage:"",IntUserName:0,IntMobile:0,WaitTime:0,DisableTP:!1,RegSuccess:!1}},watch:{},created:function(){},RegisterUserModel:null,UserMode:null,VCodeModel:null,methods:{ShowWaitTime:function(){return this.WaitTime>0?this.WaitTime+","+this._tt("重新获取"):this._tt("获取验证码")},ShowIcon:function(t){return t&&0!=t?1==t?"xlabel icon20 icon-g20":2==t?"xlabel icon20 icon-x20":void 0:""},Init:function(){this.RegisterUserModel=new o.a(this.$root.$options.Servers),this.RegisterUserModel.EventsRegisterCompleted.RegisterUser=this.Regist_Completed,this.RegisterUserModel.EventsCheckUserNameCompleted.RegisterUser=this.CheckUserName_Completed,this.VCodeModel=new r.a(this.$root.$options.Servers),this.VCodeModel.EventsCheckUserMobileCompleted.RegisterUser=this.CheckUserMobile_Completed,this.VCodeModel.EventsGetMobileVCCompleted.RegisterUser=this.GetMobileCode_Completed,this.UserModel=new s.a(this.$root.$options.Servers),this.UserModel.EventsLoginCompleted.RegisterUser=this.Login_Completed,this.InitVModel()},InitVModel:function(){this.UserAcount="",this.UserTelePhone="",this.UserPassword="",this.ConfirmPassword="",this.VerificationCode="",this.ErrMessage="",this.IntUserName=0,this.IntMobile=0},SetSendData:function(){var t=this.RegisterUserModel.RegisterUser;t.UserName=this.UserName,t.Mobile=this.UserMobile,t.VerificationCode=this.VerificationCode,t.Password=this.UserPassword},GetMobileCode:function(){this.WaitTime>0||1==this.IntMobile&&(this.VCodeModel.Mobile=this.UserMobile,this.VCodeModel.BehaviorType=1,this.RegisterUserModel.RegisterUser.Mobile=this.UserMobile,this.VCodeModel.GetMobileVC())},GetMobileCode_Completed:function(t,e){if(t.Success){this.WaitTime=t.Data;var n=null,e=this;n=setInterval(function(){e.WaitTime-=1,e.WaitTime>0||clearInterval(n)},1e3)}},RegistUser:function(){var t="";return""==this.UserName?(t=this._tt("用户账号未输入"),this.$message.error(t),void(this.ErrMessage=t)):""==this.UserMobile||11!=this.UserMobile.length?(t=this._tt("用户手机输入错误"),this.$message.error(t),void(this.ErrMessage=t)):this.UserPassword!=this.ConfirmPassword?(t=this._tt("用户密码不一致"),this.$message.error(t),void(this.ErrMessage=t)):(this.SetSendData(),void this.RegisterUserModel.Register())},Regist_Completed:function(t,e){t.Success?(this.$message(this._tt("注册成功")),this.RegSuccess=!0):this.ErrMessage=t.Error},Login:function(){var t={};t={AccountName:this.UserName,Password:this.UserPassword},this.UserModel._ServerUser.Login(t,this.Login_Completed,this)},Login_Completed:function(t,e){t.Success?(l.a.setItem(c.a.UserKey,a()(t.Data)),this.$router.push({path:"/"})):this.error=t.Error},EnterLogin:function(){this.$router.push({name:"Login"})},CheckUserName:function(){""!=this.UserName&&(this.RegisterUserModel.RegisterUser.UserName=this.UserName,this.RegisterUserModel.CheckUserName())},CheckUserName_Completed:function(t,e){t.Success?this.IntUserName=1:(this.ErrMessage=t.Error,this.IntUserName=2)},CheckUserMobile:function(){if(""==this.UserMobile||11!=this.UserMobile.length)return void(this.IntMobile=2);this.VCodeModel.Mobile=this.UserMobile,this.VCodeModel.CheckUserMobile()},CheckUserMobile_Completed:function(t,e){t.Success?this.IntMobile=1:(this.ErrMessage=t.Error,this.IntMobile=2)}},mounted:function(){this.Init()},components:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),a=n(168),o=n(1610),s=n.n(o),r=n(1607),l=n.n(r),c=n(1608),u=n.n(c),d=n(1609),p=n.n(d);e.default={props:{},data:function(){return{UserID:"",UserName:"",Mobile:"",EMail:"",dialogVisiblePassword:!1,dialogVisibleMobile:!1,dialogVisibleEMail:!1,dialogVisibleBindingEMail:!1}},watch:{},created:function(){},mounted:function(){this.Init()},UserModel:null,methods:{EMailIcon:function(){return""==this.EMail?"icon icon40 icon-grey40":"icon icon40 icon-green40"},Init:function(){this.UserModel=new a.a(this.$root.$options.Servers),this.UserModel.EventsGetUserInfoCompleted.UserDetail=this.Load_Completed,this.Load()},Load:function(){this.UserID=this.UserModel.UserID=i.a.getUser().UserID,this.UserModel.GetUserInfo()},Load_Completed:function(t,e){t.Success?this.GetVMData():(this.ErrMessage=t.Error,this.$message.error(t.Error))},GetVMData:function(){var t=this.UserModel.UserInfo;this.UserName=t.UserName,this.Mobile=t.Mobile,this.EMail=t.EMail},OpenDialog:function(t){this.InitDialog(),1==t?this.dialogVisiblePassword=!0:2==t?this.dialogVisibleMobile=!0:3==t?this.dialogVisibleEMail=!0:4==t&&(this.dialogVisibleBindingEMail=!0)},CloseDialog:function(t){1==t?this.dialogVisiblePassword=!1:2==t?this.dialogVisibleMobile=!1:3==t?this.dialogVisibleEMail=!1:4==t&&(this.dialogVisibleBindingEMail=!1),this.Load()},InitDialog:function(){this.dialogVisiblePassword=!1,this.dialogVisibleMobile=!1,this.dialogVisibleEMail=!1,this.dialogVisibleBindingEMail=!1},HandleCloseDialog:function(t){this.CloseDialog(t)},HideMobile:function(t){return i.a.HideMobile(t)},HideEmail:function(t){return i.a.HideEmail(t)}},components:{changepassword:s.a,changemobile:p.a,changeemail:u.a,bindingemail:l.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(201),a=n(200),o=n(1622),s=n.n(o),r=n(1618),l=n.n(r);e.default={name:"workitemlist",data:function(){return{testValue:1231,textarea:"",currentId:"",globalOnEdit:!1,workPerformanceList:[],queryList:[{value:"ceshi1"},{value:"ceshi2"},{value:"ceshi3"}]}},methods:{querySearchAsync:function(){},changeEditState:function(){this.globalOnEdit=!this.globalOnEdit}},components:{WorkPerformanceItem:s.a,AddWorkPerformanceDialog:l.a},watch:{textarea:function(t){var e=this.textarea?JSON.parse(this.textarea):[new i.a];this.workPerformanceList=_.map(e,function(t){var e=new i.a;return e.itemId=t.itemId,e.itemName=t.itemName,e.initiatorId=t.initiatorId,e.owerId=t.owerId,e.commentorId=t.commentorId,e.previousId=t.previousId,e.nextId=t.nextId,e.principalId=t.principalId,e.workingDate=t.workingDate,e.amount=t.amount,e.baseScore=t.baseScore,e.ratio=t.ratio,e.coefficient=t.coefficient,e.minimumRatio=t.minimumRatio,e.maximumRatio=t.maximumRatio,e.workTime=t.workTime,e.state=t.state,e.itemType=t.itemType,e.candidateType=t.candidateType,e.referenceItem=t.referenceItem,e.extendedFields=_.map(t.extendedFields,function(t){var e=new a.a;return e.keyName=t.keyName,e.keyValue=t.keyValue,e}),e})}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(991),a=n(201),o=n(546),s=n.n(o),r=n(12),l=n.n(r);e.default={name:"AddWorkPerforamnceDialog",props:{item:{type:Object,default:function(){return new a.a}},queryList:{type:Array,default:function(){return[]}},onEdit:{type:Boolean,default:!0}},data:function(){return{dialogVisible:!1,pickerOptions0:{disabledDate:function(t){return t.getTime()<Date.now()-864e5}}}},create:function(){},computed:{selectingType:function(){var t=[];return l.a.each(this.item.candidateType,function(e){l.a.each(i.a,function(n){n.value===e&&t.push(n)})}),t}},methods:{closeDialog:function(){this.dialogVisible=!1,console.log(this.$refs),console.log(this.item);try{l.a.cloneDeep(this.item)}catch(t){}}},errorCaptured:function(t,e,n){return console.log(t),this.error=!0,e.validatorMessage=t.message,!1},components:{ExtendedFieldsAllInput:s.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(12);n.n(i);e.default={name:"DateAndError",props:{value:{type:String|Number,default:void 0},isEdit:{type:Boolean,default:!1},inputHeight:{type:String,default:""},inputWidth:{type:String,default:""},iconLeft:{type:String,default:""},iconRight:{type:String,default:"-18px"},dataType:{type:String,defaul:"date"}},data:function(){return{validatorMessage:"",pickerOptions0:{disabledDate:function(t){return t.getTime()<Date.now()-864e5}}}},computed:{dateValue:{get:function(){return this.value},set:function(t){this.validatorMessage="",this.$emit("input",t)}}},methods:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(200);e.default={name:"ExtendedFieldsAllInput",props:{extendedFields:{type:Array,defalut:function(){return[]}},onEdit:{type:Boolean,default:!0}},data:function(){return{}},methods:{addExtendedItem:function(t){var e=new i.a;this.extendedFields.splice(t+1,0,e)},deleteExtendedItem:function(t){this.extendedFields.splice(t,1)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(200);e.default={name:"ExtendedFieldsForOneInput",props:{extendedFields:{type:Array,defalut:function(){return[]}},onEdit:{type:Boolean,default:!0}},data:function(){return{}},methods:{addExtendedItem:function(t){var e=new i.a;this.extendedFields.splice(t+1,0,e)},deleteExtendedItem:function(t){this.extendedFields.splice(t,1)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),a=n.n(i),o=n(157);e.default={name:"InputItemSearch",props:{value:{type:String|Number,default:function(){return[]}},isEdit:{type:Boolean,default:!1},inputHeight:{type:String,default:""},inputWidth:{type:String,default:""},inputCenter:{type:String,default:""},iconLeft:{type:String,default:""},iconRight:{type:String,default:"-18px"},queryList:{type:Array,required:!0,default:[]},expectErrorMessage:{type:String,required:!1,default:""},errorKey:{type:String,default:""}},data:function(){return{validatorMessage:"",realValue:""}},methods:{querySearchAsync:function(t,e){var n=[];""===t||void 0===t?e(this.queryList):(a.a.each(this.queryList,function(e){e.value.includes(t)&&n.push(e)}),e(n)),this.value.value=t;var i=0;a.a.each(this.queryList,function(e){t===e.value&&(i+=1)}),0===i&&(this.validatorMessage=this.expectErrorMessage)},handleSelect:function(t){var e=new o.a;e.id=t.id,e.value=t.value,this.validatorMessage="",this.$emit("input",e)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(992),a=(n(201),n(650)),o=n(12),s=n.n(o),r=n(546),l=n.n(r),c=n(1620),u=n.n(c);e.default={name:"BaseWorkItem",props:{item:{type:Object,default:void 0},onEdit:{type:Boolean,default:!1},currentId:{type:String,default:"1"},queryList:{type:Array,default:function(){return[]}}},data:function(){return{error:!1,workPerformanceManager:new a.a,pickerOptions0:{disabledDate:function(t){return t.getTime()<Date.now()-864e5}},commentor:!1}},computed:{judgeRole:function(){return this.currentId===this.item.initiatorId},showType:function(){var t=this,e="";return s.a.each(i.a,function(n){n.value===t.item.itemType&&(e=n.label)}),e},selectingType:function(){var t=[];return s.a.each(this.item.candidateType,function(e){s.a.each(i.a,function(n){n.value===e&&t.push(n)})}),t},operations:function(){if("locked"===this.item.state)return[];if("effected"===this.item.state)return[];if(!this.item.selected)return[];if(this.onEdit)return[{name:"check",type:"success",icon:"fa-check"},{name:"remove",type:"danger",icon:"fa-remove"}];if(this.currentId===this.item.initiatorId&&""===this.item.nextId)return[{name:"edit",type:"warning",icon:"fa-pencil"},{name:"delete",type:"danger",icon:"fa-trash"},{name:"share",type:"success",icon:"fa-share-alt"}];if(this.currentId!=this.item.initiatorId&&""===this.item.nextId){var t=[];return this.item.commentorId?t.push({name:"comment",type:"success",icon:"fa-envelope-open-o"}):t.push({name:"comment",type:"danger",icon:"fa-envelope-o"}),t.push({name:"edit",type:"warning",icon:"fa-pencil"}),t.push({name:"share",type:"success",icon:"fa-share-alt"}),t.push({name:"reply",type:"primary",icon:"fa-reply"}),t.push({name:"declare",type:"success",icon:"fa-upload"}),this.item.settlorId&&this.currentId!==this.item.settlorId||t.push({name:"effected",type:"warning",icon:"fa-money"}),t}}},created:function(){console.log(this.item),console.log(this.operations)},methods:{onSelected:function(){this.item.selected=!0},handleOperation:function(t,e){this.$message({type:"success",message:t+"触发"})}},errorCaptured:function(t,e,n){return this.error=!0,e.validatorMessage=t.message,!1},components:{ExtendedFieldsAllInput:l.a,ExtendedFieldsForOneInput:u.a}}},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(31),a=n.n(i),o=n(23),s=function(t){var e=o.a+"/api/UserInfoManager/ChangeMyPassword";return r(e,t)},r=function(t,e){var n=JSON.parse(sessionStorage.getItem("user"));return a.a.defaults.headers.Authorization=n?"bearer "+n.UserTokenKey:"bearer 12345",a.a.post(t,e).then(function(t){return t.data}).catch(function(t){return console.log(t),t})}},function(t,e,n){"use strict";n.d(e,"a",function(){return g});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(8),p=n.n(d),m=n(108),h=n(32),f=n(867),v=n(312),g=function(t){function e(t){s()(this,e);var n=u()(this,(e.__proto__||a()(e)).call(this,t));return n.$submitAfterSaving=!1,n}return p()(e,t),l()(e,[{key:"createEndorsementFile",value:function(){var t=n.i(h.a)(v.a);return new f.a(t,this.apiManager,!1)}},{key:"loadEndorsementFile",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i={docid:t,isLoadNode:e,isLoadDetails:n};return this.apiManager.getApiHost("endorsement").get("GetOneDocument",i).then(function(t){var e=new f.a(t,this.apiManager);return e.initialize().then(function(){return e})}.bind(this))}},{key:"onEndorsementFileSaving",value:function(t){return this.eventManager.on("saving",t)}},{key:"emitEndorsementFileSaving",value:function(t){this.eventManager.emit("saving",t.toData())}},{key:"onEndorsementFileSaveFailed",value:function(t){return this.eventManager.on("saveFailed",t)}},{key:"emitEndorsementFileSaveFailed",value:function(t){this.eventManager.emit("saveFailed",t)}},{key:"SubmitAfterSaving",get:function(){return this.$submitAfterSaving},set:function(t){this.$submitAfterSaving=t}}]),e}(m.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return g});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(8),p=n.n(d),m=n(108),h=n(4),f=n.n(h),v=n(874),g=function(t){function e(t){return s()(this,e),u()(this,(e.__proto__||a()(e)).call(this,t))}return p()(e,t),l()(e,[{key:"getPayableItems",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i={subjectId:t,bankAccount:e,searchRange:n};return this.apiManager.getApiHost("Payable").get("GetPayableItems",i).then(function(t){return f.a.map(t,function(t){return new v.a(t)})})}}]),e}(m.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return v});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(8),p=n.n(d),m=n(108),h=n(882),f=n(4),v=(n.n(f),function(t){function e(t){return s()(this,e),u()(this,(e.__proto__||a()(e)).call(this,t))}return p()(e,t),l()(e,[{key:"loadTemplateById",value:function(t){var e=this,n=this.apiManager.getApiHost("template").get("Get",{templateId:t});return n.then(function(t){return new h.a(t,e.apiManager)})}}]),e}(m.a))},function(t,e,n){"use strict";var i=n(4),a=n.n(i),o=n(70),s=function(t,e){for(var n in t)if(n.toLowerCase()===e.toLowerCase())return t[n];return null};e.a={name:"PtitFormItem",componentName:"PtitFormItem",props:{prop:{type:String},arrayProp:{type:String,default:null},label:{type:String},for:{type:String},labelWidth:{type:String,default:null},showLabel:{type:Boolean,default:!0},showMessage:{type:Boolean,default:!0},value:{type:[String,Number,Object,Array,Boolean],default:null},ignoreViewState:{type:Boolean,default:!1},followFormState:{type:Boolean,default:!0},itemState:{type:String,default:"default"}},data:function(){return{isNested:!1,validateMessage:""}},computed:{form:function(){for(var t=this.$parent,e=t.$options.componentName;"PtitForm"!==e;)"PtitFormItem"===e&&(this.isNested=!0,this.$parentFormItem=t),t=t.$parent,e=t.$options.componentName;return t},state:function(){return this.followFormState?this.form.state:this.itemState}},methods:{validate:function(){if(!a.a.isEmpty(this.prop)){var t=this.getValidator();if(!a.a.isEmpty(t))try{n.i(o.a)(this.value,t,this.label,!0,!0),this.validateMessage=""}catch(t){return this.validateMessage=t.message,!1}}return!0},clearError:function(){this.validateMessage=""},getValidator:function(){if(a.a.isEmpty(this.prop))return null;var t=this.form.validator;if(this.isNested&&(t=this.$parentFormItem.getValidator()),a.a.isEmpty(t))return null;var e=!a.a.isEmpty(this.arrayProp),n=e?this.arrayProp:this.prop;n=n.replace(/\[(\w+)\]/g,".$1").replace(/^\./,"");for(var i=n.split("."),o=0,r=t,l=i.length;o<l;++o){var c=s(r,i[o]);if(a.a.isEmpty(c)&&(c=r.itemValidator),a.a.isEmpty(c))return null;r=c}return e?a.a.isEmpty(r.itemValidator)?null:s(r.itemValidator,this.prop):r}},watch:{state:function(){this.$emit("input",this.value)}},mounted:function(){a.a.isEmpty(this.prop)||this.form.addFormItem(this)},beforeDestory:function(){this.from.removeFormItem(this)},render:function(t){var e=this,n=!a.a.isEmpty(this.validateMessage)&&this.showMessage,i="0px",o=a.a.isEmpty(this.state)||"default"===this.state||this.ignoreViewState,s=this.showLabel;s&&(i=a.a.isEmpty(this.labelWidth)?this.form.labelWidth:this.labelWidth);var r=o?"ptit-form-item-default-content":"ptit-form-item-content";return t("div",{class:["ptit-form-item",n?"ptit-form-item-error":""]},[this._t("common"),s?t("label",{attrs:{for:this.for},class:"ptit-form-item-label",style:"width:"+i},[this.label]):"",t("div",{class:r,style:"margin-left:"+i},[t("div",{style:o?"":"display:none"},[this._t("default")]),this._l(this.form.states,function(n,i){return[t("div",{style:e.state===n?"":"display:none"},[e._t(n)])]}),this.showMessage?t("div",{class:"ptit-form-item-error-message"},[n?t("i",{class:"el-icon-circle-cross"},[" ",this.validateMessage]):""]):""])])}}},function(t,e,n){"use strict";var i=(n(135),n(70),n(4)),a=(n.n(i),Number,Number,function(t){return});e.a={install:a}},function(t,e,n){"use strict";var i=(n(135),n(4)),a=(n.n(i),n(70),n(160),n(207),n(213),n(216),n(205),n(75)),o=n(76),s=(n(110),n(217),n(206),n(215),n(894),String,Object,a.a,Object,o.a,Object,{form:{formType:0,version:0},id:{id:1,type:2},content:{postCode:"123456",englishTitle:"englishTitle",tags:"",validity:"2019-01-01",taxId:"123456769832193",supplierStatus:0,certificates:[],payMethods:[{bankName:"b",bankAccount:"a",holder:"c"},{bankName:"c",bankAccount:"b",holder:"d"}],address:"aaa",contactName:"ccc",telephone:"ttt",mobile:"mmm",attachments:[],relations:[],companyId:5,createDateTime:"",lastUpdate:"",userId:0,status:0,documentId:1,title:"s1"}}),r={form:{formType:0,version:0},id:{id:2,type:2},content:{postCode:"123456",englishTitle:"englishTitle",tags:"",taxId:"3454365465464536",validity:"2019-01-01",supplierStatus:3,certificates:[],payMethods:[{bankName:"bank",bankAccount:"543254326453765436543",holder:"hhhh"},{bankName:"zsyh",bankAccount:"78657658768646456",holder:"cccccc"}],address:"aaaa2",contactName:"ccc2",telephone:"ttt2",mobile:"mmm2",attachments:[],relations:[],companyId:5,createDateTime:"",lastUpdate:"",userId:0,status:0,documentId:2,title:"正式s2"}},l={form:{formType:0,version:0},id:{id:3,type:2},content:{postCode:"123456",englishTitle:"englishTitle",tags:"",taxId:"87657565436453645",validity:"2019-01-01",supplierStatus:3,certificates:[],payMethods:[{bankName:"bank3",bankAccount:"533333333333333333333",holder:"hhhh3"},{bankName:"zsyh3",bankAccount:"73333333333333333",holder:"cccccc3"}],address:"aaaa3",contactName:"ccc3",telephone:"ttt3",mobile:"mmm3",attachments:[],relations:[],companyId:5,createDateTime:"",lastUpdate:"",userId:0,status:0,documentId:3,title:"正式供应商"}},c=[s,r,l],u={form:{formType:0,version:0},id:{id:4,type:7},content:{projectId:1,projectCode:"P2017010101",director:"张三",budget:1e4,achievementsPoint:1e3,beginTime:"2017-08-01",endTime:"2018-07-30",remark:"",projectStatus:0,attachments:[],relations:[],companyId:7,createDateTime:"2017-08-10",lastUpdate:"2017-08-10",userId:1,status:1,documentId:4,title:"测试项目01",englishTitle:""}},d={form:{formType:0,version:0},id:{id:5,type:7},content:{projectId:2,projectCode:"P2017010102",director:"李四",budget:88e3,achievementsPoint:800,beginTime:"2017-10-01",endTime:"2017-12-30",remark:"",projectStatus:0,attachments:[],relations:[],companyId:7,createDateTime:"2017-08-10",lastUpdate:"2017-08-10",userId:1,status:1,documentId:5,title:"测试项目02",englishTitle:""}};c.push(u),c.push(d);var p={form:{formType:0,version:0},id:{id:6,type:3},content:{signTime:"",contractCode:"C001",contractType:1,director:"张三",directorId:1,signAddress:"",projectName:"测试项目01",projectId:1,description:"",supplierId:1,supplierName:"",telephone:"",mobile:"",contact:"",bankName:"",bankAccount:"",accountHolder:"",tags:"",contractStatus:1,companyId:5,createDateTime:"",lastUpdate:"",userId:1,status:1,documentId:6,title:"合同1",freeTerms:[],payTerms:[],contractFiles:[],relations:[],attachments:[],englishTitle:"",totalPrice:0}},m={form:{formType:0,version:0},id:{id:7,type:3},content:{signTime:"",contractCode:"C002",contractType:1,director:"李四",directorId:1,signAddress:"",projectName:"测试项目02",projectId:2,description:"",supplierId:1,supplierName:"",telephone:"",mobile:"",contact:"",bankName:"",bankAccount:"",accountHolder:"",tags:"",contractStatus:0,companyId:5,createDateTime:"",lastUpdate:"",userId:1,status:1,documentId:7,title:"合同2",freeTerms:[],payTerms:[],contractFiles:[],relations:[],attachments:[],englishTitle:"",totalPrice:0}};c.push(p),c.push(m);var h={form:{formType:0,version:0},id:{id:8,type:4},content:{payType:1,paymentNo:"P001",supplierId:1,supplierName:"s1",bankAccount:"1234567890",remark:"",userName:"",payableTerms:[],paymentVouchers:[],paymentStatus:1,totalPrice:1e4,attachments:[],relations:[],companyId:5,createDateTime:"2017-08-10",lastUpdate:"",userId:1,status:1,documentId:8,title:"测试付款01",englishTitle:""}},f={form:{formType:0,version:0},id:{id:9,type:4},content:{payType:1,paymentNo:"P001",supplierId:2,supplierName:"正式2",bankAccount:"1234567890",remark:"",userName:"",payableTerms:[],paymentVouchers:[],paymentStatus:1,totalPrice:9e4,attachments:[],relations:[],companyId:5,createDateTime:"2017-08-10",lastUpdate:"",userId:1,status:1,documentId:9,title:"测试付款02",englishTitle:""}};c.push(h),c.push(f);var v=function(t){return};e.a={install:v}},function(t,e,n){"use strict";var i=n(135),a=n(70),o=n(4),s=(n.n(o),[{CompanyId:0,TypeCode:"6",TypeTag:"6",TypeName:"采购",DocumentGroups:[{DocumentType:1,TypeName:"采购呈文",Immutable:!0}]},{CompanyId:0,TypeCode:"2",TypeTag:"2",TypeName:"供应商资质",DocumentGroups:[{DocumentType:1,TypeName:"呈文",Immutable:!0},{DocumentType:2,TypeName:"供应商",Immutable:!1}]},{CompanyId:0,TypeCode:"7",TypeTag:"7",TypeName:"项目",DocumentGroups:[{DocumentType:1,TypeName:"呈文",Immutable:!0},{DocumentType:7,TypeName:"项目",Immutable:!1}]},{CompanyId:0,TypeCode:"3",TypeTag:"3",TypeName:"合同签署",DocumentGroups:[{DocumentType:1,TypeName:"呈文",Immutable:!0},{DocumentType:3,TypeName:"供应商合同",Immutable:!1}]},{CompanyId:0,TypeCode:"4",TypeTag:"4",TypeName:"对外付款",DocumentGroups:[{DocumentType:1,TypeName:"呈文",Immutable:!0},{DocumentType:4,TypeName:"对外付款",Immutable:!1}]},{CompanyId:0,TypeCode:"1",TypeTag:"1",TypeName:"便函请示",DocumentGroups:[{DocumentType:1,TypeName:"便函",Immutable:!0}]},{CompanyId:0,TypeCode:"5",TypeTag:"5",TypeName:"正式呈文",DocumentGroups:[{DocumentType:1,TypeName:"正式呈文",Immutable:!0}]}]),r={companyId:{required:!0,type:Number,isFloat:!1}},l=function(t){if(console.log("Install Endorsement Server in "+t.apiServerMode),"remote"!=t.apiServerMode){t.getApiHost("WorkflowDocumentManager").registerLocal("GetDocumentTypeList","get",function(t,e){return n.i(a.a)(t,r),new i.a(s)})}};e.a={install:l}},function(t,e,n){"use strict";var i=(n(135),n(70),n(4)),a=(n.n(i),Number,String,Number,function(t){return});e.a={install:a}},function(t,e,n){"use strict";var i=(n(135),n(70),String,String,function(t){return});e.a={install:i}},function(t,e,n){"use strict";n.d(e,"a",function(){return g});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(8),p=n.n(d),m=n(109),h=n(310),f=n(4),v=(n.n(f),n(3)),g=(n.n(v),function(t){function e(t,n){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];s()(this,e);var o=u()(this,(e.__proto__||a()(e)).call(this,5,n,t,h.a,i));return o.$apiManager=n,o}return p()(e,t),l()(e,[{key:"DocumentComponentName",get:function(){return"ApplyPerDocument"}},{key:"auditeUserId",get:function(){return this.$data.auditeUserId},set:function(t){this.$data.auditeUserId=t}},{key:"auditeUserName",get:function(){return this.$data.auditeUserName},set:function(t){this.$data.auditeUserName=t}},{key:"auditeTime",get:function(){return this.$data.auditeTime},set:function(t){this.$data.auditeTime=t}},{key:"acionType",get:function(){return this.$data.acionType},set:function(t){this.$data.acionType=t}},{key:"CreateUserId",get:function(){return this.$data.CreateUserId},set:function(t){this.$data.CreateUserId=t}},{key:"createUserName",get:function(){return this.$data.createUserName},set:function(t){this.$data.createUserName=t}},{key:"description",get:function(){return this.$data.description},set:function(t){this.$data.description=t}},{key:"statusStr",get:function(){return this.$data.statusStr},set:function(t){this.$data.statusStr=t}},{key:"itemNum",get:function(){return this.$data.itemNum},set:function(t){this.$data.itemNum=t}},{key:"totalScore",get:function(){return this.$data.totalScore},set:function(t){this.$data.totalScore=t}},{key:"applyStatus",get:function(){return this.$data.applyStatus},set:function(t){this.$data.applyStatus=t}},{key:"companyName",get:function(){return this.$data.companyName},set:function(t){this.$data.companyName=t}},{key:"applyPerformanceItem",get:function(){return this.$data.applyPerformanceItem},set:function(t){this.$data.applyPerformanceItem=t}}]),e}(m.a))},function(t,e,n){"use strict";n.d(e,"a",function(){return v});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(8),p=n.n(d),m=n(109),h=n(4),f=(n.n(h),n(205)),v=(n(32),function(t){function e(t,n){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return s()(this,e),u()(this,(e.__proto__||a()(e)).call(this,1,n,t,f.a,i))}return p()(e,t),l()(e,[{key:"TitleForTab",get:function(){return"呈文"}},{key:"Content",get:function(){return this.$data.content},set:function(t){this.$data.content=t}}]),e}(m.a))},function(t,e,n){"use strict";n.d(e,"a",function(){return C});var i=n(15),a=n.n(i),o=n(7),s=n.n(o),r=n(1),l=n.n(r),c=n(2),u=n.n(c),d=n(9),p=n.n(d),m=n(8),h=n.n(m),f=n(887),v=n(18),g=n(4),y=n.n(g),_=n(862),b=n(866),C=function(t){function e(t,n){l()(this,e);var i=p()(this,(e.__proto__||s()(e)).call(this,t,f.a));return i.$apiManager=n,i.$template=null,i.$endorsementCategories=null,i}return h()(e,t),u()(e,[{key:"loadTemplate",value:function(){var t=this;return y.a.isEmpty(this.$template)?this.$apiManager.getApiHost("CompanyManager").get("GetCompanyTemplateByComID",{comID:this.CompanyID}).then(function(e){return t.$template=new _.a(e,t.$apiManager),t.$template}):a.a.resolve(this.$template)}},{key:"loadEndorsementCategories",value:function(){var t=this;return y.a.isEmpty(this.$endorsementCategories)?this.$apiManager.getApiHost("WorkflowDocumentManager").get("GetDocumentTypeList",{companyId:this.CompanyID}).then(function(e){return t.$endorsementCategories=y.a.map(e,function(t){return new b.a(t)}),t.$endorsementCategories}):a.a.resolve(this.$endorsementCategories)}},{key:"Desc",get:function(){return this.$data.Desc}},{key:"Address",get:function(){return this.$data.Address}},{key:"Zip",get:function(){return this.$data.Zip}},{key:"Phone",get:function(){return this.$data.Phone}},{key:"Fax",get:function(){return this.$data.Fax}},{key:"IsTemplate",get:function(){return this.$data.IsTemplate}},{key:"Enable",get:function(){return this.$data.Enable}},{key:"HrManager",get:function(){return this.$data.HrManager}},{key:"CompanyManager",get:function(){return this.$data.CompanyManager}},{key:"NodeType",get:function(){return this.$data.NodeType}},{key:"NodePath",get:function(){return this.$data.NodePath}},{key:"CompanyID",get:function(){return this.$data.CompanyID}},{key:"ID",get:function(){return this.$data.ID}},{key:"Name",get:function(){return this.$data.Name}},{key:"EnName",get:function(){return this.$data.EnName}},{key:"PID",get:function(){return this.$data.PID}},{key:"NodePathNames",get:function(){return this.$data.NodePathNames}},{key:"IconKey",get:function(){return this.$data.IconKey}},{key:"template",get:function(){return this.$template}},{key:"endorsementCategories",get:function(){return this.$endorsementCategories}}]),e}(v.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return _});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(8),p=n.n(d),m=n(886),h=n(311),f=n(32),v=n(18),g=n(4),y=n.n(g),_=function(t){function e(t,n){s()(this,e);var i=u()(this,(e.__proto__||a()(e)).call(this,{Images:t},m.a));return i.$apiManager=n,i.$images=[],i}return p()(e,t),l()(e,[{key:"getImage",value:function(t){var e=y.a.find(this.Images,function(e){return e.Pos===t});return y.a.isEmpty(e)&&(e=n.i(f.a)(h.a)),e}},{key:"getLogoUrl",value:function(){return this.StrLogo.StrUrl}},{key:"getSealUrl",value:function(t){switch(t){case 1:return this.StrSeal.StrUrl;case 2:return this.StrFinance.StrUrl;case 3:return this.StrDepartment.StrUrl;default:return this.StrSeal.StrUrl}}},{key:"getSignUrl",value:function(){return this.StrSign.StrUrl}},{key:"getBackgroundUrl",value:function(){return this.StrBackground.StrUrl}},{key:"Images",get:function(){return this.$data.Images}},{key:"StrLogo",get:function(){return this.getImage("logo")}},{key:"StrSign",get:function(){return this.getImage("sign")}},{key:"StrSeal",get:function(){return this.getImage("seal")}},{key:"StrFinance",get:function(){return this.getImage("finance")}},{key:"StrDepartment",get:function(){return this.getImage("department")}},{key:"StrBackground",get:function(){return this.getImage("bg")}}]),e}(v.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return w});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(34),p=n.n(d),m=n(8),h=n.n(m),f=n(109),v=n(4),g=n.n(v),y=n(32),_=n(207),b=(n(43),n(86),n(212)),C=n(873),k=n(210),I=n(869),D=(n(160),n(308),n(3)),S=(n.n(D),n(6)),w=function(t){function e(t,n){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];s()(this,e);var o=u()(this,(e.__proto__||a()(e)).call(this,3,n,t,_.a,i));return o.$apiManager=n,o.$payTerms=[],o.$freeTerms=[],g.a.isEmpty(o.$data.payTerms)||(o.$payTerms=g.a.map(o.$data.payTerms,function(t){return new C.a(t)})),g.a.isEmpty(o.$data.freeTerms)||(o.$freeTerms=g.a.map(o.$data.freeTerms,function(t){return new I.a(t)})),g.a.isEmpty(o.$data.totalPrice)?o.$totalPrice=0:o.$totalPrice=o.$data.totalPrice[0].minAmount,o.$supplier={},o.$project={},o}return h()(e,t),l()(e,[{key:"createPayTerm",value:function(){var t=n.i(y.a)(b.a),e=new C.a(t,b.a,!1);this.$payTerms.push(e)}},{key:"createFreeTerm",value:function(){var t=n.i(y.a)(k.a),e=new I.a(t,k.a,!1);this.$freeTerms.push(e)}},{key:"toData",value:function(){var t=p()(e.prototype.__proto__||a()(e.prototype),"toData",this).call(this);return this.setPayTermPercent(),t.payTerms=g.a.map(this.$payTerms,function(t){return t.toData()}),t.freeTerms=g.a.map(this.$freeTerms,function(t){return t.toData()}),t.contractFiles=g.a.map(this.$contractFiles,function(t){return t.toData()}),g.a.isEmpty(t.signTime)&&(t.signTime=this.SignTime),g.a.isEmpty(t.beginDate)&&(t.beginDate=this.BeginDate),g.a.isEmpty(t.endDate)&&(t.endDate=this.EndDate),t.supplierId=0,t.supplierName=0,g.a.isEmpty(this.$supplier)||(t.supplierId=this.$supplier.DocumentId,t.supplierName=this.$supplier.Title),t.projectId=0,t.projectName=0,g.a.isEmpty(this.$project)||(t.projectId=this.$project.DocumentId,t.projectName=this.$project.Title),console.log(t),t}},{key:"calculateTotalPrice",value:function(){return g.a.reduce(g.a.map(this.PayTerms,function(t){return S.a.fromCurrency(t.MinAmount)}),function(t,e){return t+e},0)}},{key:"checkAddPayTerms",value:function(){return!(this.calculateTotalPrice()>=this.TotalPrice)}},{key:"checkPayTerms",value:function(){return this.calculateTotalPrice()==this.TotalPrice}},{key:"setPayTermPercent",value:function(){var t=Number(this.TotalPrice);g.a.each(this.PayTerms,function(e){return e.Ratio=S.a.fromCurrency(e.MinAmount)/t*100})}},{key:"Supplier",get:function(){return this.$supplier},set:function(t){this.$supplier=t,g.a.isEmpty(t)||t.DocumentId==this.SupplierID?g.a.isEmpty(t)&&(this.SupplierID=0,this.SupplierName="",this.Contact="",this.Telephone="",this.Mobile=""):(this.Contact=t.ContactName,this.Telephone=t.Telephone,this.Mobile=t.Mobile,this.SupplierName=t.Title)}},{key:"Project",get:function(){return this.$project},set:function(t){this.$project=t,g.a.isEmpty(t)||t.DocumentId==this.ProjectID?g.a.isEmpty(t)&&(this.ProjectID=0,this.ProjectName=""):this.ProjectName=t.Title}},{key:"DocumentComponentName",get:function(){return"ContractDocument"}},{key:"ContractCode",get:function(){return this.$data.contractCode},set:function(t){this.$data.contractCode=t}},{key:"ContractType",get:function(){return 0==this.$data.contractType&&(this.$data.contractType=1),this.$data.contractType},set:function(t){this.$data.contractType=t}},{key:"SignAddress",get:function(){return this.$data.signAddress},set:function(t){this.$data.signAddress=t}},{key:"SignTime",get:function(){return this.getDateValue(this.$data.signTime)},set:function(t){this.$data.signTime=this.setDateValue(t)}},{key:"BeginDate",get:function(){return this.getDateValue(this.$data.beginDate)},set:function(t){this.$data.beginDate=this.setDateValue(t)}},{key:"EndDate",get:function(){return this.getDateValue(this.$data.endDate)},set:function(t){this.$data.endDate=this.setDateValue(t)}},{key:"Director",get:function(){return this.$data.director},set:function(t){this.$data.director=t}},{key:"DirectorID",get:function(){return this.$data.directorId},set:function(t){this.$data.directorId=t}},{key:"ProjectName",get:function(){return this.$data.projectName},set:function(t){this.$data.projectName=t}},{key:"ProjectID",get:function(){return this.$data.projectId},set:function(t){this.$data.projectId=t}},{key:"Description",get:function(){return this.$data.description},set:function(t){this.$data.description=t}},{key:"SupplierID",get:function(){return this.$data.supplierId},set:function(t){this.$data.supplierId=t}},{key:"SupplierName",get:function(){return this.$data.supplierName},set:function(t){this.$data.supplierName=t}},{key:"Contact",get:function(){return this.$data.contact},set:function(t){this.$data.contact=t}},{key:"Telephone",get:function(){return this.$data.telephone},set:function(t){this.$data.telephone=t}},{key:"TotalPrice",get:function(){return this.$totalPrice},set:function(t){this.$totalPrice=t}},{key:"Mobile",get:function(){return this.$data.mobile},set:function(t){this.$data.mobile=t}},{key:"BankAccount",get:function(){return this.$data.bankAccount},set:function(t){this.$data.bankAccount=t}},{key:"BankName",get:function(){return this.$data.bankName},set:function(t){this.$data.bankName=t}},{key:"Holder",get:function(){return this.$data.accountHolder},set:function(t){this.$data.accountHolder=t}},{key:"FreeTerms",get:function(){return this.$freeTerms},set:function(t){this.$freeTerms=t}},{key:"PayTerms",get:function(){return this.$payTerms}},{key:"ContractFiles",get:function(){return this.$attachments}},{key:"ContractStatus",get:function(){return this.$data.contractStatus}},{key:"auditable",get:function(){return p()(e.prototype.__proto__||a()(e.prototype),"auditable",this)&&0===this.ContractStatus}},{key:"editable",get:function(){return p()(e.prototype.__proto__||a()(e.prototype),"editable",this)&&0===this.ContractStatus}}]),e}(f.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return y});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(8),p=n.n(d),m=n(18),h=n(4),f=n.n(h),v=n(208),g=n(129),y=function(t){function e(t,n){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];s()(this,e);var o=u()(this,(e.__proto__||a()(e)).call(this,t,v.a,i));return o.$file=n,o.$uid=f.a.isEmpty(o.$file)?"":o.$file.uid,o}return p()(e,t),l()(e,[{key:"name",get:function(){return this.$data.AttachmentName},set:function(t){this.$data.AttachmentName=t}},{key:"key",get:function(){return this.$data.AttachmentKey},set:function(t){this.$data.AttachmentKey=t}},{key:"url",get:function(){return g.a.getApiHost("fileManager").getUrl("Download?key="+this.key)},set:function(t){this.$data.AttachmentStorageUrl=t}},{key:"size",get:function(){return this.$data.AttachmentLength},set:function(t){this.$data.AttachmentLength=t}},{key:"file",get:function(){return this.$file}},{key:"uid",get:function(){return this.$uid},set:function(t){this.$uid=t}}]),e}(m.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return v});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(8),p=n.n(d),m=n(18),h=n(4),f=(n.n(h),n(137)),v=function(t){function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return s()(this,e),u()(this,(e.__proto__||a()(e)).call(this,t,f.a,n))}return p()(e,t),l()(e,[{key:"DocumentId",get:function(){return this.$data.documentId}},{key:"Name",get:function(){return this.$data.name},set:function(t){this.$data.name=t}},{key:"Behaviour",get:function(){return this.$data.behaviour},set:function(t){this.$data.behaviour=t}}]),e}(m.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(8),p=n.n(d),m=n(18),h=n(890),f=function(t){function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return s()(this,e),u()(this,(e.__proto__||a()(e)).call(this,t,h.a,n))}return p()(e,t),l()(e,[{key:"CompanyId",get:function(){return this.$data.CompanyId}},{key:"TypeCode",get:function(){return this.$data.TypeCode}},{key:"TypeTag",get:function(){return this.$data.TypeTag}},{key:"TypeName",get:function(){return this.$data.TypeName}},{key:"DocumentGroups",get:function(){return this.$data.DocumentGroups}}]),e}(m.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return U});var i,a,o=n(19),s=n.n(o),r=n(15),l=n.n(r),c=n(7),u=n.n(c),d=n(1),p=n.n(d),m=n(2),h=n.n(m),f=n(9),v=n.n(f),g=n(34),y=n.n(g),_=n(8),b=n.n(_),C=n(312),k=n(18),I=n(134),D=n(4),S=n.n(D),w=n(3),x=n.n(w),E=n(32),T=n(87),N=(n(868),n(209)),P=n(302),M=n(864),$=n(208),U=(a=i=function(t){function e(t,i){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];p()(this,e);var o=v()(this,(e.__proto__||u()(e)).call(this,n.i(T.a)(t),C.a,a));return o.$apiManager=i,o.$category=null,o.$priorities=[{name:"一般",value:0},{name:"重要",value:1},{name:"紧急",value:2}],o.$departmentName=null,o.$department=null,o.$employeeName=null,o.$employeeEnName=null,o.$viewMode=!1,o.$attached=!1,o.$attachments=[],o.$decisionLevel=null,o.$version=0,S.a.isEmpty(o.$data.DocumentContext.DocumentAttachments)||(o.$attachments=S.a.map(o.$data.DocumentContext.DocumentAttachments,function(t){return new M.a(t)})),o.viewMode?o.$documents=[]:o.$documents=[e.$newDocument],o}return b()(e,t),h()(e,[{key:"initialize",value:function(){var t=this;return this.loadUserInfo().then(function(){return t.loadDocuments()}).then(function(){return t.$version=S.a.uniqueId("ENDORSEMENT")})}},{key:"loadUserInfo",value:function(){return I.a.instance.loadUserInfoById(this.$data.CreateUserId).then(function(t){this.setUserInfo(t)}.bind(this))}},{key:"loadDocuments",value:function(){var t=P.a.instance.createCommonDocument();if(t.content=this.$data.DocumentContext.Context,t.CompanyID=this.PublishCompanyId,t.viewMode=this.viewMode,t.TemplateId=this.TemplateId,t.CurrentNode=this.CurrentNode,t.ListNodes=this.ListNodes,t.Status=this.DocumentStatus,t.EndorsementFile=this,this.$documents.splice(0,0,t),!S.a.isEmpty(this.$data.ExendedDocuemnts)){var e=this,n=S.a.map(this.$data.ExendedDocuemnts,function(t){return P.a.instance.getDocumentById(t.RelevanceId).then(function(t){t.viewMode=e.viewMode,t.EndorsementFile=e,e.$documents.splice(1,0,t)})});return l.a.all(n).catch(function(t){return console.log(t)})}return l.a.resolve()}},{key:"setAttached",value:function(){this.$attached=!0}},{key:"backToDraft",value:function(){this.$viewMode=!1,this.$data.ListNodes=[]}},{key:"AddAttachment",value:function(t){var e=n.i(E.a)($.a);e.AttachmentName=t.response.Data.Name,e.AttachmentStorageUrl=t.response.Data.Url,e.AttachmentLength=t.response.Data.Size,e.AttachmentKey=t.response.Data.Key;var i=new M.a(e,t);this.$attachments.push(i)}},{key:"RemoveAttachment",value:function(t){var e=S.a.find(this.$attachments,function(e){return e.uid===t.uid});S.a.isEmpty(e)||this.$attachments.splice(S.a.indexOf(this.$attachments,e),1)}},{key:"setUserInfo",value:function(t){var e=this,n=S.a.find(t.employees,function(t){return t.CompanyID===e.PublishCompanyId});S.a.isEmpty(n)||(this.$data.PublishDepartmentId=n.DepartmentID,this.$departmentName=n.DepartmentName,this.$department=n.Department,this.$employeeName=n.StaffName,this.$employeeEnName=t.EnName)}},{key:"onSaveDraft",value:function(t){return this.eventManager.on("saveDraft",t)}},{key:"loadDecisionLevel",value:function(){var t=this;return S.a.isEmpty(this.decisionLevel)?this.$apiManager.getApiHost("flow").get("GetDocumentLevel",{DocumentID:this.DocumentId}).then(function(e){return t.$decisionLevel=e}).then(function(){return t.$decisionLevel}):l.a.resolve(this.$decisionLevel)}},{key:"toData",value:function(){var t=y()(e.prototype.__proto__||u()(e.prototype),"toData",this).call(this);this.DocumentId<=0&&(t.CreateUserId=I.a.instance.currentUser.UserID,t.CreateUserName=I.a.instance.currentUser.Name);var i=S.a.find(this.Documents,function(t){return 1===t.DocumentType});t.DocumentContext.Context=i.content,t.DocumentContext.DocumentAttachments=S.a.map(this.$attachments,function(t){return t.toData()});var a=S.a.filter(this.Documents,function(t){return t.DocumentType>1});return t.ExendedDocuemnts=[],S.a.each(a,function(e){var i=n.i(E.a)(N.a);i.ExtendContext=s()(e.toEnvelop()),i.ExtendType=e.DocumentType,i.RequestTime=x()(new Date).format("YYYY-MM-DD"),i.RelevanceId=e.DocumentId,t.ExendedDocuemnts.push(i)}),t}},{key:"IsDraft",get:function(){return this.$data.DocumentStatus<=0}},{key:"attached",get:function(){return this.$attached}},{key:"DocumentType",get:function(){return this.$data.DocumentType},set:function(t){this.$data.DocumentType=t}},{key:"DocumentId",get:function(){return this.$data.DocumentId}},{key:"viewMode",get:function(){var t=this;if(this.$viewMode)return!0;if(this.$data.DocumentStatus<=0){var e=S.a.find(this.$data.ListNodes,function(t){return 0===t.NodeIndex});if(null!=e){var n=S.a.find(e.NodeUsers,function(e){return e.UserId===t.$data.CreateUserId});if(null!=n)return n.Status>1}return!1}return!0},set:function(t){if(this.$viewMode=t,t){var n=S.a.find(this.$documents,function(t){return t.DocumentType===e.$newDocument.DocumentType});n>=0&&this.$documents.splice(n,1)}else S.a.any(this.$documents,function(t){return t.DocumentType===e.$newDocument.DocumentType})||this.$documents.push(e.$newDocument)}},{key:"DepartmentName",get:function(){return this.$departmentName}},{key:"EmployeeName",get:function(){return this.$employeeName}},{key:"EmployeeEnName",get:function(){return this.$employeeEnName}},{key:"Documents",get:function(){return this.$documents}},{key:"CreateDateTime",get:function(){return S.a.isEmpty(this.$data.CreateDateTime)&&(this.$data.CreateDateTime=x()(new Date).format("MM-DD")),x()(this.$data.CreateDateTime).format("MM-DD")}},{key:"RequestTime",get:function(){return S.a.isEmpty(this.$data.RequestTime)&&(this.$data.RequestTime=x()(new Date).format("YYYY-MM-DD hh:mm:ss")),x()(this.$data.RequestTime).format("YYYY-MM-DD hh:mm:ss")}},{key:"Priorities",get:function(){return this.$priorities}},{key:"Priority",get:function(){return this.$data.Priority},set:function(t){this.$data.Priority=t}},{key:"PublishCompanyId",get:function(){return this.$data.PublishCompanyId},set:function(t){t!==this.$data.PublishCompanyId&&(this.$data.PublishCompanyId=t,I.a.instance.loadCurrentUser().then(function(t){this.setUserInfo(t)}.bind(this)))}},{key:"Category",get:function(){return this.$category},set:function(t){this.$category=t,this.$data.DocumentType=S.a.isEmpty(t)?"":t.TypeCode}},{key:"Attachments",get:function(){return this.$attachments}},{key:"Title",get:function(){return this.$data.Title},set:function(t){this.$data.Title=t}},{key:"TemplateId",get:function(){return this.$data.TemplateId}},{key:"TemplateID",set:function(t){this.$data.TemplateId=t}},{key:"CurrentNode",get:function(){return this.$data.CurrentNode},set:function(t){this.$data.CurrentNode=t}},{key:"ListNodes",get:function(){return this.$data.ListNodes}},{key:"DocumentStatus",get:function(){return this.$data.DocumentStatus}},{key:"Department",get:function(){return this.$department}},{key:"version",get:function(){return this.$version}}]),e}(k.a),i.$newDocument={TabName:"new-document",TitleForTab:"新增文档...",Immutable:!0,DocumentComponentName:"CreateDocument",DocumentType:-1},a)},function(t,e,n){"use strict";var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(8),p=n.n(d),m=n(18);n(209),function(t){function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return s()(this,e),u()(this,(e.__proto__||a()(e)).call(this,t,ExendedDocuemntValidator,n))}p()(e,t),l()(e,[{key:"ExtendType",get:function(){return this.$data.ExtendType},set:function(t){this.$data.ExtendType=t}},{key:"RequestTime",get:function(){return this.$data.RequestTime},set:function(t){this.$data.RequestTime=t}},{key:"ExtendContext",get:function(){return this.$data.ExtendContext},set:function(t){this.$data.ExtendContext=t}}])}(m.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return b});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(34),p=n.n(d),m=n(8),h=n.n(m),f=n(18),v=n(4),g=n.n(v),y=n(210),_=n(3),b=(n.n(_),function(t){function e(t,n){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];s()(this,e);var o=u()(this,(e.__proto__||a()(e)).call(this,t,y.a,i));return o.$apiManager=n,o}return h()(e,t),l()(e,[{key:"toData",value:function(){var t=p()(e.prototype.__proto__||a()(e.prototype),"toData",this).call(this);return g.a.isEmpty(t.startDate)&&(t.startDate=this.StartDate),g.a.isEmpty(t.endDate)&&(t.endDate=this.EndDate),t}},{key:"Title",get:function(){return this.$data.title},set:function(t){this.$data.title=t}},{key:"Content",get:function(){return this.$data.content},set:function(t){this.$data.content=t}},{key:"TermID",get:function(){return this.$data.termId},set:function(t){this.$data.termId=t}},{key:"StartDate",get:function(){return this.getDateValue(this.$data.startDate)},set:function(t){this.$data.startDate=this.setDateValue(t)}},{key:"EndDate",get:function(){return this.getDateValue(this.$data.endDate)},set:function(t){this.$data.endDate=this.setDateValue(t)}},{key:"Index",get:function(){return this.$data.Index},set:function(t){this.$data.Index=t}}]),e}(f.a))},function(t,e,n){"use strict";n.d(e,"a",function(){return g});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(8),p=n.n(d),m=n(18),h=n(893),f=n(4),v=n.n(f),g=function(t){function e(t,i,o){s()(this,e);var r=u()(this,(e.__proto__||a()(e)).call(this,t,n.i(h.a)(i)));return r.$list=v.a.map(t.content,function(t){return new o(t,i)}),r}return p()(e,t),l()(e,[{key:"totalCount",get:function(){return this.$data.totalCount}},{key:"list",get:function(){return this.$list}}]),e}(m.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return v});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(8),p=n.n(d),m=n(313),h=n(18),f=n(4),v=(n.n(f),n(129),function(t){function e(t,n){s()(this,e);var i=u()(this,(e.__proto__||a()(e)).call(this,t,m.a));return i.$parentNode=n,i.$children=[],i}return p()(e,t),l()(e,[{key:"loadChildren",value:function(t){}},{key:"update",value:function(t){}},{key:"moveTo",value:function(t){}},{key:"delete",value:function(){}},{key:"addChild",value:function(t){}},{key:"nodeId",get:function(){return this.$data.ID}},{key:"companyID",get:function(){return this.$data.CompanyID}},{key:"name",get:function(){return this.$data.Name}},{key:"englishName",get:function(){return this.$data.EnName}},{key:"nodeType",get:function(){return this.$data.Type}},{key:"parentNode",get:function(){return this.$parentNode}},{key:"nodePath",get:function(){return this.$data.NodePath}},{key:"nodePathNames",get:function(){return this.$data.NodePathNames}},{key:"children",get:function(){return this.$children}}]),e}(h.a))},function(t,e,n){"use strict";n.d(e,"a",function(){return v});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(8),p=n.n(d),m=n(18),h=n(4),f=(n.n(h),n(211)),v=function(t){function e(t,n){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];s()(this,e);var o=u()(this,(e.__proto__||a()(e)).call(this,t,f.a,i));return o.$apiManager=n,o}return p()(e,t),l()(e,[{key:"BankName",get:function(){return this.$data.bankName},set:function(t){this.$data.bankName=t}},{key:"BankAccount",get:function(){return this.$data.bankAccount},set:function(t){this.$data.bankAccount=t}},{key:"Holder",get:function(){return this.$data.holder},set:function(t){this.$data.holder=t}}]),e}(m.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return C});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(34),p=n.n(d),m=n(8),h=n.n(m),f=n(18),v=n(4),g=n.n(v),y=n(212),_=n(3),b=(n.n(_),n(6)),C=function(t){function e(t,n){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];s()(this,e);var o=u()(this,(e.__proto__||a()(e)).call(this,t,y.a,i));return o.$apiManager=n,o.$floatRatio=o.$data.maxAmount==o.$data.minAmount?0:(o.$data.maxAmount-o.$data.minAmount)/o.$data.minAmount*100,o.$floatRatio=b.a.formatCurrency(o.$floatRatio),o.$data.minAmount=b.a.formatCurrency(o.$data.minAmount),o}return h()(e,t),l()(e,[{key:"toData",value:function(){var t=p()(e.prototype.__proto__||a()(e.prototype),"toData",this).call(this);return g.a.isEmpty(t.estimateTime)&&(t.estimateTime=this.EstimateTime),t}},{key:"Title",get:function(){return this.$data.title},set:function(t){this.$data.title=t}},{key:"Ratio",get:function(){return this.$data.ratio},set:function(t){this.$data.ratio=t}},{key:"Currency",get:function(){return this.$data.currency},set:function(t){this.$data.currency=t}},{key:"Remark",get:function(){return this.$data.remark},set:function(t){this.$data.remark=t}},{key:"MinAmount",get:function(){return this.$data.minAmount},set:function(t){this.$data.minAmount=t}},{key:"MaxAmount",get:function(){return this.$data.maxAmount},set:function(t){this.$data.maxAmount=t}},{key:"TermID",get:function(){return this.$data.termId},set:function(t){this.$data.termId=t}},{key:"EstimateTime",get:function(){return this.getDateValue(this.$data.estimateTime)},set:function(t){this.$data.estimateTime=this.setDateValue(t)}},{key:"Index",get:function(){return this.$data.index},set:function(t){this.$data.index=t}},{key:"FloatRatio",get:function(){return this.$floatRatio},set:function(t){this.MaxAmount=Number(this.MinAmount)+Number(this.MinAmount)*(t/100)}}]),e}(f.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return g});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(8),p=n.n(d),m=n(18),h=n(4),f=(n.n(h),n(895)),v=n(6),g=(n(3),function(t){function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return s()(this,e),u()(this,(e.__proto__||a()(e)).call(this,t,f.a,n))}return p()(e,t),l()(e,[{key:"PayableID",get:function(){return this.$data.payableId}},{key:"AppliedAmount",get:function(){return v.a.formatCurrency(this.$data.appliedAmount)}},{key:"ActualPayment",get:function(){return v.a.formatCurrency(this.$data.actualPayment)}},{key:"RemainingAmount",get:function(){return v.a.formatCurrency(this.$data.maximum-this.$data.appliedAmount-this.$data.actualPayment)}},{key:"ItemID",get:function(){return this.$data.itemId}},{key:"ItemName",get:function(){return this.$data.itemName}},{key:"Title",get:function(){return this.$data.title}},{key:"Index",get:function(){return this.$data.index}},{key:"ExpectedPaidTime",get:function(){return this.getDateValue(this.$data.expectedPaidTime)}},{key:"BankName",get:function(){return this.$data.bankName}},{key:"BankAccount",get:function(){return this.$data.bankAccount}},{key:"AccountHolder",get:function(){return this.$data.accountHolder}},{key:"Remark",get:function(){return this.$data.remark}},{key:"Minimum",get:function(){return v.a.formatCurrency(this.$data.minimum)}},{key:"Maximum",get:function(){return this.$data.maximum}}]),e}(m.a))},function(t,e,n){"use strict";n.d(e,"a",function(){return b});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(34),p=n.n(d),m=n(8),h=n.n(m),f=n(18),v=n(4),g=n.n(v),y=n(214),_=n(3),b=(n.n(_),function(t){function e(t,n){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];s()(this,e);var o=u()(this,(e.__proto__||a()(e)).call(this,t,y.a,i));return o.$apiManager=n,o}return h()(e,t),l()(e,[{key:"toData",value:function(){var t=p()(e.prototype.__proto__||a()(e.prototype),"toData",this).call(this);return g.a.isEmpty(t.estimateTime)&&(t.estimateTime=this.EstimateTime),t}},{key:"ContractID",get:function(){return this.$data.contractId},set:function(t){this.$data.contractId=t}},{key:"Title",get:function(){return this.$data.title},set:function(t){this.$data.title=t}},{key:"ItemName",get:function(){return this.$data.itemName},set:function(t){this.$data.itemName=t}},{key:"Ratio",get:function(){return this.$data.ratio},set:function(t){this.$data.ratio=t}},{key:"Currency",get:function(){return this.$data.currency},set:function(t){this.$data.currency=t}},{key:"Remark",get:function(){return this.$data.remark},set:function(t){this.$data.remark=t}},{key:"MinAmount",get:function(){return this.$data.minAmount},set:function(t){this.$data.minAmount=t}},{key:"MaxAmount",get:function(){return this.$data.maxAmount},set:function(t){this.$data.maxAmount=t}},{key:"Payment",get:function(){return this.$data.payment},set:function(t){this.$data.payment=t}},{key:"TermID",get:function(){return this.$data.termId},set:function(t){this.$data.termId=t}},{key:"ActualPayment",get:function(){return this.$data.actualPayment},set:function(t){this.$data.actualPayment=t}},{key:"SurplusPayment",get:function(){return this.$data.surplusPayment},set:function(t){this.$data.surplusPayment=t}},{key:"EstimateTime",get:function(){return this.getDateValue(this.$data.estimateTime)},set:function(t){this.$data.estimateTime=this.setDateValue(t)}},{key:"Index",get:function(){return this.$data.index},set:function(t){this.$data.index=t}}]),e}(f.a))},function(t,e,n){"use strict";n.d(e,"a",function(){return I});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(34),p=n.n(d),m=n(8),h=n.n(m),f=n(109),v=n(4),g=n.n(v),y=n(214),_=n(213),b=n(875),C=(n(43),n(86)),k=n(32),I=function(t){function e(t,n){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];s()(this,e);var o=u()(this,(e.__proto__||a()(e)).call(this,4,n,t,_.a,i));return o.$apiManager=n,o.$payableTerms=g.a.map(o.$data.payableTerms,function(t){return new b.a(t)}),o.$paymentVouchers=g.a.map(o.$data.paymentVouchers,function(t){return new C.a(t)}),o.$supplier={},o}return h()(e,t),l()(e,[{key:"createPayableTerm",value:function(t){var e=n.i(k.a)(y.a),i=new b.a(e,y.a,!1);i.ContractID=t.PayableID,i.Currency=0,i.EstimateTime=t.ExpectedPaidTime,i.Index=t.Index,i.ItemName=t.ItemName,i.MaxAmount=t.Maximum,i.MinAmount=t.Minimum,i.Payment=0,i.Ratio=0,i.TermID=t.ItemID,i.Remark=t.Remark,i.Title=t.ItemName,i.Amount=t.Maximum,i.ActualPayment=t.ActualPayment,i.SurplusPayment=t.RemainingAmount,this.$payableTerms.push(i)}},{key:"checkPayableTerm",value:function(){for(var t=0;t<this.$payableTerms.length;t++)if(Number(this.$payableTerms[t].Payment)>Number(this.$payableTerms[t].SurplusPayment)||Number(this.$payableTerms[t].Payment)>Number(this.$payableTerms[t].MaxAmount))return!1;return!0}},{key:"toData",value:function(){var t=p()(e.prototype.__proto__||a()(e.prototype),"toData",this).call(this);return t.payableTerms=g.a.map(this.$payableTerms,function(t){return t.toData()}),t.paymentVouchers=g.a.map(this.$paymentVouchers,function(t){return t.toData()}),t.supplierId=0,t.supplierName=0,g.a.isEmpty(this.$supplier)||(t.supplierId=this.$supplier.DocumentId,t.supplierName=this.$supplier.Title),g.a.isEmpty(t.bankAccount)&&(t.bankAccount="现金账户",t.Holder="无",t.BankName="无"),t}},{key:"Supplier",get:function(){return this.$supplier},set:function(t){this.$supplier=t,g.a.isEmpty(t)||t.DocumentId==this.SupplierID||(this.SupplierID=t.DocumentId,this.SupplierName=t.Title,this.BankAccount="")}},{key:"DocumentComponentName",get:function(){return"PayDocument"}},{key:"PaymentCode",get:function(){return this.$data.paymentNo},set:function(t){this.$data.paymentNo=t}},{key:"BankAccount",get:function(){return"现金账户"==this.$data.bankAccount?"":this.$data.bankAccount},set:function(t){this.$data.bankAccount=t}},{key:"Holder",get:function(){return this.$data.holder},set:function(t){this.$data.holder=t}},{key:"BankName",get:function(){return this.$data.bankName},set:function(t){this.$data.bankName=t}},{key:"SupplierID",get:function(){return this.$data.supplierId},set:function(t){this.$data.supplierId=t}},{key:"SupplierName",get:function(){return this.$data.supplierName},set:function(t){this.$data.supplierName=t}},{key:"TotalPrice",get:function(){return this.$data.totalPrice}},{key:"PaymentStatus",get:function(){return this.$data.paymentStatus}},{key:"PayableTerms",get:function(){return this.$payableTerms}},{key:"PaymentVouchers",get:function(){return this.$paymentVouchers},set:function(t){this.$paymentVouchers=t}},{key:"PayType",get:function(){return this.$data.payType},set:function(t){this.$data.payType=t}},{key:"auditable",get:function(){return p()(e.prototype.__proto__||a()(e.prototype),"auditable",this)&&0===this.PaymentStatus}},{key:"editable",get:function(){return console.log(this),p()(e.prototype.__proto__||a()(e.prototype),"editable",this)&&0===this.PaymentStatus}}]),e}(f.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return b});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(34),p=n.n(d),m=n(8),h=n.n(m),f=n(109),v=n(4),g=n.n(v),y=n(216),_=(n(43),n(86),n(32),n(3)),b=(n.n(_),function(t){function e(t,n){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];s()(this,e);var o=u()(this,(e.__proto__||a()(e)).call(this,7,n,t,y.a,i));return o.$apiManager=n,o}return h()(e,t),l()(e,[{key:"toData",value:function(){var t=p()(e.prototype.__proto__||a()(e.prototype),"toData",this).call(this);return g.a.isEmpty(t.BeginTime)&&(t.BeginTime=this.BeginTime),g.a.isEmpty(t.EndTime)&&(t.EndTime=this.EndTime),console.log(t),t}},{key:"DocumentComponentName",get:function(){return"ProjectDocument"}},{key:"ProjectID",get:function(){return this.$data.projectId}},{key:"ProjectCode",get:function(){return this.$data.projectCode},set:function(t){this.$data.projectCode=t}},{key:"Title",get:function(){return this.$data.title},set:function(t){this.$data.title=t}},{key:"Director",get:function(){return this.$data.director},set:function(t){this.$data.director=t}},{key:"Budget",get:function(){return this.$data.budget},set:function(t){this.$data.budget=t}},{key:"AchievementsPoint",get:function(){return this.$data.achievementsPoint},set:function(t){this.$data.achievementsPoint=t}},{key:"BeginTime",get:function(){return this.getDateValue(this.$data.beginTime)},set:function(t){this.$data.beginTime=this.setDateValue(t)}},{key:"EndTime",get:function(){return this.getDateValue(this.$data.endTime)},set:function(t){this.$data.endTime=this.setDateValue(t)}},{key:"Remark",get:function(){return this.$data.remark},set:function(t){this.$data.remark=t}},{key:"ProjectStatus",get:function(){return this.$data.projectStatus}},{key:"auditable",get:function(){return p()(e.prototype.__proto__||a()(e.prototype),"auditable",this)&&0===this.ProjectStatus}},{key:"editable",get:function(){return p()(e.prototype.__proto__||a()(e.prototype),"editable",this)&&0===this.ProjectStatus}}]),e}(f.a))},function(t,e,n){"use strict";n.d(e,"a",function(){return g});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(8),p=n.n(d),m=n(136),h=n(315),f=n(4),v=(n.n(f),n(3)),g=(n.n(v),function(t){function e(t){return s()(this,e),u()(this,(e.__proto__||a()(e)).call(this,t,h.a))}return p()(e,t),l()(e,[{key:"ContractCode",get:function(){return this.$data.contractCode}},{key:"ContractStatus",get:function(){return this.$data.contractStatus}},{key:"TotalPrice",get:function(){for(var t=0,e=0;e<this.$data.totalPrice.length;e++)t+=this.$data.totalPrice[e].maxAmount;return t}},{key:"SupplierName",get:function(){return this.$data.supplierName}},{key:"ProjectName",get:function(){return this.$data.projectName}},{key:"CreateDate",get:function(){return this.getDateValue(this.$data.createDateTime)}}]),e}(m.a))},function(t,e,n){"use strict";n.d(e,"a",function(){return g});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(8),p=n.n(d),m=n(136),h=n(316),f=n(3),v=(n.n(f),n(4)),g=(n.n(v),function(t){function e(t){return s()(this,e),u()(this,(e.__proto__||a()(e)).call(this,t,h.a))}return p()(e,t),l()(e,[{key:"PaymentCode",get:function(){return this.$data.paymentNo}},{key:"SupplierId",get:function(){return this.$data.supplierId}},{key:"SupplierName",get:function(){return this.$data.supplierName}},{key:"Payment",get:function(){return this.$data.payment}},{key:"Remark",get:function(){return this.$data.remark}},{key:"PaymentStatus",get:function(){return this.$data.paymentStatus}},{key:"TotalPrice",get:function(){return this.$data.payType}},{key:"BankName",get:function(){return this.$data.bankName}},{key:"BankAccount",get:function(){return this.$data.bankAccount}},{key:"Holder",get:function(){return this.$data.holder}},{key:"CreateDate",get:function(){return this.getDateValue(this.$data.createDateTime)}}]),e}(m.a))},function(t,e,n){"use strict";n.d(e,"a",function(){return g});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(8),p=n.n(d),m=n(136),h=n(317),f=n(4),v=(n.n(f),n(3)),g=(n.n(v),function(t){function e(t){return s()(this,e),u()(this,(e.__proto__||a()(e)).call(this,t,h.a))}return p()(e,t),l()(e,[{key:"ProjectId",get:function(){return this.$data.projectId}},{key:"ProjectCode",get:function(){return this.$data.projectCode}},{key:"Director",get:function(){return this.$data.director}},{key:"BeginTime",get:function(){return this.getDateValue(this.$data.beginTime)}},{key:"EndTime",get:function(){return this.getDateValue(this.$data.endTime)}},{key:"ProjectStatus",get:function(){return this.$data.projectStatus}},{key:"Budget",get:function(){return this.$data.budget}}]),e}(m.a))},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(8),p=n.n(d),m=n(136),h=n(318),f=function(t){function e(t){s()(this,e);var n=u()(this,(e.__proto__||a()(e)).call(this,t,h.a));return void 0!=n.$data.tags&&""!=n.$data.tags.replace(/\s/g,"")?n.$tags=n.$data.tags.replace(/(^,)|(,$)/g,"").split(","):n.$tags=[],n}return p()(e,t),l()(e,[{key:"SupplierStatus",get:function(){return this.$data.supplierStatus}},{key:"Validity",get:function(){return this.getDateValue(this.$data.validity)}},{key:"Tags",get:function(){return this.$tags}}]),e}(m.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return v});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(8),p=n.n(d),m=n(18),h=n(4),f=(n.n(h),n(899)),v=function(t){function e(t,n){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];s()(this,e);var o=u()(this,(e.__proto__||a()(e)).call(this,t,f.a,i));return o.$apiManager=n,o}return p()(e,t),l()(e,[{key:"id",get:function(){return this.$data.id}},{key:"name",get:function(){return this.$data.name}},{key:"category",get:function(){return this.$data.category}},{key:"company",get:function(){return this.$data.company}},{key:"description",get:function(){return this.$data.description}},{key:"createUser",get:function(){return this.$data.createUser}},{key:"lastDateTime",get:function(){return this.$data.lastDateTime}},{key:"state",get:function(){return this.$data.state}},{key:"level",get:function(){return this.$data.level}},{key:"levelstring",get:function(){return this.$data.levelstring}},{key:"nodes",get:function(){return this.$data.nodes}}]),e}(m.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return C});var i=n(15),a=n.n(i),o=n(7),s=n.n(o),r=n(1),l=n.n(r),c=n(2),u=n.n(c),d=n(9),p=n.n(d),m=n(8),h=n.n(m),f=n(18),v=n(4),g=n.n(v),y=n(204),_=n(203),b=n(900),C=function(t){function e(t,n){l()(this,e);var i=p()(this,(e.__proto__||s()(e)).call(this,t,b.a));return i.$apiManager=n,i.$employees=null,i.$companies=[],i.$initialized=!1,i}return h()(e,t),u()(e,[{key:"initialize",value:function(){if(this.$initialized)return a.a.resolve();var t=this;return this.$apiManager.getApiHost("CompanyManager").get("GetUserEmployeesByID",{userid:this.UserID}).then(function(e){if(!g.a.isEmpty(e)){t.$employees=e.map(function(t){return new y.a(t)});var n=g.a.map(t.$employees,function(e){return _.a.instance.loadCompanyById(e.CompanyID).then(function(e){return t.$companies.push(e)})});return a.a.all(n).then(function(e){return t.$initialized=!0})}})}},{key:"UserID",get:function(){return this.$data.UserId}},{key:"UserCode",get:function(){return this.$data.UserCode}},{key:"Name",get:function(){return this.$data.UserName}},{key:"employees",get:function(){return this.$employees}},{key:"companies",get:function(){return this.$companies}},{key:"EnName",get:function(){return this.$data.EnName}}]),e}(f.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return I});var i,a,o=n(15),s=n.n(o),r=n(7),l=n.n(r),c=n(1),u=n.n(c),d=n(2),p=n.n(d),m=n(9),h=n.n(m),f=n(8),v=n.n(f),g=n(901),y=n(18),_=n(4),b=n.n(_),C=n(204),k=n(203),I=(a=i=function(t){function e(t,n){u()(this,e);var i=h()(this,(e.__proto__||l()(e)).call(this,t,g.a));return i.$apiManager=n,i.$employees=null,i.$companies=[],i.$initialized=!1,i}return v()(e,t),p()(e,[{key:"initialize",value:function(){if(this.$initialized)return s.a.resolve();var t=this;return this.$apiManager.getApiHost("CompanyManager").get("GetUserEmployees",{}).then(function(n){if(!b.a.isEmpty(n)){t.$employees=n.map(function(t){return new C.a(t)});var i=b.a.map(t.$employees,function(e){return k.a.instance.loadCompanyById(e.CompanyID).then(function(e){return t.$companies.push(e)})});return s.a.all(i).then(function(e){return t.$initialized=!0}).then(function(n){return t.eventManager.emit(e.EVENT_KEY_INITIALIZE_COMPLETED,{})})}})}},{key:"onInitializeCompleted",value:function(t){return this.eventManager.on(e.EVENT_KEY_INITIALIZE_COMPLETED,t)}},{key:"Id",get:function(){return this.$data.Id}},{key:"UserID",get:function(){return this.$data.UserID}},{key:"UserCode",get:function(){return this.$data.UserCode}},{key:"Name",get:function(){return this.$data.Name}},{key:"employees",get:function(){return this.$employees}},{key:"companies",get:function(){return this.$companies}}]),e}(y.a),i.EVENT_KEY_INITIALIZE_COMPLETED="initializeCompleted",a)},function(t,e,n){"use strict";var i,a=n(36),o=n.n(a);e.a=(i={id:{type:Number},applyId:{type:Number}},o()(i,"applyId",{type:Number}),o()(i,"name",{type:String}),o()(i,"departId",{type:String}),o()(i,"departName",{type:String}),o()(i,"positionId",{type:String}),o()(i,"positionName",{type:String}),o()(i,"categoryId",{type:String}),o()(i,"categoryName",{type:String}),o()(i,"baseScore",{type:String}),o()(i,"calcType",{type:String}),o()(i,"minRate",{type:String}),o()(i,"maxRate",{type:String}),o()(i,"description",{type:String}),o()(i,"associationSystemId",{type:String}),o()(i,"associationSystemName",{type:String}),o()(i,"associationSystemItemId",{type:String}),o()(i,"associationSystemItemName",{type:String}),o()(i,"tag",{type:String}),o()(i,"changeStatus",{type:String}),o()(i,"performanceId",{type:String}),o()(i,"status",{type:String}),o()(i,"auditeRemark",{type:String}),o()(i,"createTime",{type:String}),o()(i,"companyId",{type:String}),o()(i,"companyName",{type:String}),i)},function(t,e,n){"use strict";var i=n(311);e.a={Images:{required:!0,type:Array,itemType:Object,itemValidator:i.a}}},function(t,e,n){"use strict";e.a={Desc:{type:String},Address:{type:String},Zip:{type:String},Phone:{type:String},Fax:{type:String},IsTemplate:{required:!0,type:Number,isFloat:!1},Enable:{required:!0,type:Number,isFloat:!1},HrManager:{type:String},CompanyManager:{type:String},NodeType:{required:!0,type:Number,isFloat:!1},NodePath:{required:!0,type:String},CompanyID:{required:!0,type:Number,isFloat:!1},ID:{required:!0,type:Number,isFloat:!1},Name:{required:!0,type:String},EnName:{required:!0,type:String},PID:{required:!0,type:Number,isFloat:!1},NodePathNames:{type:String},IconKey:{type:String}}},function(t,e,n){"use strict";var i=n(208);e.a={DocumentContextId:{required:!0,type:Number,isFloat:!1},DocumentId:{required:!0,type:Number,isFloat:!1},NodeIndex:{required:!0,type:Number,isFloat:!1},UserId:{required:!0,type:Number,isFloat:!1},UserName:{required:!0,type:String},Context:{required:!1,type:String},Extend:{required:!1,type:String},DocumentAttachments:{type:Array,itemType:Object,itemValidator:i.a},RequestTime:{required:!1,type:String}}},function(t,e,n){"use strict";var i=n(313);e.a={StaffID:{required:!0,type:Number,isFloat:!1},StaffCode:{required:!0,type:String},StaffName:{required:!0,type:String},Surname:{type:String},Nick:{type:String},EName:{type:String},DepartmentID:{required:!0,type:Number,isFloat:!1},DepartmentName:{required:!0,type:String},CompanyID:{required:!0,type:Number,isFloat:!1},CompanyName:{required:!0,type:String},PositionalTitle:{type:String},WorkPhone:{type:String},WorkMobile:{type:String},WorkEmail:{type:String},State:{required:!0,type:Number,isFloat:!1},JoinTime:{type:String},UserID:{required:!0,type:Number,isFloat:!1},UserNum:{type:String},OrganizationNodes:{required:!0,type:Array,itemType:Object,itemValidator:i.a},Permissions:{required:!0,type:Number,isFloat:!1},Level:{type:Number,isFloat:!1}}},function(t,e,n){"use strict";e.a={CompanyId:{required:!0,type:Number,isFloat:!1},TypeCode:{required:!0,type:String},TypeTag:{required:!0,type:String},TypeName:{required:!0,type:String},DocumentGroups:{required:!0,type:Array,itemType:Object,itemValidator:{DocumentType:{required:!0,type:Number,isFloat:!1},TypeName:{required:!0,type:String},Immutable:{required:!0,type:Boolean}}}}},function(t,e,n){"use strict";e.a={UserId:{required:!0,type:Number,isFloat:!1},UserName:{required:!1,type:String},Status:{required:!0,type:Number,isFloat:!1},GroupType:{required:!0,type:Number,isFloat:!1},GroupID:{required:!0,type:Number,isFloat:!1},GroupName:{required:!1,type:String}}},function(t,e,n){"use strict";var i=n(891);e.a={FlowNodeId:{required:!0,type:Number,isFloat:!1},DocumentId:{required:!0,type:Number,isFloat:!1},NodeIndex:{required:!0,type:Number,isFloat:!1},NodeName:{required:!1,type:String},NodeType:{required:!0,type:Number,isFloat:!1},UserCount:{required:!0,type:Number,isFloat:!1},MustAgreeCount:{required:!0,type:Number,isFloat:!1},ExecComplete:{required:!0,type:Boolean},NodeUsers:{required:!0,type:Array,itemType:Object,itemValidator:i.a}}},function(t,e,n){"use strict";var i=n(76),a=n(75),o=function(t){return{form:{required:!0,type:Object,validator:a.a},id:{required:!0,type:Object,validator:i.a},totalCount:{required:!0,type:Number,isFloat:!1},content:{required:!0,type:Array,itemType:Object,itemValidator:t}}};e.a=o},function(t,e,n){"use strict";var i=(n(75),n(76),n(110)),a=n(4),o=n.n(a),s={};e.a=o.a.extend(s,i.a)},function(t,e,n){"use strict";e.a={payableId:{require:!0,type:Number,isFloat:!1},appliedAmount:{require:!0,type:Number,isFloat:!0},actualPayment:{require:!0,type:Number,isFloat:!0},itemId:{require:!0,type:Number,isFloat:!1},itemName:{require:!0,type:String},index:{require:!0,type:Number,isFloat:!1},expectedPaidTime:{require:!0,type:String},bankName:{require:!0,type:String},bankAccount:{require:!0,type:String},accountHolder:{require:!0,type:String},remark:{type:String},minimum:{require:!0,type:Number,isFloat:!1},maximum:{require:!0,type:Number,isFloat:!1}}},function(t,e,n){"use strict";e.a={id:{required:!0,type:Number,isFloat:!1},name:{required:!0,type:String}}},function(t,e,n){"use strict";e.a={id:{required:!0,type:Number,isFloat:!1},name:{required:!0,type:String}}},function(t,e,n){"use strict";var i=n(319);e.a={name:{required:!0,type:String},nodeType:{required:!0,type:Number,isFloat:!1},voteCount:{required:!0,type:Number,isFloat:!1},users:{required:!0,type:Object,validator:i.a},index:{required:!0,type:Number,isFloat:!1}}},function(t,e,n){"use strict";var i=n(896),a=n(897),o=n(319),s=n(898),r=n(3);n.n(r);e.a={id:{required:!0,type:Number,isFloat:!1},name:{required:!0,type:String},category:{required:!0,type:Object,itemValidator:i.a},company:{required:!0,type:Object,itemValidator:a.a},description:{type:String},createUser:{required:!0,type:Object,validator:o.a},lastDateTime:{type:String},state:{required:!0,type:Number,isFloat:!1},level:{required:!0,type:Number,isFloat:!1},levelstring:{type:String},nodes:{required:!0,type:Array,itemType:Object,itemValidator:s.a}}},function(t,e,n){"use strict";e.a={UserId:{required:!0,type:Number,isFloat:!1},UserCode:{required:!0,type:String},Surname:{required:!1,type:String},UserName:{required:!0,type:String},EnName:{required:!1,type:String},HeadImage:{required:!1,type:String},MobilePhone:{required:!1,type:String},EMail:{required:!1,type:String},Gender:{required:!0,type:Number,isFloat:!1},Birthday:{required:!1,type:String},HomePlace:{required:!1,type:String},Residence:{required:!1,type:String},Education:{required:!1,type:String},NickName:{required:!1,type:String}}},function(t,e,n){"use strict";e.a={Id:{required:!0,type:Number,isFloat:!1},UserTokenKey:{required:!0,type:String},UserID:{required:!0,type:Number,isFloat:!1},UserCode:{required:!0,type:String},Name:{type:String},NickName:{type:String},WorkState:{type:String},States:{type:String,isFloat:!1},RefreshTokenKey:{required:!0,type:String},TokenTimeOut:{required:!0,type:String}}},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(4),l=n.n(r),c=function(){function t(e,n,i,o){a()(this,t),this.$message="",this.$propertyName=e,this.$isValid=!0,this.$target=i,this.$validate=l.a.bind(n,this),this.$context=o,this.$skipOnce=!1}return s()(t,[{key:"must",value:function(t,e){return t.apply(this,[this.value])?this.success():this.error(e)}},{key:"required",value:function(t){return!l.a.isEmpty(this.value)||l.a.isNumber(this.value)||l.a.isDate(this.value)?this.success():this.error(t)}},{key:"integer",value:function(t){return/^\d*$/.test(this.value)?this.success():this.error(t)}},{key:"numeric",value:function(t){return/^\d*.?\d{1,2}$/.test(this.value)?this.success():this.error(t)}},{key:"validate",value:function(){return this.$skipOnce?(this.$skipOnce=!1,!0):this.$validate()}},{key:"skipOnce",value:function(){this.$skipOnce=!0}},{key:"error",value:function(t){return console.log(t),this.$message=t,this.$isValid=!1,!1}},{key:"success",value:function(){return this.$message="",this.$isValid=!0,!0}},{key:"message",get:function(){return this.$message}},{key:"propertyName",get:function(){return this.$propertyName}},{key:"isValid",get:function(){return this.$isValid}},{key:"target",get:function(){return this.$target}},{key:"context",get:function(){return this.$context}},{key:"value",get:function(){var t=this.propertyName.split(".");return l.a.reduce(t,function(t,e){return l.a.property(e)(t)},this.target)}}]),t}()},function(t,e,n){"use strict";var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(4),l=n.n(r),c=function(){function t(){a()(this,t)}return s()(t,[{key:"aggregate",value:function(t){return l.a.reduce(t,function(t,e){return parseFloat(t)+parseFloat(e)},0)/t.length}},{key:"displayText",get:function(){return"平均"}}]),t}();e.a=new c},function(t,e,n){"use strict";var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=function(){function t(){a()(this,t)}return s()(t,[{key:"aggregate",value:function(t){return t.length}},{key:"displayText",get:function(){return"计数"}}]),t}();e.a=new r},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=function(){function t(e){a()(this,t),this._field=e,this._selected=!1,this._children=_.map(e.supportTypes,function(t){return{label:t,value:t}})}return s()(t,[{key:"clearType",value:function(){this.currentType=void 0}},{key:"field",get:function(){return this._field}},{key:"selected",get:function(){return!_.isUndefined(this.currentType)},set:function(t){this._selected=t}},{key:"label",get:function(){return"按"+this.field.displayText}},{key:"value",get:function(){return this.field.key}},{key:"children",get:function(){return this._children}},{key:"currentType",get:function(){return this._currentType},set:function(t){this._currentType=t}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(4),l=n.n(r),c=n(28),u=function(){function t(e){a()(this,t),this._field=e}return s()(t,[{key:"getOperabilityValues",value:function(t){var e=this,n=l.a.reduce(t,function(t,n){return e.field.getOperabilityValues(n,t)},null);if(l.a.isEmpty(n)||l.a.isNull(n))return[];var i=null;return l.a.all(n,function(t){return c.a.isValidNumeric(t)||l.a.isNumber(t)})?(i={type:"range",min:l.a.min(n,function(t){return parseFloat(t)}),max:l.a.max(n,function(t){return parseFloat(t)})},i.initial=i.min,i.initial==-1/0&&(i.initial=i.max),i.initial==1/0&&(i.initial=1)):(i={type:"options",values:l.a.unique(n)},i.value=l.a.first(i.values)),i}},{key:"isSimilarValues",value:function(t){var e=this,n=l.a.map(t,function(t){return e.field.getValue(t)});return n=l.a.filter(n,function(t){return!c.a.undefinedOrNullOrEmpty(t)}),l.a.unique(n).length>1}},{key:"getBulkCount",value:function(t){var e=this,n=l.a.map(t,function(t){return e.field.getValue(t)});return l.a.filter(n,function(t){return!c.a.undefinedOrNullOrEmpty(t)}).length}},{key:"setValue",value:function(t,e){var n=this;l.a.each(t,function(t){return n.field.setValue(t,e)})}},{key:"field",get:function(){return this._field}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(163),l=n(4),c=n.n(l),u=function(){function t(e,n){a()(this,t),this._field=e,this._selectedOptions=[],this._filter=new r.a(this._field.displayText),this._index=n}return s()(t,[{key:"calculateFilterOptions",value:function(t,e){var n=this,i=c.a.isEmpty(e)?[]:e.getFilterOptions(this.filter.displayText),a={};c.a.each(t,function(t){var e=n.field.getValue(t);c.a.isArray(e)||(e=[e]),c.a.each(e,function(t){var e=c.a.find(i,function(e){return e.displayText==t});c.a.isUndefined(e)?c.a.has(a,t)?a[t]++:a[t]=1:e.count=Math.max(e.count,0)+1})}),this.filter.options=a}},{key:"index",get:function(){return this._index}},{key:"filter",get:function(){return this._filter}},{key:"field",get:function(){return this._field}},{key:"selectedOptions",get:function(){return this._selectedOptions},set:function(t){this._selectedOptions=t}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(4),l=(n.n(r),function(){function t(e){a()(this,t),this._field=e,this._grouped=!1,this._index=-1}return s()(t,[{key:"field",get:function(){return this._field}},{key:"grouped",get:function(){return this._grouped},set:function(t){this._grouped=t,this._index=-1}},{key:"index",get:function(){return this._index},set:function(t){this._index=t}}]),t}())},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=function(){function t(e){a()(this,t),this._field=e,this.cancel()}return s()(t,[{key:"toggleState",value:function(){return"none"==this._state||this.desc?this._state="asc":this._state="desc",this._state}},{key:"cancel",value:function(){this._state="none",this._index=-1}},{key:"inSorting",value:function(){return"none"!=this._state}},{key:"field",get:function(){return this._field}},{key:"inSorting",get:function(){return"none"!=this._state}},{key:"state",get:function(){return this._state}},{key:"desc",get:function(){return"desc"==this._state}},{key:"index",get:function(){return this._index},set:function(t){this._index=t}}]),t}()},function(t,e,n){"use strict";var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(4),l=n.n(r),c=function(){function t(){a()(this,t)}return s()(t,[{key:"aggregate",value:function(t){return l.a.reduce(t,function(t,e){return parseFloat(t)+parseFloat(e)},0)}},{key:"displayText",get:function(){return"求和"}}]),t}();e.a=new c},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(131),l=function(){function t(){a()(this,t)}return s()(t,null,[{key:"saveWorkItem",value:function(t,e){return r.a.getApiHost({resource:"https://resource-api-staging.ptit365.com",work_manager:"https://work-manager-api-server-staging.ptit365.com",principal:"https://principal-version-api-staging.ptit365.com",batchSys:"https://alydnh-staging-api.ptit365.com"}.work_manager,"v1").post("",t,e)}},{key:"getWorkItem",value:function(t,e,n){return r.a.getApiHost({resource:"https://resource-api-staging.ptit365.com",work_manager:"https://work-manager-api-server-staging.ptit365.com",principal:"https://principal-version-api-staging.ptit365.com",batchSys:"https://alydnh-staging-api.ptit365.com"}.work_manager,"v1").get("/"+t+"/items",e,n)}},{key:"deleteItem",value:function(t,e){return r.a.getApiHost({resource:"https://resource-api-staging.ptit365.com",work_manager:"https://work-manager-api-server-staging.ptit365.com",principal:"https://principal-version-api-staging.ptit365.com",batchSys:"https://alydnh-staging-api.ptit365.com"}.work_manager,"v1").delete("/items",t,e)}},{key:"transmitItem",value:function(t,e){return r.a.getApiHost({resource:"https://resource-api-staging.ptit365.com",work_manager:"https://work-manager-api-server-staging.ptit365.com",principal:"https://principal-version-api-staging.ptit365.com",batchSys:"https://alydnh-staging-api.ptit365.com"}.work_manager,"v1").patch("/items",t,e)}},{key:"commentItem",value:function(t,e){return r.a.getApiHost({resource:"https://resource-api-staging.ptit365.com",work_manager:"https://work-manager-api-server-staging.ptit365.com",principal:"https://principal-version-api-staging.ptit365.com",batchSys:"https://alydnh-staging-api.ptit365.com"}.work_manager,"v1").put("/items",t,e)}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n(10),a=n.n(i),o=n(22),s=n.n(o),r=n(1),l=n.n(r),c=n(2),u=n.n(c),d=n(4),p=n.n(d),m=n(28),h=function(){function t(){l()(this,t),this._principals=[]}return u()(t,[{key:"setPrincipals",value:function(t){this._principals=t}},{key:"getParentPrincipals",value:function(){function t(t,n){return e.apply(this,arguments)}var e=s()(a.a.mark(function t(e,n){var i=this;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.asyncTimeout(function(t){return t(p.a.chain(i._principals).filter(function(t){return t.principalId==e}).map(function(t){return p.a.find(i._principals,function(e){return e.principalId==t.parentId&&e.principalType==n})}).filter(function(t){return!p.a.isUndefined(t)}).value())},1e3);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return t}()},{key:"getChildrenPrincipals",value:function(){function t(t,n){return e.apply(this,arguments)}var e=s()(a.a.mark(function t(e,n){var i=this;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.asyncTimeout(function(t){return t(i.getChildrenPrincipalsRecursively(e,n))},1e3);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return t}()},{key:"getChildrenPrincipalsRecursively",value:function(t,e){for(var n=p.a.filter(this._principals,function(e){return e.parentId==t}),i=p.a.filter(n,function(t){return t.principalType==e}),a=p.a.filter(n,function(t){return t.principalType!=e}),o=0;o<a.length;o++)n=this.getChildrenPrincipalsRecursively(a[o].principalId,e),i=i.concat(n);return p.a.unique(i,function(t){return t.principalId})}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var i=n(10),a=n.n(i),o=n(22),s=n.n(o),r=n(1),l=n.n(r),c=n(2),u=n.n(c),d=n(140),p=n(4),m=n.n(p),h=n(166),f=function(){function t(){l()(this,t)}return u()(t,[{key:"getReferences",value:function(){function t(t){return e.apply(this,arguments)}var e=s()(a.a.mark(function t(e){var n,i;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.getEffectedPerformanceDefinitionOfPrincipal(e,"-1");case 2:return n=t.sent,i=[],console.log(),m.a.each(n,function(t){var n=JSON.parse(t.content),a={type:n.type,title:n.title,workCycleValue:""===n.workCycleValue?0:n.workCycleValue,workCycleUnit:n.workCycleUnit,baseScore:n.baseScore,minimumRatio:"string"==typeof n.minimumRatio?parseInt(n.minimumRatio):n.minimumRatio,maximumRatio:"string"==typeof n.maximumRatio?parseInt(n.maximumRatio):n.maximumRatio,units:n.units,sourceItemId:n.sourceItemId,sourceVersionId:n.sourceVersionId,tabType:n.tabType,startTime:n.startTime,reportChain:n.reportChain,templates:n.templates,extendedFields:n.extendedFields,principalId:e},o=new h.a(a);i.push(o)}),t.abrupt("return",i);case 7:case"end":return t.stop()}},t,this)}));return t}()}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var i=n(7),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(9),u=n.n(c),d=n(8),p=n.n(d),m=n(18),h=n(324),f=function(t){function e(t){return s()(this,e),u()(this,(e.__proto__||a()(e)).call(this,t,h.a,!0))}return p()(e,t),l()(e,[{key:"displayText",get:function(){return this.$data.keyName}},{key:"type",get:function(){return this.$data.keyType}}]),e}(m.a)},function(t,e,n){"use strict";var i=n(323),a=n(324);e.a={type:{type:String},title:{type:String},workCycleValue:{type:Number,isFloat:!1},workCycleUnit:{type:String},baseScore:{type:Number,isFloat:!0},minimumRatio:{type:Number,isFloat:!0},maximumRatio:{type:Number,isFloat:!0},units:{type:String},sourceItemId:{type:String},sourceVersionId:{type:String,isFloat:!1},tabType:{type:String},startTime:{type:String},reportChain:{type:Array,itemType:Object,itemValidator:i.a},templates:{type:Array,itemType:Object,itemValidator:a.a},extendedFields:{type:Array,itemType:String}}},function(t,e,n){"use strict";e.a={itemId:{type:String,defaultValue:""},itemName:{type:String},initiatorId:{type:String},principalId:{type:String},commentorId:{type:String},workingDate:{type:String},status:{type:String},transitions:{type:Array,itemType:Number},referenceItem:{type:String},ownerId:{type:String},amount:{required:!0,type:Number,isFloat:!1},ratio:{required:!0,type:Number,isFloat:!0,defaultValue:1},score:{type:String},qualityScore:{type:String,defaultValue:"1"},templateValues:{type:Array,itemType:String}}},function(t,e,n){"use strict";var i=n(1510),a=n.n(i),o=n(1507),s=n.n(o),r=n(1517),l=n.n(r),c=n(1516),u=n.n(c),d=[{path:"/work/filter-test",component:a.a,name:"work-filter-test"},{path:"/work/filter-controller-test",component:s.a,name:"filterControllerText"},{path:"/work/work-item-list",component:l.a,name:"work-item-list"},{path:"/work/work-item-list-new",component:u.a,name:"work-item-list"}];e.a=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(35),a=n(566),o=n.n(a),s=n(567),r=n.n(s),l=(n(283),n(561)),c=n.n(l),u=n(565),d=n.n(u),p=n(562),m=(n.n(p),n(563)),h=(n.n(m),n(559)),f=n(560),v=(n(129),n(553)),g=n(552),y=n(554),_=n(14),b=(n.n(_),n(557),n(564)),C=(n.n(b),n(558)),k=(n.n(C),n(555)),I=n(556),D=n(551),S=n(550);i.default.use(k.a),i.default.use(I.a),i.default.use(D.a),i.default.use(S.a),i.default.use(g.a),i.default.use(v.a),i.default.use(c.a),i.default.use(y.a),i.default.use(d.a,{visibleModules:["text","color","font","align","list","link","unlink","tabulation","hr","eraser","undo","info"]}),i.default.config.productionTip=!1;var w=i.default.extend({methods:{emit:function(t,e){var n=this._events;if(null!=n)for(var i in n)0==i.indexOf(t)&&null!=n[i]&&(null==e?this.$emit(i):this.$emit(i,e))},add:function(t,e,n){this.$off(t+e),this.$on(t+e,n)}}});new i.default({el:"#app",router:h.a,Bus:new w,Servers:f.a,template:"<App/>",components:{App:o.a,Apptest:r.a}})},function(t,e,n){"use strict";function i(t){this._ServerBatch=new a.a(t),this.IsLoading=!1,this.IsSaveing=!1,this.bdID=0,this.Batch={Info:{DocumentID:0,Title:"",BatchTypeID:0,CompanyID:0,Priority:1,DepartmentName:"",CreateUser:"",CreateTime:"",CreateUserID:0},Node:{TemplateID:0,CurrentIndex:0,Nodes:[]},Status:0,IsReject:!1,files:[]},this.Submit={CreateUserID:0,TemplateID:0,ListUsers:[],Comment:"",ListFiles:[]},this.EventloadItems=null,this.EventsloadCompleted={},this.EventssaveCompleted={},this.Eventscommit={},this.Eventssubmit={},this.CommitErrors=[],this.setInfo=function(t,e){e.Batch.Status=t.DocumentStatus,e.Batch.IsReject=t.IsReject;var n=e.Batch.Info;n.DocumentID=t.DocumentId,n.Title=t.Title,n.BatchTypeID=t.DocumentType,n.CompanyID=t.PublishCompanyId,n.Priority=t.Priority,n.DepartmentName=t.PublishDepartmentId,n.CreateTime=t.CreateDateTime,n.CreateUser=t.CreateUserName,n.CreateUserID=t.CreateUserId,n.context=t.DocumentContext.Context,n.ExendedDocuemnts=t.ExendedDocuemnts},this.getInfo=function(){var t={},e=this.Batch.Info;return t.DocumentId=this.bdID,t.CreateUserId=e.CreateUser,t.CreateUserName=e.CreateUser,t.PublishCompanyId=e.CompanyID,t.PublishDepartmentId=e.DepartmentName,t.DocumentType=e.BatchTypeID,t.Title=e.Title,t.KeyWord="",t.Priority=e.Priority,t.DocumentContext={},t.DocumentContext.Context=e.context,t.DocumentContext.DocumentAttachments=this.getFiles(),t.ExendedDocuemnts=e.ExendedDocuemnts,t},this.setFiles=function(t,e){var n=e.Batch.files;if(n.splice(0,n.length),void 0!=t)for(;t.length>0;){var i=t.shift();n.push({key:i.AttachmentKey,name:i.AttachmentName,url:i.AttachmentStorageUrl,type:i.AttachmentType})}},this.getFiles=function(){for(var t=[],e=this.Batch.files,n=0;n<e.length;n++)t.push({DocumentId:this.bdID,DocumentAttachmentId:0,AttachmentKey:e[n].key,AttachmentName:e[n].name,AttachmentStorageUrl:e[n].url,AttachmentType:e[n].type});return t},this.setNode=function(t,e,n,i){i.Batch.Node.CurrentIndex=e,i.Batch.Node.TemplateID=n;var a=i.Batch.Node.Nodes;if(a.splice(0,a.length),void 0!=t)for(;t.length>0;){var o=t.shift();a.push({index:o.NodeIndex,name:o.NodeName,Type:o.NodeType,MustAgreeCount:o.MustAgreeCount,Users:this.setUsers(o.NodeUsers)})}},this.setUsers=function(t){for(var e=[];t.length>0;){var n=t.shift();e.push({id:n.UserId,name:n.UserName,status:n.Status,groupid:n.GroupID,groupname:n.GroupName,grouptype:n.GroupType,lastOperationTime:n.LastOperationTime,currentDateTime:n.CurrentDateTime})}return e},this.parseData=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=n.i(r.a)(t);this.setInfo(i,this),this.setFiles(i.DocumentContext.DocumentAttachments,this);var a=[];if(s.a.isEmpty(!i.ListNodes)&&s.a.each(i.ListNodes,function(t){return a.push(t)}),this.setNode(a,i.CurrentNode,i.TemplateId,this),this.bdID=i.DocumentId,e){null!=this.EventloadItems&&this.EventloadItems(Result);for(var o in this.EventsloadCompleted)null!=this.EventsloadCompleted[o]&&this.EventsloadCompleted[o]({Success:!0,Data:i})}},this.emitSaveCompleted=function(){for(var t in _this.EventssaveCompleted)null!=_this.EventssaveCompleted[t]&&_this.EventssaveCompleted[t](Result)},i.prototype.load_Completed=function(t,e){if(e.IsLoading=!1,void 0!=t&&void 0!=t.Success&&t.Success){var n=t.Data;e.setInfo(n,e),e.setFiles(n.DocumentContext.DocumentAttachments,e),e.setNode(n.ListNodes,n.CurrentNode,n.TemplateId,e)}null!=e.EventloadItems&&e.EventloadItems(t);for(var i in e.EventsloadCompleted)null!=e.EventsloadCompleted[i]&&e.EventsloadCompleted[i](t)},this.loadModel=function(){if(null===this._ServerBatch)return!1;var t={docid:this.bdID};return t.isLoadNode=!1,t.isLoadDetails=!1,this.IsLoading=this._ServerBatch.GetBatchDetail(t,this.load_Completed,this),this.IsLoading},i.prototype.loadByID=function(t){this.bdID=t,this.loadModel()},i.prototype.load=function(){this.loadModel()},i.prototype.save_Completed=function(t,e){e.IsSaveing=!1,void 0!=t&&void 0!=t.Success&&t.Success;for(var n in e.EventssaveCompleted)null!=e.EventssaveCompleted[n]&&e.EventssaveCompleted[n](t)},this.saveModel=function(){if(null===this._ServerBatch)return!1;var t=this.getInfo();return this.IsSaving=this._ServerBatch.SetBatchDetail(t,this.save_Completed,this),this.IsSaving},i.prototype.save=function(){return this.commit(),!(this.CommitErrors.length>0)&&this.saveModel()},this.commit=function(){this.CommitErrors.splice(0,this.CommitErrors.length);for(var t in this.Eventscommit)null!=this.Eventscommit[t]&&this.Eventscommit[t]()},i.prototype.action=function(t){if(console.log(t),null===this._ServerBatch)return!1;var e={docid:this.bdID};return e.documentId=this.bdID,e.checkCode="",this.IsSaving=this._ServerBatch.BatchAction(t,e,this.save_Completed,this),this.IsSaving},i.prototype.submit_Completed=function(t,e){e.IsSaveing=!1,void 0!=t&&void 0!=t.Success&&t.Success;for(var n in e.Eventssubmit)null!=e.Eventssubmit[n]&&e.Eventssubmit[n](t)},i.prototype.submit=function(t){if(null===this._ServerBatch)return!1;var e={DocID:this.bdID,CreateUserID:this.Submit.CreateUserID,TemplateID:this.Submit.TemplateID,ListUsers:this.Submit.ListUsers,Comment:this.Submit.Comment,ListFiles:this.Submit.ListFiles,IsExpMe:this.Submit.IsExpMe};return this.IsSaving=this._ServerBatch.BatchSubmit(t,e,this.submit_Completed,this),this.IsSaving}}var a=n(90),o=n(4),s=n.n(o),r=n(87);n(3);e.a=i},function(t,e,n){"use strict";function i(t){this._ServerBatch=new a.a(t),this.IsLoding=!1,this.Items=[],this.EventloadItems=null,i.prototype.CLearItems=function(){this.Items.splice(0,this.Items.length)},i.prototype.AddItems=function(t){for(;t.length>0;){var e=t.shift();this.Items.push({userName:e.userName,createDateTime:e.createDateTime,nodeName:e.nodeName,content:e.content,reciveUsers:e.reciveUsers,attachments:e.attachments})}},i.prototype.load_Completed=function(t,e){if(e.IsLoding=!1,void 0!=t&&void 0!=t.Success&&t.Success){var n=t.Data;e.CLearItems(),e.AddItems(n)}null!=e.EventloadItems&&e.EventloadItems(t)},i.prototype.load=function(t){if(null===this._ServerBatch)return!1;var e={documentId:t};return this.IsLoding=this._ServerBatch.GetFlowNodes(e,this.load_Completed,this),this.IsLoding}}var a=n(90);e.a=i},function(t,e,n){"use strict";function i(t){this._ServerBatch=new a.a(t),this.IsLoding=!1,this.Items=[],this.EventloadItems=null,i.prototype.CLearItems=function(){this.Items.splice(0,this.Items.length)},i.prototype.AddItems=function(t){for(;t.length>0;){var e=t.shift();this.Items.push({Title:e.TypeName,ID:e.TypeCode,TypeTag:e.TypeTag})}},i.prototype.load_Completed=function(t,e){if(e.IsLoding=!1,void 0!=t&&void 0!=t.Success&&t.Success){var n=t.Data;e.CLearItems(),e.AddItems(n)}null!=e.EventloadItems&&e.EventloadItems(t)},i.prototype.load=function(t){if(null===this._ServerBatch)return!1;var e={companyId:t};return this.IsLoding=this._ServerBatch.GetBatchTypeList(e,this.load_Completed,this),this.IsLoding},i.prototype.GetTagByID=function(t){for(var e=0;e<this.Items.length;e++)if(t==this.Items[e].ID)return this.Items[e].TypeTag;return"0"},i.prototype.GetIDByTag=function(t){for(var e=0;e<this.Items.length;e++)if(t==this.Items[e].TypeTag)return this.Items[e].ID;return"0"}}var a=n(90);e.a=i},function(t,e,n){"use strict";function i(t){this._ServerSystem=new a.a(t),this.IsLoding=!1,this.Items=[],this.EventloadItems=null,i.prototype.CLearItems=function(){this.Items.splice(0,this.Items.length)},i.prototype.AddItems=function(t){for(;t.length>0;){var e=t.shift();this.Items.push({Title:e.Name,ID:e.ID})}},i.prototype.load_Completed=function(t,e){if(e.IsLoding=!1,void 0!=t&&void 0!=t.Success&&t.Success){var n=t.Data;e.CLearItems(),e.AddItems(n)}null!=e.EventloadItems&&e.EventloadItems(t)},i.prototype.load=function(t){if(null===this._ServerSystem)return!1;var e={};return e={userId:t},this.IsLoding=this._ServerSystem.GetCompanysByUserID(e,this.load_Completed,this),this.IsLoding}}var a=n(335);e.a=i},function(t,e,n){"use strict";function i(t){this._ServerBatch=new a.a(t),this.IsLoding=!1,this.Items=[],this.EventloadItems=null,this.EventReadDoc=null,i.prototype.CLearItems=function(){this.Items.splice(0,this.Items.length)},i.prototype.AddItems=function(t){for(;t.length>0;){var e=t.shift();this.Items.push({Title:e.Title,ID:e.DocumentId,CompanyId:e.CompanyId,Priority:e.Priority,SubTitle:e.SubTitle,Status:e.Status,IsConcerns:e.IsConcerns,UserName:e.CreateUserName,DocumentType:e.DocumentType,Date:e.CreateDatetime,Unread:e.Unread})}},i.prototype.load_Completed=function(t,e){if(e.IsLoding=!1,void 0!=t&&void 0!=t.Success&&t.Success){var n=t.Data.documents;e.CLearItems(),e.AddItems(n)}null!=e.EventloadItems&&e.EventloadItems(t)},i.prototype.loadItemsAllByUserID=function(t,e,n){if(null===this._ServerBatch)return!1;var i={UserID:t,kanBanType:e,Keyword:"",companyId:0,fetchStartIndex:0,fetchSize:1e3,sortField:"",sortDescend:!1};return i=s.a.extend(i,n),this.IsLoding=this._ServerBatch.GetKanbanList(i,this.load_Completed,this),this.IsLoding},i.prototype.loadreadDoc_Completed=function(t,e){e._this.IsLoding=!1,null!=e._this.EventReadDoc&&e._this.EventReadDoc(t,e.ID,e.documentId)},i.prototype.readDoc=function(t,e){if(null===this._ServerBatch)return!1;var n={kanbanType:t,documentId:e};return this.IsLoding=this._ServerBatch.ReadKanbanDocs(n,this.loadreadDoc_Completed,{_this:this,ID:t,documentId:e}),this.IsLoding}}var a=n(90),o=n(4),s=n.n(o);e.a=i},function(t,e,n){"use strict";function i(t){this._ServerBatch=new a.a(t),this.IsLoding=!1,this.Items=[],this.EventloadItems=null,i.prototype.CLearItems=function(){this.Items.splice(0,this.Items.length)},i.prototype.AddItems=function(t){for(;t.length>0;){var e=t.shift();this.Items.push({Title:e,ID:e})}},i.prototype.load_Completed=function(t,e){if(e.IsLoding=!1,void 0!=t&&void 0!=t.Success&&t.Success){var n=t.Data;e.CLearItems(),e.AddItems(n)}null!=e.EventloadItems&&e.EventloadItems(t)},i.prototype.load=function(){if(null===this._ServerBatch)return!1;var t={};return this.IsLoding=this._ServerBatch.GetPriorityList(t,this.load_Completed,this),this.IsLoding}}var a=n(90);e.a=i},function(t,e,n){"use strict";function i(t){this._ServerUser=new a.a(t),this.UserName="",this.NewPassword="",this.FindPassword={GUID:"",ValidateType:"",VerificationCode:"",AuthorizationCode:"",FindType:"",PhoneOrMail:"",UserInfo:{UserID:"",Mobile:"",EMail:"",NickName:""}},this.IsLoding=!1,this.EventsFindPwdByImageVCCompleted={},this.EventsFindPwdByVCCompleted={},this.EventsFindPasswordCompleted={},this.EventsCheckUserPhoneOrMail={},i.prototype.GetVerifyOptions=function(){return[{value:1,text:"手机验证"}]},i.prototype.FindPwdValidateByImageVC=function(){var t={};return t={GUID:this.FindPassword.GUID,UserCode:this.UserName,VerificationCode:this.FindPassword.VerificationCode},console.log(t),this.IsLoding=this._ServerUser.FindPwdValidateByImageVC(t,this.FindPwdValidateByImageVC_Completed,this),this.IsLoding},i.prototype.FindPwdValidateByImageVC_Completed=function(t,e){e.IsLoding=!1,console.log(t),void 0!=t&&void 0!=t.Success&&t.Success&&(e.FindPassword.UserInfo.NickName=t.Data.NickName,e.FindPassword.UserInfo.Mobile=t.Data.MobilePhone,e.FindPassword.UserInfo.EMail=t.Data.EMail,e.FindPassword.UserInfo.UserID=t.Data.UserId);for(var n in e.EventsFindPwdByImageVCCompleted)null!=e.EventsFindPwdByImageVCCompleted[n]&&e.EventsFindPwdByImageVCCompleted[n](t)},i.prototype.FindPwdValidateByValidateCode=function(){console.log("FindUserPWModel.FindPwdValidateByValidateCode ==>");var t={};return t={UserId:this.FindPassword.UserInfo.UserID,ValidateType:this.FindPassword.ValidateType,RecvCode:this.FindPassword.PhoneOrMail,ValidateCode:this.FindPassword.VerificationCode},this.IsLoding=this._ServerUser.FindPwdValidateByValidateCode(t,this.FindPwdValidateByValidateCode_Completed,this),this.IsLoding},i.prototype.FindPwdValidateByValidateCode_Completed=function(t,e){e.IsLoding=!1,void 0!=t&&void 0!=t.Success&&t.Success&&(e.FindPassword.AuthorizationCode=t.Data.AuthorizationCode);for(var n in e.EventsFindPwdByVCCompleted)null!=e.EventsFindPwdByVCCompleted[n]&&e.EventsFindPwdByVCCompleted[n](t)},i.prototype.FindBackPassword=function(){var t={};return t={UserId:this.FindPassword.UserInfo.UserID,NewPassword:this.NewPassword,AuthorizationCode:this.FindPassword.AuthorizationCode},this.IsLoding=this._ServerUser.FindPassword(t,this.FindPassword_Completed,this),this.IsLoding},i.prototype.FindPassword_Completed=function(t,e){e.IsLoding=!1,void 0!=t&&void 0!=t.Success&&t.Success;for(var n in e.EventsFindPasswordCompleted)null!=e.EventsFindPasswordCompleted[n]&&e.EventsFindPasswordCompleted[n](t)},i.prototype.CheckUserPhoneOrMail=function(){if(null===this._ServerUser)return!1;var t={};return t={userCode:this.UserName,checkType:this.FindPassword.FindType,address:this.FindPassword.PhoneOrMail},this.IsLoding=this._ServerUser.CheckUserPhoneOrMail(t,this.CheckUserPhoneOrMail_Completed,this),this.IsLoding},i.prototype.CheckUserPhoneOrMail_Completed=function(t,e){e.IsLoding=!1,void 0!=t&&void 0!=t.Success&&t.Success;for(var n in e.EventsCheckUserPhoneOrMail)null!=e.EventsCheckUserPhoneOrMail[n]&&e.EventsCheckUserPhoneOrMail[n](t)}}var a=n(117);e.a=i},function(t,e,n){"use strict";function i(t){this._ServerUser=new a.a(t),this.RegisterUser={UserName:"",Mobile:"",Password:"",ConfirmPassword:"",VerificationCode:""},this.IsLoding=!1,this.EventsRegisterCompleted={},this.EventsCheckUserNameCompleted={},this.GetRegisterSendData=function(){var t={},e=this.RegisterUser;return t.UserCode=e.UserName,t.MobilePhone=e.Mobile,t.Password=e.Password,t.VerificationCode=e.VerificationCode,t},i.prototype.Register=function(){if(null===this._ServerUser)return!1;var t=this.GetRegisterSendData();return this.IsLoding=this._ServerUser.RegisterUser(t,this.Register_Completed,this),this.IsLoding},i.prototype.Register_Completed=function(t,e){e.IsLoding=!1,void 0!=t&&void 0!=t.Success&&t.Success;for(var n in e.EventsRegisterCompleted)null!=e.EventsRegisterCompleted[n]&&e.EventsRegisterCompleted[n](t)},i.prototype.CheckUserName=function(){var t={};return t={checkType:1,context:this.RegisterUser.UserName},this.IsLoding=this._ServerUser.CheckUserName(t,this.CheckUserName_Completed,this),this.IsLoding},i.prototype.CheckUserName_Completed=function(t,e){e.IsLoding=!1,void 0!=t&&void 0!=t.Success&&t.Success;for(var n in e.EventsCheckUserNameCompleted)null!=e.EventsCheckUserNameCompleted[n]&&e.EventsCheckUserNameCompleted[n](t)}}var a=n(117);e.a=i},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(1),a=n.n(i),o=function t(){a()(this,t),this.ID=0,this.UserCode="",this.Name="",this.NickName="",this.Phone="",this.Email="",this.Address="",this.CompanyIDs="",this.CompanyIDss=[],this.CompanyNames="",this.DepartmentID=0,this.DepartmentName="",this.RequestTime="",this.Pwd=""}},function(t,e,n){"use strict";function i(t){this._Server=t.OrganizeServer,this.filter={CompanyID:0,DepartID:0,SearchType:0,Keyword:void 0},this.DepartList=[],this.SearchResult=[],this.SearchTypeList=[{value:1,text:"员工"},{value:2,text:"部门"},{value:4,text:"职位"},{value:8,text:"角色"}],this.EventDepartComplete={},this.EventSearcComplete={},this.EventError={},this._SearchComplete=function(t,e){var n=e;if(void 0!=n.SearchResult&&n.SearchResult.length>0&&n.SearchResult.splice(0,n.SearchResult.length),void 0!=t&&t.Success){var i=t.Data;if(void 0!=i&&i.length>0)for(var a=0;a<i.length;a++){var o={};if(o.ID=i[a].ID,o.CompanyID=i[a].CompanyID,o.Name=i[a].Name,o.EnName=i[a].EnName,o.Type=i[a].Type,o.PID=i[a].PID,o.IconKey=i[a].IconKey,o.EmpolyeeCount=i[a].EmpolyeeCount,o.Childs=i[a].Childs,o.NodePath=i[a].NodePath,o.NodePathNames=i[a].NodePathNames,o.ParentName=i[a].ParentName,void 0!=o.Type)for(var s=0;s<n.SearchTypeList.length;s++)n.SearchTypeList[s].value==o.Type&&(o.TypeLable=n.SearchTypeList[s].text);n.SearchResult.push(o)}for(var r in n.EventSearcComplete)void 0!=n.EventSearcComplete[r]&&n.EventSearcComplete[r](t)}else for(var r in n.EventError)void 0!=n.EventError[r]&&n.EventError[r](t)},this._GetDepartComplete=function(t,e){var n=e;if(void 0!=n.DepartList&&n.DepartList.length>0&&n.DepartList.splice(0,n.DepartList.length),void 0!=t&&t.Success){var i=t.Data;if(void 0!=i&&i.length>0)for(var a=0;a<i.length;a++){var o={};o.ID=i[a].ID,o.CompanyID=i[a].CompanyID,o.Name=i[a].Name,o.EnName=i[a].EnName,o.Type=i[a].Type,o.PID=i[a].PID,o.IconKey=i[a].IconKey,o.EmpolyeeCount=i[a].EmpolyeeCount,o.Childs=i[a].Childs,o.NodePath=i[a].NodePath,o.ParentName=i[a].ParentName,n.DepartList.push(o)}for(var s in n.EventDepartComplete)void 0!=n.EventDepartComplete[s]&&n.EventDepartComplete[s](t)}else for(var s in n.EventError)void 0!=n.EventError[s]&&n.EventError[s](t)},i.prototype.Search=function(){var t=this;t.SearchResult=[];var e={};e.companyid=this.filter.CompanyID,e.nodeId=void 0==this.filter.DepartID||0==this.filter.DepartID.length?this.filter.CompanyID:this.filter.DepartID[0],e.nodeType=void 0==this.filter.SearchType?13:this.filter.SearchType,e.name=this.filter.Keyword,t._Server.SearchNodes(e.companyid,e.name,e.nodeId,e.nodeType).then(function(e){t._SearchComplete(e,t)})},i.prototype.GetDepart=function(){var t=this;t.DepartList=[];var e={};e.companyid=this.filter.CompanyID,e.nodeId=void 0==this.filter.DepartID?0:this.filter.DepartID,e.nodeType=void 0==this.filter.SearchType?2:this.filter.SearchType,e.name=this.filter.Keyword,t._Server.SearchNodes(e.companyid,e.name,e.nodeId,e.nodeType).then(function(e){t._GetDepartComplete(e,t)})}}n(3);e.a=i},function(t,e,n){"use strict";function i(t){this._Server=t.EmployeeServer,this.filter={CompanyID:0},this.SearchResult=[],this.EventSearcComplete={},this.EventAgreeComplete={},this.EventError={},this._ConvertToModel=function(t){var e={};return void 0!=t&&(e.ApplyID=t.ApplyID,e.UserID=t.UserID,e.UserCode=t.UserCode,e.UserName=t.UserName,e.InitiatorID=t.InitiatorID,e.InitiatorName=t.InitiatorName,e.InitiateType=t.InitiateType,e.StaffID=t.StaffID,e.StaffName=t.StaffName,e.CompanyID=t.CompanyID,e.CompanyName=t.CompanyName,e.EffectiveTime=t.EffectiveTime,e.State=t.State,e.StateDes=t.StateDes,void 0!=t.SendTime?e.SendTime=a(t.SendTime).format("YYYY-MM-DD"):e.SendTime=t.SendTime,e.Content=t.UserCode+" 申请加入公司 "+t.CompanyName),e},this._SearchComplete=function(t,e){var n=e;if(n.SearchResult=[],t.Success){var i=t.Data;if(void 0!=i&&i.length>0)for(var a=0;a<i.length;a++){var o=n._ConvertToModel(i[a].EmployeeApply);n.SearchResult.push(o)}for(var s in n.EventSearcComplete)void 0!=n.EventSearcComplete[s]&&n.EventSearcComplete[s](t)}else n._CallError(t)},this._CallError=function(t){var e=this;for(var n in e.EventError)void 0!=e.EventError[n]&&e.EventError[n](t)},this._AgreeComplete=function(t,e){var n=e;if(t.Success)for(var i in n.EventAgreeComplete)void 0!=n.EventAgreeComplete[i]&&n.EventAgreeComplete[i](t);else n._CallError(t)},i.prototype.Search=function(){var t={};t.CompanyId=this.filter.CompanyID,t.State=1,this._Server.GetApplyInfoByHR(t,this._SearchComplete,this)},i.prototype.Agree=function(t,e,n){var i={};i.ApplyID=t,i.UserID=e,i.StaffID=n,this._Server.HRConfirmApplication(i,this._AgreeComplete,this)}}var a=n(3);e.a=i},function(t,e,n){"use strict";function i(t){this._PerformanceServer=new a.a(t),this.CompanyID="",this.Performances=[],this.IsLoding=!1,this.EventsGetPerformanceListCompleted={},i.prototype.ClearPerformances=function(){this.Performances.splice(0,this.Performances.length)},i.prototype.GetPerformanceList=function(){if(null===this._PerformanceServer)return!1;var t={};return t={CompanyID:this.CompanyID},this.IsLoding=this._PerformanceServer.GetPerformanceList(t,this.GetPerformanceList_Completed,this),this.IsLoding},i.prototype.GetPerformanceList_Completed=function(t,e){e.IsLoding=!1,void 0!=t&&void 0!=t.Success&&t.Success&&(e.ClearPerformances(),e.Performances=t.Data.Performances);for(var n in e.EventsGetPerformanceListCompleted)null!=e.EventsGetPerformanceListCompleted[n]&&e.EventsGetPerformanceListCompleted[n](t)}}var a=n(334);e.a=i},function(t,e,n){"use strict";function i(t){this._PerformanceServer=new a.a(t),this.PerformanceID="",this.Performance={},this.IsLoding=!1,this.EventsGetPerformanceCompleted={},UserModel.prototype.GetPerformance=function(){if(null===this._PerformanceServer)return!1;var t={};return t={CompanyID:this.CompanyID},this.IsLoding=this._PerformanceServer.GetPerformance(t,this.GetPerformance_Completed,this),this.IsLoding},UserModel.prototype.GetPerformance_Completed=function(t,e){e.IsLoding=!1,void 0!=t&&void 0!=t.Success&&t.Success;for(var n in e.EventsGetPerformanceCompleted)null!=e.EventsGetPerformanceCompleted[n]&&e.EventsGetPerformanceCompleted[n](t)}}var a=n(334);e.a=i},function(t,e,n){"use strict";var i=n(19),a=n.n(i),o=n(4),s=(n.n(o),n(3)),r=function t(e){this._Server=e.DeclareServer,this.filter={CompanyID:0,DepartmentId:0,PositionId:0,UserID:0,PerformanceId:0,BeginTime:"",EndTime:"",PageIndex:1,PageSize:10},this.EventError={},this.EventSearchComplete={},this.ResultList=[],this._ConvertToModel=function(t){var e={};return void 0!=t&&(e=JSON.parse(a()(t)),void 0!=e.PerDate&&(e.PerDate=s(e.PerDate).format("YYYY-MM-DD")),void 0!=e.AuditDate&&(e.AuditDate=s(e.AuditDate).format("YYYY-MM-DD")),void 0!=e.SettlementDateTime&&(e.SettlementDateTime=s(e.SettlementDateTime).format("YYYY-MM-DD"))),e},this._CallError=function(t){var e=this;for(var n in e.EventError)void 0!=e.EventError[n]&&e.EventError[n](t)},t.prototype.Search=function(){if(this.ResultList=[],void 0==this.filter.CompanyID||0==this.filter.CompanyID){var t={Success:!1,Error:"公司编号不能为0"};return this._CallError(t),!1}var e={};e.CompanyID=this.filter.CompanyID,e.DepartmentId=this.filter.DepartmentId,e.PositionId=this.filter.PositionId,e.UserID=this.filter.UserID,e.PerformanceId=this.filter.PerformanceId,e.BeginTime=this.filter.BeginTime,e.EndTime=this.filter.EndTime,e.PageIndex=this.filter.PageIndex,e.PageSize=this.filter.PageSize;var n=this;this._Server.SearchDeclareItem(e,function(t){if(t.Success){var e=t.Data;if(void 0!=e&&e.length>0)for(var i=0;i<e.length;i++){var a=n._ConvertToModel(e[i]);n.ResultList.push(a)}for(var o in n.EventSearchComplete)void 0!=n.EventSearchComplete[o]&&n.EventSearchComplete[o](t)}else n._CallError(t)},this)}};e.a=r},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=function(){function t(e){a()(this,t),this.$data=e}return s()(t,[{key:"principalId",set:function(t){this.$data.principalId=t},get:function(){return this.$data.principalId}},{key:"ownerId",set:function(t){this.$data.ownerId=t},get:function(){return this.$data.ownerId}},{key:"sourceItemId",set:function(t){this.$data.sourceItemId=t},get:function(){return this.$data.sourceItemId}},{key:"sourceVersionId",set:function(t){this.$data.sourceVersionId=t},get:function(){return this.$data.sourceVersionId}},{key:"content",set:function(t){this.$data.content=t},get:function(){return this.$data.content}},{key:"deleted",set:function(t){this.$data.deleted=t},get:function(){return this.$data.deleted}},{key:"itemId",set:function(t){this.$data.itemId=t},get:function(){return this.$data.itemId}},{key:"labels",set:function(t){this.$data.labels=t},get:function(){return this.$data.labels}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a});var i=[{id:0,selected:!0,onEdit:!1,delete:!1,operations:[{name:"edit",type:"warning",icon:"fa-pencil"},{name:"delete",type:"danger",icon:"fa-trash"}]},{id:1,selected:!0,onEdit:!1,delete:!0,operations:[{name:"reply",type:"success",icon:"fa-reply"}]},{id:2,selected:!0,onEdit:!0,delete:!1,operations:[{name:"check",type:"success",icon:"fa-check"},{name:"remove",type:"danger",icon:"fa-remove"}]},{id:3,selected:!1,onEdit:!1,delete:!1,operations:[]}],a=[{name:"edit",selected:!1,onEdit:!1,delete:!1,state:"effected",parent:!1,children:!1,fn:["checkAddItem","setSnapshot","deleteEffectedItem","addItemByParent"]},{name:"edit",selected:!0,onEdit:!0,delete:!1,state:"draft",parent:!0,children:!1,fn:["checkAddItem","setSnapshot"]},{name:"edit",selected:!0,onEdit:!0,delete:!1,state:"draft",parent:!1,children:!1,fn:["checkAddItem","setSnapshot"]},{name:"edit",selected:!0,onEdit:!0,delete:!1,state:"locked",parent:!0,children:!1,fn:["checkAddItem","setSnapshot"]},{name:"edit",selected:!0,onEdit:!0,delete:!1,state:"locked",parent:!1,children:!1,fn:["checkAddItem","setSnapshot"]},{name:"delete",selected:!0,onEdit:!1,delete:!1,state:"effected",parent:!1,children:!1,fn:["realDeleteEffectedItem"]},{name:"delete",selected:!0,onEdit:!1,delete:!1,state:"draft",parent:!1,children:!1,fn:["deleteNotEffectedItem"]},{name:"delete",selected:!0,onEdit:!1,delete:!1,state:"draft",parent:!0,children:!1,fn:["replyDeleteOfParentItem","deleteNotEffectedItem"]},{name:"reply",selected:!0,onEdit:!1,delete:!1,state:"effected",parent:!1,children:!1,fn:["replyDeleteOfEffectedItem"]},{name:"reply",selected:!0,onEdit:!1,delete:!1,state:"effected",parent:!1,children:!0,fn:["replyDeleteOfEffectedItem","replyDeleteChildItem"]},{name:"reply",selected:!0,onEdit:!1,delete:!1,state:"draft",parent:!0,children:!1,fn:["deleteNotEffectedItem","replyDeleteOfParentItem"]},{name:"check",selected:!0,onEdit:!1,delete:!1,state:"start",parent:!1,children:!1,fn:["savePerformanceDefinition"]},{name:"check",selected:!0,onEdit:!1,delete:!1,state:"start",parent:!0,children:!1,fn:["savePerformanceDefinition"]},{name:"check",selected:!0,onEdit:!1,delete:!1,state:"draft",parent:!0,children:!1,fn:["savePerformanceDefinition"]},{name:"check",selected:!0,onEdit:!1,delete:!1,state:"draft",parent:!1,children:!1,fn:["savePerformanceDefinition"]},{name:"check",selected:!0,onEdit:!1,delete:!1,state:"locked",parent:!0,children:!1,fn:["savePerformanceDefinition"]},{name:"check",selected:!0,onEdit:!1,delete:!1,state:"locked",parent:!1,children:!1,fn:["savePerformanceDefinition"]},{name:"remove",selected:!0,onEdit:!1,delete:!1,state:"start",parent:!0,children:!1,fn:["replyDeleteOfParentItem","removeDeleteNotEffectedItem"]},{name:"remove",selected:!0,onEdit:!1,delete:!1,state:"draft",parent:!0,children:!1,fn:["cancelReplyfromSnapshot"]},{name:"remove",selected:!0,onEdit:!1,delete:!1,state:"start",parent:!1,children:!1,fn:["removeDeleteNotEffectedItem"]},{name:"remove",selected:!0,onEdit:!1,delete:!1,state:"draft",parent:!1,children:!1,fn:["cancelReplyfromSnapshot"]}]},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return o});var i=[{id:0,value:"routine",label:"日常"},{id:1,value:"cycle",label:"周期"},{id:2,value:"measureTimes",label:"计次"},{id:3,value:"measurePiece",label:"计件"},{id:4,value:"statisticalTime",label:"自定义计时"},{id:5,value:"otherSys",label:"外部系统"}],a=[{id:0,value:"day",label:"日"},{id:1,value:"week",label:"周"},{id:2,value:"year",label:"年"}],o=[{id:0,type:"measureTimes",unitType:"times"},{id:1,type:"measurePiece",unitType:"piece"}]},function(t,e,n){"use strict";n.d(e,"a",function(){return B});var i=n(19),a=n.n(i),o=n(40),s=n.n(o),r=n(143),l=n.n(r),c=n(10),u=n.n(c),d=n(22),p=n.n(d),m=n(7),h=n.n(m),f=n(1),v=n.n(f),g=n(2),y=n.n(g),_=n(9),b=n.n(_),C=n(34),k=n.n(C),I=n(8),D=n.n(I),S=n(4),w=n.n(S),x=n(12),E=n.n(x),T=n(224),N=n(937),P=n(938),M=n(140),$=n(114),U=n(933),L=n(170),R=(n(293),n(106)),A=n(548),F=n(549),B=(n(525),function(t){function e(){v()(this,e);var t=b()(this,(e.__proto__||h()(e)).call(this));return t.positionPerformanceDefinitionList=[],t.performanceDefinitionsVoSnapshot={},t.globalOnEdit=!1,t.performanceServerManager=new P.a,t.currentPrincipal={},t.setSnapshotState="",t}return D()(e,t),y()(e,[{key:"init",value:function(){var t=this;w.a.each(F,function(e){t.positionPerformanceDefinitionList.push(new T.a(e))})}},{key:"getAllPrincipalVersions",value:function(){function t(t){return e.apply(this,arguments)}var e=p()(u.a.mark(function t(e){var n,i;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e?{principalId:e}:"",t.next=3,M.a.getPrincipals(n);case 3:return i=t.sent,t.abrupt("return",i);case 5:case"end":return t.stop()}},t,this)}));return t}()},{key:"getAllIncludeChangedAndEffected",value:function(){function t(t,n){return e.apply(this,arguments)}var e=p()(u.a.mark(function t(e,n){var i,a,o,s,r,c;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getPerformanceDefinitionListOfOnePosition(e,n);case 2:return i=t.sent,a={ownerId:R.a.currentStaffId,principalId:e,status:"draft"},t.next=6,this.getChangedPerformanceDefinitionOfPrincipal(l()({},a));case 6:return o=t.sent,t.next=9,this.checkConlick(e,o);case 9:return s=[],r=[],w.a.each(i,function(t){var e=o.findIndex(function(e){return t.sourceItemId&&t.sourceItemId===e.sourceItemId});e>=0&&(o[e].delete&&(t.deleteShow=!0),t.delete=!0,t.selected=!0,t.children=!0,o[e].parent=!0,s.push(t),s.push(o.splice(e,1)[0]))}),c=[],w.a.each(i,function(t){s.findIndex(function(e){return e.itemId===t.itemId})<0&&c.push(t)}),w.a.each(c,function(t){var e=o.findIndex(function(e){return t.itemId===e.sourceItemId});e>=0?(o[e].delete&&(t.deleteShow=!0),t.delete=!0,t.selected=!0,t.children=!0,o[e].parent=!0,s.push(t),s.push(o.splice(e,1)[0])):s.push(t)}),s=w.a.union(s,o),t.abrupt("return",s);case 17:case"end":return t.stop()}},t,this)}));return t}()},{key:"getDocumentIncludeChangedAndEffected",value:function(){function t(t,n,i){return e.apply(this,arguments)}var e=p()(u.a.mark(function t(e,n,i){var a,o,s,r,l,c;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=i,t.next=3,this.getPerformanceDefinitionListOfOnePosition(e,n);case 3:return o=t.sent,s=[],w.a.each(a,function(t){var e=o.findIndex(function(e){return e.itemId===t.sourceItemId});e>=0&&s.push(o[e])}),t.next=8,this.checkConlick(e,a);case 8:return r=[],l=[],w.a.each(s,function(t){var e=a.findIndex(function(e){return t.sourceItemId&&t.sourceItemId===e.sourceItemId});e>=0&&(a[e].delete&&(t.deleteShow=!0),t.delete=!0,t.selected=!0,t.children=!0,a[e].parent=!0,r.push(t),r.push(a.splice(e,1)[0]))}),c=[],w.a.each(s,function(t){r.findIndex(function(e){return e.itemId===t.itemId})<0&&c.push(t)}),w.a.each(c,function(t){var e=a.findIndex(function(e){return t.itemId===e.sourceItemId});e>=0?(a[e].delete&&(t.deleteShow=!0),t.delete=!0,t.selected=!0,t.children=!0,a[e].parent=!0,r.push(t),r.push(a.splice(e,1)[0])):r.push(t)}),r=w.a.union(r,a),t.abrupt("return",r);case 16:case"end":return t.stop()}},t,this)}));return t}()},{key:"getPerformanceDefinitionListOfOnePosition",value:function(){function t(t,n){return e.apply(this,arguments)}var e=p()(u.a.mark(function t(e,n){var i;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.a.getEffectedPerformanceDefinitionOfPrincipal(e,n);case 2:return i=t.sent,i=w.a.map(i,function(t){var e=JSON.parse(t.content),n=new T.a(e);return n.principalId=e.principalId,n.ownerId=e.ownerId,n.sourceVersionId=""+t.startVersion,n.itemId=t.itemId,n.labels=t.labels,n.state="effected",n}),t.abrupt("return",i);case 5:case"end":return t.stop()}},t,this)}));return t}()},{key:"getChangedPerformanceDefinitionOfPrincipal",value:function(){function t(t){return e.apply(this,arguments)}var e=p()(u.a.mark(function t(e){var n,i=e.ownerId,a=e.principalId,o=e.status,s=e.lockId,r=e.itemId;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.a.getChangedPerformanceDefinitionOfPrincipal({ownerId:i,principalId:a,status:o,lockId:s,itemId:r});case 2:return n=t.sent,n=w.a.map(n,function(t){var e=JSON.parse(t.content),n=new T.a(e);return n.itemId=t.itemId,n.principalId=t.principalId,n.ownerId=t.ownerId,t.sourceItemId&&"undefined"!==t.sourceItemId||(n.sourceItemId=""),t.sourceVersionId&&"undefined"!==t.sourceVersionId||(n.sourceVersionId=""),n.labels=t.labels,n.delete=t.deleted,n.state="draft",t.deleted&&(n.selected=!0),n}),t.abrupt("return",n);case 5:case"end":return t.stop()}},t,this)}));return t}()},{key:"addItem",value:function(){function t(t){return n.apply(this,arguments)}var n=p()(u.a.mark(function t(n){var i;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=new T.a(l()({},A)),i.onEdit=!0,i.selected=!0,i.principalId=$.a.currentPrincipalId,i.ownerId=R.a.currentStaffId,i.sourceItemId="",i.sourceVersionId="",i.committedPerson="",i.reportChain=[],i.extendedFields=[],i.templates=[],k()(e.prototype.__proto__||h()(e.prototype),"addItem",this).call(this,n,i),t.abrupt("return",i);case 13:case"end":return t.stop()}},t,this)}));return t}()},{key:"addItemByParent",value:function(){function t(t,n){return e.apply(this,arguments)}var e=p()(u.a.mark(function t(e,n){var i,a;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=new T.a(l()({},A)),i.parent=!0,e.children=!0,i.onEdit=!0,i.selected=!0,i.principalId=$.a.currentPrincipalId,i.ownerId=R.a.currentStaffId,i.sourceItemId=e.itemId,i.sourceVersionId=""+e.sourceVersionId,i.committedPerson="",i.reportChain=[],i.extendedFields=[],i.templates=[],a=n.findIndex(function(t){return t.itemId===e.itemId}),a!=n.length-1?n.splice(a+1,0,i):n.push(i);case 15:case"end":return t.stop()}},t,this)}));return t}()},{key:"deleteEffectedItem",value:function(){function t(t,n){return e.apply(this,arguments)}var e=p()(u.a.mark(function t(e,n){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.delete=!0;case 1:case"end":return t.stop()}},t,this)}));return t}()},{key:"realDeleteEffectedItem",value:function(){function t(t,n){return e.apply(this,arguments)}var e=p()(u.a.mark(function t(e,n){var i,a,o;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=E.a.cloneDeep(e),i.sourceItemId=e.itemId,i.$data.delete=!1,i.deleted=!0,i.itemId="",t.next=7,this.savePerformanceDefinition(i);case 7:a=t.sent,o=n.findIndex(function(t){return t.itemId===e.itemId}),e.deleteShow=!0,a.parent=!0,a.state="draft",a.delete=!0,n.splice(o+1,0,a);case 14:case"end":return t.stop()}},t,this)}));return t}()},{key:"deleteNotEffectedItem",value:function(){function t(t,e){return n.apply(this,arguments)}var n=p()(u.a.mark(function t(n,i){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n.itemId){t.next=4;break}return k()(e.prototype.__proto__||h()(e.prototype),"deleteItem",this).call(this,i,n),t.abrupt("return");case 4:return t.next=6,M.a.deleteChangedPerformanceDefinition({itemId:n.itemId});case 6:k()(e.prototype.__proto__||h()(e.prototype),"deleteItem",this).call(this,i,n),t.next=12;break;case 9:throw t.prev=9,t.t0=t.catch(0),new Error(t.t0);case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return t}()},{key:"removeDeleteNotEffectedItem",value:function(){function t(t,e){return n.apply(this,arguments)}var n=p()(u.a.mark(function t(n,i){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.changeGlobalOnEdit(),k()(e.prototype.__proto__||h()(e.prototype),"deleteItem",this).call(this,i,n);case 2:case"end":return t.stop()}},t,this)}));return t}()},{key:"replyDeleteOfEffectedItem",value:function(){function t(t){return e.apply(this,arguments)}var e=p()(u.a.mark(function t(e){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.delete=!1;case 1:case"end":return t.stop()}},t,this)}));return t}()},{key:"replyDeleteOfParentItem",value:function(){function t(t,n){return e.apply(this,arguments)}var e=p()(u.a.mark(function t(e,n){var i;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=n.findIndex(function(t){return t.itemId===e.itemId}),n[i-1].delete=!1,n[i-1].children=!1,n[i-1].selected=!0,n[i-1].deleteShow=!1;case 5:case"end":return t.stop()}},t,this)}));return t}()},{key:"replyDeleteChildItem",value:function(){function t(t,n){return e.apply(this,arguments)}var e=p()(u.a.mark(function t(e,n){var i;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=n.findIndex(function(t){return t.itemId===e.itemId}),e.children=!1,this.deleteNotEffectedItem(n[i+1],n);case 3:case"end":return t.stop()}},t,this)}));return t}()},{key:"setSnapshot",value:function(){function t(t){return e.apply(this,arguments)}var e=p()(u.a.mark(function t(e){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.performanceDefinitionsVoSnapshot=s()({},e.$data);case 1:case"end":return t.stop()}},t,this)}));return t}()},{key:"cancelReplyfromSnapshot",value:function(){function t(t){return e.apply(this,arguments)}var e=p()(u.a.mark(function t(e){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.$data=this.performanceDefinitionsVoSnapshot);case 1:case"end":return t.stop()}},t,this)}));return t}()},{key:"changeStateOfPerformanceDefinitionToDraft",value:function(){function t(t){return e.apply(this,arguments)}var e=p()(u.a.mark(function t(e){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.state="draft";case 1:case"end":return t.stop()}},t,this)}));return t}()},{key:"changeTostate",value:function(t){return"start"===t?"draft":"draft"===t?"draft":"locked"===t?"locked":void 0}},{key:"savePerformanceDefinition",value:function(){function t(t){return e.apply(this,arguments)}var e=p()(u.a.mark(function t(e){var n,i,o;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.itemId||!e.conflictState){t.next=3;break}return t.next=3,this.checkOneItemOnSavingConflict(e.principalId,[e]);case 3:return $.a.loading=!0,this.setSnapshotState=e.state,e.state=this.changeTostate(e.state),e.templates=w.a.map(e.templates,function(t){return{keyName:t.keyName,keyType:t.keyType}}),console.log(e.committedPerson),e.committedPerson={id:e.committedPerson.id,value:e.committedPerson.value},n=new U.a(e.$data),n.itemId=e.itemId,n.deleted=e.deleted,n.labels=[],n.content=a()(w.a.omit(e.$data,"itemId","state")),i=w.a.pick(n.$data,"itemId","principalId","ownerId","sourceItemId","sourceVersionId","content","deleted","labels"),t.prev=15,t.next=18,M.a.saveChangedPerformanceDefinition([i]);case 18:return o=t.sent,e.itemId=o[0],e.conflictState=!1,$.a.loading=!1,t.abrupt("return",e);case 25:t.prev=25,t.t0=t.catch(15),e.state=this.setSnapshotState;case 28:case"end":return t.stop()}},t,this,[[15,25]])}));return t}()},{key:"changeOtherPerformanceDefinitionToNotSelected",value:function(){function t(t,n){return e.apply(this,arguments)}var e=p()(u.a.mark(function t(e,n){var i;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!((i=e.findIndex(function(t){return!0===t.onEdit}))<0)){t.next=6;break}return w.a.each(e,function(t){t.itemId!=n.itemId&&(t.selected=!1)}),t.abrupt("return",e);case 6:return t.abrupt("return");case 7:case"end":return t.stop()}},t,this)}));return t}()},{key:"changeGlobalOnEdit",value:function(){function t(){return e.apply(this,arguments)}var e=p()(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.globalOnEdit=!this.globalOnEdit;case 1:case"end":return t.stop()}},t,this)}));return t}()},{key:"checkAddItem",value:function(){function t(t,n){return e.apply(this,arguments)}var e=p()(u.a.mark(function t(e,n){var i;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.onEdit){t.next=2;break}return t.abrupt("return");case 2:if(!((i=n.findIndex(function(t){return""===t.itemId||t.onEdit}))>=0)){t.next=7;break}throw new Error("存在编辑中的变更项");case 7:return t.abrupt("return",!1);case 8:case"end":return t.stop()}},t,this)}));return t}()},{key:"checkSelected",value:function(){function t(t,n){return e.apply(this,arguments)}var e=p()(u.a.mark(function t(e,n){var i;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!((i=e.findIndex(function(t){return""===t.itemId&&t.itemId!=n.itemId}))>=0)){t.next=5;break}throw new Error("存在编辑中的变更项");case 5:return t.abrupt("return",!1);case 6:case"end":return t.stop()}},t,this)}));return t}()},{key:"changeListItemToChecked",value:function(){function t(t,n){return e.apply(this,arguments)}var e=p()(u.a.mark(function t(e,n){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:w.a.each(e,function(t){t.checked=n.checked});case 1:case"end":return t.stop()}},t,this)}));return t}()},{key:"changeParentChecked",value:function(){function t(t,n){return e.apply(this,arguments)}var e=p()(u.a.mark(function t(e,n){var i;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,w.a.each(e,function(t){t.checked?i++:i--,e.length===i?n.checked=!0:n.checked=!1});case 2:case"end":return t.stop()}},t,this)}));return t}()},{key:"getChangedItemsByIds",value:function(){function t(t){return e.apply(this,arguments)}var e=p()(u.a.mark(function t(e){var n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.a.getChangedItemsByIds(e);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}},t,this)}));return t}()},{key:"declaredToDocument",value:function(){function t(t){return e.apply(this,arguments)}var e=p()(u.a.mark(function t(e){var n,i,o,s,r,l,c,d,p,m=this;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],w.a.each(e,function(t){t.performanceDefinitionList=m.pickNotCheckedItem(t.performanceDefinitionList),t.performanceDefinitionList.length>0&&n.push(t)}),i=[{key:"performanceDefinitionDoc1",value:R.a.currentStaffId+"/draft"},{key:"performanceDefinitionDoc2",value:"draft/"+R.a.currentStaffId}],t.prev=3,t.next=6,L.a.createOneResource(i);case 6:return o=t.sent,s={title:"",id:o.uid,reporter:R.a.currentStaffId,list:n},r=new FormData,r.append("dataName","performanceDefinitionList"),r.append("data",a()(s)),r.append("dataContentType","application/json"),t.next=14,L.a.putResource(o.uid,r,{headers:{"Content-Type":"multipart/form-data",operationToken:o.operationToken}});case 14:return l=t.sent,c=[],w.a.each(n,function(t){w.a.each(t.performanceDefinitionList,function(t){c.push(t.itemId)})}),d={lockId:o.uid,items:c},t.next=20,M.a.lockChangedPerformanceDefinition(d);case 20:return p=t.sent,t.abrupt("return",{list:n,result:l,itemIds:c});case 24:throw t.prev=24,t.t0=t.catch(3),w.a.each(e,function(t){t.performanceDefinitionList=m.pickNotCheckedItem(t.performanceDefinitionList),t.performanceDefinitionList.length>0&&n.push(t)}),new Error(t.t0);case 28:case"end":return t.stop()}},t,this,[[3,24]])}));return t}()},{key:"changePerformanceDefinitionToEffected",value:function(){function t(t){return e.apply(this,arguments)}var e=p()(u.a.mark(function t(e){var n,i;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={effectiveKey:""+e},t.next=3,M.a.lockedChangedPerformanceDefinitionToEffected(e,n);case 3:return i=t.sent,t.abrupt("return",i);case 5:case"end":return t.stop()}},t,this)}));return t}()},{key:"deltePeformanceDefnitionToNotLocked",value:function(){function t(t){return e.apply(this,arguments)}var e=p()(u.a.mark(function t(e){var n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.a.deleteLockedChangedPerformanceDefinition(e);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}},t,this)}));return t}()},{key:"pickNotCheckedItem",value:function(t){return w.a.filter(t,function(t){return t.checked&&"draft"===t.state})}},{key:"changeItemState",value:function(t,e){w.a.each(t,function(t){t.state=e})}},{key:"checkConlick",value:function(){function t(t,n){return e.apply(this,arguments)}var e=p()(u.a.mark(function t(e,n){var i,a,o;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n.length<0)){t.next=2;break}return t.abrupt("return");case 2:return i="",w.a.each(n,function(t){t.sourceItemId&&(i+="itemId="+t.sourceItemId+"&")}),i=i.substr(0,i.length-1),t.next=7,M.a.getEffectedPerformanceDefinitionOfPrincipal(e,"-1");case 7:return a=t.sent,o={},w.a.each(a,function(t){t.content=JSON.parse(t.content);var e=n.findIndex(function(e){return t.content.sourceItemId&&t.content.sourceItemId===e.sourceItemId});e>=0&&(o=t,n[e].conflictState=!0)}),t.abrupt("return",o);case 11:case"end":return t.stop()}},t,this)}));return t}()},{key:"checkOneItemOnSavingConflict",value:function(){function t(t,n){return e.apply(this,arguments)}var e=p()(u.a.mark(function t(e,n){var i;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.checkConlick(e,n);case 2:if(i=t.sent){t.next=5;break}return t.abrupt("return");case 5:return n[0].sourceItemId=""+i.itemId,n[0].sourceVersionId=""+i.startVersion,t.abrupt("return",n[0].conflictState);case 8:case"end":return t.stop()}},t,this)}));return t}()}]),e}(N.a))},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(4),l=(n.n(r),function(){function t(){a()(this,t)}return s()(t,[{key:"addItem",value:function(t,e){return t.push(e),t}},{key:"deleteItem",value:function(t,e){return t.splice(t.findIndex(function(t){return t.itemId===e.itemId}),1),t}},{key:"changeStateOfEdit",value:function(t){t.onEdit=!t.onEdit}},{key:"changeSelectedOfItemState",value:function(t){t.selected=!t.selected}}]),t}())},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var i=n(19),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(140),u=n(549),d=function(){function t(){s()(this,t)}return l()(t,[{key:"saveChangedPerformanceDefinition",value:function(){var t=a()(u[3]),e=[{principalId:"string",ownerId:"string",sourceItemId:"string",sourceVersionId:"string",content:t,deleted:!1,labels:[{key:"",value:""}]}];return c.a.saveChangedPerformanceDefinition(e)}},{key:"deleteChangedPerformanceDefinition",value:function(){var t={itemId:["0","1"]};return c.a.deleteChangedPerformanceDefinition(t)}},{key:"getEffectedPerformanceDefinitionOfPrincipal",value:function(){return c.a.getEffectedPerformanceDefinitionOfPrincipal("001","-1")}},{key:"getChangedPerformanceDefinitionOfPrincipal",value:function(){var t={lockId:"",ownerId:"",principalId:"",status:"",itemId:[]};return PerformanceApiManager.getChangedPerformanceDefinitionOfPrincipal(t)}},{key:"lockedChangedPerformanceDefinitionToEffected",value:function(){var t={effectiveKey:"string"};return PerformanceApiManager.lockedChangedPerformanceDefinitionToEffected("11",t)}},{key:"deleteLockedChangedPerformanceDefinition",value:function(){return PerformanceApiManager.deleteLockedChangedPerformanceDefinition("12")}}]),t}()},function(t,e,n){"use strict";var i=n(532),a=n.n(i),o=n(533),s=n.n(o),r=n(534),l=n.n(r),c=n(1533),u=n.n(c),d=n(1523),p=n.n(d),m=n(1521),h=n.n(m),f=n(1522),v=n.n(f),g=n(536),y=n.n(g),_=n(535),b=n.n(_),C=[{path:"/test/PerformanceDefinitionPositionDetail",component:a.a,name:"PerformanceDefinitionPositionDetail"},{path:"/test/PerformanceDefinitionItem",component:s.a,name:"PerformanceDefinitionItem"},{path:"/test/PerformancePositionSelect",component:l.a,name:"PerformancePositionSelect"},{path:"/test/PerformanceDefinitionKanban",component:p.a,name:"PerformanceDefinitionKanban"},{path:"/test/OwnPerformanceDefinitionCart",component:h.a,name:"OwnPerformanceDefinitionCart"},{path:"/test/PerformanceDefinitionDocumentList",component:v.a,name:"PerformanceDefinitionDocumentList"},{path:"/test/PerformanceDefinitionDocumentDetail/:id",component:u.a,name:"PerformanceDefinitionDocumentDetail"},{path:"/test/ReportChain",component:y.a,name:"ReportChain"},{path:"/test/ExtendedField",component:b.a,name:"ExtendedField"}];e.a=C},function(t,e,n){"use strict";function i(t,e,n,i){return function(a,o,s){var r=s.set;s.set=function(a){if(r.call(this,a),t&&!a)throw Error("此内容为必填项！");if("string"==typeof a&&e&&a.length<e)throw Error("此内容不能少于"+e+"个字符!");if("string"==typeof a&&n&&a.length>n)throw Error("此内容不能超过"+n+"个字符!");if("string"==typeof a&&"number"===i){if(!/^\d+$/.test(a))throw Error("此内容必须为数字!")}}}}e.a=i},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=function(){function t(e){a()(this,t),this.$data=e}return s()(t,[{key:"datas",set:function(t){this.$data.datas=t},get:function(){return this.$data.datas}},{key:"metadata",set:function(t){this.$data.metadata=t},get:function(){return this.$data.metadata}},{key:"status",set:function(t){this.$data.status=t},get:function(){return this.$data.status}},{key:"content",set:function(t){this.$data.content=t},get:function(){return this.$data.content}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n(78),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(14),u=n.n(c),d=n(57),p=n(33),m=n(39),h=function(){function t(e,n){s()(this,t),this.ui=u.a.summernote.ui,this.$note=e,this.memos={},this.modules={},this.layoutInfo={},this.options=n,this.initialize()}return l()(t,[{key:"initialize",value:function(){return this.layoutInfo=this.ui.createLayout(this.$note,this.options),this._initialize(),this.$note.hide(),this}},{key:"destroy",value:function(){this._destroy(),this.$note.removeData("summernote"),this.ui.removeLayout(this.$note,this.layoutInfo)}},{key:"reset",value:function(){var t=this.isDisabled();this.code(m.a.emptyPara),this._destroy(),this._initialize(),t&&this.disable()}},{key:"_initialize",value:function(){var t=this,e=u.a.extend({},this.options.buttons);a()(e).forEach(function(n){t.memo("button."+n,e[n])});var n=u.a.extend({},this.options.modules,u.a.summernote.plugins||{});a()(n).forEach(function(e){t.module(e,n[e],!0)}),a()(this.modules).forEach(function(e){t.initializeModule(e)})}},{key:"_destroy",value:function(){var t=this;a()(this.modules).reverse().forEach(function(e){t.removeModule(e)}),a()(this.memos).forEach(function(e){t.removeMemo(e)}),this.triggerEvent("destroy",this)}},{key:"code",value:function(t){var e=this.invoke("codeview.isActivated");if(void 0===t)return this.invoke("codeview.sync"),e?this.layoutInfo.codable.val():this.layoutInfo.editable.html();e?this.layoutInfo.codable.val(t):this.layoutInfo.editable.html(t),this.$note.val(t),this.triggerEvent("change",t)}},{key:"isDisabled",value:function(){return"false"===this.layoutInfo.editable.attr("contenteditable")}},{key:"enable",value:function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0),this.triggerEvent("disable",!1)}},{key:"disable",value:function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0),this.triggerEvent("disable",!0)}},{key:"triggerEvent",value:function(){var t=p.a.head(arguments),e=p.a.tail(p.a.from(arguments)),n=this.options.callbacks[d.a.namespaceToCamel(t,"on")];n&&n.apply(this.$note[0],e),this.$note.trigger("summernote."+t,e)}},{key:"initializeModule",value:function(t){var e=this.modules[t];e.shouldInitialize=e.shouldInitialize||d.a.ok,e.shouldInitialize()&&(e.initialize&&e.initialize(),e.events&&m.a.attachEvents(this.$note,e.events))}},{key:"module",value:function(t,e,n){if(1===arguments.length)return this.modules[t];this.modules[t]=new e(this),n||this.initializeModule(t)}},{key:"removeModule",value:function(t){var e=this.modules[t];e.shouldInitialize()&&(e.events&&m.a.detachEvents(this.$note,e.events),e.destroy&&e.destroy()),delete this.modules[t]}},{key:"memo",value:function(t,e){if(1===arguments.length)return this.memos[t];this.memos[t]=e}},{key:"removeMemo",value:function(t){this.memos[t]&&this.memos[t].destroy&&this.memos[t].destroy(),delete this.memos[t]}},{key:"createInvokeHandlerAndUpdateState",value:function(t,e){var n=this;return function(i){n.createInvokeHandler(t,e)(i),n.invoke("buttons.updateCurrentStyle")}}},{key:"createInvokeHandler",value:function(t,e){var n=this;return function(i){i.preventDefault();var a=u()(i.target);n.invoke(t,e||a.closest("[data-value]").data("value"),a)}}},{key:"invoke",value:function(){var t=p.a.head(arguments),e=p.a.tail(p.a.from(arguments)),n=t.split("."),i=n.length>1,a=i&&p.a.head(n),o=i?p.a.last(n):p.a.head(n),s=this.modules[a||"editor"];return!a&&this[o]?this[o].apply(this,e):s&&s[o]&&s.shouldInitialize()?s[o].apply(s,e):void 0}}]),t}()},function(t,e,n){"use strict";function i(t){return s.a.Deferred(function(e){s.a.extend(new FileReader,{onload:function(t){var n=t.target.result;e.resolve(n)},onerror:function(t){e.reject(t)}}).readAsDataURL(t)}).promise()}function a(t){return s.a.Deferred(function(e){var n=s()("<img>");n.one("load",function(){n.off("error abort"),e.resolve(n)}).one("error abort",function(){n.off("load").detach(),e.reject(n)}).css({display:"none"}).appendTo(document.body).attr("src",t)}).promise()}e.b=i,e.a=a;var o=n(14),s=n.n(o)},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(116),l=function(){function t(e){a()(this,t),this.stack=[],this.stackOffset=-1,this.$editable=e,this.editable=e[0]}return s()(t,[{key:"makeSnapshot",value:function(){var t=r.a.create(this.editable),e={s:{path:[],offset:0},e:{path:[],offset:0}};return{contents:this.$editable.html(),bookmark:t?t.bookmark(this.editable):e}}},{key:"applySnapshot",value:function(t){null!==t.contents&&this.$editable.html(t.contents),null!==t.bookmark&&r.a.createFromBookmark(this.editable,t.bookmark).select()}},{key:"rewind",value:function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset=0,this.applySnapshot(this.stack[this.stackOffset])}},{key:"reset",value:function(){this.stack=[],this.stackOffset=-1,this.$editable.html(""),this.recordUndo()}},{key:"undo",value:function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset>0&&(this.stackOffset--,this.applySnapshot(this.stack[this.stackOffset]))}},{key:"redo",value:function(){this.stack.length-1>this.stackOffset&&(this.stackOffset++,this.applySnapshot(this.stack[this.stackOffset]))}},{key:"recordUndo",value:function(){this.stackOffset++,this.stack.length>this.stackOffset&&(this.stack=this.stack.slice(0,this.stackOffset)),this.stack.push(this.makeSnapshot())}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return m});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(14),l=n.n(r),c=n(45),u=n(57),d=n(33),p=n(39),m=function(){function t(){a()(this,t)}return s()(t,[{key:"jQueryCSS",value:function(t,e){if(c.a.jqueryVersion<1.9){var n={};return l.a.each(e,function(e,i){n[i]=t.css(i)}),n}return t.css(e)}},{key:"fromNode",value:function(t){var e=["font-family","font-size","text-align","list-style-type","line-height"],n=this.jQueryCSS(t,e)||{};return n["font-size"]=parseInt(n["font-size"],10),n}},{key:"stylePara",value:function(t,e){l.a.each(t.nodes(p.a.isPara,{includeAncestor:!0}),function(t,n){l()(n).css(e)})}},{key:"styleNodes",value:function(t,e){t=t.splitText();var n=e&&e.nodeName||"SPAN",i=!(!e||!e.expandClosestSibling),a=!(!e||!e.onlyPartialContains);if(t.isCollapsed())return[t.insertNode(p.a.create(n))];var o=p.a.makePredByNodeName(n),s=t.nodes(p.a.isText,{fullyContains:!0}).map(function(t){return p.a.singleChildAncestor(t,o)||p.a.wrap(t,n)});if(i){if(a){var r=t.nodes();o=u.a.and(o,function(t){return d.a.contains(r,t)})}return s.map(function(t){var e=p.a.withClosestSiblings(t,o),n=d.a.head(e),i=d.a.tail(e);return l.a.each(i,function(t,e){p.a.appendChildNodes(n,e.childNodes),p.a.remove(e)}),d.a.head(e)})}return s}},{key:"current",value:function(t){var e=l()(p.a.isElement(t.sc)?t.sc:t.sc.parentNode),n=this.fromNode(e);try{n=l.a.extend(n,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||n["font-family"]})}catch(t){}if(t.isOnList()){var i=["circle","disc","disc-leading-zero","square"],a=l.a.inArray(n["list-style-type"],i)>-1;n["list-style"]=a?"unordered":"ordered"}else n["list-style"]="none";var o=p.a.ancestor(t.sc,p.a.isPara);if(o&&o.style["line-height"])n["line-height"]=o.style.lineHeight;else{var s=parseInt(n["line-height"],10)/parseInt(n["font-size"],10);n["line-height"]=s.toFixed(1)}return n.anchor=t.isOnAnchor()&&p.a.ancestor(t.sc,p.a.isAnchor),n.ancestors=p.a.listAncestor(t.sc,p.a.isEditable),n.range=t,n}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return m});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(14),l=n.n(r),c=n(39),u=n(116),d=n(33),p=function t(e,n,i,a){function o(){return!e||!e.tagName||"td"!==e.tagName.toLowerCase()&&"th"!==e.tagName.toLowerCase()?void console.error("Impossible to identify start Cell point.",e):(h.colPos=e.cellIndex,e.parentElement&&e.parentElement.tagName&&"tr"===e.parentElement.tagName.toLowerCase()?void(h.rowPos=e.parentElement.rowIndex):void console.error("Impossible to identify start Row point.",e))}function s(t,e,n,i,a,o,s){var r={baseRow:n,baseCell:i,isRowSpan:a,isColSpan:o,isVirtual:s};f[t]||(f[t]=[]),f[t][e]=r}function r(t,e,n,i){return{baseCell:t.baseCell,action:e,virtualTable:{rowIndex:n,cellIndex:i}}}function l(t,e){if(!f[t])return e;if(!f[t][e])return e;for(var n=e;f[t][n];)if(n++,!f[t][n])return n}function c(t,e){var n=l(t.rowIndex,e.cellIndex),i=e.colSpan>1,a=e.rowSpan>1,o=t.rowIndex===h.rowPos&&e.cellIndex===h.colPos;s(t.rowIndex,n,t,e,a,i,!1);var r=e.attributes.rowSpan?parseInt(e.attributes.rowSpan.value,10):0;if(r>1)for(var c=1;c<r;c++){var d=t.rowIndex+c;u(d,n,e,o),s(d,n,t,e,!0,i,!0)}var p=e.attributes.colSpan?parseInt(e.attributes.colSpan.value,10):0;if(p>1)for(var m=1;m<p;m++){var f=l(t.rowIndex,n+m);u(t.rowIndex,f,e,o),s(t.rowIndex,f,t,e,a,!0,!0)}}function u(t,e,n,i){t===h.rowPos&&h.colPos>=n.cellIndex&&n.cellIndex<=e&&!i&&h.colPos++}function d(){for(var t=a.rows,e=0;e<t.length;e++)for(var n=t[e].cells,i=0;i<n.length;i++)c(t[e],n[i])}function p(e){switch(n){case t.where.Column:if(e.isColSpan)return t.resultAction.SubtractSpanCount;break;case t.where.Row:if(!e.isVirtual&&e.isRowSpan)return t.resultAction.AddCell;if(e.isRowSpan)return t.resultAction.SubtractSpanCount}return t.resultAction.RemoveCell}function m(e){switch(n){case t.where.Column:if(e.isColSpan)return t.resultAction.SumSpanCount;if(e.isRowSpan&&e.isVirtual)return t.resultAction.Ignore;break;case t.where.Row:if(e.isRowSpan)return t.resultAction.SumSpanCount;if(e.isColSpan&&e.isVirtual)return t.resultAction.Ignore}return t.resultAction.AddCell}var h={colPos:0,rowPos:0},f=[],v=[];this.getActionList=function(){for(var e=n===t.where.Row?h.rowPos:-1,a=n===t.where.Column?h.colPos:-1,o=0,s=!0;s;){var l=e>=0?e:o,c=a>=0?a:o,u=f[l];if(!u)return s=!1,v;var d=u[c];if(!d)return s=!1,v;var g=t.resultAction.Ignore;switch(i){case t.requestAction.Add:g=m(d);break;case t.requestAction.Delete:g=p(d)}v.push(r(d,g,l,c)),o++}return v},function(){o(),d()}()};p.where={Row:0,Column:1},p.requestAction={Add:0,Delete:1},p.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};var m=function(){function t(){a()(this,t)}return s()(t,[{key:"tab",value:function(t,e){var n=c.a.ancestor(t.commonAncestor(),c.a.isCell),i=c.a.ancestor(n,c.a.isTable),a=c.a.listDescendant(i,c.a.isCell),o=d.a[e?"prev":"next"](a,n);o&&u.a.create(o,0).select()}},{key:"addRow",value:function(t,e){for(var n=c.a.ancestor(t.commonAncestor(),c.a.isCell),i=l()(n).closest("tr"),a=this.recoverAttributes(i),o=l()("<tr"+a+"></tr>"),s=new p(n,p.where.Row,p.requestAction.Add,l()(i).closest("table")[0]),r=s.getActionList(),u=0;u<r.length;u++){var d=r[u],m=this.recoverAttributes(d.baseCell);switch(d.action){case p.resultAction.AddCell:o.append("<td"+m+">"+c.a.blank+"</td>");break;case p.resultAction.SumSpanCount:if("top"===e){if((d.baseCell.parent?d.baseCell.closest("tr").rowIndex:0)<=i[0].rowIndex){var h=l()("<div></div>").append(l()("<td"+m+">"+c.a.blank+"</td>").removeAttr("rowspan")).html();o.append(h);break}}var f=parseInt(d.baseCell.rowSpan,10);f++,d.baseCell.setAttribute("rowSpan",f)}}if("top"===e)i.before(o);else{if(n.rowSpan>1){var v=i[0].rowIndex+(n.rowSpan-2);return void l()(l()(i).parent().find("tr")[v]).after(l()(o))}i.after(o)}}},{key:"addCol",value:function(t,e){var n=c.a.ancestor(t.commonAncestor(),c.a.isCell),i=l()(n).closest("tr");l()(i).siblings().push(i);for(var a=new p(n,p.where.Column,p.requestAction.Add,l()(i).closest("table")[0]),o=a.getActionList(),s=0;s<o.length;s++){var r=o[s],u=this.recoverAttributes(r.baseCell);switch(r.action){case p.resultAction.AddCell:"right"===e?l()(r.baseCell).after("<td"+u+">"+c.a.blank+"</td>"):l()(r.baseCell).before("<td"+u+">"+c.a.blank+"</td>");break;case p.resultAction.SumSpanCount:if("right"===e){var d=parseInt(r.baseCell.colSpan,10);d++,r.baseCell.setAttribute("colSpan",d)}else l()(r.baseCell).before("<td"+u+">"+c.a.blank+"</td>")}}}},{key:"recoverAttributes",value:function(t){var e="";if(!t)return e;for(var n=t.attributes||[],i=0;i<n.length;i++)"id"!==n[i].name.toLowerCase()&&n[i].specified&&(e+=" "+n[i].name+"='"+n[i].value+"'");return e}},{key:"deleteRow",value:function(t){for(var e=c.a.ancestor(t.commonAncestor(),c.a.isCell),n=l()(e).closest("tr"),i=n.children("td, th").index(l()(e)),a=n[0].rowIndex,o=new p(e,p.where.Row,p.requestAction.Delete,l()(n).closest("table")[0]),s=o.getActionList(),r=0;r<s.length;r++)if(s[r]){var u=s[r].baseCell,d=s[r].virtualTable,m=u.rowSpan&&u.rowSpan>1,h=m?parseInt(u.rowSpan,10):0;switch(s[r].action){case p.resultAction.Ignore:continue;case p.resultAction.AddCell:var f=n.next("tr")[0];if(!f)continue;var v=n[0].cells[i];m&&(h>2?(h--,f.insertBefore(v,f.cells[i]),f.cells[i].setAttribute("rowSpan",h),f.cells[i].innerHTML=""):2===h&&(f.insertBefore(v,f.cells[i]),f.cells[i].removeAttribute("rowSpan"),f.cells[i].innerHTML=""));continue;case p.resultAction.SubtractSpanCount:m&&(h>2?(h--,u.setAttribute("rowSpan",h),d.rowIndex!==a&&u.cellIndex===i&&(u.innerHTML="")):2===h&&(u.removeAttribute("rowSpan"),d.rowIndex!==a&&u.cellIndex===i&&(u.innerHTML="")));continue;case p.resultAction.RemoveCell:continue}}n.remove()}},{key:"deleteCol",value:function(t){for(var e=c.a.ancestor(t.commonAncestor(),c.a.isCell),n=l()(e).closest("tr"),i=n.children("td, th").index(l()(e)),a=new p(e,p.where.Column,p.requestAction.Delete,l()(n).closest("table")[0]),o=a.getActionList(),s=0;s<o.length;s++)if(o[s])switch(o[s].action){case p.resultAction.Ignore:continue;case p.resultAction.SubtractSpanCount:var r=o[s].baseCell,u=r.colSpan&&r.colSpan>1;if(u){var d=r.colSpan?parseInt(r.colSpan,10):0;d>2?(d--,r.setAttribute("colSpan",d),r.cellIndex===i&&(r.innerHTML="")):2===d&&(r.removeAttribute("colSpan"),r.cellIndex===i&&(r.innerHTML=""))}continue;case p.resultAction.RemoveCell:c.a.remove(o[s].baseCell,!0);continue}}},{key:"createTable",value:function(t,e,n){for(var i=[],a=void 0,o=0;o<t;o++)i.push("<td>"+c.a.blank+"</td>");a=i.join("");for(var s=[],r=void 0,u=0;u<e;u++)s.push("<tr>"+a+"</tr>");r=s.join("");var d=l()("<table>"+r+"</table>");return n&&n.tableClassName&&d.addClass(n.tableClassName),d[0]}},{key:"deleteTable",value:function(t){var e=c.a.ancestor(t.commonAncestor(),c.a.isCell);l()(e).closest("table").remove()}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return p});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(14),l=n.n(r),c=n(39),u=n(116),d=n(332),p=function(){function t(){a()(this,t),this.bullet=new d.a}return s()(t,[{key:"insertTab",value:function(t,e){var n=c.a.createText(new Array(e+1).join(c.a.NBSP_CHAR));t=t.deleteContents(),t.insertNode(n,!0),t=u.a.create(n,e),t.select()}},{key:"insertParagraph",value:function(t){var e=u.a.create(t);e=e.deleteContents(),e=e.wrapBodyInlineWithPara();var n=c.a.ancestor(e.sc,c.a.isPara),i=void 0;if(n){if(c.a.isEmpty(n)&&c.a.isLi(n))return void this.bullet.toggleList(n.parentNode.nodeName);if(c.a.isEmpty(n)&&c.a.isPara(n)&&c.a.isBlockquote(n.parentNode))c.a.insertAfter(n,n.parentNode),i=n;else{i=c.a.splitTree(n,e.getStartPoint());var a=c.a.listDescendant(n,c.a.isEmptyAnchor);a=a.concat(c.a.listDescendant(i,c.a.isEmptyAnchor)),l.a.each(a,function(t,e){c.a.remove(e)}),(c.a.isHeading(i)||c.a.isPre(i)||c.a.isCustomStyleTag(i))&&c.a.isEmpty(i)&&(i=c.a.replace(i,"p"))}}else{var o=e.sc.childNodes[e.so];i=l()(c.a.emptyPara)[0],o?e.sc.insertBefore(i,o):e.sc.appendChild(i)}u.a.create(i,0).normalize().select().scrollIntoView(t)}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return m});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(14),l=n.n(r),c=n(45),u=n(57),d=n(33),p=n(39),m=function(){function t(e){var n=this;a()(this,t),this.context=e,this.ui=l.a.summernote.ui,this.options=e.options,this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){n.update()},"summernote.disable summernote.change summernote.dialog.shown":function(){n.hide()},"summernote.focusout":function(t,e){c.a.isFF||e.relatedTarget&&p.a.ancestor(e.relatedTarget,u.a.eq(n.$popover[0]))||n.hide()}}}return s()(t,[{key:"shouldInitialize",value:function(){return this.options.airMode&&!d.a.isEmpty(this.options.popover.air)}},{key:"initialize",value:function(){this.$popover=this.ui.popover({className:"note-air-popover"}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content");this.context.invoke("buttons.build",t,this.options.popover.air)}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"update",value:function(){var t=this.context.invoke("editor.currentStyle");if(t.range&&!t.range.isCollapsed()){var e=d.a.last(t.range.getClientRects());if(e){var n=u.a.rect2bnd(e);this.$popover.css({display:"block",left:Math.max(n.left+n.width/2,0)-20,top:n.top+n.height}),this.context.invoke("buttons.updateCurrentStyle",this.$popover)}}else this.hide()}},{key:"hide",value:function(){this.$popover.hide()}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return p});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(14),l=n.n(r),c=n(33),u=n(115),d=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i,p=function(){function t(e){var n=this;a()(this,t),this.context=e,this.events={"summernote.keyup":function(t,e){e.isDefaultPrevented()||n.handleKeyup(e)},"summernote.keydown":function(t,e){n.handleKeydown(e)}}}return s()(t,[{key:"initialize",value:function(){this.lastWordRange=null}},{key:"destroy",value:function(){this.lastWordRange=null}},{key:"replace",value:function(){if(this.lastWordRange){var t=this.lastWordRange.toString(),e=t.match(d);if(e&&(e[1]||e[2])){var n=e[1]?t:"http://"+t,i=l()("<a />").html(t).attr("href",n)[0];this.lastWordRange.insertNode(i),this.lastWordRange=null,this.context.invoke("editor.focus")}}}},{key:"handleKeydown",value:function(t){if(c.a.contains([u.a.code.ENTER,u.a.code.SPACE],t.keyCode)){var e=this.context.invoke("editor.createRange").getWordRange();this.lastWordRange=e}}},{key:"handleKeyup",value:function(t){c.a.contains([u.a.code.ENTER,u.a.code.SPACE],t.keyCode)&&this.replace()}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(39),l=function(){function t(e){var n=this;a()(this,t),this.$note=e.layoutInfo.note,this.events={"summernote.change":function(){n.$note.val(e.invoke("code"))}}}return s()(t,[{key:"shouldInitialize",value:function(){return r.a.isTextarea(this.$note[0])}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return p});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(14),l=n.n(r),c=n(57),u=n(33),d=n(45),p=function(){function t(e){a()(this,t),this.ui=l.a.summernote.ui,this.context=e,this.$toolbar=e.layoutInfo.toolbar,this.options=e.options,this.lang=this.options.langInfo,this.invertedKeyMap=c.a.invertObject(this.options.keyMap[d.a.isMac?"mac":"pc"])}return s()(t,[{key:"representShortcut",value:function(t){var e=this.invertedKeyMap[t];return this.options.shortcuts&&e?(d.a.isMac&&(e=e.replace("CMD","⌘").replace("SHIFT","⇧"))," ("+(e=e.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]"))+")"):""}},{key:"button",value:function(t){return!this.options.tooltip&&t.tooltip&&delete t.tooltip,t.container=this.options.container,this.ui.button(t)}},{key:"initialize",value:function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.addTablePopoverButtons(),this.fontInstalledMap={}}},{key:"destroy",value:function(){delete this.fontInstalledMap}},{key:"isFontInstalled",value:function(t){return this.fontInstalledMap.hasOwnProperty(t)||(this.fontInstalledMap[t]=d.a.isFontInstalled(t)||u.a.contains(this.options.fontNamesIgnoreCheck,t)),this.fontInstalledMap[t]}},{key:"isFontDeservedToAdd",value:function(t){var e=["sans-serif","serif","monospace","cursive","fantasy"];return""!==(t=t.toLowerCase())&&this.isFontInstalled(t)&&-1===l.a.inArray(t,e)}},{key:"addToolbarButtons",value:function(){var t=this;this.context.memo("button.style",function(){return t.ui.buttonGroup([t.button({className:"dropdown-toggle",contents:t.ui.dropdownButtonContents(t.ui.icon(t.options.icons.magic),t.options),tooltip:t.lang.style.style,data:{toggle:"dropdown"}}),t.ui.dropdown({className:"dropdown-style",items:t.options.styleTags,title:t.lang.style.style,template:function(e){"string"==typeof e&&(e={tag:e,title:t.lang.style.hasOwnProperty(e)?t.lang.style[e]:e});var n=e.tag,i=e.title;return"<"+n+(e.style?' style="'+e.style+'" ':"")+(e.className?' class="'+e.className+'"':"")+">"+i+"</"+n+">"},click:t.context.createInvokeHandler("editor.formatBlock")})]).render()});for(var e=0,n=this.options.styleTags.length;e<n;e++)!function(e,n){var i=t.options.styleTags[e];t.context.memo("button.style."+i,function(){return t.button({className:"note-btn-style-"+i,contents:'<div data-value="'+i+'">'+i.toUpperCase()+"</div>",tooltip:t.lang.style[i],click:t.context.createInvokeHandler("editor.formatBlock")}).render()})}(e);this.context.memo("button.bold",function(){return t.button({className:"note-btn-bold",contents:t.ui.icon(t.options.icons.bold),tooltip:t.lang.font.bold+t.representShortcut("bold"),click:t.context.createInvokeHandlerAndUpdateState("editor.bold")}).render()}),this.context.memo("button.italic",function(){return t.button({className:"note-btn-italic",contents:t.ui.icon(t.options.icons.italic),tooltip:t.lang.font.italic+t.representShortcut("italic"),click:t.context.createInvokeHandlerAndUpdateState("editor.italic")}).render()}),this.context.memo("button.underline",function(){return t.button({className:"note-btn-underline",contents:t.ui.icon(t.options.icons.underline),tooltip:t.lang.font.underline+t.representShortcut("underline"),click:t.context.createInvokeHandlerAndUpdateState("editor.underline")}).render()}),this.context.memo("button.clear",function(){return t.button({contents:t.ui.icon(t.options.icons.eraser),tooltip:t.lang.font.clear+t.representShortcut("removeFormat"),click:t.context.createInvokeHandler("editor.removeFormat")}).render()}),this.context.memo("button.strikethrough",function(){return t.button({className:"note-btn-strikethrough",contents:t.ui.icon(t.options.icons.strikethrough),tooltip:t.lang.font.strikethrough+t.representShortcut("strikethrough"),click:t.context.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()}),this.context.memo("button.superscript",function(){return t.button({className:"note-btn-superscript",contents:t.ui.icon(t.options.icons.superscript),tooltip:t.lang.font.superscript,click:t.context.createInvokeHandlerAndUpdateState("editor.superscript")}).render()}),this.context.memo("button.subscript",function(){return t.button({className:"note-btn-subscript",contents:t.ui.icon(t.options.icons.subscript),tooltip:t.lang.font.subscript,click:t.context.createInvokeHandlerAndUpdateState("editor.subscript")}).render()}),this.context.memo("button.fontname",function(){var e=t.context.invoke("editor.currentStyle");return l.a.each(e["font-family"].split(","),function(e,n){n=n.trim().replace(/['"]+/g,""),t.isFontDeservedToAdd(n)&&-1===l.a.inArray(n,t.options.fontNames)&&t.options.fontNames.push(n)}),t.ui.buttonGroup([t.button({className:"dropdown-toggle",contents:t.ui.dropdownButtonContents('<span class="note-current-fontname"/>',t.options),tooltip:t.lang.font.name,data:{toggle:"dropdown"}}),t.ui.dropdownCheck({className:"dropdown-fontname",checkClassName:t.options.icons.menuCheck,items:t.options.fontNames.filter(t.isFontInstalled.bind(t)),title:t.lang.font.name,template:function(t){return"<span style=\"font-family: '"+t+"'\">"+t+"</span>"},click:t.context.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()}),this.context.memo("button.fontsize",function(){return t.ui.buttonGroup([t.button({className:"dropdown-toggle",contents:t.ui.dropdownButtonContents('<span class="note-current-fontsize"/>',t.options),tooltip:t.lang.font.size,data:{toggle:"dropdown"}}),t.ui.dropdownCheck({className:"dropdown-fontsize",checkClassName:t.options.icons.menuCheck,items:t.options.fontSizes,title:t.lang.font.size,click:t.context.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render()}),this.context.memo("button.color",function(){return t.ui.buttonGroup({className:"note-color",children:[t.button({className:"note-current-color-button",contents:t.ui.icon(t.options.icons.font+" note-recent-color"),tooltip:t.lang.color.recent,click:function(e){var n=l()(e.currentTarget);t.context.invoke("editor.color",{backColor:n.attr("data-backColor"),foreColor:n.attr("data-foreColor")})},callback:function(t){t.find(".note-recent-color").css("background-color","#FFFF00"),t.attr("data-backColor","#FFFF00")}}),t.button({className:"dropdown-toggle",contents:t.ui.dropdownButtonContents("",t.options),tooltip:t.lang.color.more,data:{toggle:"dropdown"}}),t.ui.dropdown({items:['<div class="note-palette">','  <div class="note-palette-title">'+t.lang.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="backColor" data-value="inherit">',t.lang.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"</div>",'<div class="note-palette">','  <div class="note-palette-title">'+t.lang.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="removeFormat" data-value="foreColor">',t.lang.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"</div>"].join(""),callback:function(e){e.find(".note-holder").each(function(e,n){var i=l()(n);i.append(t.ui.palette({colors:t.options.colors,colorsName:t.options.colorsName,eventName:i.data("event"),container:t.options.container,tooltip:t.options.tooltip}).render())})},click:function(e){var n=l()(e.target),i=n.data("event"),a=n.data("value");if(i&&a){var o="backColor"===i?"background-color":"color",s=n.closest(".note-color").find(".note-recent-color"),r=n.closest(".note-color").find(".note-current-color-button");s.css(o,a),r.attr("data-"+i,a),t.context.invoke("editor."+i,a)}}})]}).render()}),this.context.memo("button.ul",function(){return t.button({contents:t.ui.icon(t.options.icons.unorderedlist),tooltip:t.lang.lists.unordered+t.representShortcut("insertUnorderedList"),click:t.context.createInvokeHandler("editor.insertUnorderedList")}).render()}),this.context.memo("button.ol",function(){return t.button({contents:t.ui.icon(t.options.icons.orderedlist),tooltip:t.lang.lists.ordered+t.representShortcut("insertOrderedList"),click:t.context.createInvokeHandler("editor.insertOrderedList")}).render()});var i=this.button({contents:this.ui.icon(this.options.icons.alignLeft),tooltip:this.lang.paragraph.left+this.representShortcut("justifyLeft"),click:this.context.createInvokeHandler("editor.justifyLeft")}),a=this.button({contents:this.ui.icon(this.options.icons.alignCenter),tooltip:this.lang.paragraph.center+this.representShortcut("justifyCenter"),click:this.context.createInvokeHandler("editor.justifyCenter")}),o=this.button({contents:this.ui.icon(this.options.icons.alignRight),tooltip:this.lang.paragraph.right+this.representShortcut("justifyRight"),click:this.context.createInvokeHandler("editor.justifyRight")}),s=this.button({contents:this.ui.icon(this.options.icons.alignJustify),tooltip:this.lang.paragraph.justify+this.representShortcut("justifyFull"),click:this.context.createInvokeHandler("editor.justifyFull")}),r=this.button({contents:this.ui.icon(this.options.icons.outdent),tooltip:this.lang.paragraph.outdent+this.representShortcut("outdent"),click:this.context.createInvokeHandler("editor.outdent")}),u=this.button({contents:this.ui.icon(this.options.icons.indent),tooltip:this.lang.paragraph.indent+this.representShortcut("indent"),click:this.context.createInvokeHandler("editor.indent")});this.context.memo("button.justifyLeft",c.a.invoke(i,"render")),this.context.memo("button.justifyCenter",c.a.invoke(a,"render")),this.context.memo("button.justifyRight",c.a.invoke(o,"render")),this.context.memo("button.justifyFull",c.a.invoke(s,"render")),this.context.memo("button.outdent",c.a.invoke(r,"render")),this.context.memo("button.indent",c.a.invoke(u,"render")),this.context.memo("button.paragraph",function(){return t.ui.buttonGroup([t.button({className:"dropdown-toggle",contents:t.ui.dropdownButtonContents(t.ui.icon(t.options.icons.alignLeft),t.options),tooltip:t.lang.paragraph.paragraph,data:{toggle:"dropdown"}}),t.ui.dropdown([t.ui.buttonGroup({className:"note-align",children:[i,a,o,s]}),t.ui.buttonGroup({className:"note-list",children:[r,u]})])]).render()}),this.context.memo("button.height",function(){return t.ui.buttonGroup([t.button({className:"dropdown-toggle",contents:t.ui.dropdownButtonContents(t.ui.icon(t.options.icons.textHeight),t.options),tooltip:t.lang.font.height,data:{toggle:"dropdown"}}),t.ui.dropdownCheck({items:t.options.lineHeights,checkClassName:t.options.icons.menuCheck,className:"dropdown-line-height",title:t.lang.font.height,click:t.context.createInvokeHandler("editor.lineHeight")})]).render()}),this.context.memo("button.table",function(){return t.ui.buttonGroup([t.button({className:"dropdown-toggle",contents:t.ui.dropdownButtonContents(t.ui.icon(t.options.icons.table),t.options),tooltip:t.lang.table.table,data:{toggle:"dropdown"}}),t.ui.dropdown({title:t.lang.table.table,className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(e){e.find(".note-dimension-picker-mousecatcher").css({width:t.options.insertTableMaxSize.col+"em",height:t.options.insertTableMaxSize.row+"em"}).mousedown(t.context.createInvokeHandler("editor.insertTable")).on("mousemove",t.tableMoveHandler.bind(t))}}).render()}),this.context.memo("button.link",function(){return t.button({contents:t.ui.icon(t.options.icons.link),tooltip:t.lang.link.link+t.representShortcut("linkDialog.show"),click:t.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.picture",function(){return t.button({contents:t.ui.icon(t.options.icons.picture),tooltip:t.lang.image.image,click:t.context.createInvokeHandler("imageDialog.show")}).render()}),this.context.memo("button.video",function(){return t.button({contents:t.ui.icon(t.options.icons.video),tooltip:t.lang.video.video,click:t.context.createInvokeHandler("videoDialog.show")}).render()}),this.context.memo("button.hr",function(){return t.button({contents:t.ui.icon(t.options.icons.minus),tooltip:t.lang.hr.insert+t.representShortcut("insertHorizontalRule"),click:t.context.createInvokeHandler("editor.insertHorizontalRule")}).render()}),this.context.memo("button.fullscreen",function(){return t.button({className:"btn-fullscreen",contents:t.ui.icon(t.options.icons.arrowsAlt),tooltip:t.lang.options.fullscreen,click:t.context.createInvokeHandler("fullscreen.toggle")}).render()}),this.context.memo("button.codeview",function(){return t.button({className:"btn-codeview",contents:t.ui.icon(t.options.icons.code),tooltip:t.lang.options.codeview,click:t.context.createInvokeHandler("codeview.toggle")}).render()}),this.context.memo("button.redo",function(){return t.button({contents:t.ui.icon(t.options.icons.redo),tooltip:t.lang.history.redo+t.representShortcut("redo"),click:t.context.createInvokeHandler("editor.redo")}).render()}),this.context.memo("button.undo",function(){return t.button({contents:t.ui.icon(t.options.icons.undo),tooltip:t.lang.history.undo+t.representShortcut("undo"),click:t.context.createInvokeHandler("editor.undo")}).render()}),this.context.memo("button.help",function(){return t.button({contents:t.ui.icon(t.options.icons.question),tooltip:t.lang.options.help,click:t.context.createInvokeHandler("helpDialog.show")}).render()})}},{key:"addImagePopoverButtons",value:function(){var t=this;this.context.memo("button.imageSize100",function(){return t.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:t.lang.image.resizeFull,click:t.context.createInvokeHandler("editor.resize","1")}).render()}),this.context.memo("button.imageSize50",function(){return t.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:t.lang.image.resizeHalf,click:t.context.createInvokeHandler("editor.resize","0.5")}).render()}),this.context.memo("button.imageSize25",function(){return t.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:t.lang.image.resizeQuarter,click:t.context.createInvokeHandler("editor.resize","0.25")}).render()}),this.context.memo("button.floatLeft",function(){return t.button({contents:t.ui.icon(t.options.icons.alignLeft),tooltip:t.lang.image.floatLeft,click:t.context.createInvokeHandler("editor.floatMe","left")}).render()}),this.context.memo("button.floatRight",function(){return t.button({contents:t.ui.icon(t.options.icons.alignRight),tooltip:t.lang.image.floatRight,click:t.context.createInvokeHandler("editor.floatMe","right")}).render()}),this.context.memo("button.floatNone",function(){return t.button({contents:t.ui.icon(t.options.icons.alignJustify),tooltip:t.lang.image.floatNone,click:t.context.createInvokeHandler("editor.floatMe","none")}).render()}),this.context.memo("button.removeMedia",function(){return t.button({contents:t.ui.icon(t.options.icons.trash),tooltip:t.lang.image.remove,click:t.context.createInvokeHandler("editor.removeMedia")}).render()})}},{key:"addLinkPopoverButtons",value:function(){var t=this;this.context.memo("button.linkDialogShow",function(){return t.button({contents:t.ui.icon(t.options.icons.link),tooltip:t.lang.link.edit,click:t.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.unlink",function(){return t.button({contents:t.ui.icon(t.options.icons.unlink),tooltip:t.lang.link.unlink,click:t.context.createInvokeHandler("editor.unlink")}).render()})}},{key:"addTablePopoverButtons",value:function(){var t=this;this.context.memo("button.addRowUp",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.rowAbove),tooltip:t.lang.table.addRowAbove,click:t.context.createInvokeHandler("editor.addRow","top")}).render()}),this.context.memo("button.addRowDown",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.rowBelow),tooltip:t.lang.table.addRowBelow,click:t.context.createInvokeHandler("editor.addRow","bottom")}).render()}),this.context.memo("button.addColLeft",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.colBefore),tooltip:t.lang.table.addColLeft,click:t.context.createInvokeHandler("editor.addCol","left")}).render()}),this.context.memo("button.addColRight",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.colAfter),tooltip:t.lang.table.addColRight,click:t.context.createInvokeHandler("editor.addCol","right")}).render()}),this.context.memo("button.deleteRow",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.rowRemove),tooltip:t.lang.table.delRow,click:t.context.createInvokeHandler("editor.deleteRow")}).render()}),this.context.memo("button.deleteCol",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.colRemove),tooltip:t.lang.table.delCol,click:t.context.createInvokeHandler("editor.deleteCol")}).render()}),this.context.memo("button.deleteTable",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.trash),tooltip:t.lang.table.delTable,click:t.context.createInvokeHandler("editor.deleteTable")}).render()})}},{key:"build",value:function(t,e){for(var n=0,i=e.length;n<i;n++){for(var a=e[n],o=l.a.isArray(a)?a[0]:a,s=l.a.isArray(a)?1===a.length?[a[0]]:a[1]:[a],r=this.ui.buttonGroup({className:"note-"+o}).render(),c=0,u=s.length;c<u;c++){var d=this.context.memo("button."+s[c]);d&&r.append("function"==typeof d?d(this.context):d)}r.appendTo(t)}}},{key:"updateCurrentStyle",value:function(t){var e=this,n=t||this.$toolbar,i=this.context.invoke("editor.currentStyle");if(this.updateBtnStates(n,{".note-btn-bold":function(){return"bold"===i["font-bold"]},".note-btn-italic":function(){return"italic"===i["font-italic"]},".note-btn-underline":function(){return"underline"===i["font-underline"]},".note-btn-subscript":function(){return"subscript"===i["font-subscript"]},".note-btn-superscript":function(){return"superscript"===i["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===i["font-strikethrough"]}}),i["font-family"]){var a=i["font-family"].split(",").map(function(t){return t.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),o=u.a.find(a,this.isFontInstalled.bind(this));n.find(".dropdown-fontname a").each(function(t,e){var n=l()(e),i=n.data("value")+""==o+"";n.toggleClass("checked",i)}),n.find(".note-current-fontname").text(o).css("font-family",o)}if(i["font-size"]){var s=i["font-size"];n.find(".dropdown-fontsize a").each(function(t,e){var n=l()(e),i=n.data("value")+""==s+"";n.toggleClass("checked",i)}),n.find(".note-current-fontsize").text(s)}if(i["line-height"]){var r=i["line-height"];n.find(".dropdown-line-height li a").each(function(t,n){var i=l()(n).data("value")+""==r+"";e.className=i?"checked":""})}}},{key:"updateBtnStates",value:function(t,e){var n=this;l.a.each(e,function(e,i){n.ui.toggleBtnActive(t.find(e),i())})}},{key:"tableMoveHandler",value:function(t){var e=l()(t.target.parentNode),n=e.next(),i=e.find(".note-dimension-picker-mousecatcher"),a=e.find(".note-dimension-picker-highlighted"),o=e.find(".note-dimension-picker-unhighlighted"),s=void 0;if(void 0===t.offsetX){var r=l()(t.target).offset();s={x:t.pageX-r.left,y:t.pageY-r.top}}else s={x:t.offsetX,y:t.offsetY};var c={c:Math.ceil(s.x/18)||1,r:Math.ceil(s.y/18)||1};a.css({width:c.c+"em",height:c.r+"em"}),i.data("value",c.c+"x"+c.r),c.c>3&&c.c<this.options.insertTableMaxSize.col&&o.css({width:c.c+1+"em"}),c.r>3&&c.r<this.options.insertTableMaxSize.row&&o.css({height:c.r+1+"em"}),n.html(c.c+" x "+c.r)}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(33),l=function(){function t(e){a()(this,t),this.context=e,this.$editable=e.layoutInfo.editable}return s()(t,[{key:"initialize",value:function(){this.$editable.on("paste",this.pasteByEvent.bind(this))}},{key:"pasteByEvent",value:function(t){var e=t.originalEvent.clipboardData;if(e&&e.items&&e.items.length){var n=r.a.head(e.items);"file"===n.kind&&-1!==n.type.indexOf("image/")&&this.context.invoke("editor.insertImagesOrCallback",[n.getAsFile()]),this.context.invoke("editor.afterCommand")}}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(45),l=n(39),c=void 0;r.a.hasCodeMirror&&(r.a.isSupportAmd?new Promise(function(t){t()}).then(function(){var t=[n(342)];(function(t){c=t}).apply(null,t)}).catch(n.oe):c=window.CodeMirror);var u=function(){function t(e){a()(this,t),this.context=e,this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.$codable=e.layoutInfo.codable,this.options=e.options}return s()(t,[{key:"sync",value:function(){this.isActivated()&&r.a.hasCodeMirror&&this.$codable.data("cmEditor").save()}},{key:"isActivated",value:function(){return this.$editor.hasClass("codeview")}},{key:"toggle",value:function(){this.isActivated()?this.deactivate():this.activate(),this.context.triggerEvent("codeview.toggled")}},{key:"activate",value:function(){var t=this;if(this.$codable.val(l.a.html(this.$editable,this.options.prettifyHtml)),this.$codable.height(this.$editable.height()),this.context.invoke("toolbar.updateCodeview",!0),this.$editor.addClass("codeview"),this.$codable.focus(),r.a.hasCodeMirror){var e=c.fromTextArea(this.$codable[0],this.options.codemirror);if(this.options.codemirror.tern){var n=new c.TernServer(this.options.codemirror.tern);e.ternServer=n,e.on("cursorActivity",function(t){n.updateArgHints(t)})}e.on("blur",function(n){t.context.triggerEvent("blur.codeview",e.getValue(),n)}),e.setSize(null,this.$editable.outerHeight()),this.$codable.data("cmEditor",e)}else this.$codable.on("blur",function(e){t.context.triggerEvent("blur.codeview",t.$codable.val(),e)})}},{key:"deactivate",value:function(){if(r.a.hasCodeMirror){var t=this.$codable.data("cmEditor");this.$codable.val(t.getValue()),t.toTextArea()}var e=l.a.value(this.$codable,this.options.prettifyHtml)||l.a.emptyPara,n=this.$editable.html()!==e;this.$editable.html(e),this.$editable.height(this.options.height?this.$codable.height():"auto"),this.$editor.removeClass("codeview"),n&&this.context.triggerEvent("change",this.$editable.html(),this.$editable),this.$editable.focus(),this.context.invoke("toolbar.updateCodeview",!1)}},{key:"destroy",value:function(){this.isActivated()&&this.deactivate()}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var i=n(78),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(14),u=n.n(c),d=function(){function t(e){s()(this,t),this.context=e,this.$eventListener=u()(document),this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.options=e.options,this.lang=this.options.langInfo,this.documentEventHandlers={},this.$dropzone=u()(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(this.$editor)}return l()(t,[{key:"initialize",value:function(){this.options.disableDragAndDrop?(this.documentEventHandlers.onDrop=function(t){t.preventDefault()},this.$eventListener=this.$dropzone,this.$eventListener.on("drop",this.documentEventHandlers.onDrop)):this.attachDragAndDropEvent()}},{key:"attachDragAndDropEvent",value:function(){var t=this,e=u()(),n=this.$dropzone.find(".note-dropzone-message");this.documentEventHandlers.onDragenter=function(i){var a=t.context.invoke("codeview.isActivated"),o=t.$editor.width()>0&&t.$editor.height()>0;a||e.length||!o||(t.$editor.addClass("dragover"),t.$dropzone.width(t.$editor.width()),t.$dropzone.height(t.$editor.height()),n.text(t.lang.image.dragImageHere)),e=e.add(i.target)},this.documentEventHandlers.onDragleave=function(n){e=e.not(n.target),e.length||t.$editor.removeClass("dragover")},this.documentEventHandlers.onDrop=function(){e=u()(),t.$editor.removeClass("dragover")},this.$eventListener.on("dragenter",this.documentEventHandlers.onDragenter).on("dragleave",this.documentEventHandlers.onDragleave).on("drop",this.documentEventHandlers.onDrop),this.$dropzone.on("dragenter",function(){t.$dropzone.addClass("hover"),n.text(t.lang.image.dropImage)}).on("dragleave",function(){t.$dropzone.removeClass("hover"),n.text(t.lang.image.dragImageHere)}),this.$dropzone.on("drop",function(e){var n=e.originalEvent.dataTransfer;e.preventDefault(),n&&n.files&&n.files.length?(t.$editable.focus(),t.context.invoke("editor.insertImagesOrCallback",n.files)):u.a.each(n.types,function(e,i){var a=n.getData(i);i.toLowerCase().indexOf("text")>-1?t.context.invoke("editor.pasteHTML",a):u()(a).each(function(e,n){t.context.invoke("editor.insertNode",n)})})}).on("dragover",!1)}},{key:"destroy",value:function(){var t=this;a()(this.documentEventHandlers).forEach(function(e){t.$eventListener.off(e.substr(2).toLowerCase(),t.documentEventHandlers[e])}),this.documentEventHandlers={}}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return C});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(14),l=n.n(r),c=n(45),u=n(115),d=n(57),p=n(33),m=n(39),h=n(116),f=n(943),v=n(944),g=n(945),y=n(947),_=n(946),b=n(332),C=function(){function t(e){var n=this;a()(this,t),this.context=e,this.$note=e.layoutInfo.note,this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.options=e.options,this.lang=this.options.langInfo,this.editable=this.$editable[0],this.lastRange=null,this.style=new g.a,this.table=new _.a,this.typing=new y.a,this.bullet=new b.a,this.history=new v.a(this.$editable),this.context.memo("help.undo",this.lang.help.undo),this.context.memo("help.redo",this.lang.help.redo),this.context.memo("help.tab",this.lang.help.tab),this.context.memo("help.untab",this.lang.help.untab),this.context.memo("help.insertParagraph",this.lang.help.insertParagraph),this.context.memo("help.insertOrderedList",this.lang.help.insertOrderedList),this.context.memo("help.insertUnorderedList",this.lang.help.insertUnorderedList),this.context.memo("help.indent",this.lang.help.indent),this.context.memo("help.outdent",this.lang.help.outdent),this.context.memo("help.formatPara",this.lang.help.formatPara),this.context.memo("help.insertHorizontalRule",this.lang.help.insertHorizontalRule),this.context.memo("help.fontName",this.lang.help.fontName);for(var i=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor"],o=0,s=i.length;o<s;o++)this[i[o]]=function(t){return function(e){n.beforeCommand(),document.execCommand(t,!1,e),n.afterCommand(!0)}}(i[o]),this.context.memo("help."+i[o],this.lang.help[i[o]]);this.fontName=this.wrapCommand(function(t){return n.fontStyling("font-family","'"+t+"'")}),this.fontSize=this.wrapCommand(function(t){return n.fontStyling("font-size",t+"px")});for(var r=1;r<=6;r++)this["formatH"+r]=function(t){return function(){n.formatBlock("H"+t)}}(r),this.context.memo("help.formatH"+r,this.lang.help["formatH"+r]);this.insertParagraph=this.wrapCommand(function(){n.typing.insertParagraph(n.editable)}),this.insertOrderedList=this.wrapCommand(function(){n.bullet.insertOrderedList(n.editable)}),this.insertUnorderedList=this.wrapCommand(function(){n.bullet.insertUnorderedList(n.editable)}),this.indent=this.wrapCommand(function(){n.bullet.indent(n.editable)}),this.outdent=this.wrapCommand(function(){n.bullet.outdent(n.editable)}),this.insertNode=this.wrapCommand(function(t){if(!n.isLimited(l()(t).text().length)){n.createRange().insertNode(t),h.a.createFromNodeAfter(t).select()}}),this.insertText=this.wrapCommand(function(t){if(!n.isLimited(t.length)){var e=n.createRange(),i=e.insertNode(m.a.createText(t));h.a.create(i,m.a.nodeLength(i)).select()}}),this.pasteHTML=this.wrapCommand(function(t){if(!n.isLimited(t.length)){var e=n.createRange().pasteHTML(t);h.a.createFromNodeAfter(p.a.last(e)).select()}}),this.formatBlock=this.wrapCommand(function(t,e){var i=n.options.callbacks.onApplyCustomStyle;i?i.call(n,e,n.context,n.onFormatBlock):n.onFormatBlock(t,e)}),this.insertHorizontalRule=this.wrapCommand(function(){var t=n.createRange().insertNode(m.a.create("HR"));t.nextSibling&&h.a.create(t.nextSibling,0).normalize().select()}),this.lineHeight=this.wrapCommand(function(t){n.style.stylePara(n.createRange(),{lineHeight:t})}),this.createLink=this.wrapCommand(function(t){var e=t.url,i=t.text,a=t.isNewWindow,o=t.range||n.createRange(),s=o.toString()!==i;"string"==typeof e&&(e=e.trim()),e=n.options.onCreateLink?n.options.onCreateLink(e):/^[A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?/.test(e)?e:"http://"+e;var r=[];if(s){o=o.deleteContents();var c=o.insertNode(l()("<A>"+i+"</A>")[0]);r.push(c)}else r=n.style.styleNodes(o,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});l.a.each(r,function(t,n){l()(n).attr("href",e),a?l()(n).attr("target","_blank"):l()(n).removeAttr("target")});var u=h.a.createFromNodeBefore(p.a.head(r)),d=u.getStartPoint(),m=h.a.createFromNodeAfter(p.a.last(r)),f=m.getEndPoint();h.a.create(d.node,d.offset,f.node,f.offset).select()}),this.color=this.wrapCommand(function(t){var e=t.foreColor,n=t.backColor;e&&document.execCommand("foreColor",!1,e),n&&document.execCommand("backColor",!1,n)}),this.foreColor=this.wrapCommand(function(t){document.execCommand("styleWithCSS",!1,!0),document.execCommand("foreColor",!1,t)}),this.insertTable=this.wrapCommand(function(t){var e=t.split("x");n.createRange().deleteContents().insertNode(n.table.createTable(e[0],e[1],n.options))}),this.removeMedia=this.wrapCommand(function(){var t=l()(n.restoreTarget()).parent();t.parent("figure").length?t.parent("figure").remove():t=l()(n.restoreTarget()).detach(),n.context.triggerEvent("media.delete",t,n.$editable)}),this.floatMe=this.wrapCommand(function(t){var e=l()(n.restoreTarget());e.toggleClass("note-float-left","left"===t),e.toggleClass("note-float-right","right"===t),e.css("float",t)}),this.resize=this.wrapCommand(function(t){l()(n.restoreTarget()).css({width:100*t+"%",height:""})})}return s()(t,[{key:"initialize",value:function(){var t=this;this.$editable.on("keydown",function(e){if(e.keyCode===u.a.code.ENTER&&t.context.triggerEvent("enter",e),t.context.triggerEvent("keydown",e),e.isDefaultPrevented()||(t.options.shortcuts?t.handleKeyMap(e):t.preventDefaultEditableShortCuts(e)),t.isLimited(1,e))return!1}).on("keyup",function(e){t.context.triggerEvent("keyup",e)}).on("focus",function(e){t.context.triggerEvent("focus",e)}).on("blur",function(e){t.context.triggerEvent("blur",e)}).on("mousedown",function(e){t.context.triggerEvent("mousedown",e)}).on("mouseup",function(e){t.context.triggerEvent("mouseup",e)}).on("scroll",function(e){t.context.triggerEvent("scroll",e)}).on("paste",function(e){t.context.triggerEvent("paste",e)}),this.$editable.html(m.a.html(this.$note)||m.a.emptyPara),this.$editable.on(c.a.inputEventName,d.a.debounce(function(){t.context.triggerEvent("change",t.$editable.html())},100)),this.$editor.on("focusin",function(e){t.context.triggerEvent("focusin",e)}).on("focusout",function(e){t.context.triggerEvent("focusout",e)}),this.options.airMode||(this.options.width&&this.$editor.outerWidth(this.options.width),this.options.height&&this.$editable.outerHeight(this.options.height),this.options.maxHeight&&this.$editable.css("max-height",this.options.maxHeight),this.options.minHeight&&this.$editable.css("min-height",this.options.minHeight)),this.history.recordUndo()}},{key:"destroy",value:function(){this.$editable.off()}},{key:"handleKeyMap",value:function(t){var e=this.options.keyMap[c.a.isMac?"mac":"pc"],n=[];t.metaKey&&n.push("CMD"),t.ctrlKey&&!t.altKey&&n.push("CTRL"),t.shiftKey&&n.push("SHIFT");var i=u.a.nameFromCode[t.keyCode];i&&n.push(i);var a=e[n.join("+")];a?!1!==this.context.invoke(a)&&t.preventDefault():u.a.isEdit(t.keyCode)&&this.afterCommand()}},{key:"preventDefaultEditableShortCuts",value:function(t){(t.ctrlKey||t.metaKey)&&p.a.contains([66,73,85],t.keyCode)&&t.preventDefault()}},{key:"isLimited",value:function(t,e){return t=t||0,(void 0===e||!(u.a.isMove(e.keyCode)||e.ctrlKey||e.metaKey||p.a.contains([u.a.code.BACKSPACE,u.a.code.DELETE],e.keyCode)))&&(this.options.maxTextLength>0&&this.$editable.text().length+t>=this.options.maxTextLength)}},{key:"createRange",value:function(){return this.focus(),h.a.create(this.editable)}},{key:"saveRange",value:function(t){this.lastRange=this.createRange(),t&&this.lastRange.collapse().select()}},{key:"restoreRange",value:function(){this.lastRange&&(this.lastRange.select(),this.focus())}},{key:"saveTarget",value:function(t){this.$editable.data("target",t)}},{key:"clearTarget",value:function(){this.$editable.removeData("target")}},{key:"restoreTarget",value:function(){return this.$editable.data("target")}},{key:"currentStyle",value:function(){var t=h.a.create();return t&&(t=t.normalize()),t?this.style.current(t):this.style.fromNode(this.$editable)}},{key:"styleFromNode",value:function(t){return this.style.fromNode(t)}},{key:"undo",value:function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.undo(),this.context.triggerEvent("change",this.$editable.html())}},{key:"redo",value:function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.redo(),this.context.triggerEvent("change",this.$editable.html())}},{key:"beforeCommand",value:function(){this.context.triggerEvent("before.command",this.$editable.html()),this.focus()}},{key:"afterCommand",value:function(t){this.normalizeContent(),this.history.recordUndo(),t||this.context.triggerEvent("change",this.$editable.html())}},{key:"tab",value:function(){var t=this.createRange();if(t.isCollapsed()&&t.isOnCell())this.table.tab(t);else{if(0===this.options.tabSize)return!1;this.isLimited(this.options.tabSize)||(this.beforeCommand(),this.typing.insertTab(t,this.options.tabSize),this.afterCommand())}}},{key:"untab",value:function(){var t=this.createRange();if(t.isCollapsed()&&t.isOnCell())this.table.tab(t,!0);else if(0===this.options.tabSize)return!1}},{key:"wrapCommand",value:function(t){return function(){this.beforeCommand(),t.apply(this,arguments),this.afterCommand()}}},{key:"insertImage",value:function(t,e){var i=this;return n.i(f.a)(t,e).then(function(t){i.beforeCommand(),"function"==typeof e?e(t):("string"==typeof e&&t.attr("data-filename",e),t.css("width",Math.min(i.$editable.width(),t.width()))),t.show(),h.a.create(i.editable).insertNode(t[0]),h.a.createFromNodeAfter(t[0]).select(),i.afterCommand()}).fail(function(t){i.context.triggerEvent("image.upload.error",t)})}},{key:"insertImages",value:function(t){var e=this;l.a.each(t,function(t,i){var a=i.name;e.options.maximumImageFileSize&&e.options.maximumImageFileSize<i.size?e.context.triggerEvent("image.upload.error",e.lang.image.maximumFileSizeError):n.i(f.b)(i).then(function(t){return e.insertImage(t,a)}).fail(function(){e.context.triggerEvent("image.upload.error")})})}},{key:"insertImagesOrCallback",value:function(t){this.options.callbacks.onImageUpload?this.context.triggerEvent("image.upload",t):this.insertImages(t)}},{key:"getSelectedText",value:function(){var t=this.createRange();return t.isOnAnchor()&&(t=h.a.createFromNode(m.a.ancestor(t.sc,m.a.isAnchor))),t.toString()}},{key:"onFormatBlock",value:function(t,e){if(t=c.a.isMSIE?"<"+t+">":t,document.execCommand("FormatBlock",!1,t),e&&e.length){var n=e[0].className||"";if(n){var i=this.createRange();l()([i.sc,i.ec]).closest(t).addClass(n)}}}},{key:"formatPara",value:function(){this.formatBlock("P")}},{key:"fontStyling",value:function(t,e){var n=this.createRange();if(n){var i=this.style.styleNodes(n);if(l()(i).css(t,e),n.isCollapsed()){var a=p.a.head(i);a&&!m.a.nodeLength(a)&&(a.innerHTML=m.a.ZERO_WIDTH_NBSP_CHAR,h.a.createFromNodeAfter(a.firstChild).select(),this.$editable.data("bogus",a))}}}},{key:"unlink",value:function(){var t=this.createRange();if(t.isOnAnchor()){var e=m.a.ancestor(t.sc,m.a.isAnchor);t=h.a.createFromNode(e),t.select(),this.beforeCommand(),document.execCommand("unlink"),this.afterCommand()}}},{key:"getLinkInfo",value:function(){var t=this.createRange().expand(m.a.isAnchor),e=l()(p.a.head(t.nodes(m.a.isAnchor))),n={range:t,text:t.toString(),url:e.length?e.attr("href"):""};return e.length&&(n.isNewWindow="_blank"===e.attr("target")),n}},{key:"addRow",value:function(t){var e=this.createRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.addRow(e,t),this.afterCommand())}},{key:"addCol",value:function(t){var e=this.createRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.addCol(e,t),this.afterCommand())}},{key:"deleteRow",value:function(){var t=this.createRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.deleteRow(t),this.afterCommand())}},{key:"deleteCol",value:function(){var t=this.createRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.deleteCol(t),this.afterCommand())}},{key:"deleteTable",value:function(){var t=this.createRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.deleteTable(t),this.afterCommand())}},{key:"resizeTo",value:function(t,e,n){var i=void 0;if(n){var a=t.y/t.x,o=e.data("ratio");i={width:o>a?t.x:t.y/o,height:o>a?t.x*o:t.y}}else i={width:t.x,height:t.y};e.css(i)}},{key:"hasFocus",value:function(){return this.$editable.is(":focus")}},{key:"focus",value:function(){this.hasFocus()||this.$editable.focus()}},{key:"isEmpty",value:function(){return m.a.isEmpty(this.$editable[0])||m.a.emptyPara===this.$editable.html()}},{key:"empty",value:function(){this.context.invoke("code",m.a.emptyPara)}},{key:"normalizeContent",value:function(){this.$editable[0].normalize()}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(14),l=n.n(r),c=function(){function t(e){var n=this;a()(this,t),this.context=e,this.$editor=e.layoutInfo.editor,this.$toolbar=e.layoutInfo.toolbar,this.$editable=e.layoutInfo.editable,this.$codable=e.layoutInfo.codable,this.$window=l()(window),this.$scrollbar=l()("html, body"),this.onResize=function(){n.resizeTo({h:n.$window.height()-n.$toolbar.outerHeight()})}}return s()(t,[{key:"resizeTo",value:function(t){this.$editable.css("height",t.h),this.$codable.css("height",t.h),this.$codable.data("cmeditor")&&this.$codable.data("cmeditor").setsize(null,t.h)}},{key:"toggle",value:function(){this.$editor.toggleClass("fullscreen"),this.isFullscreen()?(this.$editable.data("orgHeight",this.$editable.css("height")),this.$window.on("resize",this.onResize).trigger("resize"),this.$scrollbar.css("overflow","hidden")):(this.$window.off("resize",this.onResize),this.resizeTo({h:this.$editable.data("orgHeight")}),this.$scrollbar.css("overflow","visible")),this.context.invoke("toolbar.updateFullscreen",this.isFullscreen())}},{key:"isFullscreen",value:function(){return this.$editor.hasClass("fullscreen")}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(14),l=n.n(r),c=n(39),u=function(){function t(e){var n=this;a()(this,t),this.context=e,this.$document=l()(document),this.$editingArea=e.layoutInfo.editingArea,this.options=e.options,this.lang=this.options.langInfo,this.events={"summernote.mousedown":function(t,e){n.update(e.target)&&e.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){n.update()},"summernote.disable":function(){n.hide()},"summernote.codeview.toggled":function(){n.update()}}}return s()(t,[{key:"initialize",value:function(){var t=this;this.$handle=l()(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',this.options.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',this.options.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(this.$editingArea),this.$handle.on("mousedown",function(e){if(c.a.isControlSizing(e.target)){e.preventDefault(),e.stopPropagation();var n=t.$handle.find(".note-control-selection").data("target"),i=n.offset(),a=t.$document.scrollTop(),o=function(e){t.context.invoke("editor.resizeTo",{x:e.clientX-i.left,y:e.clientY-(i.top-a)},n,!e.shiftKey),t.update(n[0])};t.$document.on("mousemove",o).one("mouseup",function(e){e.preventDefault(),t.$document.off("mousemove",o),t.context.invoke("editor.afterCommand")}),n.data("ratio")||n.data("ratio",n.height()/n.width())}}),this.$handle.on("wheel",function(e){e.preventDefault(),t.update()})}},{key:"destroy",value:function(){this.$handle.remove()}},{key:"update",value:function(t){if(this.context.isDisabled())return!1;var e=c.a.isImg(t),n=this.$handle.find(".note-control-selection");if(this.context.invoke("imagePopover.update",t),e){var i=l()(t),a=i.position(),o={left:a.left+parseInt(i.css("marginLeft"),10),top:a.top+parseInt(i.css("marginTop"),10)},s={w:i.outerWidth(!1),h:i.outerHeight(!1)};n.css({display:"block",left:o.left,top:o.top,width:s.w,height:s.h}).data("target",i);var r=new Image;r.src=i.attr("src");var u=s.w+"x"+s.h+" ("+this.lang.image.original+": "+r.width+"x"+r.height+")";n.find(".note-control-selection-info").text(u),this.context.invoke("editor.saveTarget",t)}else this.hide();return e}},{key:"hide",value:function(){this.context.invoke("editor.clearTarget"),this.$handle.children().hide()}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return p});var i=n(78),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(14),u=n.n(c),d=n(45),p=function(){function t(e){s()(this,t),this.context=e,this.ui=u.a.summernote.ui,this.$body=u()(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}return l()(t,[{key:"initialize",value:function(){var t=this.options.dialogsInBody?this.$body:this.$editor,e=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote @@VERSION@@</a> · ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> · ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=this.ui.dialog({title:this.lang.options.help,fade:this.options.dialogsFade,body:this.createShortcutList(),footer:e,callback:function(t){t.find(".modal-body,.note-modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(t)}},{key:"destroy",value:function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()}},{key:"createShortcutList",value:function(){var t=this,e=this.options.keyMap[d.a.isMac?"mac":"pc"];return a()(e).map(function(n){var i=e[n],a=u()('<div><div class="help-list-item"/></div>');return a.append(u()("<label><kbd>"+n+"</kdb></label>").css({width:180,"margin-right":10})).append(u()("<span/>").html(t.context.memo("help."+i)||i)),a.html()}).join("")}},{key:"showHelpDialog",value:function(){var t=this;return u.a.Deferred(function(e){t.ui.onDialogShown(t.$dialog,function(){t.context.triggerEvent("dialog.shown"),e.resolve()}),t.ui.showDialog(t.$dialog)}).promise()}},{key:"show",value:function(){var t=this;this.context.invoke("editor.saveRange"),this.showHelpDialog().then(function(){t.context.invoke("editor.restoreRange")})}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(14),l=n.n(r),c=n(57),u=n(33),d=n(39),p=n(116),m=n(115),h=function(){function t(e){var n=this;a()(this,t),this.context=e,this.ui=l.a.summernote.ui,this.$editable=e.layoutInfo.editable,this.options=e.options,this.hint=this.options.hint||[],this.direction=this.options.hintDirection||"bottom",this.hints=l.a.isArray(this.hint)?this.hint:[this.hint],this.events={"summernote.keyup":function(t,e){e.isDefaultPrevented()||n.handleKeyup(e)},"summernote.keydown":function(t,e){n.handleKeydown(e)},"summernote.disable summernote.dialog.shown":function(){n.hide()}}}return s()(t,[{key:"shouldInitialize",value:function(){return this.hints.length>0}},{key:"initialize",value:function(){var t=this;this.lastWordRange=null,this.$popover=this.ui.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo(this.options.container),this.$popover.hide(),this.$content=this.$popover.find(".popover-content,.note-popover-content"),this.$content.on("click",".note-hint-item",function(){t.$content.find(".active").removeClass("active"),l()(t).addClass("active"),t.replace()})}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"selectItem",value:function(t){this.$content.find(".active").removeClass("active"),t.addClass("active"),this.$content[0].scrollTop=t[0].offsetTop-this.$content.innerHeight()/2}},{key:"moveDown",value:function(){var t=this.$content.find(".note-hint-item.active"),e=t.next();if(e.length)this.selectItem(e);else{var n=t.parent().next();n.length||(n=this.$content.find(".note-hint-group").first()),this.selectItem(n.find(".note-hint-item").first())}}},{key:"moveUp",value:function(){var t=this.$content.find(".note-hint-item.active"),e=t.prev();if(e.length)this.selectItem(e);else{var n=t.parent().prev();n.length||(n=this.$content.find(".note-hint-group").last()),this.selectItem(n.find(".note-hint-item").last())}}},{key:"replace",value:function(){var t=this.$content.find(".note-hint-item.active");if(t.length){var e=this.nodeFromItem(t);this.lastWordRange.insertNode(e),p.a.createFromNode(e).collapse().select(),this.lastWordRange=null,this.hide(),this.context.triggerEvent("change",this.$editable.html(),this.$editable[0]),this.context.invoke("editor.focus")}}},{key:"nodeFromItem",value:function(t){var e=this.hints[t.data("index")],n=t.data("item"),i=e.content?e.content(n):n;return"string"==typeof i&&(i=d.a.createText(i)),i}},{key:"createItemTemplates",value:function(t,e){var n=this.hints[t];return e.map(function(e,i){var a=l()('<div class="note-hint-item"/>');return a.append(n.template?n.template(e):e+""),a.data({index:t,item:e}),a})}},{key:"handleKeydown",value:function(t){this.$popover.is(":visible")&&(t.keyCode===m.a.code.ENTER?(t.preventDefault(),this.replace()):t.keyCode===m.a.code.UP?(t.preventDefault(),this.moveUp()):t.keyCode===m.a.code.DOWN&&(t.preventDefault(),this.moveDown()))}},{key:"searchKeyword",value:function(t,e,n){var i=this.hints[t];if(i&&i.match.test(e)&&i.search){var a=i.match.exec(e);i.search(a[1],n)}else n()}},{key:"createGroup",value:function(t,e){var n=this,i=l()('<div class="note-hint-group note-hint-group-'+t+'"/>');return this.searchKeyword(t,e,function(e){e=e||[],e.length&&(i.html(n.createItemTemplates(t,e)),n.show())}),i}},{key:"handleKeyup",value:function(t){var e=this;if(!u.a.contains([m.a.code.ENTER,m.a.code.UP,m.a.code.DOWN],t.keyCode)){var n=this.context.invoke("editor.createRange").getWordRange(),i=n.toString();if(this.hints.length&&i){this.$content.empty();var a=c.a.rect2bnd(u.a.last(n.getClientRects()));a&&(this.$popover.hide(),this.lastWordRange=n,this.hints.forEach(function(t,n){t.match.test(i)&&e.createGroup(n,i).appendTo(e.$content)}),this.$content.find(".note-hint-item:first").addClass("active"),"top"===this.direction?this.$popover.css({left:a.left,top:a.top-this.$popover.outerHeight()-5}):this.$popover.css({left:a.left,top:a.top+a.height+5}))}else this.hide()}}},{key:"show",value:function(){this.$popover.show()}},{key:"hide",value:function(){this.$popover.hide()}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(14),l=n.n(r),c=n(45),u=n(115),d=function(){function t(e){a()(this,t),this.context=e,this.ui=l.a.summernote.ui,this.$body=l()(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}return s()(t,[{key:"initialize",value:function(){var t=this.options.dialogsInBody?this.$body:this.$editor,e="";if(this.options.maximumImageFileSize){var n=Math.floor(Math.log(this.options.maximumImageFileSize)/Math.log(1024)),i=1*(this.options.maximumImageFileSize/Math.pow(1024,n)).toFixed(2)+" "+" KMGTP"[n]+"B";e="<small>"+this.lang.image.maximumFileSize+" : "+i+"</small>"}var a=['<div class="form-group note-form-group note-group-select-from-files">','<label class="note-form-label">'+this.lang.image.selectFromFiles+"</label>",'<input class="note-image-input note-form-control note-input" ',' type="file" name="files" accept="image/*" multiple="multiple" />',e,"</div>",'<div class="form-group note-group-image-url" style="overflow:auto;">','<label class="note-form-label">'+this.lang.image.url+"</label>",'<input class="note-image-url form-control note-form-control note-input ',' col-md-12" type="text" />',"</div>"].join(""),o='<button type="submit" href="#" class="btn btn-primary note-btn note-btn-primary note-image-btn" disabled>'+this.lang.image.insert+"</button>";this.$dialog=this.ui.dialog({title:this.lang.image.insert,fade:this.options.dialogsFade,body:a,footer:o}).render().appendTo(t)}},{key:"destroy",value:function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()}},{key:"bindEnterKey",value:function(t,e){t.on("keypress",function(t){t.keyCode===u.a.code.ENTER&&(t.preventDefault(),e.trigger("click"))})}},{key:"show",value:function(){var t=this;this.context.invoke("editor.saveRange"),this.showImageDialog().then(function(e){t.ui.hideDialog(t.$dialog),t.context.invoke("editor.restoreRange"),"string"==typeof e?t.context.invoke("editor.insertImage",e):t.context.invoke("editor.insertImagesOrCallback",e)}).fail(function(){t.context.invoke("editor.restoreRange")})}},{key:"showImageDialog",value:function(){var t=this;return l.a.Deferred(function(e){var n=t.$dialog.find(".note-image-input"),i=t.$dialog.find(".note-image-url"),a=t.$dialog.find(".note-image-btn");t.ui.onDialogShown(t.$dialog,function(){t.context.triggerEvent("dialog.shown"),n.replaceWith(n.clone().on("change",function(t){e.resolve(t.target.files||t.target.value)}).val("")),a.click(function(t){t.preventDefault(),e.resolve(i.val())}),i.on("keyup paste",function(){var e=i.val();t.ui.toggleBtn(a,e)}).val(""),c.a.isSupportTouch||i.trigger("focus"),t.bindEnterKey(i,a)}),t.ui.onDialogHidden(t.$dialog,function(){n.off("change"),i.off("keyup paste keypress"),a.off("click"),"pending"===e.state()&&e.reject()}),t.ui.showDialog(t.$dialog)})}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(14),l=n.n(r),c=n(33),u=n(39),d=function(){function t(e){var n=this;a()(this,t),this.context=e,this.ui=l.a.summernote.ui,this.editable=e.layoutInfo.editable[0],this.options=e.options,this.events={"summernote.disable":function(){n.hide()}}}return s()(t,[{key:"shouldInitialize",value:function(){return!c.a.isEmpty(this.options.popover.image)}},{key:"initialize",value:function(){this.$popover=this.ui.popover({className:"note-image-popover"}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",t,this.options.popover.image)}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"update",value:function(t){if(u.a.isImg(t)){var e=u.a.posFromPlaceholder(t),n=u.a.posFromPlaceholder(this.editable);this.$popover.css({display:"block",left:this.options.popatmouse?event.pageX-20:e.left,top:this.options.popatmouse?event.pageY:Math.min(e.top,n.top)})}else this.hide()}},{key:"hide",value:function(){this.$popover.hide()}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(14),l=n.n(r),c=n(45),u=n(115),d=function(){function t(e){a()(this,t),this.context=e,this.ui=l.a.summernote.ui,this.$body=l()(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo,e.memo("help.linkDialog.show",this.options.langInfo.help["linkDialog.show"])}return s()(t,[{key:"initialize",value:function(){var t=this.options.dialogsInBody?this.$body:this.$editor,e=['<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.textToDisplay+"</label>",'<input class="note-link-text form-control note-form-control  note-input" type="text" />',"</div>",'<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.url+"</label>",'<input class="note-link-url form-control note-form-control note-input" type="text" value="http://" />',"</div>",this.options.disableLinkTarget?"":l()("<div/>").append(this.ui.checkbox({id:"sn-checkbox-open-in-new-window",text:this.lang.link.openInNewWindow,checked:!0}).render()).html()].join(""),n='<button type="submit" href="#" class="btn btn-primary note-btn note-btn-primary note-link-btn" disabled>'+this.lang.link.insert+"</button>";this.$dialog=this.ui.dialog({className:"link-dialog",title:this.lang.link.insert,fade:this.options.dialogsFade,body:e,footer:n}).render().appendTo(t)}},{key:"destroy",value:function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()}},{key:"bindEnterKey",value:function(t,e){t.on("keypress",function(t){t.keyCode===u.a.code.ENTER&&(t.preventDefault(),e.trigger("click"))})}},{key:"toggleLinkBtn",value:function(t,e,n){this.ui.toggleBtn(t,e.val()&&n.val())}},{key:"showLinkDialog",value:function(t){var e=this;return l.a.Deferred(function(n){var i=e.$dialog.find(".note-link-text"),a=e.$dialog.find(".note-link-url"),o=e.$dialog.find(".note-link-btn"),s=e.$dialog.find("input[type=checkbox]");e.ui.onDialogShown(e.$dialog,function(){e.context.triggerEvent("dialog.shown"),t.url||(t.url=t.text),i.val(t.text);var r=function(){e.toggleLinkBtn(o,i,a),t.text=i.val()};i.on("input",r).on("paste",function(){setTimeout(r,0)});var l=function(){e.toggleLinkBtn(o,i,a),t.text||i.val(a.val())};a.on("input",l).on("paste",function(){setTimeout(l,0)}).val(t.url),c.a.isSupportTouch||a.trigger("focus"),e.toggleLinkBtn(o,i,a),e.bindEnterKey(a,o),e.bindEnterKey(i,o);var u=void 0!==t.isNewWindow?t.isNewWindow:e.context.options.linkTargetBlank;s.prop("checked",u),o.one("click",function(o){o.preventDefault(),n.resolve({range:t.range,url:a.val(),text:i.val(),isNewWindow:s.is(":checked")}),e.ui.hideDialog(e.$dialog)})}),e.ui.onDialogHidden(e.$dialog,function(){i.off("input paste keypress"),a.off("input paste keypress"),o.off("click"),"pending"===n.state()&&n.reject()}),e.ui.showDialog(e.$dialog)}).promise()}},{key:"show",value:function(){var t=this,e=this.context.invoke("editor.getLinkInfo");this.context.invoke("editor.saveRange"),this.showLinkDialog(e).then(function(e){t.context.invoke("editor.restoreRange"),t.context.invoke("editor.createLink",e)}).fail(function(){t.context.invoke("editor.restoreRange")})}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(14),l=n.n(r),c=n(33),u=n(39),d=function(){function t(e){var n=this;a()(this,t),this.context=e,this.ui=l.a.summernote.ui,this.options=e.options,this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){n.update()},"summernote.disable summernote.dialog.shown":function(){n.hide()}}}return s()(t,[{key:"shouldInitialize",value:function(){return!c.a.isEmpty(this.options.popover.link)}},{key:"initialize",value:function(){this.$popover=this.ui.popover({className:"note-link-popover",callback:function(t){t.find(".popover-content,.note-popover-content").prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",t,this.options.popover.link)}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"update",value:function(){if(!this.context.invoke("editor.hasFocus"))return void this.hide();var t=this.context.invoke("editor.createRange");if(t.isCollapsed()&&t.isOnAnchor()){var e=u.a.ancestor(t.sc,u.a.isAnchor),n=l()(e).attr("href");this.$popover.find("a").attr("href",n).html(n);var i=u.a.posFromPlaceholder(e);this.$popover.css({display:"block",left:i.left,top:i.top})}else this.hide()}},{key:"hide",value:function(){this.$popover.hide()}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(14),l=n.n(r),c=function(){function t(e){var n=this;a()(this,t),this.context=e,this.$editingArea=e.layoutInfo.editingArea,this.options=e.options,this.events={"summernote.init summernote.change":function(){n.update()},"summernote.codeview.toggled":function(){n.update()}}}return s()(t,[{key:"shouldInitialize",value:function(){return!!this.options.placeholder}},{key:"initialize",value:function(){var t=this;this.$placeholder=l()('<div class="note-placeholder">'),this.$placeholder.on("click",function(){t.context.invoke("focus")}).text(this.options.placeholder).prependTo(this.$editingArea),this.update()}},{key:"destroy",value:function(){this.$placeholder.remove()}},{key:"update",value:function(){var t=!this.context.invoke("codeview.isActivated")&&this.context.invoke("editor.isEmpty");this.$placeholder.toggle(t)}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(14),l=n.n(r),c=function(){function t(e){a()(this,t),this.$document=l()(document),this.$statusbar=e.layoutInfo.statusbar,this.$editable=e.layoutInfo.editable,this.options=e.options}return s()(t,[{key:"initialize",value:function(){var t=this;if(this.options.airMode||this.options.disableResizeEditor)return void this.destroy();this.$statusbar.on("mousedown",function(e){e.preventDefault(),e.stopPropagation();var n=t.$editable.offset().top-t.$document.scrollTop(),i=function(e){var i=e.clientY-(n+24);i=t.options.minheight>0?Math.max(i,t.options.minheight):i,i=t.options.maxHeight>0?Math.min(i,t.options.maxHeight):i,t.$editable.height(i)};t.$document.on("mousemove",i).one("mouseup",function(){t.$document.off("mousemove",i)})})}},{key:"destroy",value:function(){this.$statusbar.off(),this.$statusbar.addClass("locked")}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return p});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(14),l=n.n(r),c=n(45),u=n(33),d=n(39),p=function(){function t(e){var n=this;a()(this,t),this.context=e,this.ui=l.a.summernote.ui,this.options=e.options,this.events={"summernote.mousedown":function(t,e){n.update(e.target)},"summernote.keyup summernote.scroll summernote.change":function(){n.update()},"summernote.disable":function(){n.hide()}}}return s()(t,[{key:"shouldInitialize",value:function(){return!u.a.isEmpty(this.options.popover.table)}},{key:"initialize",value:function(){this.$popover=this.ui.popover({className:"note-table-popover"}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",t,this.options.popover.table),c.a.isFF&&document.execCommand("enableInlineTableEditing",!1,!1)}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"update",value:function(t){if(this.context.isDisabled())return!1;var e=d.a.isCell(t);if(e){var n=d.a.posFromPlaceholder(t);this.$popover.css({display:"block",left:n.left,top:n.top})}else this.hide();return e}},{key:"hide",value:function(){this.$popover.hide()}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(14),l=n.n(r),c=function(){function t(e){a()(this,t),this.context=e,this.$window=l()(window),this.$document=l()(document),this.ui=l.a.summernote.ui,this.$note=e.layoutInfo.note,this.$editor=e.layoutInfo.editor,this.$toolbar=e.layoutInfo.toolbar,this.options=e.options,this.followScroll=this.followScroll.bind(this)}return s()(t,[{key:"shouldInitialize",value:function(){return!this.options.airMode}},{key:"initialize",value:function(){var t=this;this.options.toolbar=this.options.toolbar||[],this.options.toolbar.length?this.context.invoke("buttons.build",this.$toolbar,this.options.toolbar):this.$toolbar.hide(),this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.changeContainer(!1),this.$note.on("summernote.keyup summernote.mouseup summernote.change",function(){t.context.invoke("buttons.updateCurrentStyle")}),this.context.invoke("buttons.updateCurrentStyle"),this.options.followingToolbar&&this.$window.on("scroll resize",this.followScroll)}},{key:"destroy",value:function(){this.$toolbar.children().remove(),this.options.followingToolbar&&this.$window.off("scroll resize",this.followScroll)}},{key:"followScroll",value:function(){if(this.$editor.hasClass("fullscreen"))return!1;var t=this.$toolbar.parent(".note-toolbar-wrapper"),e=this.$editor.outerHeight(),n=this.$editor.width(),i=this.$toolbar.height();t.css({height:i});var a=0;this.options.otherStaticBar&&(a=l()(this.options.otherStaticBar).outerHeight());var o=this.$document.scrollTop(),s=this.$editor.offset().top,r=s+e,c=s-a,u=r-a-i;o>c&&o<u?this.$toolbar.css({position:"fixed",top:a,width:n}):this.$toolbar.css({position:"relative",top:0,width:"100%"})}},{key:"changeContainer",value:function(t){t?this.$toolbar.prependTo(this.$editor):this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer)}},{key:"updateFullscreen",value:function(t){this.ui.toggleBtnActive(this.$toolbar.find(".btn-fullscreen"),t),this.changeContainer(t)}},{key:"updateCodeview",value:function(t){this.ui.toggleBtnActive(this.$toolbar.find(".btn-codeview"),t),t?this.deactivate():this.activate()}},{key:"activate",value:function(t){var e=this.$toolbar.find("button");t||(e=e.not(".btn-codeview")),this.ui.toggleBtn(e,!0)}},{key:"deactivate",value:function(t){var e=this.$toolbar.find("button");t||(e=e.not(".btn-codeview")),this.ui.toggleBtn(e,!1)}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(14),l=n.n(r),c=n(45),u=n(115),d=function(){function t(e){a()(this,t),this.context=e,this.ui=l.a.summernote.ui,this.$body=l()(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}return s()(t,[{key:"initialize",value:function(){var t=this.options.dialogsInBody?this.$body:this.$editor,e=['<div class="form-group note-form-group row-fluid">','<label class="note-form-label">'+this.lang.video.url+' <small class="text-muted">'+this.lang.video.providers+"</small></label>",'<input class="note-video-url form-control note-form-control note-input" type="text" />',"</div>"].join(""),n='<button type="submit" href="#" class="btn btn-primary note-btn note-btn-primary note-video-btn" disabled>'+this.lang.video.insert+"</button>";this.$dialog=this.ui.dialog({title:this.lang.video.insert,fade:this.options.dialogsFade,body:e,footer:n}).render().appendTo(t)}},{key:"destroy",value:function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()}},{key:"bindEnterKey",value:function(t,e){t.on("keypress",function(t){t.keyCode===u.a.code.ENTER&&(t.preventDefault(),e.trigger("click"))})}},{key:"createVideoNode",value:function(t){var e=/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/,n=t.match(e),i=/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/,a=t.match(i),o=/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/,s=t.match(o),r=/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/,c=t.match(r),u=/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/,d=t.match(u),p=/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/,m=t.match(p),h=/\/\/v\.qq\.com.*?vid=(.+)/,f=t.match(h),v=/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/,g=t.match(v),y=/^.+.(mp4|m4v)$/,_=t.match(y),b=/^.+.(ogg|ogv)$/,C=t.match(b),k=/^.+.(webm)$/,I=t.match(k),D=void 0;if(n&&11===n[1].length){var S=n[1];D=l()("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+S).attr("width","640").attr("height","360")}else if(a&&a[0].length)D=l()("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+a[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(s&&s[0].length)D=l()("<iframe>").attr("frameborder",0).attr("src",s[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(c&&c[3].length)D=l()("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+c[3]).attr("width","640").attr("height","360");else if(d&&d[2].length)D=l()("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+d[2]).attr("width","640").attr("height","360");else if(m&&m[1].length)D=l()("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+m[1]);else if(f&&f[1].length||g&&g[2].length){var w=f&&f[1].length?f[1]:g[2];D=l()("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","http://v.qq.com/iframe/player.html?vid="+w+"&amp;auto=0")}else{if(!(_||C||I))return!1;D=l()("<video controls>").attr("src",t).attr("width","640").attr("height","360")}return D.addClass("note-video-clip"),D[0]}},{key:"show",value:function(){var t=this,e=this.context.invoke("editor.getSelectedText");this.context.invoke("editor.saveRange"),this.showVideoDialog(e).then(function(e){t.ui.hideDialog(t.$dialog),t.context.invoke("editor.restoreRange");var n=t.createVideoNode(e);n&&t.context.invoke("editor.insertNode",n)}).fail(function(){t.context.invoke("editor.restoreRange")})}},{key:"showVideoDialog",value:function(t){var e=this;return l.a.Deferred(function(n){var i=e.$dialog.find(".note-video-url"),a=e.$dialog.find(".note-video-btn");e.ui.onDialogShown(e.$dialog,function(){e.context.triggerEvent("dialog.shown"),i.val(t).on("input",function(){e.ui.toggleBtn(a,i.val())}),c.a.isSupportTouch||i.trigger("focus"),a.click(function(t){t.preventDefault(),n.resolve(i.val())}),e.bindEnterKey(i,a)}),e.ui.onDialogHidden(e.$dialog,function(){i.off("input"),a.off("click"),"pending"===n.state()&&n.reject()}),e.ui.showDialog(e.$dialog)})}}]),t}()},function(t,e,n){"use strict";var i=n(51),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(14),u=n.n(c),d=function(){function t(e,n,i,a){s()(this,t),this.markup=e,this.children=n,this.options=i,this.callback=a}return l()(t,[{key:"render",value:function(t){var e=u()(this.markup);if(this.options&&this.options.contents&&e.html(this.options.contents),this.options&&this.options.className&&e.addClass(this.options.className),this.options&&this.options.data&&u.a.each(this.options.data,function(t,n){e.attr("data-"+t,n)}),this.options&&this.options.click&&e.on("click",this.options.click),this.children){var n=e.find(".note-children-container");this.children.forEach(function(t){t.render(n.length?n:e)})}return this.callback&&this.callback(e,this.options),this.options&&this.options.callback&&this.options.callback(e),t&&t.append(e),e}}]),t}();e.a={create:function(t,e){return function(){var n="object"===a()(arguments[1])?arguments[1]:arguments[0],i=u.a.isArray(arguments[0])?arguments[0]:[];return n&&n.children&&(i=n.children),new d(t,i,n,e)}}}},function(t,e,n){"use strict";var i=n(14),a=n.n(i);a.a.summernote=a.a.summernote||{lang:{}},a.a.extend(a.a.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})},function(t,e,n){"use strict";var i=n(969),a=n(974),o=n(972),s=n(973),r=i.a.create('<div class="note-editor note-frame"/>'),l=i.a.create('<div class="note-toolbar" role="toolbar"/>'),c=i.a.create('<div class="note-editing-area"/>'),u=i.a.create('<textarea class="note-codable" role="textbox" aria-multiline="true"/>'),d=i.a.create('<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>'),p=i.a.create(['<output class="note-status-output" role="status" aria-live="polite"/>','<div class="note-statusbar" role="resize">','  <div class="note-resizebar" role="seperator" aria-orientation="horizontal" aria-label="resize">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join("")),m=i.a.create('<div class="note-editor"/>'),h=i.a.create(['<output class="note-status-output" role="status" aria-live="polite"/>','<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>'].join("")),f=i.a.create('<div class="note-btn-group">'),v=i.a.create('<button type="button" class="note-btn" role="button" tabindex="-1">',function(t,e){e&&e.tooltip&&(t.attr({"aria-label":e.tooltip}),t.data("_lite_tooltip",new a.a(t,{title:e.tooltip,container:e.container}))),e.contents&&t.html(e.contents),e&&e.data&&"dropdown"===e.data.toggle&&t.data("_lite_dropdown",new o.a(t,{container:e.container}))}),g=i.a.create('<div class="note-dropdown-menu" role="list">',function(t,e){var n=$.isArray(e.items)?e.items.map(function(t){var n="string"==typeof t?t:t.value||"",i=e.template?e.template(t):t,a=$('<a class="note-dropdown-item" href="#" data-value="'+n+'" role="listitem" aria-label="'+t+'"></a>');return a.html(i).data("item",t),a}):e.items;t.html(n).attr({"aria-label":e.title}),t.on("click","> .note-dropdown-item",function(t){var n=$(this),i=n.data("item"),a=n.data("value");i.click?i.click(n):e.itemClick&&e.itemClick(t,i,a)})}),y=i.a.create('<div class="note-dropdown-menu note-check" role="list">',function(t,e){var n=$.isArray(e.items)?e.items.map(function(t){var n="string"==typeof t?t:t.value||"",i=e.template?e.template(t):t,a=$('<a class="note-dropdown-item" href="#" data-value="'+n+'" role="listitem" aria-label="'+t+'"></a>');return a.html([U(e.checkClassName)," ",i]).data("item",t),a}):e.items;t.html(n).attr({"aria-label":e.title}),t.on("click","> .note-dropdown-item",function(t){var n=$(this),i=n.data("item"),a=n.data("value");i.click?i.click(n):e.itemClick&&e.itemClick(t,i,a)})}),_=function(t,e){return t+" "+U(e.icons.caret,"span")},b=function(t,e){return f([v({className:"dropdown-toggle",contents:t.title+" "+U("note-icon-caret"),tooltip:t.tooltip,data:{toggle:"dropdown"}}),g({className:t.className,items:t.items,template:t.template,itemClick:t.itemClick})],{callback:e}).render()},C=function(t,e){return f([v({className:"dropdown-toggle",contents:t.title+" "+U("note-icon-caret"),tooltip:t.tooltip,data:{toggle:"dropdown"}}),y({className:t.className,checkClassName:t.checkClassName,items:t.items,template:t.template,itemClick:t.itemClick})],{callback:e}).render()},k=function(t){return f([v({className:"dropdown-toggle",contents:t.title+" "+U("note-icon-caret"),tooltip:t.tooltip,data:{toggle:"dropdown"}}),g([f({className:"note-align",children:t.items[0]}),f({className:"note-list",children:t.items[1]})])]).render()},I=function(t,e,n){var i=$(t.target.parentNode),a=i.next(),o=i.find(".note-dimension-picker-mousecatcher"),s=i.find(".note-dimension-picker-highlighted"),r=i.find(".note-dimension-picker-unhighlighted"),l=void 0;if(void 0===t.offsetX){var c=$(t.target).offset();l={x:t.pageX-c.left,y:t.pageY-c.top}}else l={x:t.offsetX,y:t.offsetY};var u={c:Math.ceil(l.x/18)||1,r:Math.ceil(l.y/18)||1};s.css({width:u.c+"em",height:u.r+"em"}),o.data("value",u.c+"x"+u.r),u.c>3&&u.c<e&&r.css({width:u.c+1+"em"}),u.r>3&&u.r<n&&r.css({height:u.r+1+"em"}),a.html(u.c+" x "+u.r)},D=function(t){return f([v({className:"dropdown-toggle",contents:t.title+" "+U("note-icon-caret"),tooltip:t.tooltip,data:{toggle:"dropdown"}}),g({className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(e){e.find(".note-dimension-picker-mousecatcher").css({width:t.col+"em",height:t.row+"em"}).mousedown(t.itemClick).mousemove(function(e){I(e,t.col,t.row)})}}).render()},S=i.a.create('<div class="note-color-palette"/>',function(t,e){for(var n=[],i=0,o=e.colors.length;i<o;i++){for(var s=e.eventName,r=e.colors[i],l=e.colorsName[i],c=[],u=0,d=r.length;u<d;u++){var p=r[u],m=l[u];c.push(['<button type="button" class="note-btn note-color-btn"','style="background-color:',p,'" ','data-event="',s,'" ','data-value="',p,'" ','title="',m,'" ','aria-label="',m,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}n.push('<div class="note-color-row">'+c.join("")+"</div>")}t.html(n.join("")),t.find(".note-color-btn").each(function(){$(this).data("_lite_tooltip",new a.a($(this),{container:e.container}))})}),w=function(t,e){return f({className:"note-color",children:[v({className:"note-current-color-button",contents:t.title,tooltip:t.lang.color.recent,click:t.currentClick,callback:function(t){var n=t.find(".note-recent-color");"foreColor"!==e&&(n.css("background-color","#FFFF00"),t.attr("data-backColor","#FFFF00"))}}),v({className:"dropdown-toggle",contents:U("note-icon-caret"),tooltip:t.lang.color.more,data:{toggle:"dropdown"}}),g({items:["<div>",'<div class="note-btn-group btn-background-color">','  <div class="note-palette-title">'+t.lang.color.background+"</div>","  <div>",'<button type="button" class="note-color-reset note-btn note-btn-block"  data-event="backColor" data-value="inherit">',t.lang.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"</div>",'<div class="note-btn-group btn-foreground-color">','  <div class="note-palette-title">'+t.lang.color.foreground+"</div>","  <div>",'<button type="button" class="note-color-reset note-btn note-btn-block"  data-event="removeFormat" data-value="foreColor">',t.lang.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"</div>","</div>"].join(""),callback:function(n){n.find(".note-holder").each(function(){var e=$(this);e.append(S({colors:t.colors,eventName:e.data("event")}).render())}),"fore"===e?(n.find(".btn-background-color").hide(),n.css({"min-width":"210px"})):"back"===e&&(n.find(".btn-foreground-color").hide(),n.css({"min-width":"210px"}))},click:function(n){var i=$(n.target),a=i.data("event"),o=i.data("value");if(a&&o){var s="backColor"===a?"background-color":"color",r=i.closest(".note-color").find(".note-recent-color"),l=i.closest(".note-color").find(".note-current-color-button");r.css(s,o),l.attr("data-"+a,o),"fore"===e?t.itemClick("foreColor",o):"back"===e?t.itemClick("backColor",o):t.itemClick(a,o)}}})]}).render()},x=i.a.create('<div class="note-modal" aria-hidden="false" tabindex="-1" role="dialog"/>',function(t,e){e.fade&&t.addClass("fade"),t.attr({"aria-label":e.title}),t.html(['  <div class="note-modal-content">',e.title?'    <div class="note-modal-header">      <button type="button" class="close" aria-label="Close" aria-hidden="true"><i class="note-icon-close"></i></button>      <h4 class="note-modal-title">'+e.title+"</h4>    </div>":"",'    <div class="note-modal-body">'+e.body+"</div>",e.footer?'    <div class="note-modal-footer">'+e.footer+"</div>":"","  </div>"].join("")),t.data("modal",new s.a(t,e))}),E=function(t){var e='<div class="note-form-group"><label class="note-form-label">'+t.lang.video.url+' <small class="text-muted">'+t.lang.video.providers+'</small></label><input class="note-video-url note-input" type="text" /></div>',n=['<button type="button" href="#" class="note-btn note-btn-primary note-video-btn disabled" disabled>',t.lang.video.insert,"</button>"].join("");return x({title:t.lang.video.insert,fade:t.fade,body:e,footer:n}).render()},T=function(t){var e='<div class="note-form-group note-group-select-from-files"><label class="note-form-label">'+t.lang.image.selectFromFiles+'</label><input class="note-note-image-input note-input" type="file" name="files" accept="image/*" multiple="multiple" />'+t.imageLimitation+'</div><div class="note-form-group" style="overflow:auto;"><label class="note-form-label">'+t.lang.image.url+'</label><input class="note-image-url note-input" type="text" /></div>',n=['<button href="#" type="button" class="note-btn note-btn-primary note-btn-large note-image-btn disabled" disabled>',t.lang.image.insert,"</button>"].join("");return x({title:t.lang.image.insert,fade:t.fade,body:e,footer:n}).render()},N=function(t){var e='<div class="note-form-group"><label class="note-form-label">'+t.lang.link.textToDisplay+'</label><input class="note-link-text note-input" type="text" /></div><div class="note-form-group"><label class="note-form-label">'+t.lang.link.url+'</label><input class="note-link-url note-input" type="text" value="http://" /></div>'+(t.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+t.lang.link.openInNewWindow+"</label></div>"),n=['<button href="#" type="button" class="note-btn note-btn-primary note-link-btn disabled" disabled>',t.lang.link.insert,"</button>"].join("");return x({className:"link-dialog",title:t.lang.link.insert,fade:t.fade,body:e,footer:n}).render()},P=i.a.create(['<div class="note-popover bottom">','  <div class="note-popover-arrow"/>','  <div class="note-popover-content note-children-container"/>',"</div>"].join(""),function(t,e){var n=void 0!==e.direction?e.direction:"bottom";t.addClass(n).hide(),e.hideArrow&&t.find(".note-popover-arrow").hide()}),M=i.a.create('<div class="checkbox"></div>',function(t,e){t.html([" <label"+(e.id?' for="'+e.id+'"':"")+">",' <input role="checkbox" type="checkbox"'+(e.id?' id="'+e.id+'"':""),e.checked?" checked":"",' aria-checked="'+(e.checked?"true":"false")+'"/>',e.text?e.text:"","</label>"].join(""))}),U=function(t,e){return"<"+(e=e||"i")+' class="'+t+'"/>'},L={editor:r,toolbar:l,editingArea:c,codable:u,editable:d,statusbar:p,airEditor:m,airEditable:h,buttonGroup:f,button:v,dropdown:g,dropdownCheck:y,dropdownButton:b,dropdownButtonContents:_,dropdownCheckButton:C,paragraphDropdownButton:k,tableDropdownButton:D,colorDropdownButton:w,palette:S,dialog:x,videoDialog:E,imageDialog:T,linkDialog:N,popover:P,checkbox:M,icon:U,toggleBtn:function(t,e){t.toggleClass("disabled",!e),t.attr("disabled",!e)},toggleBtnActive:function(t,e){t.toggleClass("active",e)},check:function(t,e){t.find(".checked").removeClass("checked"),t.find('[data-value="'+e+'"]').addClass("checked")},onDialogShown:function(t,e){t.one("note.modal.show",e)},onDialogHidden:function(t,e){t.one("note.modal.hide",e)},showDialog:function(t){t.data("modal").show()},hideDialog:function(t){t.data("modal").hide()},getPopoverContent:function(t){return t.find(".note-popover-content")},getDialogBody:function(t){return t.find(".note-modal-body")},createLayout:function(t,e){var n=(e.airMode?L.airEditor([L.editingArea([L.airEditable()])]):L.editor([L.toolbar(),L.editingArea([L.codable(),L.editable()]),L.statusbar()])).render();return n.insertAfter(t),{note:t,editor:n,toolbar:n.find(".note-toolbar"),editingArea:n.find(".note-editing-area"),editable:n.find(".note-editable"),codable:n.find(".note-codable"),statusbar:n.find(".note-statusbar")}},removeLayout:function(t,e){t.html(e.editable.html()),e.editor.remove(),t.off("summernote"),t.show()}};e.a=L},function(t,e,n){"use strict";var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=function(){function t(e,n){a()(this,t),this.$button=e,this.options=$.extend({},{target:n.container},n),this.setEvent()}return s()(t,[{key:"setEvent",value:function(){this.$button.on("click",this.toggle.bind(this))}},{key:"clear",value:function(){var t=$(".note-btn-group.open");t.find(".note-btn.active").removeClass("active"),t.removeClass("open")}},{key:"show",value:function(){this.$button.addClass("active"),this.$button.parent().addClass("open");var t=this.$button.next(),e=t.offset(),n=t.outerWidth(),i=$(window).width(),a=parseFloat($(this.options.target).css("margin-right"));e.left+n>i-a?t.css("margin-left",i-a-(e.left+n)):t.css("margin-left","")}},{key:"hide",value:function(){this.$button.removeClass("active"),this.$button.parent().removeClass("open")}},{key:"toggle",value:function(){var t=this.$button.parent().hasClass("open");this.clear(),t?this.hide():this.show()}}]),t}();$(document).on("click",function(t){$(t.target).closest(".note-btn-group").length||$(".note-btn-group.open").removeClass("open")}),$(document).on("click.note-dropdown-menu",function(t){$(t.target).closest(".note-dropdown-menu").parent().removeClass("open")}),e.a=r},function(t,e,n){"use strict";var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=function(){function t(e,n){a()(this,t),this.options=$.extend({},{target:n.container||"body"},n),this.$modal=e,this.$backdrop=$('<div class="note-modal-backdrop" />')}return s()(t,[{key:"show",value:function(){"body"===this.options.target?(this.$backdrop.css("position","fixed"),this.$modal.css("position","fixed")):(this.$backdrop.css("position","absolute"),this.$modal.css("position","absolute")),this.$backdrop.appendTo(this.options.target).show(),this.$modal.appendTo(this.options.target).addClass("open").show(),this.$modal.trigger("note.modal.show"),this.$modal.off("click",".close").on("click",".close",this.hide.bind(this))}},{key:"hide",value:function(){this.$modal.removeClass("open").hide(),this.$backdrop.hide(),this.$modal.trigger("note.modal.hide")}}]),t}();e.a=r},function(t,e,n){"use strict";var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=function(){function t(e,n){if(a()(this,t),this.$node=e,this.options=$.extend({},{title:"",target:n.container,trigger:"hover focus",placement:"bottom"},n),this.$tooltip=$(['<div class="note-tooltip in">','  <div class="note-tooltip-arrow"/>','  <div class="note-tooltip-content"/>',"</div>"].join("")),"manual"!==this.options.trigger){var i=this.show.bind(this),o=this.hide.bind(this),s=this.toggle.bind(this);this.options.trigger.split(" ").forEach(function(t){"hover"===t?(e.off("mouseenter mouseleave"),e.on("mouseenter",i).on("mouseleave",o)):"click"===t?e.on("click",s):"focus"===t&&e.on("focus",i).on("blur",o)})}}return s()(t,[{key:"show",value:function(){var t=this.$node,e=t.offset(),n=this.$tooltip,i=this.options.title||t.attr("title")||t.data("title"),a=this.options.placement||t.data("placement");n.addClass(a),n.addClass("in"),n.find(".note-tooltip-content").text(i),n.appendTo(this.options.target);var o=t.outerWidth(),s=t.outerHeight(),r=n.outerWidth(),l=n.outerHeight();"bottom"===a?n.css({top:e.top+s,left:e.left+(o/2-r/2)}):"top"===a?n.css({top:e.top-l,left:e.left+(o/2-r/2)}):"left"===a?n.css({top:e.top+(s/2-l/2),left:e.left-r}):"right"===a&&n.css({top:e.top+(s/2-l/2),left:e.left+o})}},{key:"hide",value:function(){this.$tooltip.removeClass("in"),this.$tooltip.remove()}},{key:"toggle",value:function(){this.$tooltip.hasClass("in")?this.hide():this.show()}}]),t}();e.a=r},function(t,e,n){"use strict";var i=n(14),a=n.n(i),o=n(45),s=n(33),r=n(942);a.a.fn.extend({summernote:function(){var t=a.a.type(s.a.head(arguments)),e="string"===t,n="object"===t,i=a.a.extend({},a.a.summernote.options,n?s.a.head(arguments):{});i.langInfo=a.a.extend(!0,{},a.a.summernote.lang["en-US"],a.a.summernote.lang[i.lang]),i.icons=a.a.extend(!0,{},a.a.summernote.options.icons,i.icons),i.tooltip="auto"===i.tooltip?!o.a.isSupportTouch:i.tooltip,this.each(function(t,e){var n=a()(e);if(!n.data("summernote")){var o=new r.a(n,i);n.data("summernote",o),n.data("summernote").triggerEvent("init",o.layoutInfo)}});var l=this.first();if(l.length){var c=l.data("summernote");if(e)return c.invoke.apply(c,s.a.from(arguments));i.focus&&c.invoke("editor.focus")}return this}})},function(t,e,n){"use strict";var i=n(89),a=(n(6),n(23),{GetConfig:function(){return{URL_GetDeclareList:"/api/DeclarePer/GetDeclareList",URL_DeleteDeclare:"/api/DeclarePer/DeleteDeclare",URL_GetDeclare:"/api/DeclarePer/GetDeclare",URL_CreateDeclare:"/api/DeclarePer/CreateDeclare",URL_EditDeclare:"/api/DeclarePer/EditDeclare",URL_GetDeclareItems:"/api/DeclarePer/GetDeclareItems",URL_GetDeclareItem:"/api/DeclarePer/GetDeclareItem",URL_DeleteDeclareItem:"/api/DeclarePer/DeleteDeclareItem",URL_EditDeclareItem:"/api/DeclarePer/EditDeclareItem",URL_AddDeclareItem:"/api/DeclarePer/AddDeclareItem",URL_EditRealScore:"/api/DeclarePer/EditRealScore",URL_UploadItem:"/api/DeclarePer/UploadItem",URL_DownLoad:"/api/DeclarePer/DownLoad",URL_SearchDeclareItem:"/api/DeclarePer/SearchDeclareItem"}},GetDeclareList:function(t,e,n){var a=this.GetConfig().URL_GetDeclareList;return i.a.Ajax(a,"get",t,e,n)},DeleteDeclare:function(t,e,n){var a=this.GetConfig().URL_DeleteDeclare;return i.a.Ajax(a,"get",t,e,n)},GetDeclare:function(t,e,n){var a=this.GetConfig().URL_GetDeclare;return i.a.Ajax(a,"get",t,e,n)},CreateDeclare:function(t,e,n){var a=this.GetConfig().URL_CreateDeclare;return i.a.Ajax(a,"post",t,e,n)},EditDeclare:function(t,e,n){var a=this.GetConfig().URL_EditDeclare;return i.a.Ajax(a,"post",t,e,n)},GetDeclareItems:function(t,e,n){var a=this.GetConfig().URL_GetDeclareItems;return i.a.Ajax(a,"get",t,e,n)},GetDeclareItem:function(t,e,n){var a=this.GetConfig().URL_GetDeclareItem;return i.a.Ajax(a,"get",t,e,n)},DeleteDeclareItem:function(t,e,n){var a=this.GetConfig().URL_DeleteDeclareItem;return i.a.Ajax(a,"get",t,e,n)},EditDeclareItem:function(t,e,n){var a=this.GetConfig().URL_EditDeclareItem;return i.a.Ajax(a,"post",t,e,n)},AddDeclareItem:function(t,e,n){var a=this.GetConfig().URL_AddDeclareItem;return i.a.Ajax(a,"post",t,e,n)},EditRealScore:function(t,e,n){var a=this.GetConfig().URL_EditRealScore;return i.a.Ajax(a,"post",t,e,n)},UploadItem:function(t,e,n){var a=this.GetConfig().URL_UploadItem;return i.a.Ajax(a,"post",t,e,n)},DownLoad:function(t,e,n){var a=this.GetConfig().URL_DownLoad;return i.a.Ajax(a,"get",t,e,n)},SearchDeclareItem:function(t,e,n){var a=this.GetConfig().URL_SearchDeclareItem;return i.a.Ajax(a,"get",t,e,n)}});e.a=a},function(t,e,n){"use strict";var i=n(89),a=(n(6),n(23),{GetConfig:function(){return{URL_CreateStaff:"/api/StaffManager/CreateStaff",URL_UpdateStaff:"/api/StaffManager/ModifyStaff",URL_SearchStaffs:"/api/CompanyManager/SearchEmployees",URL_GetStaffByID:"/api/CompanyManager/GetEmployeeById",URL_GetStaffListByUserID:"/api/StaffManager/GetStaffByStaffID",URL_Dimission:"/api/StaffManager/Dimission",URL_GetApplyInfoByHR:"/api/StaffManager/GetApplyInfoByHR",URL_HRConfirmApplication:"/api/StaffManager/HRConfirmApplication",URL_GetNewEmployeeList:"/api/StaffManager/QueryStaff",URL_HRSendInvitationCode:"/api/StaffManager/HRSendInvitationCode",URL_CheckUserInfoExists:"/api/UserCenter/CheckUserInfoExists"}},CreateStaff:function(t,e,n){var a=this.GetConfig().URL_CreateStaff;return i.a.Ajax(a,"post",t,e,n)},UpdateStaff:function(t,e,n){var a=this.GetConfig().URL_UpdateStaff;return i.a.Ajax(a,"post",t,e,n)},SearchStaffs:function(t,e,n){var a=this.GetConfig().URL_SearchStaffs;return i.a.Ajax(a,"post",t,e,n)},GetStaffByID:function(t,e,n){var a=this.GetConfig().URL_GetStaffByID;return a=a+"/"+t.StaffID,i.a.Ajax(a,"get",{},e,n)},GetStaffListByUserID:function(t,e,n){var a=this.GetConfig().URL_GetStaffListByUserID;return i.a.Ajax(a,"post",t,e,n)},Dimission:function(t,e,n){var a=this.GetConfig().URL_Dimission;return i.a.Ajax(a,"get",t,e,n)},GetApplyInfoByHR:function(t,e,n){var a=this.GetConfig().URL_GetApplyInfoByHR;return i.a.Ajax(a,"get",t,e,n)},HRConfirmApplication:function(t,e,n){var a=this.GetConfig().URL_HRConfirmApplication;return i.a.Ajax(a,"post",t,e,n)},GetNewEmployeeList:function(t,e,n){var a=this.GetConfig().URL_GetNewEmployeeList;return i.a.Ajax(a,"post",t,e,n)},HRSendInvitationCode:function(t,e,n){var a=this.GetConfig().URL_HRSendInvitationCode;return i.a.Ajax(a,"get",t,e,n)},CheckUserInfoExists:function(t,e,n){var a=this.GetConfig().URL_CheckUserInfoExists;return i.a.Ajax(a,"get",t,e,n)}});e.a=a},function(t,e,n){"use strict";var i=n(89),a={config:{URL_GetDocumentKanbanCategory:"/api/Kanban/GetDocumentKanbanCategory",URL_GetKanbanDocs:"/api/Kanban/GetKanbanDocs",URL_GetBatchTypeList:"/api/WorkflowDocumentManager/GetDocumentTypeList",URL_GetBatchDetail:"/api/WorkflowDocumentManager/GetOneDocument",URL_CreateDocument:"/api/WorkflowDocumentManager/CreateDocument",URL_UpdateDocument:"/api/WorkflowDocumentManager/UpdateDocument",URL_DeleteDocument:"/api/WorkflowDocumentManager/DeleteDocument",URL_Sign:"/api/Flow/Sign",URL_Return:"/api/Flow/ToReturn",URL_Agree:"/api/Flow/Agree",URL_Reject:"/api/Flow/Reject",URL_Comment:"/api/Flow/Comment",URL_DocFile:"/api/Flow/DocFile",URL_GetFlowNodes:"/api/Flow/GetFlowNodes",URL_Revoke:"/api/Flow/UnDo",URL_GetTemplateList:"/api/Template/Search",URL_GetTemplateNodes:"/api/Template/Get",URL_AddSubmit:"/api/Flow/SubmitDoc",URL_GetKanbanCount:"/api/Kanban/GetCountDoc",URL_ReadKanbanDocs:"/api/Kanban/ReadDoc"},GetKanbanList:function(t,e,n){var a=this.config.URL_GetKanbanDocs;return i.a.Ajax(a,"post",t,e,n)},GetKanbanCount:function(t,e,n){var a=this.config.URL_GetKanbanCount;return i.a.Ajax(a,"get",t,e,n)},ReadKanbanDocs:function(t,e,n){var a=this.config.URL_ReadKanbanDocs;return i.a.Ajax(a,"get",t,e,n)},GetKanbanTypeList:function(t,e,n){var a=this.config.URL_GetDocumentKanbanCategory;return i.a.Ajax(a,"get",t,e,n)},GetBatchTypeList:function(t,e,n){var a=this.config.URL_GetBatchTypeList;return i.a.Ajax(a,"get",t,e,n)},GetPriorityList:function(t,e,n){return e({Success:!0,Data:[1,2,3,4,5]},n),!0},GetBatchDetail:function(t,e,n){var a=this.config.URL_GetBatchDetail;return i.a.Ajax(a,"get",t,e,n)},SetBatchDetail:function(t,e,n){var a="";return a=t.DocumentId>0?this.config.URL_UpdateDocument:this.config.URL_CreateDocument,i.a.Ajax(a,"post",t,e,n)},BatchAction:function(t,e,n,a){var o=this.config.URL_Sign;return t<-1?o=this.config.URL_DeleteDocument:t<0?o=this.config.URL_Revoke:0==t&&(o=this.config.URL_Return),i.a.Ajax(o,"get",e,n,a)},GetTemplateList:function(t,e,n){var a=this.config.URL_GetTemplateList;return i.a.Ajax(a,"post",t,e,n)},GetTemplateByID:function(t,e,n){var a=this.config.URL_GetTemplateNodes;return i.a.Ajax(a,"get",t,e,n)},BatchSubmit:function(t,e,n,a){var o=this.config.URL_AddSubmit;return 2==t?o=this.config.URL_Agree:4==t?o=this.config.URL_DocFile:-1==t&&(o=this.config.URL_Reject),i.a.Ajax(o,"post",e,n,a)},GetFlowNodes:function(t,e,n){var a=this.config.URL_GetFlowNodes;return i.a.Ajax(a,"get",t,e,n)}};e.a=a},function(t,e,n){"use strict";var i={KanbanDatas:[{Title:"asbfdsfsdfsfsd01",ID:10101,createDateTime:"1234667",type:1,UserID:11},{Title:"asbfdsfsdfsfsd02",ID:10102,createDateTime:"1234667",type:1,UserID:11},{Title:"asbfdsfsdfsfsd03",ID:10103,createDateTime:"1234667",type:1,UserID:12},{Title:"asbfdsfsdfsfsd01",ID:40101,createDateTime:"1234667",type:4,UserID:11},{Title:"asbfdsfsdfsfsd02",ID:40102,createDateTime:"1234667",type:4,UserID:13},{Title:"asbfdsfsdfsfsd03",ID:40103,createDateTime:"1234667",type:4,UserID:13},{Title:"asbfdsfsdfsfsd01",ID:40104,createDateTime:"1234667",type:4,UserID:11},{Title:"asbfdsfsdfsfsd02",ID:40105,createDateTime:"1234667",type:4,UserID:11},{Title:"asbfdsfsdfsfsd03",ID:40106,createDateTime:"1234667",type:4,UserID:11}],KanbanTypeDatas:[{TypeID:1,Title:"草稿"},{TypeID:2,Title:"待处理"},{TypeID:3,Title:"决策中"},{TypeID:4,Title:"执行中"},{TypeID:5,Title:"归档"},{TypeID:6,Title:"关注"}],GetKanbanList:function(t,e,n){for(var i=[],a=this.KanbanDatas,o=t.UserID,s=t.type,r=t.Key,l=0;l<a.length;l++)if(a[l].type==s&&a[l].UserID==o){if(r.length>0&&a[l].Title.indexOf(r)<1)continue;i.push({Title:a[l].Title+"["+a[l].ID+"]"+a[l].UserID,ID:a[l].ID,createDateTime:a[l].createDateTime})}return e({Success:!0,Data:{documents:i}},n),!0},GetKanbanTypeList:function(t,e,n){for(var i=[],a=this.KanbanTypeDatas,o=0;o<a.length;o++)i.push({Title:a[o].Title,Para:a[o].TypeID});return e({Success:!0,Data:i},n),!0},GetPriorityList:function(t,e,n){return e({Success:!0,Data:[1,2,3,4,5]},n),!0}};e.a=i},function(t,e,n){"use strict";var i={};e.a=i},function(t,e,n){"use strict";var i=n(89),a={config:{URL_GetList:"/api/Document/Query",URL_GetOne:"/api/Document/GetDocumentById?documentId=",URL_CreateDraft:"/api/Document/CreateDraft",URL_UpdateDraft:"/api/Document/UpdateDraft",URL_DeleteDraft:"/api/Document/DeleteDraft?documentId=",URL_GetPayableItems:"/api/Payable/GetPayableItems?",URL_GetSubjectById:"/api/Payable/GetSubjectById?subjectId=",URL_GetPayableWithPayment:"/api/Payable/GetPayableWithPayment",URL_GetPayableInPastDays:"/api/Payable/GetPayableInPastDays"},GetList:function(t,e,n){var a=this.config.URL_GetList;return i.a.Ajax(a,"post",t,e,n)},GetOne:function(t,e,n){var a=this.config.URL_GetOne;return i.a.Ajax(a,"get",t,e,n)},CreateDraft:function(t,e,n){var a=this.config.URL_CreateDraft;return i.a.Ajax(a,"post",t,e,n)},UpdateDraft:function(t,e,n){var a=this.config.URL_UpdateDraft;return i.a.Ajax(a,"post",t,e,n)},DeleteDraft:function(t,e,n){var a=this.config.URL_DeleteDraft;return i.a.Ajax(a,"delete",t,e,n)},GetPayableItems:function(t,e,n){var a=this.config.URL_GetPayableItems;return i.a.Ajax(a,"get",t,e,n)},GetPayableSubject:function(t,e,n){var a=this.config.URL_GetSubjectById;return i.a.Ajax(a,"get",t,e,n)},GetPayableWithPayment:function(t,e,n){var a=this.config.URL_GetPayableWithPayment;return i.a.Ajax(a,"get",t,e,n)},GetPayableInPastDays:function(t,e,n){var a=this.config.URL_GetPayableInPastDays;return i.a.Ajax(a,"get",t,e,n)}};e.a=a},function(t,e,n){"use strict";var i=n(89),a={config:{URL_GetCompanies:"/api/Template/GetCompanies",URL_GetList:"/api/UserInfoManager/SearchUserList",URL_GetCompanysByUserID:"/api/CompanyManager/GetCompanysByUserID",URL_GetUserDepartRoleList:"/api/CompanyManager/SearchUsers"},GetCompanyList:function(t,e,n){var a=this.config.URL_GetCompanies;return i.a.Ajax(a,"get",t,e,n)},GetUserList:function(t,e,n){var a=this.config.URL_GetList;return i.a.Ajax(a,"get",t,e,n)},GetCompanysByUserID:function(t,e,n){var a=this.config.URL_GetCompanysByUserID;return i.a.Ajax(a,"get",t,e,n)},GetUserDepartRoleList:function(t,e,n){var a=this.config.URL_GetUserDepartRoleList;return i.a.Ajax(a,"get",t,e,n)}};e.a=a},function(t,e,n){"use strict";var i={KanbanDatas:[{Title:"asbfdsfsdfsfsd01",ID:10101,createDateTime:"1234667",type:1,UserID:11},{Title:"asbfdsfsdfsfsd02",ID:10102,createDateTime:"1234667",type:1,UserID:11},{Title:"asbfdsfsdfsfsd03",ID:10103,createDateTime:"1234667",type:1,UserID:12},{Title:"asbfdsfsdfsfsd01",ID:40101,createDateTime:"1234667",type:4,UserID:11},{Title:"asbfdsfsdfsfsd02",ID:40102,createDateTime:"1234667",type:4,UserID:13},{Title:"asbfdsfsdfsfsd03",ID:40103,createDateTime:"1234667",type:4,UserID:13},{Title:"asbfdsfsdfsfsd01",ID:40104,createDateTime:"1234667",type:4,UserID:11},{Title:"asbfdsfsdfsfsd02",ID:40105,createDateTime:"1234667",type:4,UserID:11},{Title:"asbfdsfsdfsfsd03",ID:40106,createDateTime:"1234667",type:4,UserID:11}],KanbanTypeDatas:[{TypeID:1,Title:"草稿"},{TypeID:2,Title:"待处理"},{TypeID:3,Title:"决策中"},{TypeID:4,Title:"执行中"},{TypeID:5,Title:"归档"},{TypeID:6,Title:"关注"}],GetKanbanList:function(t,e,n){for(var i=[],a=this.KanbanDatas,o=t.UserID,s=t.type,r=t.Key,l=0;l<a.length;l++)if(a[l].type==s&&a[l].UserID==o){if(r.length>0&&a[l].Title.indexOf(r)<1)continue;i.push({Title:a[l].Title+"["+a[l].ID+"]"+a[l].UserID,ID:a[l].ID,createDateTime:a[l].createDateTime})}return e({Success:!0,Data:{documents:i}},n),!0},GetKanbanTypeList:function(t,e,n){for(var i=[],a=this.KanbanTypeDatas,o=0;o<a.length;o++)i.push({Title:a[o].Title,Para:a[o].TypeID});return e({Success:!0,Data:i},n),!0}};e.a=i},function(t,e,n){"use strict";var i=n(89),a={config:{URL_RegisterUser:"/api/UserCenter/RegisterUser",URL_CheckUserInfoExists:"/api/UserCenter/CheckUserInfoExists",URL_GetValidationCode:"/api/UserSecurity/GetValidationCode",URL_GetImageVerificationCode:"/api/UserSecurity/GetImageVerificationCode",URL_UserLogin:"/api/UserCenter/UserLogin",URL_GetUserInfoByCode:"/api/UserCenter/GetUserInfoByCode",URL_GetUserInfoByAccount:"/api/UserCenter/GetUserInfoByAccount",URL_ForgotPasswordUserCodeCheck:"/api/UserSecurity/ForgotPasswordUserCodeCheck",URL_ForgotPasswordCheckValidateCode:"/api/UserSecurity/ForgotPasswordCheckValidateCode",URL_ForgotPasswordReSetPassword:"/api/UserSecurity/ForgotPasswordReSetPassword",URL_UploadHeadImage:"/api/UserCenter/UploadHeadImage",URL_GetUserInfo:"/api/UserCenter/GetUserInfo",URL_ChangeUserInfo:"/api/UserCenter/ChangeUserInfo",URL_ChangePassword:"/api/UserSecurity/ChangePassword",URL_ChangeMobile:"/api/UserSecurity/ChangeMobile",URL_ChangeEMail:"/api/UserSecurity/ChangeEMail",URL_UserLogout:"/api/UserCenter/UserLogout",URL_GetUserStaffAndRequestList:"/api/StaffManager/GetUserEmployeeAndApplyList",URL_CheckUserPhoneOrMail:"api/UserSecurity/CheckUserPhoneOrMail",URL_SearchCompany:"/api/CompanyManager/ValidateCompanyName",URL_ApplyIntoCompany:"/api/StaffManager/ApplyIntoCompany",URL_UserConfirmJoin:"/api/StaffManager/UserConfirmJoin",URL_CancelApplyIntoCompany:"/api/StaffManager/CancelApplyIntoCompany",URL_JoinCompanyByInvitationCode:"/api/StaffManager/UserJoinCompanyByInvitationCode",URL_GetUserEmployees:"/api/CompanyManager/GetUserEmployees"},RegisterUser:function(t,e,n){var a=this.config.URL_RegisterUser;return i.a.Ajax(a,"post",t,e,n)},CheckUserName:function(t,e,n){var a=this.config.URL_CheckUserInfoExists;return i.a.Ajax(a,"get",t,e,n)},CheckMobile:function(t,e,n){var a=this.config.URL_CheckUserInfoExists;return i.a.Ajax(a,"get",t,e,n)},CheckEMail:function(t,e,n){var a=this.config.URL_CheckUserInfoExists;return i.a.Ajax(a,"get",t,e,n)},GetImageVC:function(t,e,n){var a=this.config.URL_GetImageVerificationCode;return i.a.Ajax(a,"get",t,e,n)},GetValidationCode:function(t,e,n){var a=this.config.URL_GetValidationCode;return i.a.Ajax(a,"get",t,e,n)},Login:function(t,e,n){var a=this.config.URL_UserLogin;return i.a.Ajax(a,"post",t,e,n)},GetUserInfoByUserName:function(t,e,n){var a=this.config.URL_GetUserInfoByCode;return i.a.Ajax(a,"post",t,e,n)},GetUserByAccount:function(t,e,n){var a=this.config.URL_GetUserInfoByAccount;return i.a.Ajax(a,"post",t,e,n)},FindPwdValidateByImageVC:function(t,e,n){var a=this.config.URL_ForgotPasswordUserCodeCheck;return i.a.Ajax(a,"get",t,e,n)},FindPwdValidateByValidateCode:function(t,e,n){var a=this.config.URL_ForgotPasswordCheckValidateCode;return console.log("FindPwdValidateByValidateCode url:"+a),i.a.Ajax(a,"get",t,e,n)},FindPassword:function(t,e,n){var a=this.config.URL_ForgotPasswordReSetPassword;return i.a.Ajax(a,"post",t,e,n)},UploadHeadImage:function(t,e,n){var a=this.config.URL_UploadHeadImage;return i.a.Ajax(a,"get",t,e,n)},GetUserInfo:function(t,e,n){var a=this.config.URL_GetUserInfo;return i.a.Ajax(a,"post",t,e,n)},ChangeUserInfo:function(t,e,n){var a=this.config.URL_ChangeUserInfo;return i.a.Ajax(a,"post",t,e,n)},ChangePassword:function(t,e,n){var a=this.config.URL_ChangePassword;return i.a.Ajax(a,"get",t,e,n)},ChangeMobile:function(t,e,n){var a=this.config.URL_ChangeMobile;return i.a.Ajax(a,"get",t,e,n)},ChangeEMail:function(t,e,n){var a=this.config.URL_ChangeEMail;return i.a.Ajax(a,"get",t,e,n)},BindEMail:function(t,e,n){var a=this.config.URL_ChangeEMail;return i.a.Ajax(a,"get",t,e,n)},UserLogout:function(t,e,n){var a=this.config.URL_UserLogout;return i.a.Ajax(a,"post",t,e,n)},GetUserStaffAndRequestList:function(t,e,n){var a=this.config.URL_GetUserStaffAndRequestList;return i.a.Ajax(a,"get",t,e,n)},CheckUserPhoneOrMail:function(t,e,n){var a=this.config.URL_CheckUserPhoneOrMail;return i.a.Ajax(a,"get",t,e,n)},SearchCompany:function(t,e,n){var a=this.config.URL_SearchCompany;return i.a.Ajax(a,"get",t,e,n)},ApplyIntoCompany:function(t,e,n){var a=this.config.URL_ApplyIntoCompany;return i.a.Ajax(a,"get",t,e,n)},UserConfirmJoin:function(t,e,n){var a=this.config.URL_UserConfirmJoin;return i.a.Ajax(a,"get",t,e,n)},CancelApplyIntoCompany:function(t,e,n){var a=this.config.URL_CancelApplyIntoCompany;return i.a.Ajax(a,"get",t,e,n)},JoinCompanyByInvitationCode:function(t,e,n){var a=this.config.URL_JoinCompanyByInvitationCode;return i.a.Ajax(a,"get",t,e,n)},GetUserEmployees:function(t,e,n){var a=this.config.URL_GetUserEmployees;return i.a.Ajax(a,"get",t,e,n)}};e.a=a},function(t,e,n){"use strict";var i=n(333),a={_seq:3,_applySeq:1,UserDatas:[{UserID:1,UserName:"TestUser1",Mobile:"13800138001",EMail:"",Password:"111111",Surname:"张",Name:"三",EName:"Michael",NickName:"小三子",Birthday:"1990-01-01",Sex:"1",ContactAddress:"上海市浦东新区朝晖路185弄",HeadURL:"http://up.qqjia.com/z/face01/face06/facejunyong/junyong04.jpg"},{UserID:2,UserName:"TestUser2",Mobile:"13800138002",EMail:"a2@b.com",Password:"111111",Surname:"李",Name:"四",EName:"Jacky",NickName:"小李子",Birthday:"1988-08-08",Sex:"2",ContactAddress:"上海市浦东新区机场大道",HeadURL:"http://diy.qqjay.com/u/files/2012/0209/2f45e7e0d06a69a974949c0872a5ec5a.jpg"},{UserID:3,UserName:"huangwy",Mobile:"13917956634",EMail:"176544851@qq.com",Password:"19831021",Surname:"李",Name:"四",EName:"Jacky",NickName:"小李子",Birthday:"1988-08-08",Sex:"2",ContactAddress:"上海市浦东新区机场大道",HeadURL:"http://diy.qqjay.com/u/files/2012/0209/2f45e7e0d06a69a974949c0872a5ec5a.jpg"}],VCDatas:[{Code:2627,data:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCAARADQDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwDufE1y2naZPfjVZrRkjKxRqsZWSTB2j5kJOT6HoM8cmpvtt3b+E/t0y5vI7HznWRcfvBHk5AxjntxUOpaDLfa5bamt1Dm2j2xQzwNIivnO8AOvPQfgPQY07i1+2abLaXL586ExSPGNvUYJAOcdff8AGsrO7Oe0rs53wxrZu5oba+1G7kvZLdZVjnt0ijkDc5jwoLbeRnODgkZHS/4muW07TJ78arNaMkZWKNVjKySYO0fMhJyfQ9Bnjk1Bp/hq5trzTZ7vVPtKadC0VvGtuI+o25Y5OflwO3Qe+Z9S0GW+1y21NbqHNtHtihngaRFfOd4Adeeg/AegwkpctiUp8tupe083Nxotqbl5I7qS3QyNtAZXKjJwRgEHtj8KxrS6vp/Ff2O01OS7srNCb1pfK++wIVBtQHIIyefUcEYPSRhxGokZWkAG5lXaCe5AycfmaztC0caLpxtzO1xM8jSzTtkGRyepBJ7YH4ZqmnoW07o06KKKosKKKKACiiigAooooAKKKKAP/9k="},{Code:9495,data:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCAARADQDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwDrdU1+8OueIbJNX+xS2MEX2C2jEW65laMtjDqzMd20YXHUdzW14b177f4Kttav22bYHa4fGf8AVkhmwB32k4A74q7fWep3bSxRajBb2kq7CEt285QRglZPMwG6kHbxxwccljoOnWOhRaMtus1lGuPLuAJA5zuJYHgndz6Z6YrS6satqxzXhzxHqmr+MZFnLQ6Xc6ebu0tXQB0XzAgZjgHLYZsZIww5NN1TX7w654hsk1f7FLYwRfYLaMRbrmVoy2MOrMx3bRhcdR3NbVt4S0+z8ULrNrDbQIlqYFt4rdVActkyAjvg7enTv2q7fWep3bSxRajBb2kq7CEt285QRglZPMwG6kHbxxwccu6uF1cytK1q/wBW+HX9qRK39omzl2bFDFpUDKGC4xksucY745p3hi/e58qK91S+k1L7Kkk9ld2yw7CcZZR5asQGBGQSOfpWrpukw6NosWm6cdiQoVjaXL/McncwyM8kkgEe2KoQeG2k8Sx69qV1FcXkEHkQCCFokQZbLEF2LHDEdce2cELQLrU36KKKRIUUUUAFFFFABRRRQAUUUUAf/9k="},{Code:9331,data:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCAARADQDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwDrNR1q6Osa5aJqn2SSzhj+xW8Yj3XEjIWxh1JY52jC47dzWx4c1CbW/C9pdyu0c8sZRpFwTuBKlhxjJIzjGOe9Wby11G5aWOO+hhtpBtISBvNUEYJV9+A3XB28ccGn2GmxaTpEen2B2LEhEbS5f5jk5YZGeTkgY9sVzJSUrvY2jGSld7GJo2pXVz4puLRb64nsobb5lu444pfNypyECq+3aw5K4zn2qz4ovJtOsnuYb+8gkKbIkiijMW8nALu6EIMsM5YDA45p0Xh+V/EsWt391DPNDAYYkigaMLyfm5dsnDMPx9qt6tY3uo209rBd28FvPC0Th7dnb5gQSCHAHB9DSSlytCSnyNdSfSpJptIspbh1ed4I2kdSCGYqMkFeCM+nFZeiXd43iHW9PubyS5itPI8oyIgYb0LHO1Rnn+VaWj6bFo+kW2nwnKwpgtz8zdWOCTjJJOO2ao6do17Za1e6jLf28v23Z50a2rJ9xSq7TvOOvOc/hT190q0vd/H7jbooorQ1CiiigAooooAKKKKACiiigD//2Q=="}],UserVCDatas:[],JoinCompanyApplyDatas:[{ApplyID:1,UserID:3,UserName:"TestUser1",InitiatorID:1,InitiatorName:"TestUser1",InitiateType:1,StaffID:1,StaffName:"张三丰",CompanyID:"1",CompanyName:"上海贞易信息科技有限公司",PositionNames:["总经理"],Role:"CEO",StaffCode:"100001",WorkEmail:"aaa@bb.com",InvitationCode:"",SendTime:"2017-07-17 10:00:00",EffectiveTime:"",UserConfirmationTime:"2017-07-17 10:00:00",HRConfirmationTime:"2017-07-17 10:00:00",State:"10",StateDes:"在职",RequestTime:"2017-07-17 10:00:00"},{ApplyID:2,UserID:3,UserName:"TestUser1",InitiatorID:1,InitiatorName:"TestUser1",InitiateType:1,StaffID:0,StaffName:"",CompanyID:"2",CompanyName:"日上免税行",PositionNames:[],Role:"",StaffCode:"",WorkEmail:"",InvitationCode:"",SendTime:"2017-07-17 10:00:00",EffectiveTime:"",UserConfirmationTime:"",HRConfirmationTime:"",State:"1",StateDes:"申请中",RequestTime:""},{ApplyID:3,UserID:3,UserName:"TestUser1",InitiatorID:1,InitiatorName:"TestUser1",InitiateType:2,StaffID:1,StaffName:"张三丰",CompanyID:"3",CompanyName:"上海平通信息科技有戏公司",PositionNames:["DBA"],Role:"",StaffCode:"300001",WorkEmail:"aaa@bb.com",InvitationCode:"123456",SendTime:"2017-07-17 10:00:00",EffectiveTime:"",UserConfirmationTime:"",HRConfirmationTime:"",State:"1",StateDes:"入职中",RequestTime:""}],CompanyDatas:[{CompanyID:1,CompanyName:"上海贞易信息科技有限公司"},{CompanyID:2,CompanyName:"日上免税行(上海)有限公司"},{CompanyID:3,CompanyName:"上海平通信息科技有戏公司"}],GetUserInfoByID:function(t){for(var e=0;e<this.UserDatas.length;e++){var n=this.UserDatas[e];if(n.UserID==t)return n}return null},GetUserInfoByName:function(t){for(var e=0;e<this.UserDatas.length;e++){var n=this.UserDatas[e];if(n.UserName==t)return n}return null},CreateCode:function(){for(var t="",e=new Array(0,1,2,3,4,5,6,7,8,9,"a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"),n=0;n<6;n++){t+=e[Math.floor(52*Math.random())]}return t},GetImageVCData:function(){var t=Math.floor(3*Math.random());return this.VCDatas[t]},SaveUserVC:function(t,e,n,i){var a={type:t,code:n,id:e,createtime:(new Date).getTime(),behavior:i};this.UserVCDatas.push(a)},CheckImageVC:function(t,e){for(var n=0;n<this.UserVCDatas.length;n++){var i=this.UserVCDatas[n];if(i.id==t&&"Image"==i.type)return i.code==e}return!1},CheckUserVC:function(t,e,n,i){for(var a=1==t?"Mobile":"EMail",o=0;o<this.UserVCDatas.length;o++){var s=this.UserVCDatas[o];if(s.id==e&&s.type==a&&s.code==n&&s.behavior==i)return!0}return!1},BehaviorTypeDatas:[{TypeID:1,Title:"注册"},{TypeID:2,Title:"找回密码"},{TypeID:3,Title:"修改手机"},{TypeID:4,Title:"修改邮箱"}],MaskStr:function(t,e,n,i){t=t.split(""),arrStr.splice(e,n,i),console.log(arrStr),arrStr.join("")},GetNowFormatDate:function(){var t=new Date,e=t.getMonth()+1,n=t.getDate();return e>=1&&e<=9&&(e="0"+e),n>=0&&n<=9&&(n="0"+n),t.getFullYear()+"-"+e+"-"+n+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()},GetJoinCompanyData:function(t){for(var e=0;e<this.JoinCompanyApplyDatas.length;e++)if(this.JoinCompanyApplyDatas[e].ApplyID==t)return this.JoinCompanyApplyDatas[e];return null},getCompanyName:function(t){for(var e=0;e<this.CompanyDatas.length;e++)if(this.CompanyDatas[e].CompanyID==t)return this.CompanyDatas[e].CompanyName;return""},RegisterUser:function(t,e,n){for(var i=this,a=t.UserCode,o=t.MobilePhone,s=t.VerificationCode,r=t.Password,l=0;l<this.UserVCDatas.length;l++){var c=this.UserVCDatas[l];if(c.id==o&&"Mobile"==c.type&&1==c.behavior){if(c.code==s){var u={UserID:i._seq++,UserName:a,Mobile:o,Password:r};return i.UserDatas.push(u),e({Success:!0,Data:{ID:u.UserID}},n),!0}return void e({Success:!1,Error:"验证码不正确",Data:{}},n)}}e({Success:!1,Error:"注册失败",Data:{}},n)},CheckUserName:function(t,e,n){for(var i=t.UserName,a=0;a<this.UserDatas.length;a++)if(this.UserDatas[a].UserName==i)return void e({Success:!1,Error:"用户名已存在",Data:{}},n);return e({Success:!0,Data:{}},n),!0},CheckMobile:function(t,e,n){for(var i=t.Mobile,a=0;a<this.UserDatas.length;a++)if(this.UserDatas[a].Mobile==i)return void e({Success:!1,Error:"手机号已存在",Data:{}},n);return e({Success:!0,Data:{}},n),!0},CheckEMail:function(t,e,n){for(var i=t.EMail,a=0;a<this.UserDatas.length;a++)if(this.UserDatas[a].EMail==i)return void e({Success:!1,Error:"邮箱已存在",Data:{}},n);return e({Success:!0,Data:{}},n),!0},GetImageVC:function(t,e,n){var i=t.guid,a=this.GetImageVCData(),o=a.Code,t=a.data;return this.SaveUserVC("Image",i,o),e({Success:!0,Data:{Image:t}},n),console.log("获取验证码："+o),!0},GetValidationCode:function(t,e,n){var i,a=t.getType,o=t.address,s=t.BehaviorType,r=300,l=!0,c="";c=1==a?"Mobile":"EMail";for(var u=0;u<this.UserVCDatas.length;u++){var t=this.UserVCDatas[u];if(t.type==c&&t.id==o&&t.behavior==s){if(((new Date).getTime()-t.createtime)/1e3<r){r-=Math.floor(((new Date).getTime()-t.createtime)/1e3),i=t.code,l=!1;break}this.UserVCDatas.splice(u,1)}}return l&&(i=this.CreateCode(),this.SaveUserVC(c,o,i,s)),e({Success:!0,Data:r},n),console.log("获取短信验证码："+i+",剩余时间："+r),!0},Login:function(t,e,n){for(var i=t.AccountName,a=t.Password,o=0;o<this.UserDatas.length;o++){var s=this.UserDatas[o];if((s.Mobile==i||s.UserName==i||s.EMail==i)&&s.Password==a)return void e({Success:!0,Data:s},n)}return e({Success:!1,Error:"用户名或密码错",Data:{}},n),!0},GetUserInfoByUserName:function(t,e,n){t.UserName;for(var i in this.UserDatas)if(i.UserName==i)return i.NickName=MaskStr(i.NickName,1,i.NickName.length-1,"*"),i.Mobile=MaskStr(i.NickName,3,i.NickName.length-3,"*"),i.EMail=MaskStr(i.EMail,3,i.NickName.EMail-3,"*"),void e({Success:!0,Data:i},n);return e({Success:!1,Error:"用户不存在",Data:{}},n),!0},GetUserByAccount:function(t,e,n){for(var i=date.Account,a=0;a<this.UserDatas.length;a++){var o=this.UserDatas[a];if(o.Mobile==i||o.UserName==i||o.EMail==i)return void e({Success:!0,Data:o},n)}return e({Success:!1,Error:"用户不存在",Data:{}},n),!0},FindPwdValidateByImageVC:function(t,e,n){var i=t.UserCode,a=t.VerificationCode,o=t.GUID,s=this.GetUserInfoByName(i);return null==s?void e({Success:!1,Error:"用户名不存在",Data:{}},n):this.CheckImageVC(o,a)?void e({Success:!0,Data:s},n):void e({Success:!1,Error:"验证码不正确",Data:{}},n)},FindPwdValidateByValidateCode:function(t,e,n){var i=t.UserName,a=t.ValidateType,o=t.ValidateCode,s=this.GetUserInfoByName(i);this.CheckUserVC(a,1==a?s.Mobile:s.EMail,o,2)?e({Success:!0,Data:{AuthorizationCode:1234}},n):e({Success:!1,Error:"验证码不正确",Data:null},n)},FindPassword:function(t,e,n){var i=t.UserID,a=t.NewPassword;if("1234"!=t.AuthorizationCode)return void e({Success:!1,Error:"授权码错误",Data:null},n);for(var o=0;o<this.UserDatas.length;o++)if(this.UserDatas[o].UserID==i)return this.UserDatas[o].Password=a,e({Success:!0,Data:this.UserDatas[o]},n),!0;return e({Success:!1,Error:"操作失败",Data:null},n),!0},UploadHeadImage:function(t,e,n){var i=t.UserID,a=t.HeadURL;return this.GetUserInfoByID(i).HeadURL=a,e({Success:!0,Data:{}},n),!0},GetUserInfo:function(t,e,n){var i=t.UserID,a=this.GetUserInfoByID(i);return null==a?e({Success:!1,Error:"用户不存在",Data:null},n):e({Success:!0,Data:a},n),!0},ChangeUserInfo:function(t,e,n){var i=this.GetUserInfoByID(t.UserID);return i.Surname=t.Surname,i.Name=t.Name,i.EName=t.EName,i.Sex=t.Sex,i.Birthday=t.Birthday,i.NickName=t.NickName,i.ContactAddress=t.ContactAddress,i.HeadURL=t.HeadURL,e({Success:!0,Data:i},n),!0},ChangePassword:function(t,e,n){var i=t.UserID,a=t.OldPassword,o=t.NewPassword,s=this.GetUserInfoByID(i);s.Password==a?(s.Password=o,e({Success:!0,Data:null},n)):e({Success:!1,Error:"原密码不正确",Data:null},n)},ChangeMobile:function(t,e,n){var i=t.UserID,a=t.Mobile,o=t.ValidateCode,s=this.GetUserInfoByID(i);if(!this.CheckUserVC(1,s.Mobile,o,3))return void e({Success:!1,Error:"验证码不正确",Data:null},n);s.Mobile=a,e({Success:!0,Data:null},n)},ChangeEMail:function(t,e,n){var i=t.UserID,a=t.EMail,o=t.ValidateCode,s=this.GetUserInfoByID(i);if(!this.CheckUserVC(2,s.EMail,o,4))return void e({Success:!1,Error:"验证码不正确",Data:null},n);s.EMail=a,e({Success:!0,Data:null},n)},BindEMail:function(t,e,n){var i=t.UserID,a=t.EMail;t.ValidateCode;this.GetUserInfoByID(i).EMail=a,e({Success:!0,Data:null},n)},UserLogout:function(t,e,n){t.UserID;e({Success:!0,Data:null},n)},GetUserStaffAndRequestList:function(t,e,n){for(var i=t.UserID,a=[],o=0;o<this.JoinCompanyApplyDatas.length;o++){var t=this.JoinCompanyApplyDatas[o];t.UserID==i&&a.push(t)}e({Success:!0,Data:a},n)},ApplyIntoCompany:function(t,e,n){var i=t.UserID,a=t.CompanyID,o=this.GetUserInfoByID(i);if(null==o)return void e({Success:!1,Error:"用户不存在"},n);var s={ApplyID:this._applySeq++,UserID:i,UserName:o.UserName,InitiatorID:i,InitiatorName:o.UserName,InitiateType:1,StaffID:0,StaffName:"",CompanyID:a,CompanyName:this.getCompanyName(a),PositionNames:[],Role:"",StaffCode:"",WorkEmail:"",InvitationCode:"",SendTime:this.GetNowFormatDate(),EffectiveTime:"",UserConfirmationTime:"",HRConfirmationTime:"",State:"1",StateDes:"申请中",RequestTime:""};this.JoinCompanyApplyDatas.push(s),e({Success:!0,Data:null},n)},HRConfirmApplication:function(t,e,n){var a=t.ApplyID,o=t.UserID,s=t.StaffID,r=i.a.GetStaffInfoByStaffID(s);if(null==r)return void e({Success:!1,Error:"员工不存在"},n);r.UserID=o;var l=this.GetJoinCompanyData(a);l.StaffID=r.StaffID,l.StaffName=r.StaffName,l.HRConfirmationTime=this.GetNowFormatDate(),l.State=10,l.StateDes="在职",e({Success:!0,Data:r},n)},HRSendInvitationCode:function(t,e,n){var a=t.StaffID,o=i.a.GetStaffInfoByStaffID(a),s={ApplyID:this._applySeq++,UserID:0,UserName:"",InitiatorID:0,InitiatorName:"HR",InitiateType:2,StaffID:o.StaffID,StaffName:o.StaffName,InvitationCode:"123456",SendTime:this.GetNowFormatDate(),EffectiveTime:"",UserConfirmationTime:"",HRConfirmationTime:"",State:1,RequestTime:""};return this.JoinCompanyApplyDatas.push(s),e({Success:!0,Data:null},n),!0},UserJoinCompanyByInvitationCode:function(t,e,n){for(var i=t.UserID,a=t.InvitationCode,o=0;o<this.JoinCompanyApplyDatas.length;o++){var s=this.JoinCompanyApplyDatas[o];if(s.InvitationCode==a)return s.UserID=i,s.UserName=this.GetUserInfoByID(i).UserName,s.UserConfirmationTime=this.GetNowFormatDate(),s.State=10,ApplyData.StateDes="在职",e({Success:!0,Data:null},n),!0}e({Success:!0,Error:"验证码不正确"},n)},HRBindUserByID:function(t,e,n){var a=t.UserID,o=t.StaffID,s=i.a.GetStaffInfoByStaffID(o);s.UserID=a;var r={ApplyID:this._applySeq++,UserID:s.UserID,UserName:this.GetUserInfoByID(a).UserName,InitiatorID:0,InitiatorName:"HR",InitiateType:3,StaffID:s.StaffID,StaffName:s.StaffName,InvitationCode:"",SendTime:this.GetNowFormatDate(),EffectiveTime:"",UserConfirmationTime:"",HRConfirmationTime:"",State:1,RequestTime:""};return this.JoinCompanyApplyDatas.push(r),e({Success:!0,Data:null},n),!0},UserConfirmJoin:function(t,e,n){for(var i=t.ApplyID,a=0;a<this.JoinCompanyApplyDatas.length;a++){var o=this.JoinCompanyApplyDatas[a];if(o.ApplyID==i)return o.UserConfirmationTime=this.GetNowFormatDate(),o.State=10,ApplyData.StateDes="在职",e({Success:!0,Data:null},n),!0}e({Success:!1,Error:"加入失败！"},n)},SearchCompany:function(t,e,n){for(var i=t.name,a=0,o={},s=0;s<this.CompanyDatas.length;s++){var r=this.CompanyDatas[s];r.CompanyName.indexOf(i)>=0&&(o=r,a++)}1==a?e({Success:!0,Data:o},n):e({Success:!1,Data:null},n)}};e.a=a},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n(15),a=n.n(i),o=n(1),s=n.n(o),r=n(2),l=n.n(r),c=n(31),u=(n.n(c),n(6)),d=n(23),p=[{ID:1,Name:"XX01有限公司",Desc:"上海平通信息科技有限公司",Address:"上海市浦东新区朝晖路185弄",Zip:"000001",Phone:"021-56000000",Fax:"021-56000000",OrganizationManagerID:1,OrganizationManager:"系统管理01",HrManagerID:2,HrManager:"HR01",IsTemplate:0,Enable:0,LogoKey:"http://leenty.com/img/vue/vue2.0.png"},{ID:2,Name:"XX02有限公司",Desc:"111122333",Address:"上海市浦东新区朝晖路185弄",Zip:"000002",Phone:"021-56000000",Fax:"021-56000000",OrganizationManagerID:3,OrganizationManager:"系统管理02",HrManagerID:4,HrManager:"HR02",IsTemplate:1,Enable:0,LogoKey:"http://leenty.com/img/vue/vue2.0.png"},{ID:3,Name:"XX03有限公司",Desc:"111122333",Address:"上海市浦东新区朝晖路185弄",Zip:"000003",Phone:"021-56000000",Fax:"021-56000000",OrganizationManagerID:5,OrganizationManager:"系统管理03",HrManagerID:6,HrManager:"HR03",IsTemplate:0,Enable:0,LogoKey:"http://leenty.com/img/vue/vue2.0.png"},{ID:4,Name:"XX01有限公司",Desc:"上海平通信息科技有限公司",Address:"上海市浦东新区朝晖路185弄",Zip:"000001",Phone:"021-56000000",Fax:"021-56000000",OrganizationManagerID:1,OrganizationManager:"系统管理01",HrManagerID:2,HrManager:"HR01",IsTemplate:0,Enable:0,LogoKey:"http://leenty.com/img/vue/vue2.0.png"},{ID:5,Name:"XX02有限公司",Desc:"111122333",Address:"上海市浦东新区朝晖路185弄",Zip:"000002",Phone:"021-56000000",Fax:"021-56000000",OrganizationManagerID:3,OrganizationManager:"系统管理02",HrManagerID:4,HrManager:"HR02",IsTemplate:1,Enable:0,LogoKey:"http://leenty.com/img/vue/vue2.0.png"},{ID:6,Name:"XX03有限公司",Desc:"111122333",Address:"上海市浦东新区朝晖路185弄",Zip:"000003",Phone:"021-56000000",Fax:"021-56000000",OrganizationManagerID:5,OrganizationManager:"系统管理03",HrManagerID:6,HrManager:"HR03",IsTemplate:0,Enable:0,LogoKey:"http://leenty.com/img/vue/vue2.0.png"},{ID:7,Name:"XX01有限公司",Desc:"上海平通信息科技有限公司",Address:"上海市浦东新区朝晖路185弄",Zip:"000001",Phone:"021-56000000",Fax:"021-56000000",OrganizationManagerID:1,OrganizationManager:"系统管理01",HrManagerID:2,HrManager:"HR01",IsTemplate:0,Enable:0,LogoKey:"http://leenty.com/img/vue/vue2.0.png"},{ID:8,Name:"XX02有限公司",Desc:"111122333",Address:"上海市浦东新区朝晖路185弄",Zip:"000002",Phone:"021-56000000",Fax:"021-56000000",OrganizationManagerID:3,OrganizationManager:"系统管理02",HrManagerID:4,HrManager:"HR02",IsTemplate:1,Enable:0,LogoKey:"http://leenty.com/img/vue/vue2.0.png"},{ID:9,Name:"XX03有限公司",Desc:"111122333",Address:"上海市浦东新区朝晖路185弄",Zip:"000003",Phone:"021-56000000",Fax:"021-56000000",OrganizationManagerID:5,OrganizationManager:"系统管理03",HrManagerID:6,HrManager:"HR03",IsTemplate:0,Enable:0,LogoKey:"http://leenty.com/img/vue/vue2.0.png"}],m={UpdateCompanyView:d.a+"/api/CompanyManager/UpdateCompanyTemplate",GetCompanyView:d.a+"/api/CompanyManager/GetCompanyTemplateByComID?comid=",GetFile:d.a+"/api/FileManage/FileModel"},h=function(){function t(){s()(this,t)}return l()(t,[{key:"getCompany",value:function(t){for(var e,n=0;n<p.length;n++)if(p[n].ID==t){e=p[n];break}return new a.a(function(t,n){t({Success:!0,Data:e})})}},{key:"editCompany",value:function(t){for(var e=0,n=0;n<p.length;n++)p[n].ID>e&&(e=p[n].ID);return e+=1,t.ID=e,p.push(t),new a.a(function(t,e){t({Success:!0})})}},{key:"modifyCompany",value:function(t){for(var e=0;e<p.length;e++)if(p[e].ID==t.ID){p[e]=t;break}return new a.a(function(t,e){t({Success:!0})})}},{key:"updateCompanyView",value:function(t){return u.a.post(m.UpdateCompanyView,t)}},{key:"getCompanyView",value:function(t){return u.a.get(m.GetCompanyView+t)}},{key:"getSelectList",value:function(t){for(var e=[],n=0;n<p.length;n++)1==p[n].Enable&&e.push(p[n]);return new a.a(function(t,n){t({Success:!0,Data:e})})}},{key:"search",value:function(t){return new a.a(function(t,e){t({Success:!0,Data:p})})}},{key:"delCompany",value:function(t){for(var e=-1,n=0;n<p.length;n++)if(p[n].ID==t.comid){e=n;break}return e>-1?(p.splice(e,1),new a.a(function(t,e){t({Success:!0})})):new a.a(function(t,e){t({Success:!1})})}},{key:"getFile",value:function(t){return u.a.get(m.GetFile,t)}},{key:"Enable",value:function(t){console.log(t);for(var e=0;e<p.length;e++)if(p[e].ID==t.id){p[e].Enable=1;break}return console.log(p),new a.a(function(t,e){t({Success:!0})})}},{key:"SetTemplate",value:function(t){console.log("调用设为模板");for(var e=0;e<p.length;e++)if(p[e].ID==t.id){p[e].IsTemplate=1;break}return new a.a(function(t,e){t({Success:!0})})}},{key:"CancelTemplate",value:function(t){console.log(t),console.log("调用取消模板");for(var e=0;e<p.length;e++)if(p[e].ID==t.id){p[e].IsTemplate=0;break}return new a.a(function(t,e){t({Success:!0})})}},{key:"GetTemplateCompany",value:function(t){for(var e=[],n=0;n<p.length;n++)1==p[n].IsTemplate&&e.push(p[n]);return new a.a(function(t,n){t({Success:!0,Data:e})})}}]),t}()},function(t,e,n){"use strict";var i=n(36),a=n.n(i),o=n(202),s={Server:function(){var t,e=(t={URL_GetDocument:"/api/WorkflowDocumentManager/GetOneDocument",URL_CreateDocument:"/api/WorkflowDocumentManager/CreateDocument",URL_UpdateDocument:"/api/WorkflowDocumentManager/UpdateDocument",URL_DeleteDocument:"/api/WorkflowDocumentManager/DeleteDocument",URL_GetDocumentTypeList:"/api/WorkflowDocumentManager/GetDocumentTypeList",URL_GetDocumentTypeRight:"/api/WorkflowDocumentManager/GetDocumentCaterotyRight",URL_ConcernsDocument:"/api/WorkflowDocumentManager/ConcernsDocument",URL_CancelConcernsDocument:"/api/WorkflowDocumentManager/CancelConcernsDocument",URL_AddSubmit:"/api/Flow/SubmitDoc"},a()(t,"URL_AddSubmit","/api/Flow/SubmitDoc"),a()(t,"URL_Sign","/api/Flow/Sign"),a()(t,"URL_Return","/api/Flow/ToReturn"),a()(t,"URL_Agree","/api/Flow/Agree"),a()(t,"URL_Reject","/api/Flow/Reject"),a()(t,"URL_Comment","/api/Flow/Comment"),a()(t,"URL_DocFile","/api/Flow/DocFile"),a()(t,"URL_Consult",""),a()(t,"URL_GetFlow",""),a()(t,"URL_GetFlowNodes","/api/Flow/GetFlowNodes"),a()(t,"URL_Revoke","/api/Flow/UnDo"),a()(t,"URL_GetTemplateList","/api/Template/Search"),a()(t,"URL_GetTemplateNodes","/api/Template/Get"),t),n=[1,2,3,4,5];return function(t){var e=function(e,n){o.a.Ajax(t.URL_GetDocument,"get",e,n)},i=function(e,n){o.a.Ajax(t.URL_CreateDocument,"post",e,n)},a=function(e,n){o.a.Ajax(t.URL_UpdateDocument,"post",e,n)},s=function(e,n){o.a.Ajax(t.URL_DeleteDocument,"get",e,n)},r=function(){return console.log("DocumentService GetPriorityEdit"),n},l=function(e,n){o.a.Ajax(t.URL_GetDocumentTypeList,"get",e,n)},c=function(e,n){o.a.Ajax(t.URL_AddSubmit,"post",e,n)},u=function(e,n){o.a.Ajax(t.URL_CancelConcernsDocument+"?documentId="+e,"get",{},n)},d=function(e,n){o.a.Ajax(t.URL_ConcernsDocument+"?documentId="+e,"get",{},n)},p=function(e,n){o.a.Ajax(t.URL_Sign,"get",e,n)},m=function(e,n){o.a.Ajax(t.URL_Return,"get",e,n)},h=function(e,n){o.a.Ajax(t.URL_Agree,"post",e,n)},f=function(e,n){o.a.Ajax(t.URL_Reject,"post",e,n)},v=function(e,n){o.a.Ajax(t.URL_Revoke,"get",e,n)},g=function(t,e){e({Success:!0,Data:"响应成功"})},y=function(t,e){e({Success:!0,Data:"响应成功"})},_=function(t,e){e({Success:!0,Data:"响应成功"})},b=function(e,n){o.a.Ajax(t.URL_GetFlowNodes,"get",e,n)},C=function(e,n){o.a.Ajax(t.URL_GetTemplateList,"post",e,n)},k=function(e,n){o.a.Ajax(t.URL_GetTemplateNodes,"get",e,n)};return{GetDocument:e,CreateDocument:i,UpdateDocument:a,DeleteDocument:s,GetPriorityEdit:r,GetDocumentTypeList:l,CancelConcernsDocument:u,ConcernsDocument:d,AddSubmit:c,Sign:p,Return:m,Agree:h,Reject:f,Revoke:v,Comment:g,DocFile:function(e,n){o.a.Ajax(t.URL_DocFile,"post",e,n)},Consult:y,GetFlow:_,GetFlowNodes:b,GetTemplateList:C,GetTemplateNodes:k}}(e)}};e.a=s},function(t,e,n){"use strict";n(202)},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(31),l=(n.n(r),n(6)),c=n(23),u={GetNodes:c.a+"/api/CompanyManager/GetNodes",SaveNode:c.a+"/api/CompanyManager/SaveNode",RenameNode:c.a+"/api/CompanyManager/RenameNode",DeleteNode:c.a+"/api/CompanyManager/DeleteNode",SearchNodes:c.a+"/api/CompanyManager/SearchNodes",CopyCompany:c.a+"/api/CompanyManager/CopyCompany",SetPositionPermissions:c.a+"/api/CompanyManager/SetPositionPermissions",GetPositionPermissions:c.a+"/api/CompanyManager/GetPositionPermissions",AddRolePosition:c.a+"/api/CompanyManager/AddRolePosition",DeleteRolePosition:c.a+"/api/CompanyManager/DeleteRolePosition"},d=function(){function t(){a()(this,t)}return s()(t,[{key:"GetNodes",value:function(t,e,n,i){var a={};return a.companyId=t,a.nodeId=e,a.nodeType=n,a.containsChild=i,l.a.get(u.GetNodes,a)}},{key:"SaveNode",value:function(t){return l.a.post(u.SaveNode,t)}},{key:"SaveRolePosition",value:function(t,e,n,i){var a={};return a.companyId=n,a.nodeId=e,a.PID=t,i?l.a.post(u.AddRolePosition,a):l.a.post(u.DeleteRolePosition,a)}},{key:"GetRolePositions",value:function(t,e){var n={};return n.companyId=e,n.nodeId=t,n.nodeType=16,n.containsChild=!0,l.a.get(u.GetNodes,n)}},{key:"RenameNode",value:function(t){return l.a.post(u.RenameNode,t)}},{key:"DeleteNode",value:function(t,e){console.log("$$$$$$$$$$$$"+e);var n={};return n.companyId=e,n.nodeId=t,l.a.get(u.DeleteNode,n)}},{key:"SearchNodes",value:function(t,e,n,i){var a={};return a.companyId=t,a.name=e,a.nodeId=n,a.nodeType=i,l.a.post(u.SearchNodes,a)}},{key:"SetPositionPermissions",value:function(t,e,n,i){var a={};return a.companyId=t,a.isTemplate=0,a.nodeId=e,a.permissions=n,a.level=i,l.a.post(u.SetPositionPermissions,a)}},{key:"GetPositionPermissions",value:function(t,e){var n={};return n.companyId=t,n.positionId=e,l.a.get(u.GetPositionPermissions,n)}},{key:"CopyCompany",value:function(t,e){var n={};return n.sourceCompanyId=t,n.companyId=e,l.a.get(u.CopyCompany,n)}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var i=n(1),a=n.n(i),o=n(2),s=n.n(o),r=n(31),l=(n.n(r),n(6)),c=n(23),u={Login:c.a+"/api/UserInfoManager/Login",Search:c.a+"/api/UserInfoManager/SearchUserList",Create:c.a+"/api/UserInfoManager/CreateUser",Update:c.a+"/api/UserInfoManager/UpdateUser",GetUser:c.a+"/api/UserInfoManager/GetOneUserInfo",Delete:c.a+"/api/UserInfoManager/DeleteUser",ChangePass:c.a+"/api/UserInfoManager/SetDefaultPass",GetUserRightsByUserID:c.a+"/api/UserInfoManager/GetUserRightsByUserID",SetUserRights:c.a+"/api/UserInfoManager/SetUserRights"},d=function(){function t(){a()(this,t)}return s()(t,[{key:"login",value:function(t){var e="?userCode="+t.userid+"&passwrod="+t.pwd;return l.a.post(u.Login+e)}},{key:"search",value:function(t){return l.a.get(u.Search,t)}},{key:"create",value:function(t){return l.a.post(u.Create,t)}},{key:"update",value:function(t){return l.a.post(u.Update,t)}},{key:"get",value:function(t){return l.a.get(u.GetUser,{userid:t})}},{key:"deleteUser",value:function(t){return l.a.get(u.Delete,{userid:t})}},{key:"changePass",value:function(t){return l.a.get(u.ChangePass,{userid:t})}},{key:"getUserRightsByUserID",value:function(t){return l.a.get(u.GetUserRightsByUserID,t)}},{key:"setUserRights",value:function(t){return l.a.post(u.SetUserRights,t)}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=[{id:0,value:"routine",label:"日常"},{id:1,value:"cycle",label:"周期"},{id:2,value:"measureTimes",label:"计次"},{id:3,value:"measurePiece",label:"计件"},{id:4,value:"statisticalTime",label:"计时"},{id:5,value:"driver",label:"司机"}]},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=[{id:0,value:"routine",label:"日常"},{id:1,value:"cycle",label:"周期"},{id:2,value:"measureTimes",label:"计次"},{id:3,value:"measurePiece",label:"计件"},{id:4,value:"statisticalTime",label:"计时"},{id:5,value:"driver",label:"司机"}]},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,function(t,e,n){function i(t){return n(a(t))}function a(t){var e=o[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var o={"./af":401,"./af.js":401,"./ar":408,"./ar-dz":402,"./ar-dz.js":402,"./ar-kw":403,"./ar-kw.js":403,"./ar-ly":404,"./ar-ly.js":404,"./ar-ma":405,"./ar-ma.js":405,"./ar-sa":406,"./ar-sa.js":406,"./ar-tn":407,"./ar-tn.js":407,"./ar.js":408,"./az":409,"./az.js":409,"./be":410,"./be.js":410,"./bg":411,"./bg.js":411,"./bm":412,"./bm.js":412,"./bn":413,"./bn.js":413,"./bo":414,"./bo.js":414,"./br":415,"./br.js":415,"./bs":416,"./bs.js":416,"./ca":417,"./ca.js":417,"./cs":418,"./cs.js":418,"./cv":419,"./cv.js":419,"./cy":420,"./cy.js":420,"./da":421,"./da.js":421,"./de":424,"./de-at":422,"./de-at.js":422,"./de-ch":423,"./de-ch.js":423,"./de.js":424,"./dv":425,"./dv.js":425,"./el":426,"./el.js":426,"./en-au":427,"./en-au.js":427,"./en-ca":428,"./en-ca.js":428,"./en-gb":429,"./en-gb.js":429,"./en-ie":430,"./en-ie.js":430,"./en-il":431,"./en-il.js":431,"./en-nz":432,"./en-nz.js":432,"./eo":433,"./eo.js":433,"./es":436,"./es-do":434,"./es-do.js":434,"./es-us":435,"./es-us.js":435,"./es.js":436,"./et":437,"./et.js":437,"./eu":438,"./eu.js":438,"./fa":439,"./fa.js":439,"./fi":440,"./fi.js":440,"./fo":441,"./fo.js":441,"./fr":444,"./fr-ca":442,"./fr-ca.js":442,"./fr-ch":443,"./fr-ch.js":443,"./fr.js":444,"./fy":445,"./fy.js":445,"./gd":446,"./gd.js":446,"./gl":447,"./gl.js":447,"./gom-latn":448,"./gom-latn.js":448,"./gu":449,"./gu.js":449,"./he":450,"./he.js":450,"./hi":451,"./hi.js":451,"./hr":452,"./hr.js":452,"./hu":453,"./hu.js":453,"./hy-am":454,"./hy-am.js":454,"./id":455,"./id.js":455,"./is":456,"./is.js":456,"./it":457,"./it.js":457,"./ja":458,"./ja.js":458,"./jv":459,"./jv.js":459,"./ka":460,"./ka.js":460,"./kk":461,"./kk.js":461,"./km":462,"./km.js":462,"./kn":463,"./kn.js":463,"./ko":464,"./ko.js":464,"./ky":465,"./ky.js":465,"./lb":466,"./lb.js":466,"./lo":467,"./lo.js":467,"./lt":468,"./lt.js":468,"./lv":469,"./lv.js":469,"./me":470,"./me.js":470,"./mi":471,"./mi.js":471,"./mk":472,"./mk.js":472,"./ml":473,"./ml.js":473,"./mn":474,"./mn.js":474,"./mr":475,"./mr.js":475,"./ms":477,"./ms-my":476,"./ms-my.js":476,"./ms.js":477,"./mt":478,"./mt.js":478,"./my":479,"./my.js":479,"./nb":480,"./nb.js":480,"./ne":481,"./ne.js":481,"./nl":483,"./nl-be":482,"./nl-be.js":482,"./nl.js":483,"./nn":484,"./nn.js":484,"./pa-in":485,"./pa-in.js":485,"./pl":486,"./pl.js":486,"./pt":488,"./pt-br":487,"./pt-br.js":487,"./pt.js":488,"./ro":489,"./ro.js":489,"./ru":490,"./ru.js":490,"./sd":491,"./sd.js":491,"./se":492,"./se.js":492,"./si":493,"./si.js":493,"./sk":494,"./sk.js":494,"./sl":495,"./sl.js":495,"./sq":496,"./sq.js":496,"./sr":498,"./sr-cyrl":497,"./sr-cyrl.js":497,"./sr.js":498,"./ss":499,"./ss.js":499,"./sv":500,"./sv.js":500,"./sw":501,"./sw.js":501,"./ta":502,"./ta.js":502,"./te":503,"./te.js":503,"./tet":504,"./tet.js":504,"./tg":505,"./tg.js":505,"./th":506,"./th.js":506,"./tl-ph":507,"./tl-ph.js":507,"./tlh":508,"./tlh.js":508,"./tr":509,"./tr.js":509,"./tzl":510,"./tzl.js":510,"./tzm":512,"./tzm-latn":511,"./tzm-latn.js":511,"./tzm.js":512,"./ug-cn":513,"./ug-cn.js":513,"./uk":514,"./uk.js":514,"./ur":515,"./ur.js":515,"./uz":517,"./uz-latn":516,"./uz-latn.js":516,"./uz.js":517,"./vi":518,"./vi.js":518,"./x-pseudo":519,"./x-pseudo.js":519,"./yo":520,"./yo.js":520,"./zh-cn":521,"./zh-cn.js":521,"./zh-hk":522,"./zh-hk.js":522,"./zh-tw":523,"./zh-tw.js":523};i.keys=function(){return Object.keys(o)},i.resolve=a,t.exports=i,i.id=1449},,,,,,,,function(t,e,n){n(1329);var i=n(0)(n(655),n(1673),"data-v-235162cf",null);t.exports=i.exports},function(t,e,n){n(1371);var i=n(0)(n(656),n(1718),"data-v-45112ee2",null);t.exports=i.exports},function(t,e,n){n(1383);var i=n(0)(n(657),n(1734),"data-v-53ef2eef",null);t.exports=i.exports},function(t,e,n){n(1361);var i=n(0)(n(659),n(1710),"data-v-3fcff086",null);t.exports=i.exports},function(t,e,n){n(1413);var i=n(0)(n(660),n(1774),"data-v-76cf22f4",null);t.exports=i.exports},function(t,e,n){n(1332);var i=n(0)(n(662),n(1677),"data-v-24906946",null);t.exports=i.exports},function(t,e,n){n(1331);var i=n(0)(n(663),n(1675),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(666),n(1809),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(667),n(1719),null,null);t.exports=i.exports},function(t,e,n){n(1409);var i=n(0)(n(668),n(1768),null,null);t.exports=i.exports},function(t,e,n){n(1412);var i=n(0)(n(669),n(1773),"data-v-7647244b",null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(670),n(1687),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(671),n(1735),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(672),n(1812),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(673),n(1682),null,null);t.exports=i.exports},function(t,e,n){n(1315);var i=n(0)(n(674),n(1657),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(675),n(1685),null,null);t.exports=i.exports},function(t,e,n){n(1416);var i=n(0)(n(676),n(1777),null,null);t.exports=i.exports},function(t,e,n){n(1306);var i=n(0)(n(677),n(1645),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(678),n(1748),null,null);t.exports=i.exports},function(t,e,n){n(1291);var i=n(0)(n(679),n(1626),null,null);t.exports=i.exports},function(t,e,n){n(1337);var i=n(0)(n(680),n(1683),null,null);t.exports=i.exports},function(t,e,n){n(1324);var i=n(0)(n(681),n(1667),"data-v-1cf73530",null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(682),n(1816),null,null);t.exports=i.exports},function(t,e,n){n(1419);var i=n(0)(n(683),n(1783),"data-v-7ffef788",null);t.exports=i.exports},function(t,e,n){n(1408);var i=n(0)(n(684),n(1767),null,null);t.exports=i.exports},function(t,e,n){n(1336);var i=n(0)(n(685),n(1681),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(686),n(1736),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(687),n(1724),null,null);t.exports=i.exports},function(t,e,n){n(1444);var i=n(0)(n(688),n(1817),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(689),n(1727),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(690),n(1752),null,null);t.exports=i.exports},function(t,e,n){n(1411);var i=n(0)(n(691),n(1771),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(692),n(1778),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(693),n(1731),null,null);t.exports=i.exports},function(t,e,n){n(1303);var i=n(0)(n(694),n(1642),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(695),n(1684),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(696),n(1808),null,null);t.exports=i.exports},function(t,e,n){n(1426);var i=n(0)(n(697),n(1790),null,null);t.exports=i.exports},function(t,e,n){n(1372);var i=n(0)(n(698),n(1720),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(699),n(1709),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(700),n(1652),null,null);t.exports=i.exports},function(t,e,n){n(1410);var i=n(0)(n(701),n(1770),null,null);t.exports=i.exports},function(t,e,n){n(1431);var i=n(0)(n(702),n(1797),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(703),n(1671),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(704),n(1636),null,null);t.exports=i.exports},function(t,e,n){n(1289);var i=n(0)(n(705),n(1624),null,null);t.exports=i.exports},function(t,e,n){n(1436);var i=n(0)(n(706),n(1802),null,null);t.exports=i.exports},function(t,e,n){n(1307);var i=n(0)(n(707),n(1646),"data-v-100d8ff1",null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(708),n(1628),null,null);t.exports=i.exports},function(t,e,n){n(1398);var i=n(0)(n(709),n(1757),"data-v-660bb6f8",null);t.exports=i.exports},function(t,e,n){n(1360);var i=n(0)(n(710),n(1708),null,null);t.exports=i.exports},function(t,e,n){n(1391);var i=n(0)(n(711),n(1746),"data-v-5fabede0",null);t.exports=i.exports},function(t,e,n){n(1347);var i=n(0)(n(712),n(1696),"data-v-34b48afe",null);t.exports=i.exports},function(t,e,n){n(1402);var i=n(0)(n(713),n(1761),"data-v-695496ac",null);t.exports=i.exports},function(t,e,n){n(1370),n(1369);var i=n(0)(n(714),n(1717),"data-v-44b97ae8",null);t.exports=i.exports},function(t,e,n){n(1425);var i=n(0)(n(715),n(1789),"data-v-8c1e0702",null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(716),n(1751),null,null);t.exports=i.exports},function(t,e,n){n(1392);var i=n(0)(n(717),n(1747),"data-v-5fcb114a",null);t.exports=i.exports},function(t,e,n){n(1295);var i=n(0)(n(718),n(1632),"data-v-063546b2",null);t.exports=i.exports},function(t,e,n){n(1352);var i=n(0)(n(719),n(1700),"data-v-37c6c458",null);t.exports=i.exports},function(t,e,n){n(1320);var i=n(0)(n(720),n(1663),"data-v-1965c696",null);t.exports=i.exports},function(t,e,n){n(1429);var i=n(0)(n(721),n(1793),null,null);t.exports=i.exports},function(t,e,n){n(1350);var i=n(0)(n(722),n(1698),"data-v-35a3a927",null);t.exports=i.exports},function(t,e,n){n(1428);var i=n(0)(n(723),n(1792),"data-v-95f613b4",null);t.exports=i.exports},function(t,e,n){n(1389);var i=n(0)(n(724),n(1742),"data-v-59c8f943",null);t.exports=i.exports},function(t,e,n){n(1432);var i=n(0)(n(725),n(1798),"data-v-b82942be",null);t.exports=i.exports},function(t,e,n){n(1313);var i=n(0)(n(727),n(1655),"data-v-14dc7c1b",null);t.exports=i.exports},function(t,e,n){n(1378);var i=n(0)(n(728),n(1729),"data-v-53324048",null);t.exports=i.exports},function(t,e,n){n(1362);var i=n(0)(n(729),n(1711),"data-v-3ff69789",null);t.exports=i.exports},function(t,e,n){n(1406);var i=n(0)(n(730),n(1765),"data-v-6f64733f",null);t.exports=i.exports},function(t,e,n){n(1344);var i=n(0)(n(731),n(1693),"data-v-32d4e088",null);t.exports=i.exports},function(t,e,n){n(1381);var i=n(0)(n(732),n(1732),"data-v-53b72d64",null);t.exports=i.exports},function(t,e,n){n(1294);var i=n(0)(n(733),n(1630),"data-v-04728864",null);t.exports=i.exports},function(t,e,n){n(1420);var i=n(0)(n(734),n(1784),null,null);t.exports=i.exports},function(t,e,n){n(1396);var i=n(0)(n(735),n(1755),"data-v-65b25684",null);t.exports=i.exports},function(t,e,n){n(1355);var i=n(0)(n(736),n(1703),"data-v-38731802",null);t.exports=i.exports},function(t,e,n){n(1302);var i=n(0)(n(738),n(1641),"data-v-0d697d4a",null);t.exports=i.exports},function(t,e,n){n(1323);var i=n(0)(n(739),n(1666),"data-v-1b72cf0c",null);t.exports=i.exports},function(t,e,n){n(1434);var i=n(0)(n(741),n(1800),"data-v-be84390e",null);t.exports=i.exports},function(t,e,n){n(1385);var i=n(0)(n(743),n(1738),"data-v-57e531e1",null);t.exports=i.exports},function(t,e,n){n(1437);var i=n(0)(n(744),n(1803),"data-v-cb1194c2",null);t.exports=i.exports},function(t,e,n){n(1390);var i=n(0)(n(746),n(1743),"data-v-5a6ab7dc",null);t.exports=i.exports},function(t,e,n){n(1376);var i=n(0)(n(747),n(1726),"data-v-52358b88",null);t.exports=i.exports},function(t,e,n){n(1322);var i=n(0)(n(748),n(1665),"data-v-1abef115",null);t.exports=i.exports},function(t,e,n){n(1388);var i=n(0)(n(749),n(1741),"data-v-5958aefe",null);t.exports=i.exports},function(t,e,n){n(1288);var i=n(0)(n(750),n(1623),"data-v-0081f84e",null);t.exports=i.exports},function(t,e,n){n(1442),n(1443);var i=n(0)(n(751),n(1815),"data-v-e6317c28",null);t.exports=i.exports},function(t,e,n){n(1367),n(1368);var i=n(0)(n(752),n(1716),"data-v-44a2518d",null);t.exports=i.exports},function(t,e,n){n(1301);var i=n(0)(n(753),n(1640),"data-v-0cafacbf",null);t.exports=i.exports},function(t,e,n){n(1319);var i=n(0)(n(754),n(1662),"data-v-18ca47f5",null);t.exports=i.exports},function(t,e,n){n(1446);var i=n(0)(n(755),n(1819),"data-v-fd70d916",null);t.exports=i.exports},function(t,e,n){n(1300);var i=n(0)(n(756),n(1639),"data-v-0c8eddf4",null);t.exports=i.exports},function(t,e,n){n(1363);var i=n(0)(n(757),n(1712),"data-v-401f18d5",null);t.exports=i.exports},function(t,e,n){n(1422);var i=n(0)(n(758),n(1786),"data-v-82e6a816",null);t.exports=i.exports},function(t,e,n){n(1296);var i=n(0)(n(759),n(1633),"data-v-06b166d4",null);t.exports=i.exports},function(t,e,n){n(1314);var i=n(0)(n(761),n(1656),"data-v-156ac5aa",null);t.exports=i.exports},function(t,e,n){n(1405);var i=n(0)(n(762),n(1764),"data-v-6eda99f9",null);t.exports=i.exports},function(t,e,n){n(1397);var i=n(0)(n(763),n(1756),"data-v-65cd9737",null);t.exports=i.exports},function(t,e,n){n(1394);var i=n(0)(n(764),n(1750),"data-v-630bc550",null);t.exports=i.exports},function(t,e,n){n(1328);var i=n(0)(n(765),n(1672),"data-v-22297cca",null);t.exports=i.exports},function(t,e,n){n(1308);var i=n(0)(n(766),n(1647),"data-v-107ac0b1",null);t.exports=i.exports},function(t,e,n){n(1430);var i=n(0)(n(767),n(1795),"data-v-b4f19b44",null);t.exports=i.exports},function(t,e,n){n(1393);var i=n(0)(n(768),n(1749),"data-v-61e1a411",null);t.exports=i.exports},function(t,e,n){n(1292);var i=n(0)(n(769),n(1627),null,null);t.exports=i.exports},function(t,e,n){n(1441);var i=n(0)(n(770),n(1811),"data-v-df578c5a",null);t.exports=i.exports},function(t,e,n){n(1309);var i=n(0)(n(772),n(1650),"data-v-130d8c92",null);t.exports=i.exports},function(t,e,n){n(1424);var i=n(0)(n(773),n(1788),"data-v-86e6f7d0",null);t.exports=i.exports},function(t,e,n){n(1290);var i=n(0)(n(774),n(1625),"data-v-00b54dc6",null);t.exports=i.exports},function(t,e,n){n(1435);var i=n(0)(null,n(1801),"data-v-c38fbc06",null);t.exports=i.exports},function(t,e,n){n(1351);var i=n(0)(n(776),n(1699),"data-v-35e86964",null);t.exports=i.exports},function(t,e,n){n(1297);var i=n(0)(n(777),n(1634),null,null);t.exports=i.exports},function(t,e,n){n(1423);var i=n(0)(n(779),n(1787),null,null);t.exports=i.exports},function(t,e,n){n(1364);var i=n(0)(n(780),n(1713),"data-v-4087d968",null);t.exports=i.exports},function(t,e,n){n(1318);var i=n(0)(n(781),n(1660),"data-v-17ddff96",null);t.exports=i.exports},function(t,e,n){n(1343);var i=n(0)(n(784),n(1692),"data-v-2d963842",null);t.exports=i.exports},function(t,e,n){n(1395);var i=n(0)(n(786),n(1753),"data-v-65266d49",null);t.exports=i.exports},function(t,e,n){n(1327);var i=n(0)(n(787),n(1670),"data-v-20b12c1a",null);t.exports=i.exports},function(t,e,n){n(1421);var i=n(0)(n(788),n(1785),"data-v-81f6a0cc",null);t.exports=i.exports},function(t,e,n){n(1330);var i=n(0)(n(789),n(1674),"data-v-23b832a3",null);t.exports=i.exports},function(t,e,n){n(1365);var i=n(0)(n(790),n(1714),"data-v-41724039",null);t.exports=i.exports},function(t,e,n){n(1399);var i=n(0)(n(791),n(1758),"data-v-66db9ca1",null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(793),n(1676),null,null);t.exports=i.exports},function(t,e,n){n(1377);var i=n(0)(n(796),n(1728),"data-v-53158b8d",null);t.exports=i.exports},function(t,e,n){n(1382);var i=n(0)(n(797),n(1733),"data-v-53d8010e",null);t.exports=i.exports},function(t,e,n){n(1374);var i=n(0)(n(799),n(1722),"data-v-4e477046",null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(800),n(1782),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(803),n(1744),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(804),n(1779),null,null);t.exports=i.exports},function(t,e,n){n(1387);var i=n(0)(n(807),n(1740),"data-v-58accfe4",null);t.exports=i.exports},function(t,e,n){n(1299);var i=n(0)(n(808),n(1638),"data-v-0c3744cb",null);t.exports=i.exports},function(t,e,n){n(1359);var i=n(0)(n(809),n(1707),"data-v-3bd86110",null);t.exports=i.exports},function(t,e,n){n(1310);var i=n(0)(n(810),n(1651),"data-v-13391f62",null);t.exports=i.exports},function(t,e,n){n(1386);var i=n(0)(n(811),n(1739),"data-v-58000a4a",null);t.exports=i.exports},function(t,e,n){n(1317);var i=n(0)(n(812),n(1659),"data-v-170a7ba1",null);t.exports=i.exports},function(t,e,n){n(1400);var i=n(0)(n(813),n(1759),"data-v-68a9bbf2",null);t.exports=i.exports},function(t,e,n){n(1384);var i=n(0)(n(814),n(1737),"data-v-57df6845",null);t.exports=i.exports},function(t,e,n){n(1417);var i=n(0)(n(815),n(1780),"data-v-7dca2c22",null);t.exports=i.exports},function(t,e,n){n(1439);var i=n(0)(n(816),n(1806),"data-v-d03cc1ba",null);t.exports=i.exports},function(t,e,n){n(1293);var i=n(0)(n(818),n(1629),"data-v-04665b4a",null);t.exports=i.exports},function(t,e,n){n(1357);var i=n(0)(n(819),n(1705),"data-v-3919c9c2",null);t.exports=i.exports},function(t,e,n){n(1438);var i=n(0)(n(820),n(1804),"data-v-cbfea4ba",null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(821),n(1796),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(822),n(1754),null,null);t.exports=i.exports},function(t,e,n){n(1418);var i=n(0)(n(824),n(1781),"data-v-7ed7de09",null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(827),n(1649),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(828),n(1635),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(829),n(1745),null,null);t.exports=i.exports},function(t,e,n){n(1403);var i=n(0)(n(830),n(1762),"data-v-6bd73ef0",null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(831),n(1648),null,null);t.exports=i.exports},function(t,e,n){n(1373);var i=n(0)(n(832),n(1721),"data-v-4e22d4c6",null);t.exports=i.exports},function(t,e,n){n(1346);var i=n(0)(n(833),n(1695),"data-v-33490b14",null);t.exports=i.exports},function(t,e,n){n(1433);var i=n(0)(n(834),n(1799),"data-v-b984bf50",null);t.exports=i.exports},function(t,e,n){n(1339);var i=n(0)(n(835),n(1689),"data-v-2b90e5f7",null);t.exports=i.exports},function(t,e,n){n(1305);var i=n(0)(n(836),n(1644),"data-v-0f860c7c",null);t.exports=i.exports},function(t,e,n){n(1440);var i=n(0)(n(837),n(1807),"data-v-d9961192",null);t.exports=i.exports},function(t,e,n){n(1415),n(1414);var i=n(0)(n(838),n(1776),"data-v-7783cc4e",null);t.exports=i.exports},function(t,e,n){n(1349),n(1348);var i=n(0)(n(839),n(1697),"data-v-34d836f3",null);t.exports=i.exports},function(t,e,n){n(1380),n(1379);var i=n(0)(n(840),n(1730),"data-v-53739909",null);t.exports=i.exports},function(t,e,n){n(1342);var i=n(0)(n(841),n(1691),"data-v-2d2b69b4",null);t.exports=i.exports},function(t,e,n){n(1404);var i=n(0)(n(842),n(1763),"data-v-6d33765c",null);t.exports=i.exports},function(t,e,n){n(1304);var i=n(0)(n(843),n(1643),"data-v-0f4029e0",null);t.exports=i.exports},function(t,e,n){n(1427);var i=n(0)(n(844),n(1791),null,null);t.exports=i.exports},function(t,e,n){n(1358);var i=n(0)(n(846),n(1706),"data-v-3a2a692d",null);t.exports=i.exports},function(t,e,n){n(1366);var i=n(0)(n(847),n(1715),null,null);t.exports=i.exports},function(t,e,n){n(1298);var i=n(0)(n(848),n(1637),"data-v-0b77cd83",null);t.exports=i.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"task_document_list"},[n("div",{staticClass:"list_main"},[n("div",{staticClass:"list_main_scroll"},[t._l(t.taskDocumentListManager.gsTaskDocumentListProcessed,function(t){return n("task-document-list-item",{key:t.gsCreateTime,attrs:{item:t}})}),t._v(" "),t.taskDocumentListManager.gsTaskDocumentListProcessed.length?t._e():n("div",{staticClass:"no_task_document"},[t._v("\n                暂无任务文档\n            ")])],2)])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("document-header",{attrs:{showSelect:t.showCompanySelect},model:{value:t.queryEnvelop.companyId,callback:function(e){t.$set(t.queryEnvelop,"companyId",e)},expression:"queryEnvelop.companyId"}},[t.isDetailMode?t._e():n("button",{staticClass:"b-orange-h44",attrs:{type:"button"},on:{click:t.onCreateDocument}},[t._v("新建"+t._s(t.documentName))]),t._v(" "),t.showSaveButton?n("button",{staticClass:"b-orange-h44",attrs:{type:"button"},on:{click:t.onSaveDocument}},[t._v("保存"+t._s(t.documentName))]):t._e(),t._v(" "),t.showEditButton?n("button",{staticClass:"b-blue-h39",staticStyle:{width:"120px"},attrs:{type:"button"},on:{click:t.onEditDocument}},[t._v("修改"+t._s(t.documentName))]):t._e(),t._v(" "),t.showAuditButton?n("button",{staticClass:"b-blue-h39",attrs:{type:"button"},on:{click:t.onAudit}},[t._v("审批")]):t._e(),t._v(" "),t.isDetailMode?n("button",{staticClass:"b-blue-h39",on:{click:function(e){t.toggleActiveLink(-1)}}},[t._v("返回列表")]):t._e()])],1),t._v(" "),t.isDetailMode?n("div",{staticClass:"document-detail",style:{left:t.listWidth},attrs:{id:"EditComponent"}},[n(t.editComponentName,{tag:"component",attrs:{document:t.document},on:{backManager:function(e){t.toggleActiveLink(0)}}})],1):n("div",{staticClass:"document-list",style:{left:t.listWidth}},[n("div",{staticClass:"document-tab"},[n("a",{class:{active:t.isCompanyList},attrs:{href:"javascript:void(0);"},on:{click:function(e){t.toggleActiveLink(1)}}},[t._v(t._s(t.documentName)+"列表")]),t._v(" "),n("a",{class:{active:t.isRelatedList},attrs:{href:"javascript:void(0);"},on:{click:function(e){t.toggleActiveLink(0)}}},[t._v("与我相关")])]),t._v(" "),n(t.filterName,{tag:"component",attrs:{queryEnvelop:t.queryEnvelop,activeType:t.activeType},on:{doQuery:t.onFilterQuery}}),t._v(" "),n("div",{staticClass:"document-list-view"},[t._l(t.list,function(e){return n("div",{staticClass:"document-item"},[n(t.componentName,{tag:"component",attrs:{item:e,activeType:t.activeType},on:{onDeleteDocument:t.onDeleteDocument,onViewDocument:t.onViewDocument,onShowReport:t.onShowReport}})],1)}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showLoading,expression:"showLoading"}],staticClass:"paging-loading"},[t._v("\n          正在加载中\n      ")])],2)],1),t._v(" "),n("supplier-payable-report",{ref:"supplierReport"}),t._v(" "),n("contract-payment-report",{ref:"contractReport"})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"task_review_list"},[n("gf-list",{attrs:{"row-color-alternation":!0}},[n("template",{slot:"flexListHead"},[n("gf-list-column-head-follow",{attrs:{styl:{justifyContent:"flex-start"}}},[t._v("\n                任务名称\n            ")]),t._v(" "),n("gf-list-column-head-follow",[t._v("基础分")]),t._v(" "),n("gf-list-column-head-follow"),t._v(" "),n("gf-list-column-head-follow",[t._v("系数")]),t._v(" "),n("gf-list-column-head-follow"),t._v(" "),n("gf-list-column-head-follow",[t._v("实际分数")]),t._v(" "),n("gf-list-column-head-follow",[t._v("创建人")]),t._v(" "),n("gf-list-column-head-follow",[t._v("负责人")]),t._v(" "),n("gf-list-column-head-follow",[t._v("确认人")]),t._v(" "),n("gf-list-column-head-follow",[t._v("结算时间")])],1),t._v(" "),n("template",{slot:"flexListMain"},[n("gf-list-column",{attrs:{flex:"auto"}},[n("gf-list-column-head",{attrs:{styl:{justifyContent:"flex-start"}}},[t._v("\n                    任务名称\n                ")]),t._v(" "),t._l(t.taskReviewManager.gsTaskListProcessed,function(e){return n("gf-list-column-row",{key:e.gsTaskId,attrs:{row:e,"is-hover":e.gsIsHover,"is-select":e.gsIsSelect,"row-hover":t.taskReviewManager.rowHover,"row-click":t.taskReviewManager.rowClick,styl:{justifyContent:"flex-start"}}},[n("template",{slot:"view"},[t._v("\n                        "+t._s(e.gsTaskName)+"\n                    ")])],2)})],2),t._v(" "),n("gf-list-column",{attrs:{flex:"auto"}},[n("gf-list-column-head",[t._v("基础分")]),t._v(" "),t._l(t.taskReviewManager.gsTaskListProcessed,function(e){return n("gf-list-column-row",{key:e.gsTaskId,attrs:{row:e,"is-hover":e.gsIsHover,"is-select":e.gsIsSelect,"row-hover":t.taskReviewManager.rowHover,"row-click":t.taskReviewManager.rowClick}},[n("template",{slot:"view"},[t._v("\n                        "+t._s(e.gsPoints)+"\n                    ")])],2)})],2),t._v(" "),n("gf-list-column",{attrs:{flex:"none"}},[n("gf-list-column-head"),t._v(" "),t._l(t.taskReviewManager.gsTaskListProcessed,function(e){return n("gf-list-column-row",{key:e.gsTaskId,attrs:{row:e,"is-hover":e.gsIsHover,"is-select":e.gsIsSelect,"row-hover":t.taskReviewManager.rowHover,"row-click":t.taskReviewManager.rowClick}},[n("template",{slot:"view"},[t._v("\n                        ×\n                    ")])],2)})],2),t._v(" "),n("gf-list-column",{attrs:{flex:"auto"}},[n("gf-list-column-head",[t._v("系数")]),t._v(" "),t._l(t.taskReviewManager.gsTaskListProcessed,function(e){return n("gf-list-column-row",{key:e.gsTaskId,attrs:{row:e,"is-hover":e.gsIsHover,"is-select":e.gsIsSelect,"row-hover":t.taskReviewManager.rowHover,"row-click":t.taskReviewManager.rowClick}},[n("template",{slot:"view"},[t._v("\n                        "+t._s(e.gsModulus)+"\n                    ")])],2)})],2),t._v(" "),n("gf-list-column",{attrs:{flex:"none"}},[n("gf-list-column-head"),t._v(" "),t._l(t.taskReviewManager.gsTaskListProcessed,function(e){return n("gf-list-column-row",{key:e.gsTaskId,attrs:{row:e,"is-hover":e.gsIsHover,"is-select":e.gsIsSelect,"row-hover":t.taskReviewManager.rowHover,"row-click":t.taskReviewManager.rowClick}},[n("template",{slot:"view"},[t._v("\n                        =\n                    ")])],2)})],2),t._v(" "),n("gf-list-column",{attrs:{flex:"auto"}},[n("gf-list-column-head",[t._v("实际分数")]),t._v(" "),t._l(t.taskReviewManager.gsTaskListProcessed,function(e){return n("gf-list-column-row",{key:e.gsTaskId,attrs:{row:e,"is-hover":e.gsIsHover,"is-select":e.gsIsSelect,"row-hover":t.taskReviewManager.rowHover,"row-click":t.taskReviewManager.rowClick}},[n("template",{slot:"view"},[t._v("\n                        "+t._s(e.gsPoints*e.gsModulus)+"\n                    ")])],2)})],2),t._v(" "),n("gf-list-column",{attrs:{flex:"auto"}},[n("gf-list-column-head",[t._v("创建人")]),t._v(" "),t._l(t.taskReviewManager.gsTaskListProcessed,function(e){return n("gf-list-column-row",{key:e.gsTaskId,attrs:{row:e,"is-hover":e.gsIsHover,"is-select":e.gsIsSelect,"row-hover":t.taskReviewManager.rowHover,"row-click":t.taskReviewManager.rowClick}},[n("template",{slot:"view"},[t._v("\n                        "+t._s(e.gsCreatorName)+"\n                    ")])],2)})],2),t._v(" "),n("gf-list-column",{attrs:{flex:"auto"}},[n("gf-list-column-head",[t._v("负责人")]),t._v(" "),t._l(t.taskReviewManager.gsTaskListProcessed,function(e){return n("gf-list-column-row",{key:e.gsTaskId,attrs:{row:e,"is-hover":e.gsIsHover,"is-select":e.gsIsSelect,"row-hover":t.taskReviewManager.rowHover,"row-click":t.taskReviewManager.rowClick}},[n("template",{slot:"view"},[t._v("\n                        "+t._s(e.gsResponsibleName)+"\n                    ")])],2)})],2),t._v(" "),n("gf-list-column",{attrs:{flex:"auto"}},[n("gf-list-column-head",[t._v("确认人")]),t._v(" "),t._l(t.taskReviewManager.gsTaskListProcessed,function(e){return n("gf-list-column-row",{key:e.gsTaskId,attrs:{row:e,"is-hover":e.gsIsHover,"is-select":e.gsIsSelect,"row-hover":t.taskReviewManager.rowHover,"row-click":t.taskReviewManager.rowClick}},[n("template",{slot:"view"},[t._v("\n                        "+t._s(e.gsConfirmorName)+"\n                    ")])],2)})],2),t._v(" "),n("gf-list-column",{attrs:{flex:"auto"}},[n("gf-list-column-head",[t._v("结算时间")]),t._v(" "),t._l(t.taskReviewManager.gsTaskListProcessed,function(e){return n("gf-list-column-row",{key:e.gsTaskId,attrs:{row:e,"is-hover":e.gsIsHover,"is-select":e.gsIsSelect,"row-hover":t.taskReviewManager.rowHover,"row-click":t.taskReviewManager.rowClick}},[n("template",{slot:"view"},[t._v("\n                        "+t._s(e.gsLastUpdateTime)+"\n                    ")])],2)})],2)],1)],2)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"endorsement"},[n("div",{staticClass:"endorsement-scroll-container"},[n("ptit-form",{ref:"form",attrs:{model:t.endorsementFile,states:["view"],state:t.state,validator:t.endorsementFile.validator}},[n("div",{attrs:{id:"endorsement-header"}},[n("div",{staticClass:"ptit-form-item-inline operate-area"},[n("endorsement-button-list",{attrs:{endorsementFile:t.endorsementFile},on:{saveDraft:t.onSaveDraft}})],1),t._v(" "),n("ptit-input-item",{staticStyle:{width:"60%"},attrs:{label:t._tt("标题")+":",labelWidth:"60px",name:"title",prop:"Title"},model:{value:t.endorsementFile.Title,callback:function(e){t.$set(t.endorsementFile,"Title",e)},expression:"endorsementFile.Title"}}),t._v(" "),n("ptit-input-item",{staticStyle:{width:"20%"},attrs:{label:t._tt("类型")+":",labelWidth:"60px",name:"category"}},[n("endorsement-category-select",{attrs:{companyId:t.endorsementFile.PublishCompanyId,typeCode:t.endorsementFile.DocumentType},model:{value:t.endorsementFile.Category,callback:function(e){t.$set(t.endorsementFile,"Category",e)},expression:"endorsementFile.Category"}}),t._v(" "),n("template",{slot:"viewSlot"},[t._v("\n            "+t._s(t._tt(t.selectedCategoryName))+"\n          ")])],2),t._v(" "),n("ptit-input-item",{staticStyle:{width:"20%"},attrs:{label:t._tt("缓急")+":",labelWidth:"70px",name:"priority",prop:"Priority"},model:{value:t.endorsementFile.Priority,callback:function(e){t.$set(t.endorsementFile,"Priority",e)},expression:"endorsementFile.Priority"}},[n("el-select",{model:{value:t.endorsementFile.Priority,callback:function(e){t.$set(t.endorsementFile,"Priority",e)},expression:"endorsementFile.Priority"}},t._l(t.endorsementFile.Priorities,function(e){return n("el-option",{key:e.value,attrs:{label:t._tt(e.name),value:e.value,placeHolder:t._tt("请选择签批类型")}})})),t._v(" "),n("template",{slot:"viewSlot"},[t._v("\n             "+t._s(t._tt(t.selectedPriority))+"\n           ")])],2),t._v(" "),n("ptit-input-item",{staticStyle:{width:"50%"},attrs:{label:t._tt("公司")+":",labelWidth:"60px",name:"title",prop:"PublishCompanyId"},model:{value:t.endorsementFile.PublishCompanyId,callback:function(e){t.$set(t.endorsementFile,"PublishCompanyId",e)},expression:"endorsementFile.PublishCompanyId"}},[n("user-company-select",{model:{value:t.endorsementFile.PublishCompanyId,callback:function(e){t.$set(t.endorsementFile,"PublishCompanyId",e)},expression:"endorsementFile.PublishCompanyId"}}),t._v(" "),n("template",{slot:"viewSlot"},[t._v("\n            "+t._s(t.selectedCompanyName)+"\n          ")])],2),t._v(" "),t.endorsementFile.IsDraft?t._e():n("ptit-input-item",{staticStyle:{width:"20%"},attrs:{label:t._tt("于")+":",labelWidth:"60px",followFormState:!1,itemState:"view"}},[n("template",{slot:"viewSlot"},[t._v(t._s(t.endorsementFile.CreateDateTime))])],2),t._v(" "),n("ptit-input-item",{style:{width:t.endorsementFile.IsDraft?"50%":"30%"},attrs:{label:t._tt("发起")+":",labelWidth:"60px",followFormState:!1,itemState:"view"}},[n("template",{slot:"viewSlot"},[t._v("\n              "+t._s(t.initialDepartmentName)+"\n              "+t._s(t._tt({en:t.endorsementFile.EmployeeEnName,cn:t.endorsementFile.EmployeeName}))+"\n            ")])],2),t._v(" "),t.endorsementFile.IsDraft||t.endorsementFile.Attachments.length>0?n("endorsement-attachment-list",{attrs:{endorsementFile:t.endorsementFile}}):t._e()],1),t._v(" "),n("el-tabs",{directives:[{name:"loading",rawName:"v-loading.body",value:t.documentLoading,expression:"documentLoading",modifiers:{body:!0}}],staticClass:"document-tab",attrs:{type:"card"},on:{"tab-remove":t.onRemoveDocument},model:{value:t.activeDocumentTabName,callback:function(e){t.activeDocumentTabName=e},expression:"activeDocumentTabName"}},[t._l(t.endorsementFile.Documents,function(e){return n("el-tab-pane",{key:e.TabName,attrs:{label:t.ChangeTabTitle(e.TitleForTab),name:e.TabName,closable:t.documentClosable(e)}},[n(e.DocumentComponentName,{tag:"component",attrs:{offsetHeight:t.height.appliedOffsetHeight,headerHeight:t.height.appliedHeaderHeight,document:e,inTab:!0}})],1)}),t._v(" "),t.showFlowNodes&&this.endorsementFile.viewMode?n("el-tab-pane",{key:"flowNodes",attrs:{label:"审批意见",name:"flowNodes",closable:!0}},[t._t("flowNodes")],2):t._e()],2)],1)],1),t._v(" "),n("create-document",{attrs:{documents:t.searchedDocuments,inSearchingDocument:t.inSearchingDocument,documentKey:t.documentKey},on:{onSearchDocument:t.onSearchDocument,onCreateDocument:t.onCreateDocument},model:{value:t.showCreateDocumentDialog,callback:function(e){t.showCreateDocumentDialog=e},expression:"showCreateDocumentDialog"}}),t._v(" "),n("endorsement-dialog",{attrs:{docId:t.endorsementFile.DocumentId,categoryName:t.selectedCategoryName},on:{submit:t.onSubmit}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"task_document_detail_list_item"},[n("div",{staticClass:"item"},[n("div",{staticClass:"key"},[t._v("任务名称：")]),t._v(" "),n("div",{staticClass:"value"},[t._v(t._s(t.task.gsTaskName))])]),t._v(" "),n("div",{staticClass:"item"},[n("div",{staticClass:"key"},[t._v("任务分数：")]),t._v(" "),n("div",{staticClass:"value"},[t._v(t._s(t.task.gsPoints))])]),t._v(" "),n("div",{staticClass:"item"},[n("div",{staticClass:"key"},[t._v("状态：")]),t._v(" "),n("div",{staticClass:"value"},[t._v(t._s(t.gsStatus))])]),t._v(" "),n("div",{staticClass:"item"},[n("div",{staticClass:"key"},[t._v("系数范围：")]),t._v(" "),n("div",{staticClass:"value"},[t._v(t._s(t.task.gsModulusRange.replace(",","~")))])]),t._v(" "),n("div",{staticClass:"item"},[n("div",{staticClass:"key"},[t._v("创建时间：")]),t._v(" "),n("div",{staticClass:"value"},[t._v(t._s(t.task.gsCreateTime))])]),t._v(" "),n("div",{staticClass:"item"},[n("div",{staticClass:"key"},[t._v("描述：")]),t._v(" "),n("div",{staticClass:"value"},[t._v(t._s(t.task.gsContent?t.task.gsContent:"无任务描述"))])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:"批量修改",visible:t.isDialogShow,size:"tiny","close-on-click-modal":!1,"close-on-press-escape":!t.dialogLoading,"show-close":!t.dialogLoading},on:{"update:visible":function(e){t.isDialogShow=e}}},[t._l(t.operations,function(e,i){return n("work-row",{key:e.operator.field.key,style:{backgroundColor:t.getBackgroundColor(i)}},[n("work-column",{attrs:{state:"view",flexWidth:"0 0 100px",textAlign:"right"}},[t._v("\n            "+t._s(e.operator.field.displayText)+"("+t._s(e.count)+"项):\n        ")]),t._v(" "),n("work-column",{attrs:{state:"view",flexWidth:"0 0 100px",textAlign:"center"}},[t.isRange(e)?n("ptit-tooltip-input",{attrs:{inputType:"number",max:e.options.max,min:e.options.min,size:"small",controls:!1,disabled:e.locked&&!e.modified},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"operation.value"}}):t._e()],1),t._v(" "),n("work-column",{attrs:{state:"view",textAlign:"left"}},[e.locked?n("el-button",{attrs:{type:"text"},on:{click:function(n){t.onUnlock(e)}}},[n("i",{staticClass:"fa fa-lock"})]):t._e(),t._v(" "),n("span",[t._v(t._s(t.rangeText(e)))])],1)],1)}),t._v(" "),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",loading:t.dialogLoading},on:{click:function(e){t.closeDialog(!0)}}},[t._v("确定")]),t._v(" "),t.dialogLoading?t._e():n("el-button",{on:{click:function(e){t.closeDialog(!1)}}},[t._v("取消")])],1)],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-12"},[n("h3",{staticClass:"pull-left"},[t._v("\n    "+t._s(t._tt(t.DisplayName))+"\n    ")]),t._v(" "),n("div",{staticClass:"tools pull-right"},[n("el-button",{attrs:{size:"large"},on:{click:t.RefreshPower}},[t._v(t._s(t._tt("刷新")))]),t._v(" "),n("el-button",{attrs:{type:"warning",size:"large"},on:{click:t.CreateDraft}},[t._v(t._s(t._tt("新建签批")))]),t._v(" "),n("el-button",{attrs:{size:"large"},on:{click:t.print}},[n("i",{staticClass:"fa fa-print"}),t._v(" "+t._s(t._tt("打印预览")))])],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"GridRow work-row-hover",class:t.classs,style:{flex:t.flexWidth},on:{click:t.onClick}},[t._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-col",{attrs:{span:t.colspan}},[n("el-form-item",{attrs:{label:t.label,prop:t.ruleProp}},[n("el-select",{attrs:{placeholder:t.placeHolder,disabled:t.disabled},on:{change:t.onChange},model:{value:t.companyId,callback:function(e){t.companyId=e},expression:"companyId"}},t._l(t.companies,function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.id,disabled:t.id<0}})}))],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"work-item-list"},[n("div",{staticClass:"debug-area"},[n("div",{staticStyle:{"margin-right":"10px"}},[t._v("\n      当前公司:\n      "),n("el-select",{model:{value:t.currentCompanyId,callback:function(e){t.currentCompanyId=e},expression:"currentCompanyId"}},t._l(t.companies,function(t){return n("el-option",{key:t.principalId,attrs:{label:t.principalName,value:t.principalId}})}))],1),t._v(" "),n("div",[t._v("\n      当前员工:\n      "),n("el-select",{model:{value:t.currentEmployeeId,callback:function(e){t.currentEmployeeId=e},expression:"currentEmployeeId"}},t._l(t.employees,function(t){return n("el-option",{key:t.principalId,attrs:{label:t.principalName,value:t.principalId}})})),t._v(" "),n("el-button",{on:{click:t.loadWorkItems}},[t._v("重新加载工作项列表")])],1)]),t._v(" "),n("div",{staticClass:"content-area"},[n("filter-tag-list",{attrs:{fieldFilters:t.controller.currentFieldFilters},on:{delete:t.onDeleteFieldFilter,changeShowFilter:t.changeShowFilter}}),t._v(" "),t.showFilter?[t._l(t.controller.visibleFieldFilters,function(e){return n("aggregation-filter",{key:e.filter.key,attrs:{controller:t.controller,filter:e.filter},on:{change:function(n){t.onFilterChanged(e.filter,n)},click:function(n){t.onOptionClick(e.filter,n)},addCustomOption:function(n){t.onCustomOptionAdd(e)}}})}),t._v(" "),n("aggregation-sorter",{attrs:{controller:t.controller},on:{sort:t.onRenderResult}}),t._v(" "),n("aggregation-grouper",{attrs:{controller:t.controller},on:{group:t.onRenderResult}})]:t._e(),t._v(" "),n("div",[n("working-item",{attrs:{item:t.item,fetchEmployeePositions:t.fetchEmployeePositions,queryDefinitions:t.queryDefinitions,queryEmployees:t.queryEmployees,currentEmployeeId:t.currentEmployeeId,selected:!0,editMode:!0,loading:t.workItemStore.inProcessing("")},on:{ok:t.onCreateWorkItem}})],1),t._v(" "),n("div",{staticClass:"list"},t._l(t.controller.resultList,function(e){return n("aggregation-list-item",{key:t.controller.getListItemKey(e),attrs:{controller:t.controller,item:e,minIndent:t.minIndent,showCheckBox:!0}},[n("working-item",{attrs:{item:e.item,fetchEmployeePositions:t.fetchEmployeePositions,queryDefinitions:t.queryDefinitions,queryEmployees:t.queryEmployees,selected:t.itemSelected(e),editMode:t.itemEditMode(e),currentEmployeeId:t.currentEmployeeId,loading:t.workItemStore.inProcessing(e.item.itemId)},on:{click:function(n){t.onItemClick(e)},edit:function(n){t.onItemEdit(e)},cancel:function(n){t.onItemCancel(e)},ok:function(n){t.onItemOK(e)},delete:function(n){t.onItemDelete(e)},share:function(n){t.onItemShare(e)},eye:function(n){t.onItemEye(e)},reject:function(n){t.onItemReject(e)}}}),t._v(" "),n("working-aggregation-item",{attrs:{slot:"root",hasChildrenChecked:t.controller.itemChecked(e)>=0,item:e},on:{bulkEdit:function(n){t.onItemBulkEdit(e)},bulkRead:function(n){t.onItemBulkRead(e,!0)},bulkDelete:function(n){t.onItemBulkDelete(e)},bulkUnread:function(n){t.onItemBulkRead(e,!1)},bulkShare:function(n){t.onItemBulkShare(e)},bulkReject:function(n){t.onItemBulkReject(e)}},slot:"root"}),t._v(" "),n("working-aggregation-item",{attrs:{slot:"aggregation",hasChildrenChecked:t.controller.itemChecked(e)>=0,item:e},on:{bulkEdit:function(n){t.onItemBulkEdit(e)},bulkRead:function(n){t.onItemBulkRead(e,!0)},bulkUnread:function(n){t.onItemBulkRead(e,!1)},bulkDelete:function(n){t.onItemBulkDelete(e)},bulkShare:function(n){t.onItemBulkShare(e)},bulkReject:function(n){t.onItemBulkReject(e)}},slot:"aggregation"})],1)}))],2),t._v(" "),n("work-employee-selector",{attrs:{dialogTitle:"选择需要分享的员工",fetchEmployees:t.queryEmployees,dialogMode:!0,visible:t.shareDialog.show,validator:t.shareDialog.validator.employeeName,dialogLoading:t.shareDialog.loading},on:{select:t.onSelectShareEmployee,"update:visible":function(e){t.$set(t.shareDialog,"show",e)},dialogOk:t.onShareDialogOK},model:{value:t.shareDialog.employeeName,callback:function(e){t.$set(t.shareDialog,"employeeName",e)},expression:"shareDialog.employeeName"}}),t._v(" "),n("bulk-edit-dialog",{attrs:{visible:t.bulkEditDialog.show,operations:t.bulkEditDialog.operations,dialogLoading:t.bulkEditDialog.loading},on:{"update:visible":function(e){t.$set(t.bulkEditDialog,"show",e)},dialogOk:t.onBulkEdit}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"task_kanban"},[n("div",{staticClass:"task_kanban_left"},[n("task-list",{staticClass:"task_list",attrs:{"task-list":t.rootTaskDetailManager.gsTaskListProcessed,"task-list-item-select":t.rootTaskDetailManager.taskListItemSelect}})],1),t._v(" "),n("div",{staticClass:"task_kanban_main"},[t.rootTaskDetailManager.gsTaskDetail?n("task-detail",{staticClass:"task_detail",attrs:{detail:t.rootTaskDetailManager.gsTaskDetail,"task-select":t.rootTaskDetailManager.taskDetailInitializeById,"task-operation-button":t.rootTaskDetailManager.gsTaskOperationButton,"task-detail-users":t.rootTaskDetailManager.gsTaskDetailUsers,"create-child-task":t.rootTaskDetailManager.createChildTask,"is-show-add-child-task":t.rootTaskDetailManager.gsIsShowAddChildTask,"on-edit-modulus":t.rootTaskDetailManager.onEditModulus,"is-show-edit-modulus":t.rootTaskDetailManager.gsIsShowEditModulus}}):n("div",{staticClass:"no_task_detail"},[t._v("\n            暂无任务详情\n        ")])],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"h100 w100"},[n("div",{staticClass:"content-header border-bottom"},[n("div",{staticClass:"col-12"},[n("h3",{staticClass:"pull-left"},[t._v("公司管理")]),t._v(" "),n("div",{staticClass:"tools pull-right"},[n("el-button",{attrs:{type:"warning",size:"large"},on:{click:function(e){t.handleShowEdit("0")}}},[t._v("新增公司")])],1)]),t._v(" "),n("div",{staticStyle:{clear:"both"}})]),t._v(" "),n("div",{staticClass:"toolsbar"},[n("el-form",{attrs:{inline:!0,model:t.filters}},[n("el-form-item",[n("el-input",{attrs:{placeholder:"公司名称"},model:{value:t.filters.name,callback:function(e){t.$set(t.filters,"name",e)},expression:"filters.name"}})],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"warning"},on:{click:t.searchCompanies}},[t._v("查询")])],1)],1)],1),t._v(" "),n("div",{staticStyle:{padding:"16px"}},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.companies,"highlight-current-row":""}},[n("el-table-column",{attrs:{type:"selection",width:"35"}}),t._v(" "),n("el-table-column",{attrs:{prop:"Name",label:"公司名称"}}),t._v(" "),n("el-table-column",{attrs:{prop:"Desc",label:"简介"}}),t._v(" "),n("el-table-column",{attrs:{prop:"EnableStr",label:"启用",width:"80"}}),t._v(" "),n("el-table-column",{attrs:{label:"模板",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("input",{directives:[{name:"model",rawName:"v-model",value:e.row.IsTemplate,expression:"scope.row.IsTemplate"}],staticClass:"tabcheckbox",attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(e.row.IsTemplate)?t._i(e.row.IsTemplate,null)>-1:e.row.IsTemplate},on:{click:function(n){t.CellClick(e.row)},change:function(n){var i=e.row.IsTemplate,a=n.target,o=!!a.checked;if(Array.isArray(i)){var s=t._i(i,null);a.checked?s<0&&t.$set(e.row,"IsTemplate",i.concat([null])):s>-1&&t.$set(e.row,"IsTemplate",i.slice(0,s).concat(i.slice(s+1)))}else t.$set(e.row,"IsTemplate",o)}}})]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"small"},on:{click:function(n){t.handleShowEdit(e.row)}}},[t._v("编辑")]),t._v(" "),n("el-button",{attrs:{size:"small",type:"warning"},on:{click:function(n){t.handleViewEdit(e.row)}}},[t._v("视觉")]),t._v(" "),n("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(n){t.handleDel(e.row)}}},[t._v("删除")]),t._v(" "),e.row.Enable||1==e.row.Enable?t._e():n("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(n){t.Enable(e.row)}}},[t._v("启用")])]}}])})],1),t._v(" "),n("el-col",{directives:[{name:"show",rawName:"v-show",value:0!==this.total,expression:"this.total!==0"}],staticClass:"pager",attrs:{span:24}},[n("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":20,total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1),t._v(" "),n("el-dialog",{attrs:{title:"编辑公司",visible:t.dialogVisible,size:"tiny","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-form",{ref:"company",attrs:{model:t.company,rules:t.validateRules,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"公司名称",prop:"Name"}},[n("el-input",{model:{value:t.company.Name,callback:function(e){t.$set(t.company,"Name",e)},expression:"company.Name"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"公司电话",prop:"Phone"}},[n("el-input",{model:{value:t.company.Phone,callback:function(e){t.$set(t.company,"Phone",e)},expression:"company.Phone"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"公司传真"}},[n("el-input",{model:{value:t.company.Fax,callback:function(e){t.$set(t.company,"Fax",e)},expression:"company.Fax"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"公司邮编"}},[n("el-input",{model:{value:t.company.Zip,callback:function(e){t.$set(t.company,"Zip",e)},expression:"company.Zip"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"公司地址"}},[n("el-input",{model:{value:t.company.Address,callback:function(e){t.$set(t.company,"Address",e)},expression:"company.Address"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"公司简介"}},[n("el-input",{attrs:{type:"textarea"},model:{value:t.company.Desc,callback:function(e){t.$set(t.company,"Desc",e)},expression:"company.Desc"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"管理员"}},[n("el-input",{model:{value:t.company.CompanyManager,callback:function(e){t.$set(t.company,"CompanyManager",e)},expression:"company.CompanyManager"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"HR"}},[n("el-input",{model:{value:t.company.HrManager,callback:function(e){t.$set(t.company,"HrManager",e)},expression:"company.HrManager"}})],1)],1),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"warning"},on:{click:t.handleEdit}},[t._v("确 定")])],1)],1),t._v(" "),n("sorg",{attrs:{companyid:t.Org.companyid,visiable:t.Org.visiable},on:{"update:visiable":function(e){t.$set(t.Org,"visiable",e)},EventClose:t.OrgClose,EventSelected:t.OrgConfirm}}),t._v(" "),n("ctpl",{attrs:{visiable:t.Ctpl.visiable,TargetCid:t.Ctpl.CompanyID},on:{"update:visiable":function(e){t.$set(t.Ctpl,"visiable",e)},EventClose:t.CtplClose,EventSelected:t.CtplConfirm}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.IsEditable?n("el-select",{staticClass:"w100",on:{change:t.updateData},model:{value:t.PriorityId,callback:function(e){t.PriorityId=e},expression:"PriorityId"}},t._l(t.Prioritys,function(t){return n("el-option",{key:t.ID,attrs:{label:t.Title,value:t.ID}})})):n("div",{staticClass:"w100",on:{click:t.click}},[t._v(t._s(t.PriorityTitle))])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"h100 w100",staticStyle:{padding:"16px"}},[n("el-row",[n("el-col",{attrs:{span:12}},[n("div",[t._v("公司名称："+t._s(t.company.Name)+"\n              "),n("button",{on:{click:function(e){return e.preventDefault(),t.submit(e)}}},[t._v("提交")]),t._v(" "),n("button",{on:{click:t.handleClose}},[t._v("取消")])]),t._v(" "),n("br"),t._v(" "),n("ImageOneUpload",{attrs:{title:"Logo:建议尺寸(736*102)",value:t.logoImageFile,imageClass:"avatar1",imageData:t.logoData},on:{UpdateImage:t.updataImage}}),t._v(" "),n("ImageOneUpload",{attrs:{title:"部门章:建议尺寸(152*152)",value:t.departmentImageFile,imageData:t.departmentData,imageStyle:"paddingLeft:560px; position:absolute"},on:{UpdateImage:t.updataImage}}),t._v(" "),n("ImageOneUpload",{attrs:{title:"财务章:建议尺寸(152*152)",value:t.financeImageFile,imageData:t.financeData,imageStyle:"paddingLeft:280px;position:absolute"},on:{UpdateImage:t.updataImage}}),t._v(" "),n("ImageOneUpload",{attrs:{title:"公章:建议尺寸(152*152)",value:t.companySealImageFile,imageData:t.sealData},on:{UpdateImage:t.updataImage}}),t._v(" "),n("ImageOneUpload",{attrs:{title:"签字:建议尺寸(736*94)",value:t.signImageFile,imageClass:"avatar1",imageData:t.signData},on:{UpdateImage:t.updataImage}}),t._v(" "),n("ImageOneUpload",{attrs:{title:"背景:建议尺寸(736*846)",value:t.bgImageFile,imageData:t.bgData},on:{UpdateImage:t.updataImage}})],1),t._v(" "),n("el-col",{attrs:{span:12}},[n("div",[n("h2",[t._v("实时预览效果")]),t._v(" "),n("el-radio",{staticClass:"radio",attrs:{label:"1"},model:{value:t.seal,callback:function(e){t.seal=e},expression:"seal"}},[t._v("显示公章")]),t._v(" "),n("el-radio",{staticClass:"radio",attrs:{label:"2"},model:{value:t.seal,callback:function(e){t.seal=e},expression:"seal"}},[t._v("显示财务章")]),t._v(" "),n("el-radio",{staticClass:"radio",attrs:{label:"3"},model:{value:t.seal,callback:function(e){t.seal=e},expression:"seal"}},[t._v("显示部门章")])],1),t._v(" "),n("img",{staticStyle:{width:"736px",height:"104px"},attrs:{src:t.logoImageFile.Url}}),t._v(" "),n("div",[n("img",{staticStyle:{width:"736px",height:"650px",backgroundRepeat:"no-repeat"},attrs:{src:t.bgImageFile.Url}}),t._v(" "),n("div",[n("img",{staticStyle:{width:"152px",height:"152px",backgroundRepeat:"no-repeat",position:"absolute",right:"210px",top:"120px"},attrs:{src:t.showSeal.Url}})])]),t._v(" "),n("img",{staticStyle:{width:"736px",height:"94px",backgroundRepeat:"no-repeat"},attrs:{src:t.signImageFile.Url}})])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"BaseWorkItem"},[n("grid-row",{attrs:{item:t.item},on:{onSelected:t.onSelected}},[n("div",{staticClass:"row-left"},[n("grid-cell",{attrs:{flexWidth:"0 0 100px",textAlign:"center"}},[n("template",{slot:"static"},[n("el-checkbox",{model:{value:t.item.checked,callback:function(e){t.$set(t.item,"checked",e)},expression:"item.checked"}})],1)],2)],1),t._v(" "),n("div",{staticClass:"row-main"},[n("div",{staticClass:"row-main-item"},[t.judgeRole?["measureTimes"===t.item.itemType||"measurePiece"===t.item.itemType?[n("grid-cell",{attrs:{"editing-mode":t.onEdit,textAlign:"left"}},[n("template",{slot:"title"},[n("span",{staticClass:"span-label"},[t._v("标题：")])]),t._v(" "),n("template",{staticClass:"title",slot:"view"},[t._v("\n                "+t._s(t.item.itemName)+"\n              ")]),t._v(" "),n("template",{slot:"edit"},[n("input-item-search",{attrs:{"query-list":t.queryList,"is-edit":t.onEdit,"input-height":"30px"},model:{value:t.item.itemName,callback:function(e){t.$set(t.item,"itemName",e)},expression:"item.itemName"}})],1)],2)]:t._e(),t._v(" "),"cycle"===t.item.itemType||"routine"===t.item.itemType?[n("grid-cell",{attrs:{"editing-mode":t.onEdit,textAlign:"left"}},[n("template",{slot:"title"},[n("span",{staticClass:"span-label"},[t._v("标题：")])]),t._v(" "),n("template",{staticClass:"title",slot:"static"},[t._v("\n                "+t._s(t.item.itemName)+"\n              ")])],2)]:t._e(),t._v(" "),"driver"===t.item.itemType||"statisticalTime"===t.item.itemType?[n("grid-cell",{attrs:{"editing-mode":t.onEdit,textAlign:"left"}},[n("template",{slot:"title"},[n("span",{staticClass:"span-label"},[t._v("标题：")])]),t._v(" "),n("template",{staticClass:"title",slot:"view"},[t._v("\n                "+t._s(t.item.itemName)+"\n              ")]),t._v(" "),n("template",{slot:"edit"},[n("input-item",{attrs:{"is-edit":t.onEdit,"input-height":"30px"},model:{value:t.item.itemName,callback:function(e){t.$set(t.item,"itemName",e)},expression:"item.itemName"}})],1)],2)]:t._e(),t._v(" "),"cycle"===t.item.itemType||"routine"===t.item.itemType?[n("grid-cell",{staticClass:"typeMove",attrs:{"editing-mode":t.onEdit,"is-delete":t.item.delete,textAlign:"center"}},[n("template",{slot:"title"},[n("span",{staticClass:"span-label"},[t._v("类型：")])]),t._v(" "),n("template",{slot:"static"},[t._v("\n                "+t._s(t.showType)+"\n              ")])],2)]:t._e(),t._v(" "),"measureTimes"===t.item.itemType||"measurePiece"===t.item.itemType||"statisticalTime"===t.item.itemType||"driver"===t.item.itemType?[n("grid-cell",{staticClass:"typeMove",attrs:{"editing-mode":t.onEdit,"is-delete":t.item.delete,textAlign:"center"}},[n("template",{slot:"title"},[n("span",{staticClass:"span-label"},[t._v("类型：")])]),t._v(" "),n("template",{slot:"view"},[t._v("\n                "+t._s(t.showType)+"\n              ")]),t._v(" "),n("template",{slot:"edit"},[n("el-select",{staticStyle:{width:"80px"},attrs:{placeholder:"请选择",size:"small"},model:{value:t.item.itemType,callback:function(e){t.$set(t.item,"itemType",e)},expression:"item.itemType"}},t._l(t.selectingType,function(t){return n("el-option",{key:t.id,attrs:{label:t.label,value:t.value}})}))],1)],2),t._v(" "),n("grid-cell",{attrs:{"editing-mode":t.onEdit,textAlign:"left"}},[n("template",{slot:"title"},[n("span",{staticClass:"span-label"},[t._v("工作时间：")])]),t._v(" "),n("template",{staticClass:"title",slot:"view"},[t._v("\n                "+t._s(t.item.workingDate)+"\n              ")]),t._v(" "),n("template",{slot:"edit"},[n("el-date-picker",{staticStyle:{width:"150px","margin-right":"10px"},attrs:{type:"date",placeholder:"选择日期",size:"small","picker-options":t.pickerOptions0},model:{value:t.item.workingDate,callback:function(e){t.$set(t.item,"workingDate",e)},expression:"item.workingDate"}})],1)],2)]:t._e(),t._v(" "),"cycle"===t.item.itemType||"routine"===t.item.itemType?[n("grid-cell",{attrs:{"editing-mode":t.onEdit,textAlign:"left"}},[n("template",{slot:"title"},[n("span",{staticClass:"span-label"},[t._v("数量：")])]),t._v(" "),n("template",{staticClass:"title",slot:"static"},[t._v("\n                "+t._s(t.item.amount)+"\n              ")])],2)]:t._e(),t._v(" "),"driver"===t.item.itemType||"statisticalTime"===t.item.itemType?[n("grid-cell",{attrs:{"editing-mode":t.onEdit,textAlign:"left"}},[n("template",{slot:"title"},[n("span",{staticClass:"span-label"},[t._v("用时（小时）：")])]),t._v(" "),n("template",{staticClass:"title",slot:"view"},[t._v("\n                "+t._s(t.item.workTime)+"\n              ")]),t._v(" "),n("template",{slot:"edit"},[n("input-item",{attrs:{"is-edit":t.onEdit,"input-height":"30px","input-width":"50px","input-center":"right"},model:{value:t.item.workTime,callback:function(e){t.$set(t.item,"workTime",e)},expression:"item.workTime"}})],1)],2)]:t._e(),t._v(" "),"measureTimes"===t.item.itemType||"measurePiece"===t.item.itemType?[n("grid-cell",{attrs:{"editing-mode":t.onEdit,textAlign:"left"}},[n("template",{slot:"title"},[n("span",{staticClass:"span-label"},[t._v("数量：")])]),t._v(" "),n("template",{staticClass:"title",slot:"view"},[t._v("\n                "+t._s(t.item.amount)+"\n              ")]),t._v(" "),n("template",{slot:"edit"},[n("input-item",{attrs:{"is-edit":t.onEdit,"input-height":"30px","input-width":"50px","input-center":"right"},model:{value:t.item.amount,callback:function(e){t.$set(t.item,"amount",e)},expression:"item.amount"}})],1)],2)]:t._e()]:t._e(),t._v(" "),t.judgeRole?t._e():[n("grid-cell",{attrs:{"editing-mode":t.onEdit,textAlign:"left"}},[n("template",{slot:"title"},[n("span",{staticClass:"span-label"},[t._v("标题：")])]),t._v(" "),n("template",{staticClass:"title",slot:"static"},[t._v("\n              "+t._s(t.item.itemName)+"\n            ")])],2),t._v(" "),n("grid-cell",{staticClass:"typeMove",attrs:{"editing-mode":t.onEdit,"is-delete":t.item.delete,textAlign:"center"}},[n("template",{slot:"title"},[n("span",{staticClass:"span-label"},[t._v("类型：")])]),t._v(" "),n("template",{slot:"static"},[t._v("\n              "+t._s(t.showType)+"\n            ")])],2),t._v(" "),"measureTimes"===t.item.itemType||"measurePiece"===t.item.itemType||"statisticalTime"===t.item.itemType||"driver"===t.item.itemType?[n("grid-cell",{attrs:{"editing-mode":t.onEdit,textAlign:"left"}},[n("template",{slot:"title"},[n("span",{staticClass:"span-label"},[t._v("工作时间：")])]),t._v(" "),n("template",{staticClass:"title",slot:"static"},[t._v("\n                "+t._s(t.item.workingDate)+"\n              ")])],2)]:t._e(),t._v(" "),"cycle"===t.item.itemType||"routine"===t.item.itemType?[n("grid-cell",{attrs:{"editing-mode":t.onEdit,textAlign:"left"}},[n("template",{slot:"title"},[n("span",{staticClass:"span-label"},[t._v("数量：")])]),t._v(" "),n("template",{staticClass:"title",slot:"static"},[t._v("\n                "+t._s(t.item.amount)+"\n              ")])],2)]:t._e(),t._v(" "),"driver"===t.item.itemType||"statisticalTime"===t.item.itemType?[n("grid-cell",{attrs:{"editing-mode":t.onEdit,textAlign:"left"}},[n("template",{slot:"title"},[n("span",{staticClass:"span-label"},[t._v("用时（小时）：")])]),t._v(" "),n("template",{staticClass:"title",slot:"static"},[t._v("\n                "+t._s(t.item.workTime)+"\n              ")])],2)]:t._e(),t._v(" "),"measureTimes"===t.item.itemType||"measurePiece"===t.item.itemType?[n("grid-cell",{attrs:{"editing-mode":t.onEdit,textAlign:"left"}},[n("template",{slot:"title"},[n("span",{staticClass:"span-label"},[t._v("数量：")])]),t._v(" "),n("template",{staticClass:"title",slot:"static"},[t._v("\n                "+t._s(t.item.amount)+"\n              ")])],2)]:t._e()],t._v(" "),n("grid-cell",{attrs:{"editing-mode":t.onEdit,textAlign:"left"}},[n("template",{staticClass:"title",slot:"static"},[n("span",{staticClass:"input-span",staticStyle:{color:"blue"}},[n("i",{staticClass:"el-icon-close"})])])],2),t._v(" "),n("grid-cell",{attrs:{"editing-mode":t.onEdit,textAlign:"left"}},[n("template",{slot:"title"},[n("span",{staticClass:"span-label"},[t._v("基础分：")])]),t._v(" "),n("template",{staticClass:"title",slot:"static"},[t._v("\n            "+t._s(t.item.baseScore)+"\n          ")])],2),t._v(" "),n("grid-cell",{attrs:{"editing-mode":t.onEdit,textAlign:"left"}},[n("template",{staticClass:"title",slot:"static"},[n("span",{staticClass:"input-span",staticStyle:{color:"blue"}},[n("i",{staticClass:"el-icon-close"})])])],2),t._v(" "),n("grid-cell",{attrs:{"editing-mode":t.onEdit,textAlign:"left"}},[n("template",{slot:"title"},[n("span",{staticClass:"span-label"},[t._v("质量系数：")])]),t._v(" "),n("template",{staticClass:"title",slot:"view"},[t._v("\n            "+t._s(t.item.ratio)+"\n          ")]),t._v(" "),n("template",{slot:"edit"},[n("input-item",{attrs:{"is-edit":t.onEdit,"input-height":"30px","input-width":"50px","input-center":"right"},model:{value:t.item.ratio,callback:function(e){t.$set(t.item,"ratio",e)},expression:"item.ratio"}})],1)],2),t._v(" "),n("grid-cell",{attrs:{"editing-mode":t.onEdit,textAlign:"left"}},[n("template",{staticClass:"title",slot:"static"},[n("span",{staticClass:"input-span",staticStyle:{color:"blue"}},[n("i",{staticClass:"el-icon-close"})])])],2),t._v(" "),n("grid-cell",{attrs:{"editing-mode":t.onEdit,textAlign:"left"}},[n("template",{slot:"title"},[n("span",{staticClass:"span-label"},[t._v("修正系数：")])]),t._v(" "),n("template",{staticClass:"title",slot:"view"},[t._v("\n            "+t._s(t.item.coefficient)+"\n          ")]),t._v(" "),n("template",{slot:"edit"},[n("input-item",{attrs:{"is-edit":t.onEdit,"input-height":"30px","input-width":"50px","input-center":"right"},model:{value:t.item.coefficient,callback:function(e){t.$set(t.item,"coefficient",e)},expression:"item.coefficient"}})],1)],2),t._v(" "),n("grid-cell",{attrs:{"editing-mode":t.onEdit,textAlign:"left"}},[n("template",{staticClass:"title",slot:"static"},[n("span",{staticClass:"input-span",staticStyle:{color:"blue","font-size":"20px"}},[t._v("\n              =\n            ")])])],2),t._v(" "),n("grid-cell",{attrs:{"editing-mode":t.onEdit,textAlign:"left"}},[n("template",{slot:"title"},[n("span",{staticClass:"span-label"},[t._v("得分：")])]),t._v(" "),n("template",{staticClass:"title",slot:"static"},[t._v("\n            "+t._s(t.item.amount*t.item.baseScore*t.item.workTime*t.item.ratio*t.item.coefficient)+"\n          ")])],2)],2),t._v(" "),n("div",{staticClass:"row-main-item"},[t.judgeRole?["cycle"===t.item.itemType&&t.item.extendedFields.length>0?n("grid-cell",{attrs:{"editing-mode":t.onEdit,textAlign:"left"}},[n("template",{slot:"title"},[n("span",{staticClass:"span-label"},[t._v("拓展：")])]),t._v(" "),n("template",{staticClass:"title",slot:"view"},[n("div",{staticStyle:{display:"flex"}},[n("div",[n("span",{staticClass:"span-label",staticStyle:{"font-weight":"normal"}},[t._v("拓展：")])]),t._v(" "),t._l(t.item.extendedFields,function(e,i){return n("div",{key:i,staticStyle:{"margin-right":"10px"}},[n("span",[t._v(t._s(e.keyName))]),t._v(" "),n("span",[t._v(":")]),t._v(" "),n("span",[t._v(t._s(e.keyValue))])])})],2)]),t._v(" "),n("template",{slot:"edit"},[n("extended-fields-for-one-input",{attrs:{"extended-fields":t.item.extendedFields,"on-edit":t.onEdit}})],1)],2):t._e(),t._v(" "),"driver"===t.item.itemType?n("grid-cell",{attrs:{"editing-mode":t.onEdit,textAlign:"left"}},[t.item.extendedFields.length>0?n("template",{staticClass:"title",slot:"view"},[n("div",{staticStyle:{display:"flex"}},[n("div",[n("span",{staticClass:"span-label",staticStyle:{"font-weight":"normal"}},[t._v("拓展：")])]),t._v(" "),t._l(t.item.extendedFields,function(e,i){return n("div",{key:i,staticStyle:{"margin-right":"10px"}},[n("span",[t._v(t._s(e.keyName))]),t._v(" "),n("span",[t._v(":")]),t._v(" "),n("span",[t._v(t._s(e.keyValue))])])})],2)]):t._e(),t._v(" "),n("template",{slot:"edit"},[n("div",[n("span",{staticClass:"span-label"},[t._v("拓展：")])]),t._v(" "),n("extended-fields-all-input",{attrs:{"extended-fields":t.item.extendedFields,"on-edit":t.onEdit}})],1)],2):t._e()]:t._e(),t._v(" "),t.judgeRole?t._e():[n("grid-cell",{attrs:{"editing-mode":t.onEdit,textAlign:"left"}},[t.item.extendedFields.length>0?n("template",{staticClass:"title",slot:"static"},[n("div",{staticStyle:{display:"flex"}},[n("div",[n("span",{staticClass:"span-label",staticStyle:{"font-weight":"normal"}},[t._v("拓展：")])]),t._v(" "),t._l(t.item.extendedFields,function(e,i){return n("div",{key:i,staticStyle:{"margin-right":"10px"}},[n("span",[t._v(t._s(e.keyName))]),t._v(" "),n("span",[t._v(":")]),t._v(" "),n("span",[t._v(t._s(e.keyValue))])])})],2)]):t._e()],2)]],2)]),t._v(" "),n("div",{staticClass:"row-right"},[n("grid-cell",{attrs:{flexWidth:"1",textAlign:"center"}},[n("template",{slot:"static"},[t._l(t.operations,function(e){return[n("el-button",{key:e.itemId,attrs:{type:e.type,size:"mini"},on:{click:function(n){n.stopPropagation(),t.handleOperation(e.name,t.item)}}},[n("i",{staticClass:"fa fa-lg",class:e.icon})])]})],2)],2)],1)])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"user_info w100 v-top20"},[n("div",{staticClass:"user_info_text p-l1"},[n("font",{attrs:{size:"5px",color:"grey"}},[t._v("绩效明细")])],1)]),t._v(" "),n("button",{staticClass:"b-white-option",staticStyle:{position:"absolute",top:"7%",right:"2%",width:"105px",height:"44px","font-size":"16px",color:"grey"}},[t._v("返 回")]),t._v(" "),n("div",{staticClass:"body"},[n("div",{staticClass:"body_second_white_borad",staticStyle:{width:"96%",height:"10%",position:"relative",left:"2%","margin-top":"2%","margin-bottom":"1%","background-color":"white"}},[n("font",{staticClass:"p-l1t15",attrs:{color:"#5eaaf8",size:"5px"}},[t._v(t._s(t.DeclareModel.title))]),n("br"),n("font",{staticClass:"p-l1b15",attrs:{size:"2px;",color:"#4C5465"}},[t._v(t._s(t.DeclareModel.remark))]),t._v(" "),n("table",{staticStyle:{position:"absolute",top:"15%",right:"15%",color:"grey","text-align":"center",width:"50%",height:"75%"}},[n("tbody",[n("tr",[n("td",[t._v(t._s(t.DeclareModel.itemNum)+"项")]),t._v(" "),n("td",{staticStyle:{color:"#5eaaf8"}},[n("b",[t._v(t._s(t.DeclareModel.totalScore))])]),t._v(" "),n("td",[n("time",[t._v(t._s(t.DeclareModel.createDateTime))])]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2)]),t._v(" "),t._m(3)])]),t._v(" "),2==t.DeclareModel.status?n("button",{staticStyle:{position:"absolute",top:"2%",right:"0.2%",width:"12%",height:"96%","background-color":"#ecfae1",border:"none"}},[n("i",{staticClass:"fa fa-newspaper-o fa-2x",staticStyle:{color:"#5aac1a"},attrs:{"aria-hidden":"true"}}),t._v("   \n          "),n("font",{staticStyle:{position:"relative",top:"-5px"},attrs:{color:"#5aac1a"}},[t._v("已审核")])],1):t._e(),t._v(" "),1==t.DeclareModel.status?n("button",{staticStyle:{position:"absolute",top:"2%",right:"0.2%",width:"12%",height:"96%","background-color":"#eaf4fe",border:"none"}},[n("i",{staticClass:"fa fa-newspaper-o fa-2x",staticStyle:{color:"#5eaaf8"},attrs:{"aria-hidden":"true"}}),t._v("   \n    \t\t\t"),n("font",{staticStyle:{position:"relative",top:"-5px"},attrs:{color:"#5eaaf8"}},[t._v("等待审核")])],1):t._e(),t._v(" "),0==t.DeclareModel.status?n("button",{staticStyle:{position:"absolute",top:"2%",right:"0.2%",width:"12%",height:"96%","background-color":"#eaf4fe",border:"none"}},[n("i",{staticClass:"fa fa-newspaper-o fa-2x",staticStyle:{color:"#5eaaf8"},attrs:{"aria-hidden":"true"}}),t._v("   \n    \t\t\t"),n("font",{staticStyle:{position:"relative",top:"-5px"},attrs:{color:"#5eaaf8"}},[t._v("等待提交")])],1):t._e()],1),t._v(" "),t._l(t.empData,function(e,i){return[n("div",{staticClass:"yellow_part"},[n("table",{staticClass:"p-lt1",staticStyle:{position:"relative",top:"15%",left:"0%",width:"40%",height:"70%","text-align":"center"}},[n("tbody",[n("tr",[n("td",{staticStyle:{"font-size":"15px",color:"#4C5465"}},[n("b",[t._v(t._s(e.userName))])]),t._v(" "),n("td",{staticStyle:{"font-size":"15px",color:"#4C5465"}},[n("b",[t._v(t._s(e.departName))])]),t._v(" "),n("td",{staticStyle:{"font-size":"14px"}},[t._v(t._s(e.positionName))]),t._v(" "),n("td",{staticStyle:{color:"#4C5465"}},[n("b",[t._v(t._s(e.items.length))])]),t._v(" "),n("td",{staticStyle:{color:"#f6931e"}},[n("b",[t._v(t._s(t.calculate(e)))])])]),t._v(" "),t._m(4,!0)])])]),t._v(" "),t._l(e.items,function(e,i){return[n("div",{staticClass:"white_info_part"},[n("table",{staticStyle:{"margin-left":"2%",width:"85%","font-size":"14px",color:"grey"}},[n("tbody",[n("tr",[n("td",[n("time",[t._v(t._s(e.perDate))])]),t._v(" "),n("td",[t._v(t._s(e.performanceName))]),t._v(" "),n("td",[t._v(t._s(e.BaseScore)+" "+t._s(e.calcTypeStr))]),t._v(" "),n("td",[t._v(t._s(e.num)+" "+t._s(e.calcTypeStr))]),t._v(" "),n("td",[t._v(t._s(e.num*e.BaseScore))]),t._v(" "),n("td",{staticStyle:{color:"#f6931e"}},[t._v(t._s(e.realScore-e.BaseScore))]),t._v(" "),n("td",{staticStyle:{color:"#f6931e"}},[n("font",{attrs:{color:"grey"}},[t._v("实际绩效")]),t._v("  "+t._s(e.realScore))],1),t._v(" "),n("td",[t._v(t._s(e.remark))])])])]),t._v(" "),t._m(5,!0)])]})]})],2)])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",[n("b",[t._v("2")]),t._v("项")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",[n("b",[t._v("300")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",[n("b",[t._v("1")]),t._v("人")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",{staticStyle:{"font-size":"12px"}},[n("td",[t._v("总工作项")]),t._v(" "),n("td",[t._v("总绩效")]),t._v(" "),n("td",[t._v("代报日期")]),t._v(" "),n("td",[t._v("代报工作项")]),t._v(" "),n("td",[t._v("代报绩效")]),t._v(" "),n("td",[t._v("代报员工数")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",{staticStyle:{"font-size":"12px",color:"grey"}},[n("td",[t._v("员工")]),t._v(" "),n("td",[t._v("部门")]),t._v(" "),n("td",[t._v("职位")]),t._v(" "),n("td",[t._v("绩效项目数")]),t._v(" "),n("td",[t._v("总绩效")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"b-grey-filter",staticStyle:{"background-color":"#f2f5fa",float:"right","margin-right":"20px","margin-top":"-30px"}},[n("i",{staticClass:"fa fa-clock-o fa-2x",staticStyle:{color:"#5eaaf8"},attrs:{"aria-hidden":"true"}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"flex_column_head_follow",style:t.styl},[t._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex_list"},[n("div",{ref:"flexListHead",staticClass:"flex_list_head"},[t._t("flexListHead")],2),t._v(" "),n("div",{ref:"flexListMain",staticClass:"flex_list_main"},[n("div",{ref:"flexListScroll",class:t.flexListScroll},[t._t("flexListMain")],2)]),t._v(" "),n("div",{staticClass:"flex_list_foot"},[t._t("flexListFoot")],2),t._v(" "),t._t("popup")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"PerformanceDefinitionSearch"},[n("div",{staticClass:"search"},[n("el-autocomplete",{staticStyle:{width:"300px"},attrs:{"fetch-suggestions":t.querySearchAsync,placeholder:"请输入内容"},on:{select:t.handleSelect},model:{value:t.searchSelectedPosition,callback:function(e){t.searchSelectedPosition=e},expression:"searchSelectedPosition"}})],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-dialog",{directives:[{name:"loading",rawName:"v-loading.body",value:t.loading,expression:"loading",modifiers:{body:!0}}],attrs:{visible:t.visible,size:"large"},on:{"update:visible":function(e){t.visible=e},close:function(e){t.closeDailog()}}},[n("el-row",[n("h1",[t._v(t._s(t.supplier.companyName))])]),t._v(" "),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("el-row",{attrs:{gutter:0}},[n("el-col",{attrs:{span:5}},[n("p",{staticClass:"title01"},[t._v(t._s(t._tt("单位名称"))+":")]),t._v(" "),n("p",[t._v(t._s(t.supplier.title))])]),t._v(" "),n("el-col",{attrs:{span:7}},[n("p",[t._v(t._s(t._tt("联系人"))+":")]),t._v(" "),n("p",[t._v(t._s(t.supplier.contactName))])]),t._v(" "),n("el-col",{attrs:{span:12}},[n("p",[t._v(t._s(t._tt("联系电话")))]),t._v(" "),n("p",[t._v(t._s(t.supplier.mobile))])])],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:24}},[n("p",[t._v(t._s(t._tt("地址"))+":")]),t._v(" "),n("p",[t._v(t._s(t.supplier.address))])])],1)],1),t._v(" "),n("el-col",{attrs:{span:12}},[n("el-row",[n("el-col",{attrs:{span:12}},[n("p",[n("span",[t._v(t._s(t._tt("供应商应付总额"))+":")]),t._v(" "),n("span",[t._v(t._s(t.getPayment(t.subject.minimum,t.subject.maximum)))])])]),t._v(" "),n("el-col",{attrs:{span:12}},[n("span",[t._v(t._s(t._tt("申请中的金额"))+":")]),t._v(" "),n("span",[t._v(t._s(t.formatMoney(t.subject.appliedAmount)))])])],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:12}},[n("span",[t._v(t._s(t._tt("已付金额"))+":")]),t._v(" "),n("span",[t._v(t._s(t.formatMoney(t.subject.actualPayment)))])])],1)],1)],1),t._v(" "),n("el-row",[n("h2",[t._v(t._s(t._tt("供应商合同")))])]),t._v(" "),n("el-row",[n("el-tabs",{model:{value:t.pastDays,callback:function(e){t.pastDays=e},expression:"pastDays"}},[n("el-tab-pane",{attrs:{label:t._tt("过去一年"),name:"365"}}),t._v(" "),n("el-tab-pane",{attrs:{label:t._tt("过去一季度"),name:"90"}})],1)],1),t._v(" "),n("el-row",[n("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:t.dataLoading,expression:"dataLoading",modifiers:{body:!0}}],ref:"payableTable",staticStyle:{width:"100%"},attrs:{data:t.payables,border:""}},[n("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-table",{attrs:{data:e.row.items,border:""}},[n("el-table-column",{attrs:{width:"150",label:t._tt("支付款项ID"),align:"center","header-align":"center",prop:"itemId"}}),t._v(" "),n("el-table-column",{attrs:{width:"150",label:t._tt("款期"),align:"center","header-align":"center",prop:"index"}}),t._v(" "),n("el-table-column",{attrs:{label:t._tt("支付款项名称"),align:"left","header-align":"left",prop:"itemName"}}),t._v(" "),n("el-table-column",{attrs:{width:"200",label:t._tt("预计支付时间"),align:"center","header-align":"center",prop:"expectedPaidTime"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                  "+t._s(new Date(e.row.expectedPaidTime).format("yyyy-MM-dd"))+"\n                ")]}}])}),t._v(" "),n("el-table-column",{attrs:{width:"300",label:t._tt("应付金额"),align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                  "+t._s(t.getPayment(e.row.minimum,e.row.maximum))+"\n                ")]}}])}),t._v(" "),n("el-table-column",{attrs:{width:"200",label:t._tt("已申请金额"),align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                  "+t._s(t.formatMoney(e.row.appliedAmount))+"\n                ")]}}])}),t._v(" "),n("el-table-column",{attrs:{width:"200",label:t._tt("已付金额"),align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                  "+t._s(t.formatMoney(e.row.actualPayment))+"\n                ")]}}])})],1)]}}])}),t._v(" "),n("el-table-column",{attrs:{width:"100",label:t._tt("应付ID"),align:"center","header-align":"center",prop:"payableId"}}),t._v(" "),n("el-table-column",{attrs:{label:t._tt("合同名称"),align:"left","header-align":"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text"},on:{click:function(n){t.showContractPaymentReport(e.row.payableId)}}},[t._v("\n              "+t._s(e.row.name)+"\n            ")])]}}])}),t._v(" "),n("el-table-column",{attrs:{width:"300",label:t._tt("应付金额"),align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(t.getPayment(e.row.minimum,e.row.maximum))+"\n          ")]}}])}),t._v(" "),n("el-table-column",{attrs:{width:"200",label:t._tt("已申请金额"),align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(t.formatMoney(e.row.appliedAmount))+"\n          ")]}}])}),t._v(" "),n("el-table-column",{attrs:{width:"200",label:t._tt("已付金额"),align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(t.formatMoney(e.row.actualPayment))+"\n          ")]}}])})],1)],1)],1),t._v(" "),n("contract-payment-report",{ref:"report"})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"AddWorkPerformanceDialog"},[n("el-button",{attrs:{type:"text"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("新增工作项")]),t._v(" "),n("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,size:"tiny"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("div",{staticClass:"dialog-main"},[n("div",{staticClass:"main-item"},[n("span",{staticClass:"span-label"},[t._v("标题：")]),t._v(" "),"measureTimes"===t.item.itemType||"measurePiece"===t.item.itemType?[n("input-item-search",{ref:"itemName",attrs:{"query-list":t.queryList,"is-edit":t.onEdit,"input-height":"30px","input-width":"200px"},model:{value:t.item.itemName,callback:function(e){t.$set(t.item,"itemName",e)},expression:"item.itemName"}})]:t._e(),t._v(" "),"driver"===t.item.itemType||"statisticalTime"===t.item.itemType?[n("input-item",{ref:"itemName",attrs:{"is-edit":t.onEdit,"input-height":"30px","input-width":"195px"},model:{value:t.item.itemName,callback:function(e){t.$set(t.item,"itemName",e)},expression:"item.itemName"}})]:t._e()],2),t._v(" "),n("div",{staticClass:"main-item"},[n("span",{staticClass:"span-label"},[t._v("类型：")]),t._v(" "),n("el-select",{staticStyle:{width:"80px"},attrs:{placeholder:"请选择",size:"small"},model:{value:t.item.itemType,callback:function(e){t.$set(t.item,"itemType",e)},expression:"item.itemType"}},t._l(t.selectingType,function(t){return n("el-option",{key:t.id,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),n("div",{staticClass:"main-item"},[n("span",{staticClass:"span-label"},[t._v("工作时间：")]),t._v(" "),n("date-and-error",{attrs:{"is-edit":t.onEdit,"input-height":"30px","input-width":"195px"},model:{value:t.item.workingDate,callback:function(e){t.$set(t.item,"workingDate",e)},expression:"item.workingDate"}})],1),t._v(" "),n("div",{staticClass:"main-item"},["driver"===t.item.itemType||"statisticalTime"===t.item.itemType?n("div",{staticClass:"main-item-item"},[n("span",{staticClass:"span-label"},[t._v("用时（小时）：")]),t._v(" "),n("input-item",{attrs:{"is-edit":t.onEdit,"input-height":"30px","input-width":"50px","input-center":"right"},model:{value:t.item.workTime,callback:function(e){t.$set(t.item,"workTime",e)},expression:"item.workTime"}})],1):t._e(),t._v(" "),"measureTimes"===t.item.itemType||"measurePiece"===t.item.itemType?n("div",{staticClass:"main-item-item"},[n("span",{staticClass:"span-label"},[t._v("数量：")]),t._v(" "),n("input-item",{attrs:{"is-edit":t.onEdit,"input-height":"30px","input-width":"50px","input-center":"right"},model:{value:t.item.amount,callback:function(e){t.$set(t.item,"amount",e)},expression:"item.amount"}})],1):t._e(),t._v(" "),n("div",{staticClass:"main-item-item"},[n("span",{staticClass:"input-span",staticStyle:{color:"blue"}},[n("i",{staticClass:"el-icon-close"})])]),t._v(" "),n("div",{staticClass:"main-item-item"},[n("span",{staticClass:"span-label"},[t._v("基础分：")]),t._v("\n          "+t._s(t.item.baseScore)+"\n        ")]),t._v(" "),n("div",{staticClass:"main-item-item"},[n("span",{staticClass:"input-span",staticStyle:{color:"blue"}},[n("i",{staticClass:"el-icon-close"})])]),t._v(" "),n("div",{staticClass:"main-item-item"},[n("span",{staticClass:"span-label"},[t._v("质量系数：")]),t._v(" "),n("input-item",{attrs:{"is-edit":t.onEdit,"input-height":"30px","input-width":"50px","input-center":"right"},model:{value:t.item.ratio,callback:function(e){t.$set(t.item,"ratio",e)},expression:"item.ratio"}})],1),t._v(" "),n("div",{staticClass:"main-item-item"},[n("span",{staticClass:"input-span",staticStyle:{color:"blue","font-size":"20px"}},[t._v("\n            =\n          ")])]),t._v(" "),n("div",{staticClass:"main-item-item"},[n("span",{staticClass:"span-label"},[t._v("得分：")]),t._v("\n          "+t._s(t.item.amount*t.item.baseScore*t.item.workTime*t.item.ratio*t.item.coefficient)+"\n        ")])]),t._v(" "),"driver"===t.item.itemType?n("div",{staticClass:"main-item",staticStyle:{"align-items":"flex-start"}},[n("span",{staticClass:"span-label",staticStyle:{"margin-top":"10px"}},[t._v("拓展：")]),t._v(" "),n("extended-fields-all-input",{attrs:{"extended-fields":t.item.extendedFields,"on-edit":t.onEdit}})],1):t._e()]),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.closeDialog}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"win-main"},[n("div",{staticClass:"p-t h8 w100 box-white-b1"},[n("div",{staticClass:"p-l1 title2-grey"},[t._v(t._s(t._tt("我的公司")))]),t._v(" "),n("button",{staticClass:"bsave p-r1 b-orange-ls btitle-orange-l",on:{click:t.CreateNewApply}},[t._v(t._s(t._tt("申 请 加 入")))])]),t._v(" "),n("div",{staticClass:"p-b h92 w100 box-AliceBlue-b1"},[t._e(),t._v(" "),n("div",{staticClass:"companys p-lt1 box-fy "},[t._l(t.CompanyList,function(e){return[n("div",{staticClass:"card-company-h"},[n("div",{staticClass:"logo icon-zhenyilogo"}),t._v(" "),n("div",{staticClass:"title"},[t._v(t._s(e.CompanyName)),n("br"),t._v("\t"+t._s(e.CompanyEName))]),t._v(" "),n("table",[n("tr",{staticClass:"title"},[n("td",[t._v(t._s(t._tt("工号")))]),n("td",[t._v(t._s(t._tt("部门")))]),n("td",[t._v(t._s(t._tt("职务")))])]),t._v(" "),n("tr",{staticClass:"value"},[n("td",[t._v(t._s(e.StaffCode))]),n("td",[t._v(t._s(e.DepartmentName))]),n("td",[t._v(t._s(e.PositionalTitle))])]),t._v(" "),n("tr",{staticClass:"title"},[n("td",{attrs:{colspan:"3"}},[t._v(t._s(t._tt("工作邮箱")))])]),t._v(" "),n("tr",{staticClass:"value"},[n("td",{attrs:{colspan:"3"}},[t._v(t._s(e.WorkEmail))])]),t._v(" "),n("tr",{staticClass:"title"},[n("td",{attrs:{colspan:"3"}},[t._v(t._s(t._tt("状态")))])]),t._v(" "),n("tr",{staticClass:"value"},[n("td",{attrs:{colspan:"3"}},[t._v(t._s(e.StateDes))])])]),t._v(" "),1==e.State&&3==e.InitiateType?n("button",{on:{click:function(n){t.Confirm(e)}}},[t._v(t._s(t._tt("接受申请")))]):t._e(),t._v(" "),1!=e.State||1!=e.InitiateType&&2!=e.InitiateType?t._e():n("button",{on:{click:function(n){t.Delete(e)}}},[t._v(t._s(t._tt("取消申请")))])])]})],2)]),t._v(" "),t.ApplyDialogVisible?n("div",{staticClass:"white_board",staticStyle:{position:"absolute",top:"20%",left:"21%"}},[n("div",{staticClass:"white_board_text"},[n("font",{staticStyle:{color:"grey"},attrs:{size:"6px"}},[t._v(t._s(t._tt("申请加入公司")))])],1),t._v(" "),n("div",{staticClass:"iconX",on:{click:function(e){t.ApplyDialogVisible=!1}}}),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"invite_code"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.ICodeOrCName,expression:"ICodeOrCName"}],attrs:{type:"text",placeholder:t._tt("请输入公司或者邀请码")},domProps:{value:t.ICodeOrCName},on:{blur:t.Check,input:function(e){e.target.composing||(t.ICodeOrCName=e.target.value)}}})]),t._v(" "),t.IsICode?t._e():n("button",{staticClass:"next_step",staticStyle:{height:"9.2%"},on:{click:t.SearchCompany}},[n("font",{attrs:{size:"3px;"}},[n("b",[t._v(t._s(t._tt("搜 索")))])])],1),t._v(" "),n("div",{staticClass:"company_board_top"},[n("div",{staticClass:"white_board_zhenyi_logo"}),t._v(" "),n("div",{staticClass:"zhengyi_text2"},[n("font",{attrs:{size:"2px;",color:"#1a84fa"}},[n("b",[t._v(t._s(t.CompanyName))])]),n("font",{attrs:{color:"#1a84fa",size:"1px"}})],1)]),t._v(" "),n("button",{staticClass:"apply_join",on:{click:t.ApplyJoin}},[n("font",{attrs:{size:"3px;"}},[n("b",[t._v(t._s(t._tt("申 请 加 入")))])])],1)]):t._e()])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"white_board_hr"},[n("hr",{attrs:{width:"800px",color:"lightgrey"}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"document-header"},[t.showLogo?n("div",{staticClass:"w100 company-logo",style:{backgroundImage:"url("+this.logoUrl+")"}},[n("div",{staticClass:"company-warp"},[n("user-company-select",{staticStyle:{width:"300px"},attrs:{"v-show":t.showSelect},on:{change:t.handleCompanySelect},model:{value:t.selectedCompanyId,callback:function(e){t.selectedCompanyId=e},expression:"selectedCompanyId"}}),t._v(" "),t._t("default")],2)]):n("div",{staticClass:"company-warp"},[n("user-company-select",{staticStyle:{width:"300px"},attrs:{"v-show":t.showSelect},on:{change:t.handleCompanySelect},model:{value:t.selectedCompanyId,callback:function(e){t.selectedCompanyId=e},expression:"selectedCompanyId"}}),t._v(" "),t._t("default")],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"aggregation-list-item"},[n("div",{staticClass:"wrapper",style:{paddingLeft:t.marginLeft}},[t.showCheckBox?n("div",{staticClass:"checkbox"},[n("el-checkbox",{attrs:{indeterminate:t.indeterminate},on:{change:t.onCheckedChange},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}})],1):t._e(),t._v(" "),0==t.item.indent?n("div",{staticClass:"item",style:{backgroundColor:t.backgroundColor}},[t._t("default")],2):"root-aggregation"===t.item.itemType?n("div",{staticClass:"item",style:{backgroundColor:t.backgroundColor}},[t._t("root",[t._v("\n                "+t._s(t.item.item.toString())+"\n            ")])],2):n("div",{staticClass:"item",style:{backgroundColor:t.backgroundColor}},[t._t("aggregation",[t._v("\n                "+t._s(t.item.item.toString())+"\n            ")])],2)])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"task_detail_main"},[n("div",{staticClass:"main_left"},[n("div",{staticClass:"area"},[n("task-detail-main-area",{staticClass:"task_detail_main_area",attrs:{name:"详情"}},[n("task-detail-key-value",{staticClass:"task_detail_key_value",attrs:{value:t.detail.gsPoints+(t.detail.gsModulus?"(基础分) × "+t.detail.gsModulus+"(系数) = "+Number.parseFloat((Number.parseFloat(t.detail.gsPoints)*Number.parseFloat(t.detail.gsModulus)).toFixed(10)):""),name:"任务分数"}}),t._v(" "),n("task-detail-key-value",{attrs:{value:t.detail.gsModulusLowerLimit+" ~ "+t.detail.gsModulusUpperlimit,name:"系数范围"}})],1)],1),t._v(" "),n("div",{staticClass:"area"},[n("task-detail-main-area",{staticClass:"task_detail_main_area",attrs:{name:"内容"}},[t.detail.gsContent?n("div",{staticClass:"textarea"},[t._v("\n                    "+t._s(t.detail.gsContent)+"\n                ")]):n("div",{staticClass:"no_textarea"},[t._v("\n                    暂无任务描述\n                ")])])],1),t._v(" "),n("div",{staticClass:"area"},[n("task-detail-main-area",{staticClass:"task_detail_main_area",attrs:{"separation-end-icon-click":t.createChildTask,"separation-end-icon":t.isShowAddChildTask?"el-icon-plus":"",name:"子任务"}},[n("task-detail-child-task-list",{attrs:{manager:t.manager,list:t.detail.gsChildList,"task-select":t.taskSelect,"task-detail-relational-users":t.taskDetailRelationalUsers}})],1)],1)]),t._v(" "),n("div",{staticClass:"main_right"},[n("div",{staticClass:"area"},[n("task-detail-main-area",{attrs:{name:"人员"}},[n("task-detail-key-value",{staticClass:"task_detail_key_value",attrs:{value:t.taskDetailUsers.creator,name:"创建人"}}),t._v(" "),n("task-detail-key-value",{staticClass:"task_detail_key_value",attrs:{value:t.taskDetailUsers.responsibleCandidate,name:"负责候选人"}}),t._v(" "),n("task-detail-key-value",{staticClass:"task_detail_key_value",attrs:{value:t.taskDetailUsers.responsible?t.taskDetailUsers.responsible:"--",name:"负责人"}}),t._v(" "),n("task-detail-key-value",{staticClass:"task_detail_key_value",attrs:{value:t.taskDetailUsers.confirmablePerson,name:"可确认人"}}),t._v(" "),n("task-detail-key-value",{staticClass:"task_detail_key_value",attrs:{value:t.taskDetailUsers.confirmor?t.taskDetailUsers.confirmor:"--",name:"确认人"}})],1)],1),t._v(" "),n("div",{staticClass:"area"},[n("task-detail-main-area",{attrs:{name:"时间"}},[n("task-detail-key-value",{staticClass:"task_detail_key_value",attrs:{value:t.detail.gsCreateTime,name:"创建时间"}}),t._v(" "),t.gsTimeNameConfig&&t.gsTimeNameConfig.render?n("task-detail-key-value",{staticClass:"task_detail_key_value",attrs:{value:t.detail.gsLastUpdateTime,name:t.gsTimeNameConfig.name}}):t._e()],1)],1)])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"win-main"},[n("div",{staticClass:"p-t h8 w100 box-white-b1"},[n("div",{staticClass:"p-l1 title2-grey"},[t._v("绩效管理")]),t._v(" "),n("button",{staticClass:"bsave p-r1 b-orange-ls btitle-orange-l",on:{click:t.CreateNew}},[t._v("新建绩效")])]),t._v(" "),n("div",{staticClass:"p-b h92 w100 box-AliceBlue-b1"},[t._m(0),t._v(" "),n("div",{staticClass:"companys p-lt1 box-fy "},[t._l(t.PerformanceList,function(e){return[n("div",{staticClass:"card-company-h"},[n("div",{staticClass:"logo icon-zhenyilogo"}),t._v(" "),n("div",{staticClass:"title"},[t._v(t._s(e.CompanyName)),n("br"),t._v("\t"+t._s(e.CompanyEName))]),t._v(" "),n("table",[t._m(1,!0),t._v(" "),n("tr",{staticClass:"value"},[n("td",[t._v(t._s(e.Department))]),n("td",[t._v(t._s(e.PositionNames))])])]),t._v(" "),n("button",[t._v("编辑")]),t._v(" "),n("button",[t._v("审批")]),t._v(" "),n("button",[t._v("删除")])])]})],2)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search p-lt1 w30 is-orange"},[n("input",{attrs:{type:"text",placeholder:"请输入关键字搜素"}}),t._v(" "),n("button",{staticClass:"button"},[t._v("搜 索")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",{staticClass:"title"},[n("td",[t._v("部门")]),n("td",[t._v("职位")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-cascader",{attrs:{options:t.options,"change-on-select":!0},on:{change:t.handleChange},model:{value:t.selectedOptions,callback:function(e){t.selectedOptions=e},expression:"selectedOptions"}})},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"task_list_area"},[n("div",{staticClass:"area_start"},[t._v("\n        "+t._s(t.area.name)+"\n    ")]),t._v(" "),t.area.list.length?t._e():n("div",{staticClass:"no_area_task"},[t._v("\n        当前状态下暂无任务\n    ")]),t._v(" "),n("div",{staticClass:"area_content"},t._l(t.area.list,function(e){return n("div",{key:e.name},t._l(e.list,function(e){return n("task-list-item",{key:e.taskId,staticClass:"task_list_item",attrs:{item:e,"task-list-item-select":t.taskListItemSelect}})}))}))])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nn"},[t.isEdit?n("div",[n("vue-html5-editor",{attrs:{content:t.content,height:400},on:{change:t.updateData}})],1):n("div",{staticClass:"h100 w100"},[n("div",{staticClass:"view-logo",style:{backgroundImage:t.logo}}),t._v(" "),n("div",{staticClass:"view-bg",style:{backgroundImage:t.bg}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.StatusShow,expression:"StatusShow"}],staticClass:"view-zhang",style:{backgroundImage:t.seal}}),t._v(" "),n("div",{staticClass:"content",domProps:{innerHTML:t._s(t.content)}})]),t._v(" "),n("div",{staticClass:"view-sign",style:{backgroundImage:t.sign}})])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isShow?n("div",[t._v(t._s(t.value))]):n("div",[n("el-input",{attrs:{placeholder:"请输入内容"},on:{input:t.handleInput,blur:t.handleBlur},model:{value:t.currentValue,callback:function(e){t.currentValue=e},expression:"currentValue"}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:"组织架构搜索","custom-class":"organzation-search-dialog",visible:t.dialogVisible,size:"large",modal:!1,"modal-append-to-body":!0,"close-on-click-modal":!1,"before-close":t.Cancel},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-row",[n("el-col",{staticStyle:{"line-height":"35px"},attrs:{span:2}},[t._v("关键字:")]),t._v(" "),n("el-col",{attrs:{span:7}},[n("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.filter.Keyword,callback:function(e){t.$set(t.filter,"Keyword",e)},expression:"filter.Keyword"}})],1),t._v(" "),n("el-col",{attrs:{span:1}},[t._v(" ")]),t._v(" "),n("el-col",{staticStyle:{"line-height":"35px"},attrs:{span:2}},[n("el-button",{attrs:{type:"warning"},on:{click:t.Search}},[t._v("搜索")])],1),t._v(" "),n("el-col",{staticStyle:{"line-height":"35px"},attrs:{span:3}},[n("el-button",{attrs:{type:"primary"},on:{click:t.HighSearch}},[t._v("高级搜索")])],1),t._v(" "),n("el-col",{attrs:{span:6}},t._l(t.SelectType,function(e){return n("el-tag",{key:e.value,attrs:{closable:!0,type:"success"},on:{close:function(n){t.CloseTypeTag(e)}}},[t._v("\n\t\t\t\t"+t._s(e.text)+"\n\t\t\t")])}))],1),t._v(" "),n("el-row",{directives:[{name:"show",rawName:"v-show",value:t.heighVisible,expression:"heighVisible"}]},[n("el-col",{staticStyle:{"line-height":"35px"},attrs:{span:2}},[t._v("搜索位置:")]),t._v(" "),n("el-col",{attrs:{span:7}},[n("department",{attrs:{companyId:t.companyid,depId:t.filter.DepartID},on:{"update:depId":function(e){t.$set(t.filter,"DepartID",e)}}})],1)],1),t._v(" "),n("el-row",[n("el-col",{staticStyle:{width:"100%","overflow-x":"no-display"},attrs:{span:24}},[n("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.Source,border:"","max-height":"400"},on:{"row-click":t.RowClick,"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),n("el-table-column",{attrs:{prop:"ID",label:"ID",width:"70"}}),t._v(" "),n("el-table-column",{attrs:{prop:"Name",label:"名称",width:"130"}}),t._v(" "),n("el-table-column",{attrs:{prop:"TypeLable",label:"类型",width:"90"}}),t._v(" "),n("el-table-column",{attrs:{prop:"NodePath",label:"路径"}})],1)],1)],1),t._v(" "),t.SelectSource.length>0?n("h4",[t._v(">>选择的对象")]):t._e(),n("br"),t._v(" "),t.SelectSource.length>0?n("el-row",[n("el-col",{attrs:{span:24}},t._l(t.SelectSource,function(e){return n("el-tag",{key:e.ID,attrs:{closable:!0,type:"success"},on:{close:function(n){t.CloseTag(e)}}},[t._v("\n\t\t\t\t"+t._s(e.Name)+"("+t._s(e.ID)+")\n\t\t\t")])}))],1):t._e(),t._v(" "),n("span",{staticClass:"dialog-footer",staticStyle:{position:"absolute",top:"88%",right:"2%"},attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.ClearAll}},[t._v("清空选中")]),t._v(" "),n("el-button",{on:{click:t.Cancel}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"warning"},on:{click:t.Confirm}},[t._v("确 定")])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"BudgetDetailListItem",style:{"background-color":t.itemIndex%2==1?"#e4e8f1":"#FFF"}},[n("grid-row",{attrs:{item:t.item},on:{onSelected:t.onSelected}},[n("div",{staticClass:"wrap-control"},[t.onEdit?n("grid-cell",{attrs:{textAlign:"center","min-width":"30px"}},[n("template",{slot:"static"},[n("div",{on:{click:function(e){return e.stopPropagation(),t.addItem(e)}}},[n("i",{staticClass:"el-icon-plus",staticStyle:{color:"green","font-size":"16px"}})])])],2):t._e(),t._v(" "),n("grid-cell",{attrs:{flexWidth:"0 0 230px","editing-mode":t.onEdit,textAlign:"left","min-width":"100px"}},[n("template",{staticClass:"title",slot:"view"},[t._v("\n          "+t._s(t.item.node.value)+"\n        ")]),t._v(" "),n("template",{slot:"edit"},[n("input-item-search",{attrs:{"query-list":t.queryList,"is-edit":t.onEdit,"expect-error-message":"请选中一个节点","input-height":"30px","input-width":"200px","error-key":t.itemIndex+"node"},model:{value:t.item.node,callback:function(e){t.$set(t.item,"node",e)},expression:"item.node"}})],1)],2),t._v(" "),n("grid-cell",{attrs:{flexWidth:"0 0 100px","editing-mode":t.onEdit,textAlign:"left","min-width":"100px"}},[n("template",{staticClass:"title",slot:"view"},[t._v("\n          "+t._s(t.type)+"\n        ")]),t._v(" "),n("template",{slot:"edit"},[n("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",size:"small"},model:{value:t.item.type,callback:function(e){t.$set(t.item,"type",e)},expression:"item.type"}},t._l(t.typeConfig,function(t){return n("el-option",{key:t.itemId,attrs:{label:t.label,value:t.value}})}))],1)],2),t._v(" "),n("grid-cell",{attrs:{flexWidth:"0 0 200px","editing-mode":t.onEdit,textAlign:"left","min-width":"100px"}},[n("template",{staticClass:"title",slot:"view"},[t._v("\n          "+t._s(t.amount)+"\n        ")]),t._v(" "),n("template",{slot:"edit"},[n("input-item",{attrs:{"is-edit":t.onEdit,"input-height":"30px","input-width":"100px","input-center":"right","error-key":t.itemIndex+"amount"},model:{value:t.item.amount,callback:function(e){t.$set(t.item,"amount",e)},expression:"item.amount"}})],1)],2),t._v(" "),n("grid-cell",{attrs:{flexWidth:"0 0 200px","editing-mode":t.onEdit,textAlign:"left","min-width":"100px",flexCenter:"left"}},[n("template",{staticClass:"title",slot:"view"},[t._v("\n          "+t._s(t.item.mark)+"\n        ")]),t._v(" "),n("template",{slot:"edit"},[n("input-item",{attrs:{"is-edit":t.onEdit,"input-height":"30px","input-width":"200px","error-key":t.itemIndex+"mark"},model:{value:t.item.mark,callback:function(e){t.$set(t.item,"mark",e)},expression:"item.mark"}})],1)],2),t._v(" "),1!=t.listLength&&t.onEdit?n("grid-cell",{attrs:{flexWidth:"0 0 100px",textAlign:"left","min-width":"100px"}},[n("template",{slot:"static"},[n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(e){return e.stopPropagation(),t.deleteItem(e)}}},[n("i",{staticClass:"fa fa-lg fa-trash"})])],1)],2):t._e()],1)])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"AddPerfromanceDefinitionItem",on:{click:t.addPerfromaceDefinitionItem}},[n("p",[t._v("新增模板项")])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"task_detail_button"},t._l(t.taskOperationButton,function(e){return e.render?n("div",{key:e.name,staticClass:"btn_box"},[n("el-button",{attrs:{type:e.type,icon:e.icon},on:{click:function(n){t.btnClick(e)}}},[t._v("\n            "+t._s(e.name)+"\n        ")])],1):t._e()}))},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ptit-form-item",{ref:"item",attrs:{prop:t.prop,label:t.label,showLabel:t.showLabel,followFormState:t.followFormState,itemState:t.itemState},model:{value:t.imageFiles,callback:function(e){t.imageFiles=e},expression:"imageFiles"}},[n("div",{staticClass:"ptit-image-upload-default"},[n("el-upload",{attrs:{action:t.uploadUrl,headers:t.headers,data:t.imageData,"list-type":"picture-card","file-list":t.imageFiles,"before-upload":t.checkFile,"on-success":t.handleUploadSuccess,"on-preview":t.handlePreviewImage,"on-remove":t.handleRemoveImage}},[n("i",{staticClass:"el-icon-plus"})]),t._v(" "),n("img",{staticStyle:{display:"none"},attrs:{id:"showLogoimg"}})],1),t._v(" "),n("div",{staticClass:"ptit-image-upload-view",attrs:{slot:t.viewStateName},slot:t.viewStateName},[t._l(t.imageFiles,function(e){return[n("img",{staticStyle:{width:"150px",height:"150px"},attrs:{src:e.url,alt:""},on:{click:function(n){t.handlePreviewImage(e)}}}),t._v(" \n    ")]})],2),t._v(" "),n("template",{slot:"common"},[n("el-dialog",{model:{value:t.dialogViewVisible,callback:function(e){t.dialogViewVisible=e},expression:"dialogViewVisible"}},[n("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"performancePositionSelect"},[n("div",{staticClass:"companySelect"},[n("el-select",{staticStyle:{width:"300px"},attrs:{placeholder:"请选择"},on:{change:t.changeStaffId},model:{value:t.staffId,callback:function(e){t.staffId=e},expression:"staffId"}},t._l(t.organizationManager.currentCompanyStaffsOptions,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),n("div",{staticClass:"companySelect"},[n("el-select",{staticStyle:{width:"300px"},attrs:{placeholder:"请选择"},on:{change:t.changedCompany},model:{value:t.companyId,callback:function(e){t.companyId=e},expression:"companyId"}},t._l(t.organizationManager.companysOptions,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),n("div",{staticClass:"search"},[n("el-autocomplete",{staticStyle:{width:"300px"},attrs:{"fetch-suggestions":t.querySearchAsync,placeholder:"请输入内容"},on:{select:t.handleSelect},model:{value:t.searchSelectedPosition,callback:function(e){t.searchSelectedPosition=e},expression:"searchSelectedPosition"}})],1),t._v(" "),n("div",{staticClass:"positionList"},[t._l(t.organizationManager.kanbanFilterList,function(e){return[n("kanban-filter-select-item",{key:e.positionId,attrs:{item:e},on:{selectedItem:t.selectedItem}})]})],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"h100 w100"},[n("div",{staticClass:"content-header border-bottom"},[n("me-toolbar",{attrs:{kanbanTypeId:t.TypeID},on:{PrintEvent:t.print}}),t._v(" "),n("div",{staticStyle:{clear:"both"}})],1),t._v(" "),n("div",{staticClass:"content-wrap"},[n("div",{staticClass:"row h100"},[n("div",{staticClass:"col-l h100"},[n("me-list",{attrs:{"kanban-type-id":t.TypeID,sid:t.SelectDocID},on:{onselect:t.selectChange}})],1),t._v(" "),n("div",{staticClass:"col-r border-left border-right h100"},[n("div",{class:{"col-9":t.displayNodes&&!t.showFlowNodeInTab,"col-12":!t.displayNodes||t.showFlowNodeInTab,h100:!0}},[n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.endorsementFileLoading,expression:"endorsementFileLoading"}],staticClass:"inner",staticStyle:{padding:"0"},attrs:{id:"content-main","element-loading-text":"正在加载签批件内容"}},[n("endorsement",{attrs:{endorsementFile:t.endorsementFile,showFlowNodes:t.showFlowNodeInTab,initializeDocumentId:t.initializeDocumentId},on:{closeFlowNodes:function(e){t.onShowFlowNodeInTab(!1)}}},[n("template",{slot:"flowNodes"},[n("me-nodes",{staticClass:"tab-flow-nodes",attrs:{inTab:!0,"doc-id":t.SelectDocID},on:{showInTab:function(e){t.onShowFlowNodeInTab(!1)}}})],1)],2)],1)]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.displayNodes&&!t.showFlowNodeInTab,expression:"displayNodes && !showFlowNodeInTab"}],staticClass:"col-3 h100"},[n("me-nodes",{attrs:{inTab:!1,"doc-id":t.SelectDocID},on:{showInTab:function(e){t.onShowFlowNodeInTab(!0)}}})],1)]),t._v(" "),n("div",{staticClass:"clearfix"})])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"win-main-m"},[n("div",{staticClass:"p-t h8 w100 box-white-b1"},[n("div",{staticClass:"p-l1 title2-grey"},[t._v("组织机构")]),t._v(" "),n("div",{staticClass:"company p-r1 s-lightgrey-mi"},[n("div",{staticClass:"icon-build32"}),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.Org.companyid,expression:"Org.companyid"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.Org,"companyid",e.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"1"}},[t._v("xx有限公司")]),t._v(" "),n("option",{attrs:{value:"2"}},[t._v("yy有限公司")])])]),t._v(" "),n("button",{staticClass:"bsave p-r1 b-orange-ls btitle-orange-l"},[t._v("保 存")])]),t._v(" "),n("div",{staticClass:"m-bl p-b h92 w100 box-AliceBlue-b1"},[n("div",{staticClass:"lorg h-left30 h100 box-AliceBlue-b1 box-fy"},[n("el-collapse",{attrs:{ccordion:""},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[n("el-collapse-item",{attrs:{title:"组织结构",name:"1"}},[n("orgtree2",{on:{nodeclick:t.handleNodeClick}})],1),t._v(" "),n("el-collapse-item",{attrs:{title:"角色信息",name:"2"}})],1)],1),t._v(" "),n("div",{staticClass:"m-bl h-right70 h100 box-AliceBlue-b1"},[n("employee2",{attrs:{Org:t.Org}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isrole,expression:"isrole"}],staticClass:"org"},[n("h4",[t._v(t._s(t.title))]),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.roleData}},[n("el-table-column",{attrs:{prop:"Name",label:"职位名称",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{prop:"EnName",label:"英文名称"}})],1)],1)],1)])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:"申请记录",visible:t.dialogVisible,size:"small",modal:!1,"modal-append-to-body":!0,"close-on-click-modal":!1,"before-close":t.Cancel},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.Source}},[n("el-table-column",{attrs:{prop:"ApplyID",label:"编号",width:"80"}}),t._v(" "),n("el-table-column",{attrs:{prop:"Content",label:"内容"}}),t._v(" "),n("el-table-column",{attrs:{prop:"SendTime",label:"时间",width:"150"}}),t._v(" "),n("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"small"},on:{click:function(n){t.Agree(e.row)}}},[t._v("同意")])]}}])})],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"flex_column",style:t.gsStyl},[t._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"work-row"},[t._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:"选择模板公司",visible:t.dialogVisible,size:"small",modal:!1,"close-on-click-modal":!1,"before-close":t.Cancel},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-row",{staticStyle:{"max-height":"630px","overflow-y":"auto"}},t._l(t.companies,function(e,i){return n("el-col",{key:e.value,staticStyle:{"margin-right":"30px","margin-bottom":"20px"},attrs:{span:7}},[n("el-card",{staticStyle:{"border-width":"2px","border-color":"#88590D","text-align":"center"}},[n("img",{staticStyle:{width:"200px",cursor:"pointer"},attrs:{src:e.LogoKey},on:{click:function(n){t.ViewOrg(e)}}}),t._v(" "),n("div",{staticStyle:{padding:"14px"}},[n("span",{staticStyle:{cursor:"pointer"},on:{click:function(n){t.ViewOrg(e)}}},[t._v(t._s(e.Name))])])])],1)})),t._v(" "),n("ctplview",{attrs:{companyid:t.View.companyid,Company:t.View.Company,visiable:t.View.visiable},on:{"update:visiable":function(e){t.$set(t.View,"visiable",e)},EventClose:t.ViewClose,EventApply:t.ViewApply}}),t._v(" "),n("el-dialog",{attrs:{title:"应用显示",visible:t.resultVisible,size:"small",modal:!1,"close-on-click-modal":!1},on:{"update:visible":function(e){t.resultVisible=e}}},[n("el-row",[n("el-col",{attrs:{span:24}},[n("div",{staticStyle:{width:"430px",height:"150px",color:"blue","overflow-y":"auto","overflow-x":"auto"},domProps:{innerHTML:t._s(t.ProgressInfo)}})])],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"root_task_list"},[n("div",{staticClass:"list_main"},[n("div",{staticClass:"list_main_scroll"},[t._l(t.rootTaskListManager.gsRootTaskListProcessed,function(t){return n("root-list-item",{key:t.gsTaskId,attrs:{item:t}})}),t._v(" "),t.rootTaskListManager.gsRootTaskListProcessed.length?t._e():n("div",{staticClass:"no_root_task"},[t._v("\n                暂无已结算的根任务\n            ")])],2)])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"PerformanceDocumentListItem",on:{click:function(e){t.onViewDocument(t.item)}}},[n("div",{staticClass:"document-body"},[n("div",{staticClass:"body-left"},[n("p",[n("span",{staticStyle:{color:"#2c96fd"}},[t._v("状态：        ")]),t._v(" "),n("span",{style:{color:t.stateColor,"font-size":"16px"}},[t._v(t._s(t.state))])]),t._v(" "),n("p",[n("span",{staticStyle:{color:"#2c96fd"}},[t._v("更新时间：")]),t._v(" "+t._s(t.time))])]),t._v(" "),n("hr",{style:{"background-color":t.stateColor}}),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"body-right"},t._l(t.item.content.list,function(e){return n("P",{key:e.itemId},[t._v(t._s(e.$data.employeePosition)+"；   ")])}))]),t._v(" "),n("div",{staticClass:"document-operation"},[n("button",{staticClass:"b-white-option",attrs:{type:"button"}},[t._v("查看")]),t._v(" "),(t.state?"草稿"===t.state:"")?n("button",{staticClass:"b-white-option",attrs:{type:"button"},on:{click:function(e){e.stopPropagation(),t.onDeleteDocument(t.item)}}},[t._v("删除")]):t._e()])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"middle"},[n("span",{staticStyle:{color:"#2c96fd"}},[t._v("主要内容：")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.submitenable&&0==t.step&&t.docId>0?n("el-button",{attrs:{type:"danger",icon:"delete",loading:t.loading},on:{click:function(e){t.Action(-9)}}},[t._v(t._s(t._tt("删除")))]):t._e(),t._v(" "),t.submitenable&&0==t.step?n("el-button",{attrs:{type:"primary",icon:"edit",loading:t.loading},on:{click:t.emitSaveDraft}},[t._v(t._s(t._tt("保存")))]):t._e(),t._v(" "),t.singenable&&t.step>0&&t.step<3?n("el-button",{attrs:{type:"info",icon:"share",loading:t.loading},on:{click:function(e){t.Action(1)}}},[t._v(t._s(t._tt("签收")))]):t._e(),t._v(" "),t.showForceReceive?n("el-button",{attrs:{type:"info",icon:"share",loading:t.loading},on:{click:function(e){t.ForceAction(1)}}},[t._v(t._s(t._tt("强制签收")))]):t._e(),t._v(" "),(t.submitenable||t.finishenable)&&t.step>0&&t.step<3?n("el-button",{attrs:{type:"info",icon:"delete",loading:t.loading},on:{click:function(e){t.Action(0)}}},[t._v(t._s(t._tt("退签")))]):t._e(),t._v(" "),t.showForceWithdraw?n("el-button",{attrs:{type:"info",icon:"delete",loading:t.loading},on:{click:function(e){t.ForceAction(0)}}},[t._v(t._s(t._tt("强制退签")))]):t._e(),t._v(" "),t.submitenable&&1==t.step?n("el-button",{attrs:{type:"danger",icon:"search",loading:t.loading},on:{click:function(e){t.Submit(-1)}}},[t._v(t._s(t._tt("驳回")))]):t._e(),t._v(" "),t.submitenable&&0==t.step&&t.docId>0?n("el-button",{attrs:{type:"success",icon:"search",loading:t.loading},on:{click:function(e){t.Submit(0)}}},[t._v(t._s(t._tt("提交")))]):t._e(),t._v(" "),t.submitenable&&1==t.step?n("el-button",{attrs:{type:"warning",icon:"search",loading:t.loading},on:{click:function(e){t.Submit(1)}}},[t._v(t._s(t._tt("发表意见")))]):t._e(),t._v(" "),t.finishenable&&1==t.step?n("el-button",{attrs:{type:"success",icon:"search",loading:t.loading},on:{click:function(e){t.Submit(2)}}},[t._v(t._s(t._tt("决策同意")))]):t._e(),t._v(" "),t.submitenable&&2==t.step?n("el-button",{attrs:{type:"warning",icon:"search",loading:t.loading},on:{click:function(e){t.Submit(3)}}},[t._v(t._s(t._tt("完成执行")))]):t._e(),t._v(" "),t.finishenable&&2==t.step?n("el-button",{attrs:{type:"success",icon:"search",loading:t.loading},on:{click:function(e){t.Submit(4)}}},[t._v(t._s(t._tt("归档")))]):t._e(),t._v(" "),t.showUndo?n("el-button",{attrs:{type:"danger",icon:"search",disabled:t.undoCountDown<=0,loading:t.loading},on:{click:function(e){t.Action(-1)}}},[t._v(t._s(t._tt("撤销"))),t.undoCountDown>0?[t._v("("+t._s(t.undoCountDown)+")")]:t._e()],2):t._e()],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"KanbanBudgetListItem",style:{"background-color":t.itemIndex%2==1?"#e4e8f1":"#FFF"}},[n("grid-row",{attrs:{item:t.item},on:{onSelected:t.onSelected}},[n("div",{staticClass:"wrap-control"},[n("grid-cell",{attrs:{flexWidth:"0 0 300px",textAlign:"left","min-width":"100px"}},[n("template",{staticClass:"title",slot:"static"},[t._v("\n          "+t._s(t.item.nodeName)+"\n        ")])],2),t._v(" "),n("grid-cell",{attrs:{flexWidth:"0 0 100px",textAlign:"left","min-width":"100px"}},[n("template",{staticClass:"title",slot:"static"},[t._v("\n          "+t._s(t.type)+"\n        ")])],2),t._v(" "),n("grid-cell",{attrs:{flexWidth:"0 0 200px",textAlign:"left","min-width":"100px"}},[n("template",{staticClass:"title",slot:"static"},[t._v("\n          "+t._s(t.initial_budget)+"\n        ")])],2),t._v(" "),n("grid-cell",{attrs:{flexWidth:"0 0 200px",textAlign:"left","min-width":"100px"}},[n("template",{staticClass:"title",slot:"static"},[t._v("\n          "+t._s(t.available_budget)+"\n        ")])],2),t._v(" "),n("grid-cell",{attrs:{flexWidth:"0 0 200px",textAlign:"left","min-width":"100px"}},[n("template",{staticClass:"title",slot:"static"},[t._v("\n          "+t._s(t.startTime)+"\n        ")])],2),t._v(" "),n("grid-cell",{attrs:{flexWidth:"0 0 200px",textAlign:"left","min-width":"100px"}},[n("template",{staticClass:"title",slot:"static"},[t._v("\n          "+t._s(t.endTime)+"\n        ")])],2),t._v(" "),n("grid-cell",{attrs:{flexWidth:"0 0 300px",textAlign:"left","min-width":"100px"}},[n("template",{staticClass:"title",slot:"static"},[t._v("\n          "+t._s(t.item.content)+"\n        ")])],2)],1)])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ReportChain"},[n("div",{attrs:{slot:"content"},slot:"content"},[t.reportChainManager.chainPeople.length>0?n("span",{staticStyle:{color:"grey"}},[t._v("自动汇报链:")]):t._e(),t._v(" "),0===t.reportChainManager.chainPeople[0].value.length?n("span",{staticStyle:{"font-weight":"bold"}},[t._v("无")]):t._e(),t._v(" "),t._l(t.reportChainManager.chainPeople,function(e,i){return t.reportChainManager.chainPeople.length>0?[n("div",{key:e.keyIndex},[0!=e.value.length?n("span",[t._v("第"+t._s(i+1)+"节点候选人：")]):t._e(),t._v(" "),t._l(e.value,function(e,i){return n("span",{key:i,staticStyle:{display:"inline-block","margin-right":"5px"}},[t._v(t._s(e))])})],2)]:t._e()})],2),t._v(" "),t.isEdit&&t.showButton?n("el-button",{attrs:{type:"text"},on:{click:function(e){return e.stopPropagation(),t.showDialog(e)}}},[t._v("编辑自动汇报")]):t._e(),t._v(" "),!t.showButton&&t.isEdit?n("el-button",{attrs:{type:"text"},on:{click:function(e){return e.stopPropagation(),t.showDialog(e)}}},[t._v("添加自动汇报")]):t._e(),t._v(" "),n("el-dialog",{attrs:{title:"汇报链节点",visible:t.reportChainManager.dialogVisible,size:"tiny","show-close":!1},on:{"update:visible":function(e){t.$set(t.reportChainManager,"dialogVisible",e)}}},[n("div",{staticClass:"chain-main"},[t._l(t.reportChainManager.chain,function(e,i){return[n("span",[t._v("第"+t._s(i+1)+"节点候选人")]),t._v(" "),n("div",{key:e.chainId,staticClass:"chain-item"},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){t.addLevelNode(e)}}},[t._v("添加")]),t._v(" "),n("el-select",{attrs:{multiple:"",filterable:"",placeholder:"请选择"},on:{change:t.selectChange,"visible-change":t.selectChange,"remove-tag":t.deleteOneLevel},model:{value:e.chainValue,callback:function(n){t.$set(e,"chainValue",n)},expression:"chainItem.chainValue"}},t._l(t.reportChainManager.selectOptions,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),1!=t.reportChainManager.chain.length?n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){t.deleteLevelNode(e.chainId)}}},[t._v("删除")]):t._e()],1)]})],2),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){return e.stopPropagation(),t.closeDialog(e)}}},[t._v("取消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return e.stopPropagation(),t.closeDialog(e)}}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"h100 w100"},[n("div",{staticClass:"content-header border-bottom"},[n("div",{staticClass:"col-12"},[n("h3",{staticClass:"pull-left"},[t._v("流程模板管理")]),t._v(" "),n("div",{staticClass:"tools pull-right"},[n("el-button",{attrs:{type:"warning",size:"large"},on:{click:t.onSubmit}},[t._v("提交模板")]),t._v(" "),n("el-button",{attrs:{type:"default",size:"large"},on:{click:t.onBackToList}},[t._v("返回列表")])],1)]),t._v(" "),n("div",{staticStyle:{clear:"both"}})]),t._v(" "),n("div",{staticClass:"tmp-wrap"},[n("el-form",{ref:"templateEditForm",attrs:{model:t.template,"label-width":"80px",rules:t.templateRules}},[n("h3",[t._v("流程基本信息")]),t._v(" "),n("div",{staticClass:"row",staticStyle:{height:"60px"}},[n("div",{staticClass:"col-3"},[n("el-form-item",{attrs:{label:"名称",prop:"name"}},[n("el-input",{attrs:{placeholder:"请输入模板名称"},model:{value:t.template.name,callback:function(e){t.$set(t.template,"name",e)},expression:"template.name"}})],1)],1),t._v(" "),n("div",{staticClass:"col-9"},[n("company-select",{ref:"companySelect",attrs:{colspan:6,showWholeCompany:!1,ruleProp:"companyId",placeHolder:"请选择公司",disabled:this.template.nodes.length>0},model:{value:t.template.companyId,callback:function(e){t.$set(t.template,"companyId",e)},expression:"template.companyId"}}),t._v(" "),n("category-select",{ref:"categorySelect",attrs:{companyId:t.template.companyId,colspan:6,showWholeCategory:!1,ruleProp:"categoryId",placeHolder:"请选择分类"},model:{value:t.template.categoryId,callback:function(e){t.$set(t.template,"categoryId",e)},expression:"template.categoryId"}})],1),t._v(" "),n("div",{staticClass:"clearfix"})]),t._v(" "),n("div",{staticClass:"row",staticStyle:{height:"120px"}},[n("div",{staticClass:"col-8"},[n("el-form-item",{attrs:{label:"流程描述",prop:"description"}},[n("el-input",{attrs:{maxlength:100,autosize:{minRows:3,maxRows:6},placeholder:"请输入流程描述",type:"textarea"},model:{value:t.template.description,callback:function(e){t.$set(t.template,"description",e)},expression:"template.description"}})],1)],1),t._v(" "),n("div",{staticClass:"col-4"},[n("span",{staticClass:"span-remaing"},[t._v("还可输入:"+t._s(t.remainingDescriptionChars)+"个字")])]),t._v(" "),n("div",{staticClass:"clearfix"})]),t._v(" "),n("h3",[t._v("流程节点")]),t._v(" "),n("div",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"}},[n("el-button",{attrs:{type:"warning",icon:"plus"},on:{click:function(e){t.showNodeDialog(-1)}}},[t._v("新增节点")]),t._v(" "),n("el-button",{attrs:{type:"danger",icon:"delete"},on:{click:function(e){t.onDeleteNodes()}}},[t._v("删除选中节点")])],1),t._v(" "),n("el-table",{ref:"nodeTable",staticStyle:{width:"100%"},attrs:{data:t.template.nodes,border:""},on:{"cell-mouse-enter":t.onNodeMouseEnter}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),n("el-table-column",{attrs:{label:"序列",align:"center","header-align":"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.$index+1)+"\n          ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"name",label:"节点名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.name))]),t._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:t.nodeTable.currentMouseEnteredNodeIndex===e.row.index,expression:"nodeTable.currentMouseEnteredNodeIndex === node.row.index"}],staticStyle:{"margin-left":"10px"}},[n("el-button",{attrs:{type:"info",icon:"arrow-down",size:"mini",disabled:e.row.index===t.template.nodes.length-1},on:{click:function(n){t.onNodeDown(e.row)}}}),t._v(" "),n("el-button",{attrs:{type:"info",icon:"arrow-up",size:"mini",disabled:0===e.row.index},on:{click:function(n){t.onNodeUp(e.row)}}}),t._v(" "),n("el-button",{attrs:{type:"warning",icon:"edit",size:"mini"},on:{click:function(n){t.showNodeDialog(e.row.index)}}}),t._v(" "),n("el-button",{attrs:{type:"danger",icon:"delete",size:"mini"},on:{click:function(n){t.onDeleteNode(e.row)}}})],1)]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"类型",align:"center","header-align":"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(t.getNodeTypeName(e.row.nodeType))+"\n          ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"voteCount",label:"人数",align:"center","header-align":"center",width:"100"}}),t._v(" "),n("el-table-column",{attrs:{label:"参于投票的人",width:"400"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"template-edit-node-vote-user-cell-container"},t._l(e.row.users,function(e){return n("el-tag",{key:e.id,staticClass:"template-edit-user-tag"},[n("span",{staticClass:"vote-user-span"},[t._v(t._s(e.name))])])}))]}}])})],1)],1)],1),t._v(" "),n("el-dialog",{attrs:{visible:t.nodeDialog.visible,size:"tiny"},on:{"update:visible":function(e){t.$set(t.nodeDialog,"visible",e)}}},[n("el-form",{ref:"templateNodeEdit",attrs:{model:t.nodeDialog.currentNode,"label-width":"100px",rules:t.nodeDialog.rules}},[n("el-form-item",{attrs:{label:"名称",prop:"name"}},[n("el-input",{attrs:{placeholder:"请输入节点名称"},model:{value:t.nodeDialog.currentNode.name,callback:function(e){t.$set(t.nodeDialog.currentNode,"name",e)},expression:"nodeDialog.currentNode.name"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"节点类型",prop:"nodeType"}},[n("el-select",{attrs:{placeholder:"请选择分类"},model:{value:t.nodeDialog.currentNode.nodeType,callback:function(e){t.$set(t.nodeDialog.currentNode,"nodeType",e)},expression:"nodeDialog.currentNode.nodeType"}},t._l(t.nodeTypes,function(t){return n("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})})),t._v(" "),2==t.nodeDialog.currentNode.nodeType?n("label",[t._v("级别")]):t._e(),t._v(" "),2==t.nodeDialog.currentNode.nodeType?n("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择级别"},model:{value:t.template.level,callback:function(e){t.$set(t.template,"level",e)},expression:"template.level"}},t._l(t.levels,function(t){return n("el-option",{key:t.value,attrs:{label:t.text,value:t.value}})})):t._e(),t._v(" "),2==t.nodeDialog.currentNode.nodeType&&3==t.template.level?n("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"章的名称"},model:{value:t.template.levelstring,callback:function(e){t.$set(t.template,"levelstring",e)},expression:"template.levelstring"}}):t._e()],1),t._v(" "),n("el-form-item",{attrs:{label:"所需投票人数"}},[n("el-input-number",{attrs:{min:1,max:99},model:{value:t.nodeDialog.currentNode.voteCount,callback:function(e){t.$set(t.nodeDialog.currentNode,"voteCount",e)},expression:"nodeDialog.currentNode.voteCount"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"投票人",prop:"voteUser"}},[n("el-select",{ref:"userSelect",attrs:{filterable:"",remote:"",placeholder:"请输入投票人","remote-method":t.onSearchUsers,loading:t.nodeDialog.inSearchingUsers},on:{change:t.onUserChanged},model:{value:t.nodeDialog.selectedUser,callback:function(e){t.$set(t.nodeDialog,"selectedUser",e)},expression:"nodeDialog.selectedUser"}},t._l(t.nodeDialog.searchedUsers,function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t}})}))],1),t._v(" "),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:null!=t.nodeDialog.currentNode&&t.nodeDialog.currentNode.users.length>0,expression:"null != nodeDialog.currentNode && nodeDialog.currentNode.users.length > 0"}],attrs:{label:"参于投票的人"}},t._l(t.nodeDialog.currentNode.users,function(e){return n("el-tag",{key:e.id,staticClass:"template-edit-user-tag",attrs:{closable:!0,"close-transition":!1},on:{close:function(n){t.onRemoveSelectedUser(e)}}},[n("span",{staticClass:"vote-user-span"},[t._v(t._s(e.name))])])})),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"warning"},on:{click:function(e){t.onSubmitNode()}}},[t._v(t._s(t.nodeDialog.submitButtonText))]),t._v(" "),n("el-button",{attrs:{type:"text"},on:{click:function(e){t.onCloseNodeDialog()}}},[t._v("关闭")])],1)],1),t._v(" "),n("span",{staticClass:"template-edit-node-dialog-title",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.nodeDialog.title))])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("textarea",{staticClass:"form-control",attrs:{name:t.name}})},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"task_detail_key_value"},[n("div",{staticClass:"key"},[t._v(t._s(t.name)+"：")]),t._v(" "),n("div",{staticClass:"value"},[n("div",{staticClass:"value"},[t._v("\n            "+t._s(t.value)+"\n        ")]),t._v(" "),t.valueButtonIcon?n("div",{staticClass:"value_icon",on:{click:t.valueButtonClick}},[n("i",{class:t.valueButtonIcon+" icon"})]):t._e()])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"BudgetDetail"},[n("div",{staticClass:"top"},[n("div",{staticClass:"top-left"}),t._v(" "),n("div",{staticClass:"top-right"},[n("p",[t._v("状态：\n        "),n("span",{staticStyle:{"font-size":"16px",color:"red","font-weight":"bold"}},[t._v(t._s(t.state))])]),t._v(" "),t.onEdit?t._e():["draft"===t.BudgetDetailManager.currentBudgetDetailState?n("el-button",{on:{click:t.changeOnEdit}},[t._v("编辑")]):t._e(),t._v(" "),"draft"===t.BudgetDetailManager.currentBudgetDetailState?n("el-button",{on:{click:t.declaredToQianpi}},[t._v("审批")]):t._e(),t._v(" "),"declared"===t.BudgetDetailManager.currentBudgetDetailState?n("el-button",{on:{click:t.effecteDoc}},[t._v("生效")]):t._e(),t._v(" "),n("router-link",{attrs:{to:"/test/BudgetList"}},[n("el-button",{staticStyle:{"margin-left":"10px"}},[t._v("返回列表")])],1)],t._v(" "),t.onEdit?[n("el-button",{on:{click:t.saveBugetDetail}},[t._v("保存")]),t._v(" "),n("el-button",{on:{click:t.cancel}},[t._v("取消")])]:t._e()],2)]),t._v(" "),n("div",{staticClass:"main"},[n("div",{staticClass:"main-title"},[n("h3",[t._v("单据信息")]),t._v(" "),n("div",{staticClass:"main-title-content"},[t.onEdit?[n("div",{staticClass:"top-left-item"},[n("p",[t._v("标题:")]),t._v(" "),n("div",{staticClass:"top-input"},[n("input-item",{attrs:{"is-edit":t.onEdit,"input-height":"30px","input-width":"300px",errorKey:"title"},model:{value:t.BudgetDetailManager.currentBudgetDetail.title,callback:function(e){t.$set(t.BudgetDetailManager.currentBudgetDetail,"title",e)},expression:"BudgetDetailManager.currentBudgetDetail.title"}})],1)]),t._v(" "),n("div",{staticClass:"top-left-item"},[n("p",[t._v("申请人:")]),t._v(" "),n("p",[t._v(t._s(t.reporter))])]),t._v(" "),n("div",{staticClass:"top-left-item"},[n("p",[t._v("生效起始时间:")]),t._v(" "),n("div",{staticClass:"top-input"},[n("date-and-error",{attrs:{"is-edit":t.onEdit,"input-height":"30px","input-width":"140px","error-key":"startTime"},model:{value:t.BudgetDetailManager.currentBudgetDetail.startTime,callback:function(e){t.$set(t.BudgetDetailManager.currentBudgetDetail,"startTime",e)},expression:"BudgetDetailManager.currentBudgetDetail.startTime"}})],1)]),t._v(" "),n("div",{staticClass:"top-left-item"},[n("p",[t._v("生效结束时间:")]),t._v(" "),n("div",{staticClass:"top-input"},[n("date-and-error",{attrs:{"is-edit":t.onEdit,"input-height":"30px","input-width":"140px","error-key":"endTime"},model:{value:t.BudgetDetailManager.currentBudgetDetail.endTime,callback:function(e){t.$set(t.BudgetDetailManager.currentBudgetDetail,"endTime",e)},expression:"BudgetDetailManager.currentBudgetDetail.endTime"}})],1)])]:t._e(),t._v(" "),t.onEdit?t._e():[n("div",{staticClass:"top-left-item"},[n("p",[t._v("单据标题:")]),t._v(" "),n("p",[t._v(t._s(t.BudgetDetailManager.currentBudgetDetail.title))])]),t._v(" "),n("div",{staticClass:"top-left-item"},[n("p",[t._v("申请人:")]),t._v(" "),n("p",[t._v(t._s(t.reporter))])]),t._v(" "),n("div",{staticClass:"top-left-item"},[n("p",[t._v("生效起始时间:")]),t._v(" "),n("p",[t._v(t._s(t.startTime))])]),t._v(" "),n("div",{staticClass:"top-left-item"},[n("p",[t._v("生效结束时间:")]),t._v(" "),n("p",[t._v(t._s(t.endTime))])])]],2)]),t._v(" "),n("div",{staticClass:"detail-list"},[n("budget-detail-list",{attrs:{list:t.BudgetDetailManager.currentBudgetDetail.content,"on-edit":t.onEdit}})],1)])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w100 h100"},[n("div",{staticClass:"content-header border-bottom"},[n("div",{staticClass:"col-12"},[n("h3",{staticClass:"pull-left"},[t._v("修改密码")]),t._v(" "),n("div",{staticClass:"tools pull-right"},[n("el-button",{attrs:{type:"warning",size:"large"},on:{click:t.handleSubmit}},[t._v("保存")])],1)]),t._v(" "),n("div",{staticStyle:{clear:"both"}})]),t._v(" "),n("div",{staticClass:"nn"},[n("img",{attrs:{src:"/static/images/changpwd.png"}}),t._v(" "),n("div",{staticClass:"form"},[n("div",{staticClass:"row m-b10"},[n("label",[t._v("原密码")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.userInfo.OldPassword,expression:"userInfo.OldPassword"}],attrs:{type:"password"},domProps:{value:t.userInfo.OldPassword},on:{input:function(e){e.target.composing||t.$set(t.userInfo,"OldPassword",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"row m-b10"},[n("label",[t._v("新密码")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.userInfo.NewPassword,expression:"userInfo.NewPassword"}],attrs:{type:"password"},domProps:{value:t.userInfo.NewPassword},on:{input:function(e){e.target.composing||t.$set(t.userInfo,"NewPassword",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"row m-b10"},[n("label",[t._v("确认新密码")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.userInfo.ReNewPassword,expression:"userInfo.ReNewPassword"}],attrs:{type:"password"},domProps:{value:t.userInfo.ReNewPassword},on:{input:function(e){e.target.composing||t.$set(t.userInfo,"ReNewPassword",e.target.value)}}})])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.loading?n("el-row",[n("el-col",{staticClass:"batch-template-loading-block",attrs:{span:24}},[n("span",[t._v("正在加载中")])])],1):n("el-row",[n("h3",[t._v("流程基本信息")]),t._v(" "),n("el-form",{attrs:{"label-position":"right",inline:"","label-width":"120px"}},[n("el-form-item",{attrs:{label:"模板ID:"}},[n("span",[t._v(t._s(t.template.id))])]),t._v(" "),n("el-form-item",{attrs:{label:"模板名称:"}},[n("span",[t._v(t._s(t.template.name))])]),t._v(" "),n("el-form-item",{attrs:{label:"公司:"}},[n("span",[t._v(t._s(t.template.company.name))])]),t._v(" "),n("el-form-item",{attrs:{label:"模板分类:"}},[n("span",[t._v(t._s(t.template.category.name))])]),t._v(" "),n("el-form-item",{attrs:{label:"创建人:"}},[n("span",[t._v(t._s(t.template.createUser.name))])]),t._v(" "),n("el-form-item",{attrs:{label:"最后更新时间:"}},[n("span",[t._v(t._s(t.template.lastDateTime))])]),t._v(" "),n("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"流程描述:"}},[n("span",[t._v(t._s(t.template.description))])])],1),t._v(" "),n("h3",[t._v("流程节点")]),t._v(" "),n("el-table",{ref:"nodeTable",staticStyle:{width:"100%"},attrs:{data:t.template.nodes,border:""}},[n("el-table-column",{attrs:{label:"序列",align:"center","header-align":"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.$index+1)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"节点名称",prop:"name"}}),t._v(" "),n("el-table-column",{attrs:{label:"类型",align:"center","header-align":"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(t.getNodeTypeName(e.row.nodeType))+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"voteCount",label:"人数",align:"center","header-align":"center",width:"100"}}),t._v(" "),n("el-table-column",{attrs:{label:"参于投票的人",width:"400"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"template-table-node-vote-user-cell-container"},t._l(e.row.users,function(e){return n("el-tag",{key:e.id,staticClass:"template-table-user-tag"},[n("span",{staticClass:"vote-user-span"},[t._v(t._s(e.name))])])}))]}}])})],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:t.title,visible:t.dialogVisible,size:"small",modal:!1,"modal-append-to-body":!1,"close-on-click-modal":!1,"before-close":t.Cancel},on:{"update:visible":function(e){t.dialogVisible=e}}},t._l(t.Source,function(e,i){return n("el-row",{key:i},[n("el-col",{attrs:{span:24}},[n("strong",[t._v(t._s(e.departName)+"/"+t._s(e.positionName))])]),t._v(" "),n("el-col",{attrs:{span:24}},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.Items,stripe:""}},[n("el-table-column",{attrs:{prop:"name",label:"名称"}}),t._v(" "),n("el-table-column",{attrs:{prop:"CalcTypeStr",label:"计算方式",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{prop:"baseScore",label:"基础分",width:"110"}}),t._v(" "),n("el-table-column",{attrs:{prop:"maxRate",label:"浮动区间",width:"110"}}),t._v(" "),n("el-table-column",{attrs:{prop:"associationSystemName",label:"关联系统",width:"200"}})],1)],1)],1)}))},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"KanbanBudgetList"},[n("grid-group-head",[n("grid-group-head-column",{attrs:{flexWidth:"0 0 200px",textAlign:"left"}},[n("h5",[t._v("起始预算总金额："+t._s(t.inittial_total))])]),t._v(" "),n("grid-group-head-column",{staticStyle:{"margin-left":"10px"},attrs:{flexWidth:"0 0 200px",textAlign:"left"}},[n("h5",[t._v("剩余预算总金额："+t._s(t.available_total))])])],1),t._v(" "),n("grid-head-row",[n("grid-head-column",{attrs:{flexWidth:"0 0 300px",textAlign:"left"}},[t._v("节点名称")]),t._v(" "),n("grid-head-column",{attrs:{flexWidth:"0 0 100px",textAlign:"left"}},[t._v("类型")]),t._v(" "),n("grid-head-column",{attrs:{flexWidth:"0 0 200px",textAlign:"left"}},[t._v("起始金额")]),t._v(" "),n("grid-head-column",{attrs:{flexWidth:"0 0 200px",textAlign:"left"}},[t._v("剩余金额")]),t._v(" "),n("grid-head-column",{attrs:{flexWidth:"0 0 200px",textAlign:"left"}},[t._v("起始时间")]),t._v(" "),n("grid-head-column",{attrs:{flexWidth:"0 0 200px",textAlign:"left"}},[t._v("结束时间")]),t._v(" "),n("grid-head-column",{attrs:{flexWidth:"0 0 300px",textAlign:"left"}},[t._v("事由")]),t._v(" "),n("grid-head-column",{attrs:{flexWidth:"0 0 100px",textAlign:"left"}})],1),t._v(" "),t._l(t.list,function(t,e){return[n("kanban-budget-list-item",{key:t.id,attrs:{item:t,"item-index":e}})]})],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"orgtree",attrs:{id:"org"}},[0==t.type?n("div",[t.isview?t._e():n("div",{staticStyle:{position:"relative","margin-bottom":"10px"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],staticStyle:{height:"32px",width:"100%","padding-right":"30px","padding-left":"10px"},attrs:{type:"text",placeholder:"请输入关键字"},domProps:{value:t.input},on:{input:function(e){e.target.composing||(t.input=e.target.value)}}}),t._v(" "),n("i",{staticClass:"fa fa-search",staticStyle:{position:"absolute",top:"0",right:"10px","line-height":"30px",cursor:"default"},on:{click:t.handleSearchClick}})]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.searchShow,expression:"searchShow"}],staticStyle:{border:"1px solid red",position:"absolute",top:"32px",left:"0","background-color":"#fff",width:"100%","z-index":"99999"},attrs:{id:"searchDiv"}},[n("ul",{staticStyle:{"list-style":"none"}},[t._l(t.searchNodes,function(e){return[n("li",{staticStyle:{display:"flex","justify-content":"space-between","border-bottom":"1px solid #000"}},[n("img",{staticStyle:{width:"50px",height:"50px",padding:"10px"},attrs:{src:"/static/images/logo.png"}}),t._v(" "),n("div",[n("p",[t._v(t._s(e.Name))]),t._v(" "),n("p",[t._v(t._s(e.Type))])]),t._v(" "),n("div"),t._v(" "),n("i",{staticClass:"fa fa-map-marker",staticStyle:{"margin-right":"10px","font-size":"30px","line-height":"50px"},on:{click:function(n){t.mapClick(e.ID)}}})])]})],2)])]):t._e(),t._v(" "),n("el-tree",{ref:"tree",attrs:{data:t.nodes,props:t.nodeProps,load:t.loadNode,"show-checkbox":!1,"node-key":"id","highlight-current":!0,"expand-on-click-node":!1,"render-content":t.renderContent},on:{"node-click":t.nodeClick,"node-collapse":t.nodeCollapse}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.optionsShow,expression:"optionsShow"}],staticClass:"options",attrs:{id:t.optionsId}},[n("ul",[n("li",{on:{click:function(e){return e.stopPropagation(),t.rename(e)}}},[t._v("重命名")]),t._v(" "),n("li",{class:{disable:t.ismove},on:{click:function(e){return e.stopPropagation(),t.moveOut(e)}}},[t._v("移动")]),t._v(" "),n("li",{class:{disable:!t.ismove},on:{click:function(e){return e.stopPropagation(),t.moveIn(e)}}},[t._v("移入")]),t._v(" "),n("li",{on:{click:function(e){return e.stopPropagation(),t.refreshNode(e)}}},[t._v("刷新")]),t._v(" "),n("li",{on:{click:function(e){return e.stopPropagation(),t.deleteNode(e)}}},[t._v("删除")])])]),t._v(" "),n("el-dialog",{attrs:{title:"添加部门或职位",visible:t.dialogVisible,size:"tiny"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("div",{staticClass:"row"},[n("label",[t._v("类型")]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.selectType,expression:"selectType"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectType=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"2"}},[t._v("部门")]),t._v(" "),n("option",{attrs:{value:"4"}},[t._v("职位")])])]),t._v(" "),n("label",{attrs:{draggable:"true"}},[t._v("名称")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.Name,expression:"Name"}],attrs:{type:"input",name:"Name"},domProps:{value:t.Name},on:{input:function(e){e.target.composing||(t.Name=e.target.value)}}}),t._v(" "),n("label",[t._v("英文")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.EnName,expression:"EnName"}],attrs:{type:"input",name:"EnName"},domProps:{value:t.EnName},on:{input:function(e){e.target.composing||(t.EnName=e.target.value)}}}),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.handleEdit}},[t._v("确 定")])],1)]),t._v(" "),n("el-dialog",{attrs:{title:"添加职位",visible:t.positionVisible,size:"tiny"},on:{"update:visible":function(e){t.positionVisible=e}}},[n("label",{attrs:{draggable:"true"}},[t._v("名称")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.Name,expression:"Name"}],attrs:{type:"input",name:"Name"},domProps:{value:t.Name},on:{input:function(e){e.target.composing||(t.Name=e.target.value)}}}),t._v(" "),n("label",[t._v("英文")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.EnName,expression:"EnName"}],attrs:{type:"input",name:"EnName"},domProps:{value:t.EnName},on:{input:function(e){e.target.composing||(t.EnName=e.target.value)}}}),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.positionVisible=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.handleEdit}},[t._v("确 定")])],1)]),t._v(" "),n("el-dialog",{attrs:{title:"添加角色",visible:t.roleVisible,size:"tiny"},on:{"update:visible":function(e){t.roleVisible=e}}},[n("label",{attrs:{draggable:"true"}},[t._v("名称")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.Name,expression:"Name"}],attrs:{type:"input",name:"Name"},domProps:{value:t.Name},on:{input:function(e){e.target.composing||(t.Name=e.target.value)}}}),t._v(" "),n("label",[t._v("英文")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.EnName,expression:"EnName"}],attrs:{type:"input",name:"EnName"},domProps:{value:t.EnName},on:{input:function(e){e.target.composing||(t.EnName=e.target.value)}}}),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.roleVisible=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.handleRoleEdit}},[t._v("确 定")])],1)]),t._v(" "),n("el-dialog",{attrs:{title:"添加职位",visible:t.rolePositionVisible,size:"tiny"},on:{"update:visible":function(e){t.rolePositionVisible=e}}},[n("position",{attrs:{companyId:t.companyId,positionId:t.selectedOptions},on:{"update:positionId":function(e){t.selectedOptions=e}}}),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.rolePositionVisible=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.handlePositionEdit}},[t._v("提 交")])],1)],1),t._v(" "),n("el-dialog",{attrs:{title:"提示",visible:t.dialogRename,size:"tiny"},on:{"update:visible":function(e){t.dialogRename=e}}},[n("label",{attrs:{draggable:"true"}},[t._v("名称")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.Name,expression:"Name"}],attrs:{type:"input",name:"Name"},domProps:{value:t.Name},on:{input:function(e){e.target.composing||(t.Name=e.target.value)}}}),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogRename=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.handleRename}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.item.isPreview,expression:"item.isPreview"}],staticClass:"performanceDefinitionItem",style:{"background-color":t.index%2==1?"#e4e8f1":"#FFF",border:t.item.conflictState?"2px solid red":"1px solid #ebeef5"}},[n("grid-row",{attrs:{item:t.item},on:{onSelected:t.onSelected}},[t.showCheck?n("grid-cell",{attrs:{flexWidth:"0 0 3%",textAlign:"center"}},[n("template",{slot:"static"},["draft"===t.item.state?n("el-checkbox",{staticStyle:{"margin-left":"5px"},on:{change:t.changeParentChecked},model:{value:t.item.checked,callback:function(e){t.$set(t.item,"checked",e)},expression:"item.checked"}}):t._e()],1)],2):t._e(),t._v(" "),t.item.isPreview&&t.onlyShow?n("grid-cell",{attrs:{"editing-mode":t.item.onEdit,"is-delete":t.item.delete,"is-show-hr":!1,flexWidth:"0 0 100px",textAlign:"center"}},[t.item.delete?n("template",{slot:"static"},[n("span",{staticClass:"invalid"},[t._v("失效！")])]):t._e(),t._v(" "),"draft"!==t.item.state||t.item.delete||t.item.conflictState?t._e():n("template",{slot:"static"},[n("span",{staticClass:"newAdd",staticStyle:{color:"red"}},[t._v("新增！")])]),t._v(" "),"effected"!==t.item.state||t.item.delete?t._e():n("template",{slot:"static"},[n("span",{staticClass:"newAdd"},[t._v("生效！")])]),t._v(" "),t.item.conflictState?n("template",{slot:"static"},[n("span",{staticClass:"newAdd",staticStyle:{color:"red"}},[t._v("版本冲突")])]):t._e()],2):t._e(),t._v(" "),n("div",{staticClass:"wrap-control"},[n("div",{staticClass:"wrap-one"},[n("grid-cell",{attrs:{"editing-mode":t.item.onEdit,"is-delete":t.item.delete,textAlign:"left","min-width":"100px"}},[n("template",{slot:"title"},[n("span",{staticClass:"span-label"},[t._v("分类：")])]),t._v(" "),n("template",{staticClass:"title",slot:"view"},[t._v("\n            "+t._s(t.item.tabType)+"\n          ")]),t._v(" "),n("template",{slot:"edit"},[n("input-item",{attrs:{"is-edit":t.item.onEdit,"is-delete":t.item.delete,"input-height":"30px","input-width":"100px"},model:{value:t.item.tabType,callback:function(e){t.$set(t.item,"tabType",e)},expression:"item.tabType"}})],1)],2),t._v(" "),n("grid-cell",{staticClass:"titleMove",attrs:{"editing-mode":t.item.onEdit,"is-delete":t.item.delete,textAlign:"left"}},[n("template",{slot:"title"},[n("span",{staticClass:"span-label"},[t._v("标题：")])]),t._v(" "),n("template",{staticClass:"title",slot:"view"},[t._v("\n            "+t._s(t.item.title)+"\n          ")]),t._v(" "),n("template",{slot:"edit"},[n("input-item",{attrs:{"is-edit":t.item.onEdit,"is-delete":t.item.delete,"input-height":"30px"},model:{value:t.item.title,callback:function(e){t.$set(t.item,"title",e)},expression:"item.title"}})],1)],2),t._v(" "),n("grid-cell",{staticClass:"basicPointsMove",attrs:{"editing-mode":t.item.onEdit,"is-delete":t.item.delete,textAlign:"center"}},[n("template",{slot:"title"},[n("span",{staticClass:"span-label"},[t._v("基础分：")])]),t._v(" "),n("template",{slot:"view"},[t._v("\n            "+t._s(t.item.baseScore)+"\n          ")]),t._v(" "),n("template",{slot:"edit"},[n("input-item",{attrs:{"is-edit":t.item.onEdit,"is-delete":t.item.delete,"input-height":"30px","input-width":"50px","input-center":"center"},model:{value:t.item.baseScore,callback:function(e){t.$set(t.item,"baseScore",e)},expression:"item.baseScore"}})],1)],2),t._v(" "),"cycle"===t.item.type||"routine"===t.item.type?n("grid-cell",{staticClass:"coefficientRangeMove",attrs:{"editing-mode":t.item.onEdit,"is-delete":t.item.delete,textAlign:"center"}},[n("template",{slot:"title"},[n("span",{staticClass:"span-label"},[t._v("系数范围：")])]),t._v(" "),n("template",{slot:"view"},[t._v("\n            "+t._s(t.item.minimumRatio)+" - "+t._s(t.item.maximumRatio)+"\n          ")]),t._v(" "),n("template",{slot:"edit"},[n("input-item",{attrs:{"is-edit":t.item.onEdit,"is-delete":t.item.delete,"input-height":"30px","input-width":"50px","input-center":"center",iconLeft:"-22px",iconRight:""},model:{value:t.item.minimumRatio,callback:function(e){t.$set(t.item,"minimumRatio",e)},expression:"item.minimumRatio"}}),t._v(" "),t._v("\n            -\n            "),n("input-item",{attrs:{"is-edit":t.item.onEdit,"is-delete":t.item.delete,"input-height":"30px","input-width":"50px","input-center":"center"},model:{value:t.item.maximumRatio,callback:function(e){t.$set(t.item,"maximumRatio",e)},expression:"item.maximumRatio"}})],1)],2):t._e(),t._v(" "),n("grid-cell",{staticClass:"typeMove",attrs:{"editing-mode":t.item.onEdit,"is-delete":t.item.delete,textAlign:"center"}},[n("template",{slot:"title"},[n("span",{staticClass:"span-label"},[t._v("类型：")])]),t._v(" "),n("template",{slot:"view"},[t._v("\n            "+t._s(t.type)+"\n          ")]),t._v(" "),n("template",{slot:"edit"},[n("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择",size:"small"},model:{value:t.item.type,callback:function(e){t.$set(t.item,"type",e)},expression:"item.type"}},t._l(t.typeConfig,function(t){return n("el-option",{key:t.itemId,attrs:{label:t.label,value:t.value}})}))],1)],2),t._v(" "),"cycle"===t.item.type?n("grid-cell",{staticClass:"periodMove",attrs:{"editing-mode":t.item.onEdit,"is-delete":t.item.delete,textAlign:"center"}},[n("template",{slot:"title"},[n("span",{staticClass:"span-label"},[t._v("周期：")])]),t._v(" "),n("template",{slot:"view"},[t._v("\n            "+t._s(t.item.startTime?t.startTime:"--")+"  |  "+t._s(t.item.workCycleValue)+" "+t._s(t.workCycleUnit?t.workCycleUnit+"/次":"--")+"\n          ")]),t._v(" "),n("template",{slot:"edit"},[n("el-date-picker",{staticStyle:{width:"150px","margin-right":"10px"},attrs:{type:"date",placeholder:"选择日期","picker-options":t.pickerOptions0},model:{value:t.item.startTime,callback:function(e){t.$set(t.item,"startTime",e)},expression:"item.startTime"}}),t._v(" "),n("input-item",{ref:"workCycleValue",attrs:{"is-edit":t.item.onEdit,"is-delete":t.item.delete,"input-height":"30px","input-width":"50px","input-center":"center"},model:{value:t.item.workCycleValue,callback:function(e){t.$set(t.item,"workCycleValue",e)},expression:"item.workCycleValue"}}),t._v(" "),t._v("\n            -\n            "),n("el-select",{staticStyle:{width:"60px"},attrs:{placeholder:"请选择",size:"small"},model:{value:t.item.workCycleUnit,callback:function(e){t.$set(t.item,"workCycleUnit",e)},expression:"item.workCycleUnit"}},t._l(t.cycleUnit,function(t){return n("el-option",{key:t.itemId,attrs:{label:t.label,value:t.value}})}))],1)],2):t._e(),t._v(" "),"measureTimes"===t.item.type||"measurePiece"===t.item.type?n("grid-cell",{staticClass:"unitsMove",attrs:{"editing-mode":t.item.onEdit,"is-delete":t.item.delete,textAlign:"center"}},[n("template",{slot:"title"},[n("span",{staticClass:"span-label"},[t._v("计量单位：")])]),t._v(" "),n("template",{slot:"static"},[t._v("\n\n            "+t._s(t.unit?t.unit:"--")+"\n          ")])],2):t._e(),t._v(" "),n("grid-cell",{attrs:{"editing-mode":t.item.onEdit,"is-delete":t.item.delete,textAlign:"left"}},[n("template",{slot:"title"},[n("span",{staticClass:"span-label"},[t._v("描述：")])]),t._v(" "),n("template",{staticClass:"title",slot:"view"},[t._v("\n            "+t._s(t.item.mark)+"\n          ")]),t._v(" "),n("template",{slot:"edit"},[n("input-item",{attrs:{"is-edit":t.item.onEdit,"is-delete":t.item.delete,"input-height":"30px","input-width":"300px;"},model:{value:t.item.mark,callback:function(e){t.$set(t.item,"mark",e)},expression:"item.mark"}})],1)],2),t._v(" "),n("grid-cell",{attrs:{"editing-mode":t.item.onEdit,"is-delete":t.item.delete,textAlign:"left"}},[n("template",{slot:"title"},[n("span",{staticClass:"span-label"},[t._v("结算确认人：")])]),t._v(" "),n("template",{slot:"view"},[t._v("\n            "+t._s(t.item.committedPerson.value)+"\n          ")]),t._v(" "),n("template",{slot:"edit"},[n("input-item-search",{attrs:{"query-list":t.queryList,"is-edit":t.item.onEdit,"input-height":"30px","input-width":"100px"},model:{value:t.item.committedPerson,callback:function(e){t.$set(t.item,"committedPerson",e)},expression:"item.committedPerson"}})],1)],2)],1),t._v(" "),t.isShowOtherLines?n("div",{staticClass:"wrap-two"},["otherSys"===t.item.type?n("grid-cell",{attrs:{"editing-mode":t.item.onEdit,"is-delete":t.item.delete,textAlign:"left","min-width":"100px"}},[n("template",{slot:"title"},[n("span",{staticClass:"span-label"},[t._v("外链网址：")])]),t._v(" "),n("template",{staticClass:"title",slot:"view"},[t._v("\n            "+t._s(t.item.externalLinks)+"\n          ")]),t._v(" "),n("template",{slot:"edit"},[n("div",{staticStyle:{flex:"1"}},[n("input-item",{attrs:{"is-edit":t.item.onEdit,"is-delete":t.item.delete,"input-height":"30px","input-width":"300px"},model:{value:t.item.externalLinks,callback:function(e){t.$set(t.item,"externalLinks",e)},expression:"item.externalLinks"}})],1)])],2):t._e(),t._v(" "),"otherSys"===t.item.type?n("grid-cell",{attrs:{"editing-mode":t.item.onEdit,"is-delete":t.item.delete,textAlign:"left",flexCenter:"left"}},[n("template",{slot:"title"},[t.item.onEdit?t._e():n("span",{staticClass:"span-label"},[t._v("拓展关键词: ")])]),t._v(" "),n("template",{slot:"view"},[0===t.item.extendedFields.length?n("span",[t._v("无")]):t._e(),t._v(" "),t._l(t.item.extendedFields,function(e,i){return t.item.extendedFields.length>0?n("span",{key:i,staticStyle:{display:"inline-block","margin-left":"5px"}},[t._v("\n              "+t._s(e)+"\n            ")]):t._e()})],2)],2):t._e(),t._v(" "),"statisticalTime"===t.item.type?n("grid-cell",{attrs:{"editing-mode":t.item.onEdit,"is-delete":t.item.delete,textAlign:"left",flexCenter:"left"}},[n("template",{slot:"title"},[n("span",{staticClass:"span-label"},[t._v("自定义模板: ")])]),t._v(" "),n("template",{slot:"view"},[0===t.item.templates.length?n("span",[t._v("无")]):t._e(),t._v(" "),t._l(t.item.templates,function(e,i){return t.item.templates.length>0?n("span",{key:i,staticStyle:{display:"inline-block","margin-left":"5px","margin-right":"5px","background-color":"#e4e8f1",padding:"0 3px"}},[t._v("\n              "+t._s(e.keyName)+" : "+t._s("string"===e.keyType?"文本":"Integer"===e.keyType?"整数":"小数")+"\n            ")]):t._e()})],2),t._v(" "),n("template",{slot:"edit"},[n("extended-template",{attrs:{"is-edit":t.item.onEdit},model:{value:t.item.templates,callback:function(e){t.$set(t.item,"templates",e)},expression:"item.templates"}})],1)],2):t._e()],1):t._e(),t._v(" "),t.isShowOtherLines?n("div",{staticClass:"wrap-three"},[n("grid-cell",{attrs:{"editing-mode":t.item.onEdit,"is-delete":t.item.delete,textAlign:"left"}},[n("template",{slot:"static"},[n("report-chain",{attrs:{"is-edit":t.item.onEdit},model:{value:t.item.reportChain,callback:function(e){t.$set(t.item,"reportChain",e)},expression:"item.reportChain"}})],1)],2)],1):t._e()]),t._v(" "),t.onlyShow?n("grid-cell",{attrs:{flexWidth:"1",textAlign:"center"}},[n("template",{slot:"static"},[t._l(t.operations,function(e){return[n("el-button",{key:e.itemId,attrs:{type:e.type,size:"mini"},on:{click:function(n){n.stopPropagation(),t.handleOperation(e.name,t.item)}}},[n("i",{staticClass:"fa fa-lg",class:e.icon})])]})],2)],2):t._e()],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{viewDocument:t.document.viewMode}},[n("ptit-form",{ref:"form",attrs:{model:t.document,states:["view"],state:t.state,validator:t.document.validator}},[n("ptit-form-card",[n("template",{slot:"header"},[n("h3",[t._v(t._s(t._tt("付款信息")))])]),t._v(" "),n("div",{staticClass:"ptit-col-3"},[n("ptit-input-item",{attrs:{label:t._tt("标题")+"*:",name:"title",prop:"Title",followFormState:t.isFollow,itemState:t.baseValue},model:{value:t.document.Title,callback:function(e){t.$set(t.document,"Title",e)},expression:"document.Title"}}),t._v(" "),n("ptit-input-item",{attrs:{label:t._tt("付款单号")+"*:",name:"paymentCode",prop:"PaymentCode",followFormState:t.isFollow,itemState:t.baseValue},model:{value:t.document.PaymentCode,callback:function(e){t.$set(t.document,"PaymentCode",e)},expression:"document.PaymentCode"}})],1),t._v(" "),n("div",{staticClass:"ptit-col-3"},[n("ptit-input-item",{attrs:{label:t._tt("供应商")+":",name:"supplierID",prop:"SupplierID",followFormState:t.isFollow,itemState:t.baseValue},model:{value:t.document.SupplierID,callback:function(e){t.$set(t.document,"SupplierID",e)},expression:"document.SupplierID"}},[n("document-auto-complete",{attrs:{selectedDocumentId:t.document.SupplierID,document:t.document,companyId:t.document.CompanyID,documentType:2,optionStatus:{SupplierStatus:3}},on:{clear:t.clear},model:{value:t.document.Supplier,callback:function(e){t.$set(t.document,"Supplier",e)},expression:"document.Supplier"}}),t._v(" "),n("template",{slot:"viewSlot"},[t._v(t._s(t.document.SupplierName))])],2),t._v(" "),n("ptit-input-item",{attrs:{label:t._tt("付款方式")+":",name:"payType",prop:"PayType",followFormState:t.isFollow,itemState:t.baseValue},model:{value:t.document.PayType,callback:function(e){t.$set(t.document,"PayType",e)},expression:"document.PayType"}},[n("el-select",{attrs:{placeholder:t._tt("请选择")},on:{change:t.changePayType},model:{value:t.document.PayType,callback:function(e){t.$set(t.document,"PayType",e)},expression:"document.PayType"}},t._l(t.payTypeList,function(t){return n("el-option",{key:t.value,attrs:{label:t.text,value:t.value}})})),t._v(" "),n("template",{slot:"viewSlot"},[t._v(t._s(t.getTypeName(t.document.PayType)))])],2),t._v(" "),1==t.document.PayType?n("ptit-input-item",{attrs:{label:t._tt("转帐帐号")+"*:",name:"bankAccount",prop:"BankAccount",followFormState:t.isFollow,itemState:t.baseValue},model:{value:t.document.BankAccount,callback:function(e){t.$set(t.document,"BankAccount",e)},expression:"document.BankAccount"}},[n("el-autocomplete",{attrs:{"fetch-suggestions":t.querySearch,placeholder:t._tt("请输入内容")},on:{select:t.handleSelect},model:{value:t.document.BankAccount,callback:function(e){t.$set(t.document,"BankAccount",e)},expression:"document.BankAccount"}})],1):t._e()],1)],2),t._v(" "),n("ptit-form-card",{staticClass:"ptit-col-12"},[n("template",{slot:"header"},[n("h3",[t._v(t._s(t._tt("条款信息"))+" "),n("ptit-button",{attrs:{followFormState:t.isFollow,itemState:t.baseValue},on:{click:t.open}},[t._v(t._s(t._tt("选择条款")))])],1)]),t._v(" "),n("div",[n("el-table",{attrs:{data:t.document.PayableTerms}},[n("el-table-column",{attrs:{prop:"ItemName",label:t._tt("合同编号")}}),t._v(" "),n("el-table-column",{attrs:{prop:"Index",label:t._tt("款期")},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",[t._v(t._s(t._tt("第"))+t._s(e.row.Index)+t._s(t._tt("期")))])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"MaxAmount",label:t._tt("总金额(元)")}}),t._v(" "),n("el-table-column",{attrs:{prop:"Payment",label:t._tt("本次支付金额")},scopedSlots:t._u([{key:"default",fn:function(e){return[n("TableInputItem",{attrs:{isShow:t.baseValue},on:{blur:function(n){t.checkPayment(e.row)}},model:{value:e.row.Payment,callback:function(n){t.$set(e.row,"Payment",n)},expression:"scope.row.Payment"}})]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"EstimateTime",label:t._tt("预计付款时间")}}),t._v(" "),t.state?t._e():n("el-table-column",{attrs:{prop:"",label:t._tt("操作")},scopedSlots:t._u([{key:"default",fn:function(e){return[n("ptit-button",{attrs:{followFormState:t.isFollow,itemState:t.baseValue},on:{click:function(n){t.deletePayClause(e.$index,e.row)}}},[t._v(t._s(t._tt("删除")))])]}}])})],1)],1)],2),t._v(" "),n("ptit-form-card",{directives:[{name:"show",rawName:"v-show",value:t.document.PaymentStatus>1,expression:"document.PaymentStatus > 1"}],staticClass:"ptit-col-12",attrs:{title:t._tt("凭证信息")}},[n("ImagesUpload",{attrs:{showLabel:!1,imageFiles:t.document.PaymentVouchers,followFormState:t.isFollow,itemState:t.imageValue},on:{UpdateImages:t.updatePaymentVouchers}})],1),t._v(" "),n("ptit-form-card",{staticClass:"ptit-col-12",attrs:{title:t._tt("附件信息")}},[n("AttachmentsUpload",{attrs:{showLabel:!1,doc:t.document,followFormState:t.isFollow,itemState:t.baseValue}})],1)],1),t._v(" "),n("el-dialog",{attrs:{title:t._tt("付款条款"),visible:t.dialogVisible,size:"large"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-table",{ref:"multipleTable",attrs:{data:t.payClauses,border:"","tooltip-effect":"dark",height:"260"},on:{"selection-change":t.selectionPayClauses}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),n("el-table-column",{attrs:{prop:"Title",label:t._tt("合同名称"),width:"180"}}),t._v(" "),n("el-table-column",{attrs:{prop:"ItemName",label:t._tt("条款名称"),width:"180"}}),t._v(" "),n("el-table-column",{attrs:{prop:"Maximum",label:t._tt("总金额(元)"),width:"140",align:"right"}}),t._v(" "),n("el-table-column",{attrs:{prop:"ActualPayment",label:t._tt("已支付(元)"),width:"140",align:"right"}}),t._v(" "),n("el-table-column",{attrs:{prop:"AppliedAmount",label:t._tt("已申请(元)"),width:"140",align:"right"}}),t._v(" "),n("el-table-column",{attrs:{prop:"RemainingAmount",label:t._tt("可申请(元)"),width:"140",align:"right"}}),t._v(" "),n("el-table-column",{attrs:{prop:"BankName",label:t._tt("账户")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.BankAccount)+" - "+t._s(e.row.AccountHolder)+" ("+t._s(e.row.BankName)+")\n          ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"ExpectedPaidTime",label:t._tt("预计付款时间"),width:"186",fixed:"right"}})],1),t._v(" "),n("br"),t._v(" "),n("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v(t._s(t._tt("取 消")))]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.submitPayClause}},[t._v(t._s(t._tt("确 定")))])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.inTab?t._e():n("el-dialog",{attrs:{title:t._tt("新增签批文档"),visible:t.isDialogShow,"modal-append-to-body":!0,size:"tiny"},on:{"update:visible":function(e){t.isDialogShow=e}}},[n("ptit-form",[n("ptit-form-item",{attrs:{ignoreViewState:!0,label:t._tt("文档类型")+":"}},[n("el-select",{attrs:{placeHolder:t._tt("请选择文档类型")},model:{value:t.selectedDocumentType,callback:function(e){t.selectedDocumentType=e},expression:"selectedDocumentType"}},t._l(t.documentTypes,function(e){return n("el-option",{key:e.DocumentType,attrs:{label:t._tt(e.TypeName),value:e.DocumentType}})}))],1),t._v(" "),n("ptit-form-item",{attrs:{ignoreViewState:!0}},[n("el-checkbox",{model:{value:t.selectExistsDocument,callback:function(e){t.selectExistsDocument=e},expression:"selectExistsDocument"}},[t._v(t._s(t._tt("选择现有文档")))])],1),t._v(" "),n("ptit-form-item",{attrs:{ignoreViewState:!0,label:t._tt("文档名称")+":"}},[n("el-select",{attrs:{filterable:"",remote:"","remote-method":t.onSearchDocument,loading:t.inSearchingDocument,placeHolder:t._tt("请输入文档关键字"),disabled:!t.selectExistsDocument},model:{value:t.selectedDocumentId,callback:function(e){t.selectedDocumentId=e},expression:"selectedDocumentId"}},t._l(t.documents,function(t){return n("el-option",{key:t.DocumentId,attrs:{label:t.Title,value:t.DocumentId}})}))],1)],1),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("button",{attrs:{type:"button"},on:{click:function(e){t.onCreateDocument()}}},[t._v(t._s(t._tt("新增")))])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"endorsement-attachments"},[n("div",{staticClass:"endorsement-attachment-upload"},[n("div",{staticClass:"endorsement-attachment-upload-default"},[t.isMobile&&t.endorsementFile.viewMode?t._e():n("el-upload",{attrs:{disabled:t.endorsementFile.viewMode,action:t.uploadUrl,headers:t.headers,data:t.postData,"file-list":t.fileList,"on-preview":t.onFilePreview,"on-success":t.onUploadSuccessed,"on-error":t.onUploadFailed,"on-remove":t.onFileRemoved}},[t.endorsementFile.viewMode?t._e():n("el-button",{key:"add",attrs:{type:"primary",size:"small"}},[t._v(t._s(t._tt("添加附件")))]),t._v(" "),t.showMore?n("el-button",{key:"more",staticClass:"more",attrs:{type:"primary",size:"small"},on:{click:t.showMoreDialog}},[t._v(t._s(t._tt("更多"))+"...")]):t._e()],1),t._v(" "),t.isMobile&&t.endorsementFile.viewMode?n("ul",{staticClass:"ios-file-list"},t._l(t.endorsementFile.Attachments,function(e){return n("li",{key:e.uid},[n("a",{attrs:{href:e.url,target:"_blank"}},[t._v(t._s(e.name))])])})):t._e()],1)]),t._v(" "),n("el-dialog",{attrs:{title:t._tt("附件列表"),visible:t.isListDialogShow,"modal-append-to-body":!0,size:"tiny"},on:{"update:visible":function(e){t.isListDialogShow=e}}},[t.isMobile?t._e():n("el-upload",{staticClass:"endorsement-dialog-uploader",attrs:{disabled:t.endorsementFile.viewMode,action:t.uploadUrl,headers:t.headers,data:t.postData,"on-preview":t.onFilePreview,"on-remove":t.onFileRemoved,"file-list":t.endorsementFile.Attachments}})],1),t._v(" "),n("el-dialog",{model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[n("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-select",{on:{change:t.handleCompanySelect},model:{value:t.selectedCompanyId,callback:function(e){t.selectedCompanyId=e},expression:"selectedCompanyId"}},t._l(t.companies,function(e){return n("el-option",{key:e.CompanyID,attrs:{label:t._tt({cn:e.Name,en:e.EnName}),value:e.CompanyID,placeHolder:t._tt("请选择公司")}})}))},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-select",{attrs:{filterable:"",remote:"",clearable:"",loading:t.loading,"remote-method":t.searchDocuments,placeholder:t._tt("请输入名称")},on:{clear:function(e){t.clear()}},model:{value:t.DocumentID,callback:function(e){t.DocumentID=e},expression:"DocumentID"}},t._l(t.documents,function(t){return n("el-option",{key:t.DocumentId,attrs:{value:t.DocumentId,label:t.DocumentId<0?t.TitleForTab:t.Title}})}))},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"inner-node",attrs:{"element-loading-text":"正在加载审批意见"}},[n("h3",{staticClass:"border-bottom"},[t._v(t._s(t._tt("审批意见"))+"\n    "),n("el-tooltip",{attrs:{content:t.tabButtonTooltip,placement:"left"}},[n("el-button",{staticClass:"tab-button",attrs:{type:"text",alt:"在Tab中显示"},on:{click:t.onShowInTab}},[n("i",{staticClass:"fa fa-external-link"})])],1)],1),t._v(" "),n("ul",{staticClass:"group-list"},[t._l(t.nodes,function(e){return[n("li",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"node.visible"}],staticClass:"node-active bg",staticStyle:{"padding-bottom":"8px"}},[n("p",{staticClass:"name",staticStyle:{"padding-bottom":"4px"}},[t._v(t._s(e.userName)+" "+t._s(t._tt(e.nodeName))),n("span",[t._v(t._s(t.formatCreateDateTime(e)))])]),t._v(" "),n("p",{staticClass:"comment",staticStyle:{"font-size":"80%","padding-bottom":"8px"},domProps:{innerHTML:t._s(e.content)}}),t._v(" "),t._l(e.attachments,function(e){return[n("a",{staticStyle:{"font-size":"14px","background-color":"#fff",padding:"6px","margin-bottom":"2px",display:"block",color:"#000"},attrs:{href:e.Url,target:"_blank"}},[t._v(t._s(e.Name))])]}),t._v(" "),e.reciveUsers.length>0?n("p",{staticStyle:{"font-size":"70%",padding:"6px","word-break":"break-all"}},[n("span",[t._v(t._s(t._tt("发送给"))+":")]),t._v(t._s(e.reciveUsers))]):t._e()],2)]})],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"document-filter"},[n("ptit-form",[n("div",{staticClass:"ptit-form-item-inline"},[n("ptit-input-item",{staticStyle:{width:"150px"},attrs:{showLabel:!1,placeHolder:t._tt("输入关键字")},model:{value:t.queryEnvelop.Title,callback:function(e){t.$set(t.queryEnvelop,"Title",e)},expression:"queryEnvelop.Title"}}),t._v(" "),0==t.activeType?n("ptit-input-item",{staticStyle:{width:"100px"},attrs:{showLabel:!1,name:"contractStatus"},model:{value:t.queryEnvelop.ContractStatus,callback:function(e){t.$set(t.queryEnvelop,"ContractStatus",e)},expression:"queryEnvelop.ContractStatus"}},[n("el-select",{model:{value:t.queryEnvelop.ContractStatus,callback:function(e){t.$set(t.queryEnvelop,"ContractStatus",e)},expression:"queryEnvelop.ContractStatus"}},t._l(t.queryEnvelop.SelectStatus,function(t){return n("el-option",{key:t.id,attrs:{value:t.id,label:t.name}})}))],1):t._e(),t._v(" "),n("ptit-input-item",{attrs:{showLabel:!1}},[n("el-date-picker",{staticStyle:{width:"150px"},attrs:{type:"date",placeholder:t._tt("有效期至")+":"},model:{value:t.queryEnvelop.Validity,callback:function(e){t.$set(t.queryEnvelop,"Validity",e)},expression:"queryEnvelop.Validity"}})],1),t._v(" "),n("button",{staticClass:"b-white-option",attrs:{type:"button"},on:{click:t.doQuery}},[t._v(t._s(t._tt("搜索")))]),t._v(" "),n("button",{staticClass:"b-white-option",attrs:{type:"button"},on:{click:t.onReset}},[t._v(t._s(t._tt("重置")))])],1)])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("select",{directives:[{name:"model",rawName:"v-model",value:t.cselectid,expression:"cselectid"}],staticStyle:{height:"40px",border:"1px solid lightgrey","border-radius":"4px",outline:"none","font-size":"14px",color:"grey",cursor:"pointer"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.cselectid=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"0"}},[t._v("请选择")]),t._v(" "),t._l(t.items,function(e){return[n("option",{domProps:{value:e.value}},[t._v(t._s(e.text))])]})],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dailog-white-r"},[n("div",{staticClass:"title"},[t._v(t._s(t._tt("修改密码")))]),t._v(" "),n("div",{staticClass:"close icon32 icon-x32",staticStyle:{position:"absolute",top:"20px",left:"920px"},on:{click:t.Close}}),t._v(" "),n("div",{staticClass:"check h-center80 i1-lightgrey-hlx"},[n("div",{staticClass:"label"},[n("font",{attrs:{color:"grey",size:"4px;"}},[t._v(t._s(t._tt("旧密码"))),n("font",{attrs:{color:"red"}},[t._v("*")])],1)],1),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.UserPassword,expression:"UserPassword"}],attrs:{type:"password",placeholder:t._tt("请输入旧密码")},domProps:{value:t.UserPassword},on:{input:function(e){e.target.composing||(t.UserPassword=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"pw h-center80 i1-lightgrey-hlx"},[n("div",{staticClass:"label"},[n("font",{attrs:{color:"grey",size:"4px;"}},[t._v(t._s(t._tt("新密码"))),n("font",{attrs:{color:"red"}},[t._v("*")])],1)],1),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.NewPassword,expression:"NewPassword"}],attrs:{type:"password",placeholder:t._tt("请输入新密码")},domProps:{value:t.NewPassword},on:{input:function(e){e.target.composing||(t.NewPassword=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"checkpw h-center80 i1-lightgrey-hlx"},[n("div",{staticClass:"label"},[n("font",{attrs:{color:"grey",size:"4px;"}},[t._v(t._s(t._tt("确认新密码"))),n("font",{attrs:{color:"red"}},[t._v("*")])],1)],1),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.ConfirmPassword,expression:"ConfirmPassword"}],attrs:{type:"password",placeholder:t._tt("请再次输入新密码")},domProps:{value:t.ConfirmPassword},on:{input:function(e){e.target.composing||(t.ConfirmPassword=e.target.value)}}})]),t._v(" "),n("button",{staticClass:"confirm_button h-center30 b-orange-m btitle-orange-m",on:{click:t.ChangePassword}},[t._v(t._s(t._tt("确 定")))])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"body",staticStyle:{border:"0px solid red",left:"215px","margin-top":"22px","overflow-y":"auto","max-height":"810px",width:"auto"}},[n("div",{staticClass:"white_board_0001"},[n("font",{staticClass:"p-l1t5",attrs:{color:"grey",size:"3px"}},[n("b",[t._v("基础信息")])]),t._v(" "),n("div",{staticClass:"hr-001"}),t._v(" "),n("div",{staticClass:"hr-002"}),t._v(" "),n("div",{staticClass:"hr-003"}),t._v(" "),n("hr",{staticStyle:{position:"relative",top:"20%"},attrs:{color:"#e3e7ea"}}),t._v(" "),n("div",{staticClass:"input-performance",staticStyle:{color:"#858585"}},[n("i",{staticClass:"fa fa-user",attrs:{"aria-hidden":"true"}}),t._v(" "),n("font",{on:{click:t.HandleImport}},[t._v("导入绩效")])],1),t._v(" "),n("div",{staticClass:"download-template",staticStyle:{color:"#858585"}},[n("i",{staticClass:"fa fa-bars",attrs:{"aria-hidden":"true"}}),t._v(" "),n("font",{on:{click:t.DownloadTmp}},[t._v("下载模板")])],1),t._v(" "),n("div",{staticClass:"select-new-position",staticStyle:{color:"#858585"}},[n("i",{staticClass:"fa fa-mouse-pointer",attrs:{"aria-hidden":"true"}}),t._v(" "),n("font",{on:{click:t.SelectPosition}},[t._v("选择新职位")])],1),t._v(" "),n("div",{staticClass:"white_board_0001_title"},[n("font",{attrs:{color:"grey",size:"2px"}},[t._v("标题")]),t._v("   \n  \t\t\t"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.data.title,expression:"data.title"}],staticStyle:{height:"40px",border:"1px solid lightgrey","border-radius":"4px",outline:"none","font-size":"14px",color:"grey",cursor:"pointer"},attrs:{type:"text"},domProps:{value:t.data.title},on:{input:function(e){e.target.composing||t.$set(t.data,"title",e.target.value)}}})],1),t._v(" "),n("div",{staticClass:"white_board_0001_date"},[n("font",{attrs:{color:"grey",size:"2px"}},[t._v("日期")]),t._v("   \n  \t\t\t"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.data.createTime,expression:"data.createTime"}],staticStyle:{height:"40px",border:"1px solid lightgrey","border-radius":"1px",outline:"none","font-size":"14px",color:"grey",cursor:"pointer"},attrs:{type:"date",disabled:""},domProps:{value:t.data.createTime},on:{input:function(e){e.target.composing||t.$set(t.data,"createTime",e.target.value)}}})],1),t._v(" "),n("div",{staticClass:"white_board_0001_submitter"},[n("font",{attrs:{color:"grey",size:"2px"}},[t._v("提交人")]),t._v("   \n  \t\t\t"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.data.createUserName,expression:"data.createUserName"}],staticStyle:{height:"40px",border:"1px solid lightgrey","border-radius":"1px",outline:"none","font-size":"14px",color:"grey",cursor:"pointer"},attrs:{type:"text",disabled:""},domProps:{value:t.data.createUserName},on:{input:function(e){e.target.composing||t.$set(t.data,"createUserName",e.target.value)}}})],1),t._v(" "),n("div",{staticClass:"white_board_0001_description"},[n("font",{attrs:{color:"grey",size:"2px"}},[t._v("描述")]),t._v("   \n  \t\t\t"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.data.description,expression:"data.description"}],staticStyle:{width:"86.3%",height:"60px",border:"1px solid lightgrey","border-radius":"4px",outline:"none","font-size":"14px",color:"grey",cursor:"pointer"},attrs:{type:"text"},domProps:{value:t.data.description},on:{input:function(e){e.target.composing||t.$set(t.data,"description",e.target.value)}}})],1)],1),t._v(" "),t._l(t.position,function(e){return[n("div",{staticClass:"white_board_0002"},[n("font",{staticClass:"p-l1t5",attrs:{color:"grey",size:"3px"}},[n("b",[t._v(t._s(e.departName)+"/"+t._s(e.positionName))])]),t._v(" "),n("div",{staticClass:"hr-001"}),t._v(" "),n("div",{staticClass:"hr-002"}),t._v(" "),n("hr",{staticStyle:{position:"relative",top:"20%"},attrs:{color:"#e3e7ea"}}),t._v(" "),n("div",{staticClass:"new-creat-performance",staticStyle:{color:"#858585",right:"17%"}},[n("i",{staticClass:"fa fa-user",attrs:{"aria-hidden":"true"}}),t._v(" "),n("font",{on:{click:function(n){t.AddItem(e)}}},[t._v("新增绩效项")])],1),t._v(" "),n("div",{staticClass:"new-creat-performance",staticStyle:{color:"#858585"}},[n("i",{staticClass:"fa fa-user",attrs:{"aria-hidden":"true"}}),t._v(" "),n("font",{on:{click:function(n){t.ImportItem(e)}}},[t._v("导入绩效")])],1),t._v(" "),n("div",{staticClass:"delete-performance",staticStyle:{color:"#858585"}},[n("i",{staticClass:"fa fa-bars",attrs:{"aria-hidden":"true"}}),t._v(" "),n("font",{on:{click:function(n){t.DeletePosition(e.positionId)}}},[t._v("删除职位绩效")])],1),t._v(" "),n("div",{staticClass:"white_board_0002_table"},[n("table",{attrs:{border:"0"}},[t._m(0,!0),t._v(" "),t._l(e.Items,function(i,a){return[n("tr",{staticStyle:{"font-size":"14px",color:"grey"},attrs:{bgcolor:"#f5f5f5"}},[n("td",[t._v(t._s(a+1))]),t._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:i.name,expression:"citem.name"}],staticStyle:{height:"30px"},attrs:{type:"text"},domProps:{value:i.name},on:{input:function(e){e.target.composing||t.$set(i,"name",e.target.value)}}})]),t._v(" "),n("td",[n("category",{attrs:{selectid:i.categoryId,companyid:t.companyid},on:{"update:selectid":function(e){t.$set(i,"categoryId",e)}}})],1),t._v(" "),n("td",[n("calctype",{attrs:{calc:i.calcType},on:{"update:calc":function(e){t.$set(i,"calcType",e)}}})],1),t._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:i.baseScore,expression:"citem.baseScore"}],staticStyle:{width:"60px",height:"30px"},attrs:{type:"text"},domProps:{value:i.baseScore},on:{input:function(e){e.target.composing||t.$set(i,"baseScore",e.target.value)}}})]),t._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:i.minRate,expression:"citem.minRate"}],staticStyle:{width:"60px",height:"30px"},attrs:{type:"text"},domProps:{value:i.minRate},on:{input:function(e){e.target.composing||t.$set(i,"minRate",e.target.value)}}}),t._v("-"),n("input",{directives:[{name:"model",rawName:"v-model",value:i.maxRate,expression:"citem.maxRate"}],staticStyle:{width:"60px",height:"30px"},attrs:{type:"text"},domProps:{value:i.maxRate},on:{input:function(e){e.target.composing||t.$set(i,"maxRate",e.target.value)}}})]),t._v(" "),n("td",[n("project",{attrs:{selectid:i.associationSystemId,subselectid:i.associationSystemItemId},on:{"update:selectid":function(e){t.$set(i,"associationSystemId",e)},"update:subselectid":function(e){t.$set(i,"associationSystemItemId",e)}}})],1),t._v(" "),n("td",[n("table",{staticStyle:{width:"70%",color:"#8fc1ff"}},[n("tr",[n("td",{on:{click:function(n){t.EditItem(e.positionId,a)}}},[t._v("编辑")]),t._v(" "),n("td",{on:{click:function(n){t.DeleteItem(e.positionId,a)}}},[t._v("删除")])])])])])]})],2)])],1)]})],2),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.itemShow,expression:"itemShow"}]},[n("div",{staticClass:"white-board-style",staticStyle:{width:"65%",height:"58%",position:"absolute",top:"16%",left:"17.5%"}},[n("font",{staticStyle:{"letter-spacing":"1px",position:"absolute",top:"3%",left:"42%"},attrs:{color:"grey",size:"5px"}},[n("b",[t._v("新增绩效细目")])]),t._v(" "),n("button",{staticStyle:{position:"absolute",top:"3%",right:"3%",border:"none","background-color":"transparent"},on:{click:function(e){t.itemShow=!1}}},[n("i",{staticClass:"fa fa-times fa-2x",staticStyle:{color:"grey"},attrs:{"aria-hidden":"true"}})]),t._v(" "),n("hr",{staticStyle:{position:"absolute",top:"11%",left:"3%"},attrs:{width:"94%",color:"lightgrey"}}),t._v(" "),n("div",{staticStyle:{position:"absolute",top:"18%",left:"3%",width:"100%"}},[t._v("\n      \t\t\t    "),n("font",{attrs:{size:"3px",color:"grey"}},[t._v("\n      \t\t\t\t名称\n      \t\t\t")]),t._v("   \n      \t\t\t"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.currentItem.name,expression:"currentItem.name"}],staticStyle:{width:"86.3%",height:"40px",border:"1px solid lightgrey","border-radius":"4px",outline:"none","font-size":"14px",color:"grey",cursor:"pointer"},attrs:{type:"text"},domProps:{value:t.currentItem.name},on:{input:function(e){e.target.composing||t.$set(t.currentItem,"name",e.target.value)}}})],1),t._v(" "),n("div",{staticStyle:{position:"absolute",top:"31%",left:"3%",width:"100%"}},[n("font",{attrs:{size:"3px",color:"grey"}},[t._v("   基础分")]),t._v("  \n      \t\t\t"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.currentItem.baseScore,expression:"currentItem.baseScore"}],staticStyle:{width:"22.1%",height:"40px",border:"1px solid lightgrey","border-radius":"4px",outline:"none","font-size":"14px",color:"grey",cursor:"pointer"},attrs:{type:"text"},domProps:{value:t.currentItem.baseScore},on:{input:function(e){e.target.composing||t.$set(t.currentItem,"baseScore",e.target.value)}}})],1),t._v(" "),n("div",{staticStyle:{position:"absolute",top:"31%",left:"36%"}},[n("font",{attrs:{size:"3px",color:"grey"}},[t._v("计算方式")]),t._v("  \n      \t\t\t"),n("calctype",{attrs:{calc:t.currentItem.calcType},on:{"update:calc":function(e){t.$set(t.currentItem,"calcType",e)}}})],1),t._v(" "),n("div",{staticStyle:{position:"absolute",top:"31%",left:"67.2%"}},[n("font",{attrs:{size:"3px",color:"grey"}},[t._v("绩效分类")]),t._v("  \n      \t\t\t"),n("category",{attrs:{selectid:t.currentItem.categoryId},on:{"update:selectid":function(e){t.$set(t.currentItem,"categoryId",e)}}})],1),t._v(" "),n("div",{staticStyle:{position:"absolute",top:"44%",left:"1.5%",width:"100%"}},[n("font",{attrs:{size:"3px",color:"grey"}},[t._v("   浮动区间")]),t._v("  \n    \t\t\t"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.currentItem.minRate,expression:"currentItem.minRate"}],staticStyle:{width:"9.7%",height:"40px",border:"1px solid lightgrey","border-radius":"4px",outline:"none","font-size":"14px",color:"grey",cursor:"pointer"},attrs:{type:"text"},domProps:{value:t.currentItem.minRate},on:{input:function(e){e.target.composing||t.$set(t.currentItem,"minRate",e.target.value)}}}),t._v(" "),n("font",{attrs:{size:"3px",color:"grey"}},[t._v(" - ")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.currentItem.maxRate,expression:"currentItem.maxRate"}],staticStyle:{width:"9.7%",height:"40px",border:"1px solid lightgrey","border-radius":"4px",outline:"none","font-size":"14px",color:"grey",cursor:"pointer"},attrs:{type:"text"},domProps:{value:t.currentItem.maxRate},on:{input:function(e){e.target.composing||t.$set(t.currentItem,"maxRate",e.target.value)}}})],1),t._v(" "),n("div",{staticStyle:{position:"absolute",top:"44%",left:"35.8%",width:"100%"}},[n("font",{attrs:{size:"3px",color:"grey"}},[t._v("关联系统工作项")]),t._v("  \n      \t\t\t"),n("project",{attrs:{selectid:t.currentItem.associationSystemId,subselectid:t.currentItem.associationSystemItemId},on:{"update:selectid":function(e){t.$set(t.currentItem,"associationSystemId",e)},"update:subselectid":function(e){t.$set(t.currentItem,"associationSystemItemId",e)}}})],1),t._v(" "),n("div",{staticStyle:{position:"absolute",top:"57%",left:"3%",width:"100%"}},[t._v("\n    \t\t\t    "),n("font",{attrs:{size:"3px",color:"grey"}},[t._v("\n    \t\t\t\t说明\n    \t\t\t")]),t._v("   \n    \t\t\t"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.currentItem.description,expression:"currentItem.description"}],staticStyle:{width:"86.3%",height:"60px",border:"1px solid lightgrey","border-radius":"4px",outline:"none","font-size":"14px",color:"grey",cursor:"pointer"},attrs:{type:"text"},domProps:{value:t.currentItem.description},on:{input:function(e){e.target.composing||t.$set(t.currentItem,"description",e.target.value)}}})],1),t._v(" "),n("button",{staticStyle:{position:"absolute",top:"90%",right:"14%",width:"90px",height:"35px","background-color":"orange","border-radius":"5px","text-align":"center",color:"white",cursor:"pointer","font-size":"14px",border:"none","z-index":"998"},on:{click:t.HandleItem}},[t._v("确认")]),t._v(" "),n("button",{staticStyle:{position:"absolute",top:"90%",right:"3%",width:"90px",height:"35px","background-color":"white","border-radius":"5px","text-align":"center",color:"grey",cursor:"pointer","font-size":"14px",border:"1px solid grey","z-index":"999"},on:{click:t.HandleCloseDialog}},[t._v("关闭")]),t._v(" "),n("div",{staticStyle:{position:"absolute",bottom:"0",width:"100%",height:"14%","background-color":"#f5f5f5","border-bottom-right-radius":"5px","border-bottom-left-radius":"5px"}})],1)]),t._v(" "),n("baseitem",{ref:"baseitem",attrs:{companyid:t.data.companyId,dvisible:t.importItem},on:{"update:dvisible":function(e){t.importItem=e},EventSelected:t.EventSelected}}),t._v(" "),n("sorg",{attrs:{companyid:t.data.companyId,visiable:t.orgVisiable,TypeList:t.TypeList},on:{"update:visiable":function(e){t.orgVisiable=e},EventClose:t.DepClose,EventSelected:t.DepConfirm}}),t._v(" "),n("el-dialog",{attrs:{title:"导入",visible:t.importExcel,size:"tiny"},on:{"update:visible":function(e){t.importExcel=e}}},[n("div",[n("el-upload",{staticClass:"upload-demo",attrs:{action:t.url,headers:t.headers,"show-file-list":!0,"on-success":t.UploadSuccess}},[n("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1)],1),t._v(" "),n("div",[n("div",{staticClass:"clear"})]),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.importExcel=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.HandleExcel}},[t._v("确 定")])],1)])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",{staticStyle:{"font-size":"14px",color:"grey"}},[n("td",{attrs:{width:"4%"}},[t._v("编号")]),t._v(" "),n("td",{attrs:{width:"17.5%"}},[t._v("名称")]),t._v(" "),n("td",{attrs:{width:"12%"}},[t._v("基础分类")]),t._v(" "),n("td",{attrs:{width:"11%"}},[t._v("计算方式")]),t._v(" "),n("td",{attrs:{width:"12%"}},[t._v("基础分")]),t._v(" "),n("td",{attrs:{width:"16%"}},[t._v("浮动区间(%)")]),t._v(" "),n("td",{attrs:{width:"20%"}},[t._v("关联系统(位置编辑)")]),t._v(" "),n("td",{attrs:{width:"6%"}},[t._v("操作")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"win-main"},[n("div",{staticClass:"p-t h8 w100 box-white-b1"},[n("div",{staticClass:"p-l1 title2-grey"},[t._v(t._s(t._tt("安全信息")))])]),t._v(" "),n("div",{staticClass:"p-b h92 w100 box-AliceBlue-b1"},[n("div",{staticClass:"info_text h-center98 title3-darkgray-hr"},[t._v(t._s(t._tt("基本信息")))]),t._v(" "),n("div",{staticClass:"info_table h-center98 table-kv"},[n("table",[n("tr",[n("td",[n("b",[t._v(t._s(t._tt("账号ID")))])]),t._v(" "),n("td",{attrs:{align:"left"}},[t._v(t._s(t.UserName))])]),t._v(" "),n("tr",[n("td",[n("b",[t._v(t._s(t._tt("绑定手机")))])]),t._v(" "),n("td",{attrs:{align:"left"}},[t._v(t._s(t.HideMobile(t.Mobile)))])]),t._v(" "),n("tr",[n("td",[n("b",[t._v(t._s(t._tt("绑定邮箱")))])]),t._v(" "),n("td",{attrs:{align:"left"}},[t._v(t._s(t.HideEmail(t.EMail)))])])])]),t._v(" "),n("div",{staticClass:"security_text h-center98 title3-darkgray-hr"},[t._v(t._s(t._tt("安全信息")))]),t._v(" "),n("div",{staticClass:"fixpw h-center98 card-h1-hr"},[n("div",{staticClass:"icon icon40 icon-green40"}),t._v(" "),n("div",{staticClass:"title title4-grey-b"},[t._v(t._s(t._tt("登 录 密 码")))]),t._v(" "),n("div",{staticClass:"explain explain1-grey"},[t._v(t._s(t._tt("安全性高的密码可以使账号更安全。建议您定期更换密码，且设置一个包含数字和字母，并长度超过6位以上的密码"))+"。")]),t._v(" "),n("button",{staticClass:"button1",on:{click:function(e){t.OpenDialog(1)}}},[t._v(t._s(t._tt("修 改 密 码")))])]),t._v(" "),n("div",{staticClass:"fixphone h-center98 card-h1-hr"},[n("div",{staticClass:"icon icon40 icon-green40"}),t._v(" "),n("div",{staticClass:"title title4-grey-b"},[t._v(t._s(t._tt("绑 定 手 机")))]),t._v(" "),n("div",{staticClass:"explain explain1-grey"},[t._v(t._s(t._tt("绑定手机后，您即可享受我们丰富的手机服务，如手机找回密码等"))+"。")]),t._v(" "),n("button",{staticClass:"button1",on:{click:function(e){t.OpenDialog(2)}}},[t._v(t._s(t._tt("修 改 手 机")))])]),t._v(" "),n("div",{staticClass:"fixemail h-center98 card-h1-hr"},[n("div",{class:t.EMailIcon()}),t._v(" "),n("div",{staticClass:"title title4-grey-b"},[t._v(t._s(t._tt("绑 定 邮 箱")))]),t._v(" "),n("div",{staticClass:"explain explain1-grey"},[t._v(t._s(t._tt("绑定邮箱后，您即可享受我们丰富的资讯服务，如邮箱找回密码等"))+"。")]),t._v(" "),t.EMail?n("button",{staticClass:"button1",on:{click:function(e){t.OpenDialog(3)}}},[t._v(t._s(t._tt("修 改 邮 箱")))]):n("button",{staticClass:"button1",on:{click:function(e){t.OpenDialog(4)}}},[t._v(t._s(t._tt("绑 定 邮 箱")))])])])]),t._v(" "),t.dialogVisiblePassword?n("div",[n("changepassword",{on:{HandleCloseDialog:t.HandleCloseDialog}})],1):t._e(),t._v(" "),t.dialogVisibleMobile?n("div",[n("changemobile",{attrs:{mobile:t.Mobile},on:{HandleCloseDialog:t.HandleCloseDialog}})],1):t._e(),t._v(" "),t.dialogVisibleBindingEMail?n("div",[n("bindingemail",{on:{HandleCloseDialog:t.HandleCloseDialog}})],1):t._e(),t._v(" "),t.dialogVisibleEMail?n("div",[n("changeemail",{attrs:{email:t.EMail},on:{HandleCloseDialog:t.HandleCloseDialog}})],1):t._e()])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p-lt h100 w100"},[n("div",{staticClass:"m-title p-t w100 box-white"},[n("div",{staticClass:"p-l1 title4-grey"},[t._v(t._s(t.Org.title))])]),t._v(" "),n("div",{staticClass:"m-tools p-t w100 box-greygreen"},[n("div",{staticClass:"search p-l1 is-orange"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.Keyword,expression:"filter.Keyword"}],attrs:{type:"text",placeholder:"请输入关键字搜素"},domProps:{value:t.filter.Keyword},on:{input:function(e){e.target.composing||t.$set(t.filter,"Keyword",e.target.value)}}}),t._v(" "),n("button",{staticClass:"button",on:{click:t.Search}},[t._v("搜 索")])]),t._v(" "),n("table",{staticClass:"emptab1 p-l bt-lightgrey-r"},[n("tr",[n("td",{class:t._f("CovertActive")(t.filter.State,0),on:{click:function(e){t.ChangeTab(0)}}},[t._v("全部")]),t._v(" "),n("td",{class:t._f("CovertActive")(t.filter.State,10),on:{click:function(e){t.ChangeTab(10)}}},[t._v("在职")]),t._v(" "),n("td",{class:t._f("CovertActive")(t.filter.State,90),on:{click:function(e){t.ChangeTab(90)}}},[t._v("离职")])])]),t._v(" "),t._m(0),t._v(" "),n("el-button",{staticClass:"button-add p-r",attrs:{type:"primary"},on:{click:t.Add}},[t._v("添加新成员")]),t._v(" "),n("el-button",{staticClass:"button-apply p-r",attrs:{type:"primary"},on:{click:t.ToApply}},[t._v("申请记录")])],1),t._v(" "),n("div",{staticClass:"m-tab p-t w100 box-white"},[n("el-table",{staticClass:"m-tab-n p-lt w100 h100",attrs:{data:t.Source,height:"height:100%",stripe:""}},[n("el-table-column",{attrs:{fixed:"left",label:"",width:"55"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.State?n("i",{staticClass:"el-icon-star-off"}):t._e(),t._v(" "),90==e.row.State?n("i",{staticClass:"el-icon-warning"}):t._e()]}}])}),t._v(" "),n("el-table-column",{attrs:{fixed:"left",width:"120",prop:"StaffName",label:"姓名"}}),t._v(" "),n("el-table-column",{attrs:{fixed:"left",width:"120",prop:"StaffCode",label:"工号"}}),t._v(" "),n("el-table-column",{attrs:{width:"140",prop:"DepartmentName",label:"部门"}}),t._v(" "),n("el-table-column",{attrs:{width:"160",prop:"PositionNames",label:"职位"}}),t._v(" "),n("el-table-column",{attrs:{width:"160",prop:"WorkEmail",label:"邮箱"}}),t._v(" "),n("el-table-column",{attrs:{width:"140",prop:"WorkPhone",label:"电话"}}),t._v(" "),n("el-table-column",{attrs:{width:"120",prop:"StateStr",label:"状态"}}),t._v(" "),n("el-table-column",{attrs:{prop:"Nick",width:"120",label:"昵称"}}),t._v(" "),n("el-table-column",{attrs:{fixed:"right",label:"",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"small"},on:{click:function(n){t.Edit(e.row)}}},[t._v("编辑")])]}}])})],1),t._v(" "),n("el-row",{staticClass:"m-tab-f p-b w100"},[n("el-col",{staticStyle:{"text-align":"center"},attrs:{span:4}},[n("el-tooltip",{attrs:{content:"分页开关",placement:"top"}},[n("el-switch",{attrs:{"on-color":"#13ce66","off-color":"#ff4949","on-value":"100","off-value":"0"},model:{value:t.filter.page,callback:function(e){t.$set(t.filter,"page",e)},expression:"filter.page"}})],1)],1),t._v(" "),n("el-col",{staticStyle:{"text-align":"right"},attrs:{span:20}},[n("el-pagination",{attrs:{layout:"prev, pager, next",total:t.PageInfo.RowCount}})],1)],1)],1),t._v(" "),n("empview",{attrs:{companyid:t.Emp.companyid,StaffID:t.Emp.StaffID,Visiable:t.Emp.Visiable,Command:t.Emp.Command},on:{"update:Visiable":function(e){t.$set(t.Emp,"Visiable",e)},EventConfirm:t.EmpConfirm}}),t._v(" "),n("appjoin",{attrs:{companyid:t.Apply.companyid,Visiable:t.Apply.Visiable},on:{"update:Visiable":function(e){t.$set(t.Apply,"Visiable",e)},EventConfirm:t.ApplyConfirm}})],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{staticClass:"emptab2 p-l bt-lightgrey-r"},[n("tr",[n("td",[t._v("有用户")]),t._v(" "),n("td",{staticClass:"active"},[t._v("无用户")])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"grid-head-column",style:{flex:t.flexWidth,"min-width":t.minWidth}},[n("div",{staticClass:"static",style:{"text-align":t.textAlign}},[t._t("default")],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"h100 w100"},[n("div",{staticClass:"emptool"},[n("el-input",{staticStyle:{width:"15%","max-width":"200px"},attrs:{placeholder:"请输入搜索关键词"},model:{value:t.filter.Keyword,callback:function(e){t.$set(t.filter,"Keyword",e)},expression:"filter.Keyword"}}),t._v(" "),n("el-button",{attrs:{type:"warning",icon:"search"},on:{click:t.Search}},[t._v("搜索")]),t._v(" "),n("el-button-group",[0==t.filter.State?n("el-button",{attrs:{type:"warning"},on:{click:function(e){t.ChangeTab(0)}}},[t._v("全部员工")]):n("el-button",{attrs:{type:"default"},on:{click:function(e){t.ChangeTab(0)}}},[t._v("全部员工")]),t._v(" "),10==t.filter.State?n("el-button",{attrs:{type:"warning"},on:{click:function(e){t.ChangeTab(10)}}},[t._v("在职")]):n("el-button",{attrs:{type:"default"},on:{click:function(e){t.ChangeTab(10)}}},[t._v("在职")]),t._v(" "),90==t.filter.State?n("el-button",{attrs:{type:"warning"},on:{click:function(e){t.ChangeTab(90)}}},[t._v("离职")]):n("el-button",{attrs:{type:"default"},on:{click:function(e){t.ChangeTab(90)}}},[t._v("离职")])],1),t._v(" "),n("span",{staticStyle:{float:"right"}},[n("el-button",{attrs:{type:"primary"},on:{click:t.Add}},[t._v("添加新成员")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.ToApply}},[t._v("申请记录")])],1)],1),t._v(" "),n("div",{staticClass:"empcontent"},[n("el-table",{attrs:{data:t.Source,height:"600"}},[n("el-table-column",{attrs:{label:"",width:"30"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.UserID>1?n("i",{staticClass:"el-icon-star-off"}):t._e()]}}])}),t._v(" "),n("el-table-column",{attrs:{width:"120",prop:"StaffName",label:"姓名"}}),t._v(" "),n("el-table-column",{attrs:{width:"120",prop:"StaffCode",label:"工号"}}),t._v(" "),n("el-table-column",{attrs:{prop:"DepartmentName",width:"140",label:"部门"}}),t._v(" "),n("el-table-column",{attrs:{prop:"PositionNames",width:"160",label:"职位"}}),t._v(" "),n("el-table-column",{attrs:{prop:"WorkEmail",width:"160",label:"邮箱"}}),t._v(" "),n("el-table-column",{attrs:{prop:"WorkPhone",width:"140",label:"电话"}}),t._v(" "),n("el-table-column",{attrs:{prop:"StateStr",width:"120",label:"状态"}}),t._v(" "),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"small"},on:{click:function(n){t.Edit(e.row)}}},[t._v("编辑")]),t._v(" "),10==e.row.State?n("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(n){t.Dimission(e.row)}}},[t._v("离职")]):t._e()]}}])})],1),t._v(" "),n("el-row",[n("el-col",{staticStyle:{"text-align":"right"},attrs:{span:24}},[n("el-pagination",{attrs:{layout:"prev, pager, next",total:t.PageInfo.RowCount,"page-size":t.PageInfo.PageSize},on:{"current-change":t.PageClick}})],1)],1)],1),t._v(" "),n("empview",{attrs:{companyid:t.Emp.companyid,UserInfo:t.Emp.ApplyInfo,StaffID:t.Emp.StaffID,Visiable:t.Emp.Visiable,Command:t.Emp.Command},on:{"update:Visiable":function(e){t.$set(t.Emp,"Visiable",e)},EventConfirm:t.EmpConfirm}}),t._v(" "),n("appjoin",{attrs:{companyid:t.Apply.companyid,Visiable:t.Apply.Visiable},on:{"update:Visiable":function(e){t.$set(t.Apply,"Visiable",e)},EventConfirm:t.AgreeJoin}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cwhite_board",staticStyle:{position:"absolute",top:"25%",left:"31%"}},[n("div",{staticClass:"white_board_text"},[n("font",{staticStyle:{color:"grey"},attrs:{size:"6px"}},[t._v(t._s(t._tt("修改邮箱设置")))])],1),t._v(" "),n("button",{staticClass:"cbuttonX",on:{click:t.Close}}),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"cemail_icon"}),t._v(" "),n("div",{staticClass:"cemail_icon_text"},[n("font",{staticStyle:{"letter-spacing":"2px"},attrs:{size:"2px",color:"grey"}},[t._v(t._s(t._tt("您绑定邮箱"))+" "+t._s(t.HideEmail(t.UserEMail)))]),t._v(" "),n("br"),n("br"),n("font",{staticStyle:{"letter-spacing":"2px"},attrs:{size:"2px",color:"grey"}},[t._v(t._s(t._tt("您可以在这里修改邮箱")))])],1),t._v(" "),n("div",{staticClass:"cemail_verify_code"},[n("font",[t._v(t._s(t._tt("输入新的邮箱账户")))]),t._v(" "),n("font",{staticClass:"cred_star1"},[t._v("*")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.UserNewEMail,expression:"UserNewEMail"}],attrs:{placeholder:t._tt("请输入新的邮箱账户")},domProps:{value:t.UserNewEMail},on:{blur:t.CheckUserEMail,input:function(e){e.target.composing||(t.UserNewEMail=e.target.value)}}}),t._v(" "),n("div",{class:t.ShowIcon(t.IntEMail),staticStyle:{position:"absolute",top:"26%",right:"34%"}})],1),t._v(" "),1==t.IntEMail?n("button",{staticClass:"csend_email_verify_code",staticStyle:{position:"absolute",left:"54%"},on:{click:t.GetCode}},[t._v(t._s(t.ShowWaitTime()))]):t._e(),t._v(" "),n("div",{staticClass:"cemail_verify_code2"},[n("font",[t._v(t._s(t._tt("输入您收到的验证码")))]),t._v(" "),n("font",{staticClass:"cred_star2"},[t._v("*")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.ValidateCode,expression:"ValidateCode"}],attrs:{placeholder:t._tt("请输入您收到的验证码")},domProps:{value:t.ValidateCode},on:{input:function(e){e.target.composing||(t.ValidateCode=e.target.value)}}})],1),t._v(" "),n("div",{staticClass:"cemail_verify_code3"},[n("font",[t._v(t._s(t._tt("验证登录密码")))]),t._v(" "),n("font",{staticClass:"cred_star3"},[t._v("*")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.UserPassword,expression:"UserPassword"}],attrs:{placeholder:t._tt("请输入您的账户登录密码"),type:"password"},domProps:{value:t.UserPassword},on:{input:function(e){e.target.composing||(t.UserPassword=e.target.value)}}})],1),t._v(" "),n("div",{staticClass:"ctext_1"},[n("font",{attrs:{color:"grey"}},[t._v(t._s(t.ErrMessage))])],1),t._v(" "),n("button",{staticClass:"clink",on:{click:t.ChangeEMail}},[t._v(t._s(t._tt("修 改")))])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"white_board_hr"},[n("hr",{attrs:{width:"800px",color:"lightgrey"}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{float:"left",width:"100%"}},[n("aggregation-filter",{attrs:{filter:t.filter,"custom-option-store":t.userStore,maxItems:t.maxOptions},on:{change:t.onFilterChanged,click:t.onOptionClick}}),t._v(" "),n("div",[n("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:20}},model:{value:t.options,callback:function(e){t.options=e},expression:"options"}}),t._v("\n        最多呈现:\n        "),n("el-input-number",{attrs:{min:-1},model:{value:t.maxOptions,callback:function(e){t.maxOptions=e},expression:"maxOptions"}}),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.onSquashOptions}},[t._v("挤压选项")])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"win-main bg-login"},[t._m(0),t._v(" "),n("div",{staticClass:"body h-center80 v-middle64"},[n("div",{staticClass:"h-left38 h100 box-white-r"},[n("div",{staticClass:"user h-center80 i-lightgrey-hi"},[n("div",{staticClass:"iconbox icon-user52"}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.userid,expression:"user.userid"}],attrs:{type:"text",placeholder:t._tt("账号、邮箱、手机号")},domProps:{value:t.user.userid},on:{input:function(e){e.target.composing||t.$set(t.user,"userid",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"pwd h-center80 i-lightgrey-hi"},[n("div",{staticClass:"iconbox icon-pw52"}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.pwd,expression:"user.pwd"}],attrs:{type:"password",placeholder:t._tt("请输入您的密码")},domProps:{value:t.user.pwd},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.Login(e):null},input:function(e){e.target.composing||t.$set(t.user,"pwd",e.target.value)}}}),t._v(" "),n("div",{staticClass:"info-r",staticStyle:{position:"absolute",right:"0%"}},[n("font",{attrs:{color:"darkblue",size:"2px"}},[n("a",{on:{click:t.EnterFindPassword}},[t._v(t._s(t._tt("忘记密码"))+"？")])])],1)]),t._v(" "),n("div",{staticClass:"language h-center80"},[n("el-button",{attrs:{type:"text"},on:{click:t.onToggleLanguage}},[n("i",{staticClass:"fa fa-globe"},[t._v(" "+t._s(t.languageText))])])],1),t._v(" "),n("div",{staticClass:"tips h-center68 t-hr img-login-tip bgp-center"}),t._v(" "),n("div",{staticClass:"tipsinfo h-center68 t-info"},[n("div",{staticClass:"explain2-red"},[n("div",{staticClass:"icon20 icon-warn20"}),t._v(" "),n("div",{},[t._v(t._s(t.error))])])]),t._v(" "),n("button",{staticClass:"login_button h-center76 b-orange-h",staticStyle:{position:"absolute",top:"76.5%"},on:{click:t.Login}},[n("b",[n("font",{attrs:{color:"white",size:"5"}},[t._v(t._s(t._tt("登 录")))])],1)]),t._v(" "),t._m(1)]),t._v(" "),n("div",{staticClass:"h-right60 h100 box-r img-login-reg"},[n("div",{staticClass:"p-l10b15 w100"},[n("div",{staticClass:"fl bl-white-hrpc",on:{click:t.EnterRegisterUser}},[n("font",{attrs:{color:"gold",size:"4px"}},[t._v(t._s(t._tt("立即注册")))])],1),t._v(" "),n("div",{staticClass:"fl box-h25-pc",staticStyle:{position:"absolute",top:"12%",left:"16%"}},[n("font",{attrs:{color:"white",size:"4px"}},[t._v(t._s(t._tt("畅想个性化定制在线办公服务")))])],1)])])]),t._v(" "),n("div",{staticClass:"footer h-center80 v-bottom8 box-grey-ra"},[n("div",{staticClass:"h100 logo-login-foot bgp-l1"}),t._v(" "),n("div",{staticClass:"p-rb1"},[n("font",{attrs:{color:"white",size:"2px"}},[t._v("Copyright "),n("sup",[t._v("©")]),t._v(" 2017 Pingtong365.com All Rights Reserved. "+t._s(t._tt("沪ICP备17014083号 沪公网安备 31011502005295号")))])],1)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header h-center80 v-top10"},[n("div",{staticClass:"p-l1 h100 w100 logo-login-head"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"download h-center80"},[n("p",[n("a",{attrs:{href:"/download/quickstart.pdf",target:"_blank"}},[t._v("快速开始(Download Quick Start)")])]),t._v(" "),n("p",[n("a",{attrs:{href:"/download/manual.pdf",target:"_blank"}},[t._v("操作手册(Download User Manual)")])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"work-item",class:t.classes,on:{mouseenter:t.onHover,mouseleave:t.onHover,click:t.onClick}},[n("work-row",{attrs:{state:t.state}},[n("work-column",{attrs:{flexWidth:"0 0 80px",textAlign:"left",state:"view"}},[t.loading?n("i",{staticClass:"el-icon-loading"}):t._e(),t._v(" "),t.isLocked?n("i",{staticClass:"fa fa-lock"}):t._e(),t._v(" "),t.selected?[t.showEdit?n("el-button",{attrs:{type:"warning",icon:"edit",size:"mini"},on:{click:t.onEdit}}):t._e(),t._v(" "),t.showShare?n("el-button",{attrs:{type:"primary",icon:"share",size:"mini"},on:{click:t.onShare}}):t._e()]:n("span",[t.isInitiator?n("i",{staticClass:"fa fa-money"}):t._e(),t._v(" "),t.isOwner?n("i",{staticClass:"fa fa-user-o"}):t._e()])],2),t._v(" "),n("work-column",{attrs:{flexWidth:"0 0 60px",textAlign:"center",state:"view"}},[t._v("\n            "+t._s(t.typeName)+"\n        ")]),t._v(" "),n("work-column",{attrs:{flexWidth:"0 0 100px",textAlign:"left",state:t.keyColumnState}},[n("template",{slot:"edit"},[n("work-employee-selector",{attrs:{fetchEmployees:t.fetchEmployees,validator:t.validator.initiatorName},on:{select:t.onSelectInitiator},model:{value:t.item.initiatorName,callback:function(e){t.$set(t.item,"initiatorName",e)},expression:"item.initiatorName"}})],1),t._v("\n            "+t._s(t.item.initiator.principalName)+"\n        ")],2),t._v(" "),n("work-column",{attrs:{flexWidth:"0 0 120px",textAlign:"center",state:t.keyColumnState}},[n("template",{slot:"edit"},[n("ptit-tooltip-input",{attrs:{inputType:"select",placeholder:"选择职位",size:"small",validate:t.validator.principalId,tooltip:t.validator.principalId.message},on:{change:t.onPositionChanged},model:{value:t.item.principalId,callback:function(e){t.$set(t.item,"principalId",e)},expression:"item.principalId"}},t._l(t.positions,function(t){return n("el-option",{key:t.principalId,attrs:{label:t.principalName,value:t.principalId}})}))],1),t._v("\n            "+t._s(t.positionName)+"\n        ")],2),t._v(" "),n("work-column",{attrs:{flexWidth:"0 0 120px",textAlign:"center",state:t.contentColumnState}},[n("template",{slot:"edit"},[n("ptit-tooltip-input",{attrs:{inputType:"date",placeholder:"工作时间",size:"small",validate:t.validator.workingDate,tooltip:t.validator.workingDate.message},model:{value:t.item.workingDate,callback:function(e){t.$set(t.item,"workingDate",e)},expression:"item.workingDate"}})],1),t._v("\n            "+t._s(t.item.workingDate)+"\n        ")],2),t._v(" "),n("work-column",{attrs:{flexWidth:"auto",textAlign:"left",state:t.contentColumnState}},[n("template",{slot:"edit"},[n("ptit-tooltip-input",{attrs:{"fetch-suggestions":t.fetchDefinitions,props:t.titleProps,validate:t.validator.itemName,tooltip:t.validator.itemName.message,placeholder:"请输入绩效项名",size:"small",width:"100%"},on:{select:t.onSelectDefinition},model:{value:t.item.itemName,callback:function(e){t.$set(t.item,"itemName",e)},expression:"item.itemName"}})],1),t._v(" "),n("el-button",{attrs:{type:"text"},on:{click:t.onEye}},[n("i",{class:t.eyeIconClass})]),t._v(t._s(t.item.itemName)+"\n        ")],2),t._v(" "),t.showScore?n("work-column",{attrs:{flexWidth:"0 0 60px",state:"view"}},[t._v("得分:"+t._s(t.calculatedScore)+"(分)")]):t._e(),t._v(" "),t.showScore?n("work-column",{staticClass:"operator-equal",attrs:{flexWidth:"0 0 10px",state:"view"}},[t._v("=")]):t._e(),t._v(" "),t.showBaseScore?n("work-column",{attrs:{flexWidth:"0 0 50px",state:"view"}},[t._v("基础分:")]):t._e(),t._v(" "),t.showBaseScore?n("work-column",{attrs:{flexWidth:"0 0 50px",state:t.baseScoreState}},[t._v("\n            "+t._s(t.baseScore)+"(分)\n            "),n("template",{slot:"edit"},[n("ptit-tooltip-input",{attrs:{inputType:"number",size:"small",controls:!1,min:1},model:{value:t.item.score,callback:function(e){t.$set(t.item,"score",e)},expression:"item.score"}})],1)],2):t._e(),t._v(" "),t.showBaseScore?n("work-column",{staticClass:"operator-x",attrs:{flexWidth:"0 0 10px",state:"view"}},[t._v("*")]):t._e(),t._v(" "),t.showAmount?n("work-column",{attrs:{flexWidth:"0 0 40px",state:"view"}},[t._v("数量:")]):t._e(),t._v(" "),t.showAmount?n("work-column",{attrs:{flexWidth:"0 0 50px",textAlign:"center",state:t.amountState}},[n("template",{slot:"edit"},[n("ptit-tooltip-input",{attrs:{inputType:"number",size:"small",controls:!1,min:1},model:{value:t.item.amount,callback:function(e){t.$set(t.item,"amount",e)},expression:"item.amount"}})],1),t._v("\n            "+t._s(t.item.amount)+"\n        ")],2):t._e(),t._v(" "),t.showAmount?n("work-column",{attrs:{flexWidth:"0 0 40px",state:"view"}},[t._v("(件/次)")]):t._e(),t._v(" "),t.showAmount?n("work-column",{staticClass:"operator-x",attrs:{flexWidth:"0 0 10px",state:"view"}},[t._v("*")]):t._e(),t._v(" "),t.showQualityScore?n("work-column",{attrs:{flexWidth:"0 0 40px",state:"view"}},[t._v("质量:")]):t._e(),t._v(" "),t.showQualityScore?n("work-column",{attrs:{flexWidth:"0 0 50px",textAlign:"center",state:t.commentColumnState}},[n("template",{slot:"edit"},[n("ptit-tooltip-input",{attrs:{inputType:"number",size:"small",controls:!1,min:0,step:.1,max:1},model:{value:t.item.qualityScore,callback:function(e){t.$set(t.item,"qualityScore",e)},expression:"item.qualityScore"}})],1),t._v("\n            "+t._s(t.item.qualityScore)+"\n        ")],2):t._e(),t._v(" "),t.showQualityScore?n("work-column",{attrs:{flexWidth:"0 0 30px",state:"view"}},[t._v("(分)")]):t._e(),t._v(" "),t.showQualityScore?n("work-column",{staticClass:"operator-x",attrs:{flexWidth:"0 0 10px",state:"view"}},[t._v("*")]):t._e(),t._v(" "),t.showRatio?n("work-column",{attrs:{flexWidth:"0 0 40px",state:"view"}},[t._v("系数:")]):t._e(),t._v(" "),t.showRatio?n("work-column",{attrs:{flexWidth:"0 0 50px",textAlign:"center",state:t.commentColumnState}},[n("template",{slot:"edit"},[n("ptit-tooltip-input",{attrs:{inputType:"number",size:"small",controls:!1,min:t.item.reference.minimumRatio,step:.1,max:t.item.reference.maximumRatio},model:{value:t.item.ratio,callback:function(e){t.$set(t.item,"ratio",e)},expression:"item.ratio"}})],1),t._v("\n            "+t._s(t.item.ratio)+"\n        ")],2):t._e(),t._v(" "),t.showRatioRange?n("work-column",{attrs:{flexWidth:"0 0 40px",state:"view"}},[t._v("分("+t._s(t.item.reference.minimumRatio)+"-"+t._s(t.item.reference.maximumRatio)+")")]):t._e(),t._v(" "),t.selected?n("work-column",{attrs:{flexWidth:"0 0 20px",textAlign:"center",state:"view"}},[t.showDelete?n("el-button",{attrs:{type:"danger",icon:"delete",size:"mini"},on:{click:t.onDelete}}):t._e(),t._v(" "),t.showReject?n("el-button",{attrs:{type:"warning",size:"mini"},on:{click:t.onReject}},[n("i",{staticClass:"fa fa-undo"})]):t._e(),t._v(" "),t.showOK?n("el-button",{attrs:{type:"success",icon:"check",size:"mini"},on:{click:t.onOK}}):t._e(),t._v(" "),t.showCancel?n("el-button",{attrs:{type:"danger",icon:"close",size:"mini"},on:{click:t.onCancel}}):t._e()],1):t._e()],1),t._v(" "),t.showTemplateRow?n("work-row",{attrs:{state:t.contentColumnState}},[n("work-column",{attrs:{flexWidth:"0 0 80px"}}),t._v(" "),t._l(t.item.templateValues,function(e){return[n("work-column",{key:e.template.displayText,attrs:{flexWidth:"0 0 60px",textAlign:"center",state:"view"}},[t._v(t._s(e.template.displayText)+":")]),t._v(" "),n("work-column",{key:e.template.displayText+"-value",attrs:{flexWidth:"0 0 100px",textAlign:"left"}},[n("template",{slot:"edit"},[n("ptit-tooltip-input",{attrs:{size:"small",controls:!1,validate:e.modelValidator.value,tooltip:e.modelValidator.value.message},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"templateValue.value"}})],1),t._v("\n                "+t._s(e.value)+"\n            ")],2)]})],2):t._e(),t._v(" "),t.showDescriptionRow?n("work-row",{attrs:{state:"view"}},[n("work-column",{attrs:{flexWidth:"0 0 80px"}}),t._v(" "),n("work-column",{attrs:{flexWidth:"auto",textAlign:"left"}},[t._v("\n            "+t._s(t.item.description.name)+"\n        ")])],1):t._e()],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"h100 w100"},[t._m(0),t._v(" "),n("div",{staticStyle:{padding:"16px"}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-5",staticStyle:{"padding-right":"8px"}},[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix text-center box-header",attrs:{slot:"header"},slot:"header"},[n("span",{staticStyle:{"line-height":"36px"}},[t._v("个人信息")])]),t._v(" "),n("div",{staticClass:"card-body text-center"},[n("div",[n("img",{staticClass:"img-avatar",attrs:{src:"/static/images/tishiIcon1.png"}}),t._v(" "),n("h3",[t._v(t._s(t.user.Name))]),t._v(" "),n("h4",[t._v("内部员工")]),t._v(" "),n("div",{staticClass:"row sum-batch"},[n("div",{staticClass:"col-4"},[n("h2",[t._v("0")]),t._v(" "),n("h4",[t._v("未处理签批")])]),t._v(" "),n("div",{staticClass:"col-4"},[n("h2",[t._v("0")]),t._v(" "),n("h4",[t._v("正在处理中")])]),t._v(" "),n("div",{staticClass:"col-4"},[n("h2",[t._v("0")]),t._v(" "),n("h4",[t._v("已完成签批")])])]),t._v(" "),n("div",{staticClass:"center-item"},[n("span",{staticClass:"span-left"},[t._v("所属公司")]),t._v(" "),n("span",{staticClass:"span-right"},[t._v("日上免税行")])]),t._v(" "),n("div",{staticClass:"center-item"},[n("span",{staticClass:"span-left"},[t._v("职位")]),t._v(" "),n("span",{staticClass:"span-right"},[t._v("职位信息")])]),t._v(" "),n("div",{staticClass:"center-item none-border"},[n("span",{staticClass:"span-left"},[t._v("修改密码")]),t._v(" "),n("button",{staticClass:"btn span-right",on:{click:t.changePwd}},[t._v("修改密码")])]),t._v(" "),n("div",{staticClass:"quit"},[n("button",{staticClass:"btn",on:{click:t.logout}},[t._v("退出登录")])])])])])],1),t._v(" "),n("div",{staticClass:"col-7",staticStyle:{"padding-left":"8px"}},[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix text-center",attrs:{slot:"header"},slot:"header"},[n("span",{staticStyle:{"line-height":"36px"}},[t._v("相关设置")])]),t._v(" "),n("div",{staticClass:"center-item"},[n("span",{staticClass:"span-left"},[t._v("我的签批模板")]),t._v(" "),n("span",{staticClass:"span-right"},[t._v("查看")])]),t._v(" "),n("div",{staticClass:"center-item"},[n("span",{staticClass:"span-left"},[t._v("我的审核模板")]),t._v(" "),n("span",{staticClass:"span-right"},[t._v("查看")])]),t._v(" "),n("div",{staticClass:"center-item"},[n("span",{staticClass:"span-left"},[t._v("我的公司")]),t._v(" "),n("span",{staticClass:"span-right"},[t._v("查看")])]),t._v(" "),n("div",{staticClass:"center-item"},[n("span",{staticClass:"span-left"},[t._v("我的职位")]),t._v(" "),n("span",{staticClass:"span-right"},[t._v("查看")])]),t._v(" "),n("div",{staticClass:"center-bg"}),t._v(" "),n("div",{staticClass:"center-item"},[n("span",{staticClass:"span-left"},[t._v("自动提示")]),t._v(" "),n("div",{staticClass:"span-right"},[n("el-switch",{attrs:{"on-text":"","off-text":"","on-color":"#F7B11E","off-color":"#888"},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}})],1)]),t._v(" "),n("div",{staticClass:"center-item"},[n("span",{staticClass:"span-left"},[t._v("自动回复")]),t._v(" "),n("div",{staticClass:"span-right"},[n("el-switch",{attrs:{"on-text":"","off-text":"","on-color":"#F7B11E","off-color":"#888"},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}})],1)])])],1)])]),t._v(" "),n("el-dialog",{attrs:{visible:t.dialogVisible,size:"tiny","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("changePwd")],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content-header border-bottom"},[n("div",{staticClass:"col-12"},[n("h3",{staticClass:"pull-left"},[t._v("个人中心")])]),t._v(" "),n("div",{staticStyle:{clear:"both"}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"work-item-list"},[n("div",{staticClass:"content-area"},[n("filter-tag-list",{attrs:{fieldFilters:t.controller.currentFieldFilters},on:{delete:t.onDeleteFieldFilter}}),t._v(" "),t._l(t.controller.visibleFieldFilters,function(e){return n("aggregation-filter",{key:e.filter.key,attrs:{controller:t.controller,filter:e.filter},on:{change:function(n){t.onFilterChanged(e.filter,n)},click:function(n){t.onOptionClick(e.filter,n)},addCustomOption:function(n){t.onCustomOptionAdd(e)}}})}),t._v(" "),n("aggregation-sorter",{attrs:{controller:t.controller},on:{sort:t.onRenderResult}}),t._v(" "),n("aggregation-grouper",{attrs:{controller:t.controller},on:{group:t.onRenderResult}}),t._v(" "),n("div",{staticClass:"operations"},[n("el-button",{attrs:{type:"success",icon:"plus",size:"small"}},[t._v("新增工作项")])],1),t._v(" "),n("working-item",{attrs:{item:t.item,fetchEmployeePositions:t.fetchEmployeePositions,queryDefinitions:t.queryDefinitions,queryEmployees:t.queryEmployees,currentEmployeeId:t.currentEmployeeId,selected:!0,editMode:!0,loading:t.workItemStore.inProcessing("")},on:{ok:t.onCreateWorkItem}}),t._v(" "),n("div",{staticClass:"list"},t._l(t.controller.resultList,function(e){return n("aggregation-list-item",{key:t.controller.getListItemKey(e),attrs:{controller:t.controller,item:e,minIndent:t.minIndent,showCheckBox:!0}},[n("working-item",{attrs:{item:e.item,fetchEmployeePositions:t.fetchEmployeePositions,queryDefinitions:t.queryDefinitions,queryEmployees:t.queryEmployees,selected:t.itemSelected(e),editMode:t.itemEditMode(e),currentEmployeeId:t.currentEmployeeId,loading:t.workItemStore.inProcessing(e.item.itemId)},on:{click:function(n){t.onItemClick(e)},edit:function(n){t.onItemEdit(e)},cancel:function(n){t.onItemCancel(e)},ok:function(n){t.onItemOK(e)},delete:function(n){t.onItemDelete(e)},share:function(n){t.onItemShare(e)},eye:function(n){t.onItemEye(e)},reject:function(n){t.onItemReject(e)}}}),t._v(" "),n("working-aggregation-item",{attrs:{slot:"root",hasChildrenChecked:t.controller.itemChecked(e)>=0,item:e},on:{bulkEdit:function(n){t.onItemBulkEdit(e)},bulkRead:function(n){t.onItemBulkRead(e,!0)},bulkDelete:function(n){t.onItemBulkDelete(e)},bulkUnread:function(n){t.onItemBulkRead(e,!1)},bulkShare:function(n){t.onItemBulkShare(e)},bulkReject:function(n){t.onItemBulkReject(e)}},slot:"root"}),t._v(" "),n("working-aggregation-item",{attrs:{slot:"aggregation",hasChildrenChecked:t.controller.itemChecked(e)>=0,item:e},on:{bulkEdit:function(n){t.onItemBulkEdit(e)},bulkRead:function(n){t.onItemBulkRead(e,!0)},bulkUnread:function(n){t.onItemBulkRead(e,!1)},bulkDelete:function(n){t.onItemBulkDelete(e)},bulkShare:function(n){t.onItemBulkShare(e)},bulkReject:function(n){t.onItemBulkReject(e)}},slot:"aggregation"})],1)}))],2),t._v(" "),n("div",{staticClass:"debug-area"},[n("div",{staticStyle:{width:"100%"}},[t._v("\n      主体:\n      "),n("el-input",{attrs:{type:"textarea",autosize:{minRows:5,maxRows:5}},model:{value:t.principalTexts,callback:function(e){t.principalTexts=e},expression:"principalTexts"}})],1),t._v(" "),n("div",{staticStyle:{width:"100%"}},[t._v("\n      绩效项\n      "),n("el-input",{attrs:{type:"textarea",autosize:{minRows:5,maxRows:5}},model:{value:t.definitionTexts,callback:function(e){t.definitionTexts=e},expression:"definitionTexts"}})],1),t._v(" "),n("div",{staticStyle:{width:"100%"}},[t._v("\n      工作项\n      "),n("el-input",{attrs:{type:"textarea",autosize:{minRows:5,maxRows:5}},model:{value:t.workItemTexts,callback:function(e){t.workItemTexts=e},expression:"workItemTexts"}})],1),t._v(" "),n("div",{staticStyle:{width:"100%"}},[n("el-button",{on:{click:t.onInitializeWithTexts}},[t._v("重置为初始数据")])],1),t._v(" "),n("div",{staticStyle:{width:"100%"}},[t._v("\n      当前公司:\n      "),n("el-select",{model:{value:t.currentCompanyId,callback:function(e){t.currentCompanyId=e},expression:"currentCompanyId"}},t._l(t.companies,function(t){return n("el-option",{key:t.principalId,attrs:{label:t.principalName,value:t.principalId}})}))],1),t._v(" "),n("div",{staticStyle:{width:"100%"}},[t._v("\n      当前员工:\n      "),n("el-select",{model:{value:t.currentEmployeeId,callback:function(e){t.currentEmployeeId=e},expression:"currentEmployeeId"}},t._l(t.employees,function(t){return n("el-option",{key:t.principalId,attrs:{label:t.principalName,value:t.principalId}})})),t._v(" "),n("el-button",{on:{click:t.loadWorkItems}},[t._v("重新加载工作项列表")])],1)]),t._v(" "),n("work-employee-selector",{attrs:{dialogTitle:"选择需要分享的员工",fetchEmployees:t.queryEmployees,dialogMode:!0,visible:t.shareDialog.show,validator:t.shareDialog.validator.employeeName,dialogLoading:t.shareDialog.loading},on:{select:t.onSelectShareEmployee,"update:visible":function(e){t.$set(t.shareDialog,"show",e)},dialogOk:t.onShareDialogOK},model:{value:t.shareDialog.employeeName,callback:function(e){t.$set(t.shareDialog,"employeeName",e)},expression:"shareDialog.employeeName"}}),t._v(" "),n("bulk-edit-dialog",{attrs:{visible:t.bulkEditDialog.show,operations:t.bulkEditDialog.operations,dialogLoading:t.bulkEditDialog.loading},on:{"update:visible":function(e){t.$set(t.bulkEditDialog,"show",e)},dialogOk:t.onBulkEdit}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"task_detail"},[n("div",{staticClass:"task_detail_button"},[n("task-detail-button",{attrs:{"task-operation-button":t.taskOperationButton,task:t.detail}})],1),t._v(" "),n("div",{staticClass:"task_detail_head"},[n("task-detail-head",{attrs:{head:t.detail.head,"task-select":t.taskSelect}})],1),t._v(" "),n("div",{staticClass:"task_detail_main"},[n("task-detail-main",{attrs:{manager:t.manager,detail:t.detail,"task-select":t.taskSelect,"task-detail-users":t.taskDetailUsers,"create-child-task":t.createChildTask,"is-show-add-child-task":t.isShowAddChildTask,"on-edit-modulus":t.onEditModulus,"is-show-edit-modulus":t.isShowEditModulus,"task-detail-relational-users":t.taskDetailRelationalUsers}})],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-dialog",{attrs:{title:t.title,visible:t.dialogVisible,size:"large",modal:!1,"modal-append-to-body":!0,"close-on-click-modal":!1,"before-close":t.Cancel},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-form",{ref:"Employee",staticClass:"employee-dialog",attrs:{model:t.Employee,"label-width":"80px"}},[n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{staticClass:"empele",attrs:{label:"员工编号",prop:"StaffCode"}},[n("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":t.querySearch,placeholder:"搜索选择绑定员工"},on:{select:t.handleSelect},model:{value:t.SelectEmpName,callback:function(e){t.SelectEmpName=e},expression:"SelectEmpName"}})],1)],1),t._v(" "),n("el-col",{attrs:{span:8}},[n("el-form-item",{staticClass:"empele",attrs:{label:"姓名",prop:"StaffName"}},[n("el-input",{model:{value:t.Employee.StaffName,callback:function(e){t.$set(t.Employee,"StaffName",e)},expression:"Employee.StaffName"}})],1)],1),t._v(" "),n("el-col",{attrs:{span:8}},[n("el-form-item",{staticClass:"empele",attrs:{label:"昵称",prop:"Nick"}},[n("el-input",{model:{value:t.Employee.Nick,callback:function(e){t.$set(t.Employee,"Nick",e)},expression:"Employee.Nick"}})],1)],1)],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{staticClass:"empele",attrs:{label:"英文名",prop:"EName"}},[n("el-input",{model:{value:t.Employee.EName,callback:function(e){t.$set(t.Employee,"EName",e)},expression:"Employee.EName"}})],1)],1),t._v(" "),n("el-col",{attrs:{span:16}},[n("el-form-item",{staticClass:"empele",attrs:{label:"部门",prop:"DepartmentName"}},[n("el-input",{attrs:{placeholder:"点击图标选择部门,手工输入无效",icon:"edit"},on:{click:t.ToDep},model:{value:t.Employee.DepartmentName,callback:function(e){t.$set(t.Employee,"DepartmentName",e)},expression:"Employee.DepartmentName"}})],1)],1)],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{staticClass:"empele",attrs:{label:"职称",prop:"PositionalTitle"}},[n("el-input",{model:{value:t.Employee.PositionalTitle,callback:function(e){t.$set(t.Employee,"PositionalTitle",e)},expression:"Employee.PositionalTitle"}})],1)],1),t._v(" "),n("el-col",{attrs:{span:16}},[n("el-form-item",{staticClass:"empele",attrs:{label:"职位",prop:"PositionNames"}},[n("el-input",{attrs:{placeholder:"点击图标选择职位,手工输入无效",icon:"edit"},on:{click:t.ToOrg},model:{value:t.Employee.PositionNames,callback:function(e){t.$set(t.Employee,"PositionNames",e)},expression:"Employee.PositionNames"}})],1)],1)],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{staticClass:"empele",attrs:{label:"电话",prop:"WorkPhone"}},[n("el-input",{model:{value:t.Employee.WorkPhone,callback:function(e){t.$set(t.Employee,"WorkPhone",e)},expression:"Employee.WorkPhone"}})],1)],1),t._v(" "),n("el-col",{attrs:{span:8}},[n("el-form-item",{staticClass:"empele",attrs:{label:"手机",prop:"WorkMobile"}},[n("el-input",{model:{value:t.Employee.WorkMobile,callback:function(e){t.$set(t.Employee,"WorkMobile",e)},expression:"Employee.WorkMobile"}})],1)],1),t._v(" "),n("el-col",{attrs:{span:8}},[n("el-form-item",{staticClass:"empele",attrs:{label:"邮箱",prop:"WorkEmail"}},[n("el-input",{model:{value:t.Employee.WorkEmail,callback:function(e){t.$set(t.Employee,"WorkEmail",e)},expression:"Employee.WorkEmail"}})],1)],1)],1),t._v(" "),n("h4",[t._v("绑定账号")]),n("br"),t._v(" "),void 0==t.Employee.StaffID||0==t.Employee.StaffID?n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{staticClass:"empele",attrs:{label:"平台账号",prop:"UserNum"}},[n("el-input",{model:{value:t.Employee.UserNum,callback:function(e){t.$set(t.Employee,"UserNum",e)},expression:"Employee.UserNum"}})],1)],1)],1):n("el-row",[void 0!=t.Employee.UserID&&t.Employee.UserID>0?n("el-col",{attrs:{span:8}},[n("el-form-item",{staticClass:"empele",attrs:{label:"平台账号",prop:"UserNum"}},[n("el-input",{attrs:{disabled:"disabled"},model:{value:t.Employee.UserNum,callback:function(e){t.$set(t.Employee,"UserNum",e)},expression:"Employee.UserNum"}})],1)],1):n("el-col",{attrs:{span:24}},[n("el-row",{staticStyle:{"margin-bottom":"0px"}},[void 0==t.Employee.UserID||0==t.Employee.UserID?n("el-col",{attrs:{span:5}},[n("el-form-item",{staticClass:"empele",attrs:{label:"选择类型",prop:"InvitationType"}},[n("el-select",{attrs:{placeholder:"请选择"},on:{change:t.ChangeType},model:{value:t.InvitationType,callback:function(e){t.InvitationType=e},expression:"InvitationType"}},[n("el-option",{key:"1",attrs:{label:"账号邀请",value:"1"}}),t._v(" "),n("el-option",{key:"2",attrs:{label:"邀请码邀请",value:"2"}})],1)],1)],1):t._e(),t._v(" "),1==t.InvitationType?n("el-col",{attrs:{span:8}},[n("el-form-item",{staticClass:"empele",attrs:{label:"平台账号",prop:"UserNum"}},[n("el-input",{on:{change:t.CheckUser},model:{value:t.Employee.UserNum,callback:function(e){t.$set(t.Employee,"UserNum",e)},expression:"Employee.UserNum"}})],1)],1):t._e(),t._v(" "),2==t.InvitationType?n("el-col",{attrs:{span:10}},[n("el-form-item",{staticClass:"empele",attrs:{label:"邀请码",prop:"InvitationCode"}},[n("el-input",{attrs:{id:"txtInvitationCode",placeholder:""},model:{value:t.Employee.InvitationCode,callback:function(e){t.$set(t.Employee,"InvitationCode",e)},expression:"Employee.InvitationCode"}})],1)],1):t._e(),t._v(" "),t.CheckVisiable?n("el-col",{attrs:{span:1}},[n("div",{staticClass:"xlabel icon20 icon-g20",staticStyle:{"margin-left":"5px"}})]):t._e(),t._v(" "),t.CheckErrorVisiable?n("el-col",{attrs:{span:1}},[n("div",{staticClass:"xlabel icon20 icon-x20",staticStyle:{"margin-left":"5px"}})]):t._e(),t._v(" "),2==t.InvitationType?n("el-col",{attrs:{span:2}},[n("el-button",{attrs:{type:"primary"},on:{click:t.CopyCode}},[t._v("复制")])],1):t._e()],1)],1)],1)],1),t._v(" "),n("span",{staticClass:"dialog-footer",staticStyle:{"margin-top":"-40px"},attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.Cancel}},[t._v("取消")]),t._v(" "),n("el-button",{attrs:{type:"warning"},on:{click:t.Confirm}},[t._v("确定")])],1)],1),t._v(" "),n("sorg",{attrs:{companyid:t.Org.companyid,TypeList:t.Org.TypeList,visiable:t.Org.visiable},on:{"update:visiable":function(e){t.$set(t.Org,"visiable",e)},EventClose:t.OrgClose,EventSelected:t.OrgConfirm}}),t._v(" "),n("sorg",{attrs:{companyid:t.Dep.companyid,TypeList:t.Dep.TypeList,visiable:t.Dep.visiable},on:{"update:visiable":function(e){t.$set(t.Dep,"visiable",e)},EventClose:t.DepClose,EventSelected:t.DepConfirm}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"PerformanceDefinitionDocumentDetail"},[n("div",{staticClass:"title"},[n("div",{staticClass:"button"},["draft"===t.state?n("el-button",{on:{click:t.declaredToQianpi}},[t._v("审批")]):t._e(),t._v(" "),"declared"===t.state?n("el-button",{on:{click:t.effecteDoc}},[t._v("生效")]):t._e(),t._v(" "),n("router-link",{attrs:{to:"/test/PerformanceDefinitionDocumentList"}},[n("el-button",[t._v("返回列表")])],1)],1)]),t._v(" "),n("div",{staticClass:"main"},[n("div",{staticClass:"main-title"},[n("h3",[t._v("单据信息")]),t._v(" "),n("div",{staticClass:"main-title-content"},[n("div",{staticClass:"top-left-item"},[n("p",[t._v("单据编号:")]),t._v(" "),n("p",[t._v(t._s(t.content.id))])]),t._v(" "),n("div",{staticClass:"top-left-item"},[n("p",[t._v("汇报人:")]),t._v(" "),n("p",[t._v(t._s(t.reporter))])])])]),t._v(" "),t._l(t.principalAndOwnPerformanceDefinitionList,function(e,i){return t.principalAndOwnPerformanceDefinitionList.length>0?[n("performance-definition-position-detail",{key:i,attrs:{item:e}})]:t._e()})],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.dialogVisible,expression:"dialogVisible"}]},[n("div",{staticClass:"white-board-style",staticStyle:{width:"65%",height:"65%",position:"absolute",top:"10%",left:"17.5%"}},[t._m(0),t._v(" "),n("hr",{staticStyle:{position:"absolute",top:"11%",left:"3%","z-index":"999"},attrs:{width:"10%",color:"#5eaaf8"}}),t._v(" "),n("hr",{staticStyle:{position:"absolute",top:"11%",left:"3%"},attrs:{width:"94%",color:"lightgrey"}}),t._v(" "),n("div",{staticStyle:{position:"absolute",top:"16%",left:"3%",width:"100%"}},[n("el-cascader",{attrs:{"expand-trigger":"hover",options:t.deps},on:{change:t.handleDepChange},model:{value:t.selectDep,callback:function(e){t.selectDep=e},expression:"selectDep"}})],1),t._v(" "),n("div",{staticStyle:{position:"absolute",top:"16%",left:"45%",width:"100%"}},[n("el-cascader",{attrs:{"expand-trigger":"hover",options:t.positions},on:{change:t.handlePositionChange},model:{value:t.selectPosition,callback:function(e){t.selectPosition=e},expression:"selectPosition"}})],1),t._v(" "),n("button",{staticClass:"search_button",on:{click:t.handleSearch}},[t._v("查找")]),t._v(" "),n("div",[n("font",{staticStyle:{position:"absolute",top:"25%",left:"3%",color:"grey","letter-spacing":"1px"}},[t._v("选择的对象")])],1),t._v(" "),n("div",{staticClass:"table_style",staticStyle:{width:"94%",height:"56%"}},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.data,"highlight-current-row":""},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"50"}}),t._v(" "),n("el-table-column",{attrs:{prop:"name",label:"名称"}}),t._v(" "),n("el-table-column",{attrs:{prop:"positionName",label:"职位"}}),t._v(" "),n("el-table-column",{attrs:{prop:"departName",label:"部门"}}),t._v(" "),n("el-table-column",{attrs:{prop:"baseScore",label:"基础分"}}),t._v(" "),n("el-table-column",{attrs:{prop:"calcType",label:"计算方式"}}),t._v(" "),n("el-table-column",{attrs:{prop:"minRate",label:"浮动区间"}})],1),t._v(" "),n("el-col",{directives:[{name:"show",rawName:"v-show",value:0!==this.total,expression:"this.total!==0"}],staticClass:"pager",attrs:{span:24}},[n("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":t.filters.PageSize,"current-page":t.filters.PageIndex,total:t.total},on:{"current-change":t.handlePager,"update:currentPage":function(e){t.$set(t.filters,"PageIndex",e)}}})],1)],1),t._v(" "),n("button",{staticStyle:{position:"absolute",top:"90%",right:"14%",width:"90px",height:"38px","background-color":"orange","border-radius":"5px","text-align":"center",color:"white",cursor:"pointer","font-size":"14px",border:"none","z-index":"998"},on:{click:t.handleSelect}},[t._v("确认")]),t._v(" "),n("button",{staticStyle:{position:"absolute",top:"90%",right:"3%",width:"90px",height:"38px","background-color":"white","border-radius":"5px","text-align":"center",color:"grey",cursor:"pointer","font-size":"14px",border:"1px solid grey","z-index":"999"},on:{click:t.handleClose}},[t._v("关闭")])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("table",{staticStyle:{width:"30%",position:"absolute",top:"3.1%",left:"3.2%"}},[n("tbody",[n("tr",{staticStyle:{color:"#5eaaf8","font-size":"24px"}},[n("td",[t._v("绩效导入")])])])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"Left01"}},[n("div",{staticClass:"collapse-menu"},[n("el-button",{attrs:{type:"text"},on:{click:t.ClickCollapse}},[n("i",{class:{fa:!0,"fa-angle-left":!t.isCollapse,"fa-angle-right":t.isCollapse}}),t._v(" "),n("i",{class:{fa:!0,"fa-angle-left":!t.isCollapse,"fa-angle-right":t.isCollapse}}),t._v(" "),t.isCollapse?t._e():n("span",[t._v(t._s(t._tt("收起菜单")))])])],1),t._v(" "),n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":t.SelectIndex,"default-openeds":t.OpenGroupIndex,"unique-opened":"",router:"",collapse:t.isCollapse},on:{select:t.onSelect}},[n("el-submenu",{attrs:{index:"1"}},[n("template",{slot:"title"},[n("i",{staticClass:"fa fa-edit"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t._tt("签批件")))])]),t._v(" "),t._l(t.kanbanTypes,function(e){return n("el-menu-item",{key:e.ID,attrs:{index:"1-"+e.ID,route:{path:"/batch/kanban/"+e.ID}}},[t._v(t._s(t._tt(e.Title))+"\n                "),n("div",{staticClass:"divBox"},[n("div",{staticClass:"divrais",style:0==e.ShowRed||0==e.count?"display:none;":""},[t._v("\n                        "+t._s(e.count)+"\n                    ")])])])})],2),t._v(" "),n("el-submenu",{attrs:{index:"2"}},[n("template",{slot:"title"},[n("i",{staticClass:"fa fa-money"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t._tt("物资采购")))])]),t._v(" "),n("el-menu-item",{attrs:{index:"2-1",route:{path:"/scpay/documentmanager/2"}},on:{click:t.ChangeWidth}},[t._v(t._s(t._tt("供应商管理")))]),t._v(" "),n("el-menu-item",{attrs:{index:"2-2",route:{path:"/scpay/documentmanager/3"}},on:{click:t.ChangeWidth}},[t._v(t._s(t._tt("合同管理")))]),t._v(" "),n("el-menu-item",{attrs:{index:"2-3",route:{path:"/scpay/documentmanager/4"}},on:{click:t.ChangeWidth}},[t._v(t._s(t._tt("付款管理")))]),t._v(" "),n("el-menu-item",{attrs:{index:"2-4",route:{path:"/scpay/documentmanager/7"}},on:{click:t.ChangeWidth}},[t._v(t._s(t._tt("项目款管理")))])],2),t._v(" "),n("el-submenu",{attrs:{index:"3"}},[n("template",{slot:"title"},[n("i",{staticClass:"fa fa-user-o"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t._tt("个人中心")))])]),t._v(" "),n("el-menu-item",{attrs:{index:"3-1",route:{name:"UserDetail"}}},[t._v(t._s(t._tt("用户信息")))]),t._v(" "),n("el-menu-item",{attrs:{index:"3-2",route:{name:"UserCompany"}}},[t._v(t._s(t._tt("公司信息")))]),t._v(" "),n("el-menu-item",{attrs:{index:"3-3",route:{name:"UserSecurity"}}},[t._v(t._s(t._tt("安全管理")))])],2),t._v(" "),t.IsSysRights()?n("el-submenu",{attrs:{index:"5"}},[n("template",{slot:"title"},[n("i",{staticClass:"fa fa-gear"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t._tt("设置")))])]),t._v(" "),n("el-menu-item",{attrs:{index:"5-1",route:{path:"/depart"}}},[t._v(t._s(t._tt("组织机构")))]),t._v(" "),n("el-menu-item",{attrs:{index:"5-2",route:{path:"/manager/companymanager"}}},[t._v(t._s(t._tt("公司管理")))]),t._v(" "),n("el-menu-item",{attrs:{index:"5-3",route:{path:"/manager/templatemanager"}}},[t._v(t._s(t._tt("模板管理")))])],2):t._e(),t._v(" "),n("el-submenu",{attrs:{index:"6"}},[n("template",{slot:"title"},[n("i",{staticClass:"fa fa-gear"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t._tt("绩效管理")))])]),t._v(" "),n("el-menu-item",{attrs:{index:"6-1",route:{path:"/test/PerformanceDefinitionKanban"}}},[t._v(t._s(t._tt("岗位职责看板")))]),t._v(" "),n("el-menu-item",{attrs:{index:"6-2",route:{path:"/test/OwnPerformanceDefinitionCart"}}},[t._v(t._s(t._tt("我的申请模板项")))]),t._v(" "),n("el-menu-item",{attrs:{index:"6-3",route:{path:"/test/PerformanceDefinitionDocumentList"}}},[t._v(t._s(t._tt("绩效定义文档")))]),t._v(" "),n("el-menu-item",{attrs:{index:"6-4",route:{path:"/test/ReportChain"}}},[t._v(t._s(t._tt("汇报链弹窗")))]),t._v(" "),n("el-menu-item",{attrs:{index:"6-5",route:{path:"/test/ExtendedField"}}},[t._v(t._s(t._tt("拓展字段")))]),t._v(" "),n("el-menu-item",{attrs:{index:"6-6",route:{path:"/test/WorkItemList"}}},[t._v(t._s(t._tt("工作项列表")))])],2),t._v(" "),n("el-submenu",{attrs:{index:"7"}},[n("template",{slot:"title"},[n("i",{staticClass:"fa fa-gear"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t._tt("任务")))])]),t._v(" "),n("el-menu-item",{attrs:{index:"7-1",route:{path:"/task/task-kanban"}}},[t._v(t._s(t._tt("任务看板")))]),t._v(" "),n("el-menu-item",{attrs:{index:"7-2",route:{path:"/task/task-review"}}},[t._v(t._s(t._tt("任务回顾")))]),t._v(" "),n("el-menu-item",{attrs:{index:"7-3",route:{path:"/task/task-document-list"}}},[t._v(t._s(t._tt("任务文档")))])],2),t._v(" "),n("el-submenu",{attrs:{index:"8"}},[n("template",{slot:"title"},[n("i",{staticClass:"fa fa-gear"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t._tt("绩效项")))])]),t._v(" "),n("el-menu-item",{attrs:{index:"8-1",route:{path:"/work/work-item-list"}}},[t._v(t._s(t._tt("工作项组件")))]),t._v(" "),n("el-menu-item",{attrs:{index:"8-4",route:{path:"/work/work-item-list-new"}}},[t._v(t._s(t._tt("新工作项组件")))]),t._v(" "),n("el-menu-item",{attrs:{index:"8-2",route:{path:"/work/filter-test"}}},[t._v(t._s(t._tt("筛选器组件")))]),t._v(" "),n("el-menu-item",{attrs:{index:"8-3",route:{path:"/work/filter-controller-test"}}},[t._v(t._s(t._tt("筛选控制器")))])],2),t._v(" "),n("el-submenu",{attrs:{index:"9"}},[n("template",{slot:"title"},[n("i",{staticClass:"fa fa-gear"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t._tt("预算管理")))])]),t._v(" "),n("el-menu-item",{attrs:{index:"9-1",route:{path:"/test/BudgetDetail/0"}}},[t._v(t._s(t._tt("预算详情")))]),t._v(" "),n("el-menu-item",{attrs:{index:"9-2",route:{path:"/test/BudgetDetailListItem"}}},[t._v(t._s(t._tt("预算列表组件")))]),t._v(" "),n("el-menu-item",{attrs:{index:"9-3",route:{path:"/test/BudgetList"}}},[t._v(t._s(t._tt("预算文档")))]),t._v(" "),n("el-menu-item",{attrs:{index:"9-4",route:{path:"/test/BudgetKanban"}}},[t._v(t._s(t._tt("预算看板")))])],2)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ExtendedFieldsForOneInput"},[t._l(t.extendedFields,function(e,i){return[n("div",{key:i,staticClass:"fields-item"},[n("span",{staticClass:"input-span",staticStyle:{color:"blue"},on:{click:function(e){t.addExtendedItem(i)}}},[n("i",{staticClass:"el-icon-plus"})]),t._v(" "),n("div",{staticClass:"title"},[t._v(t._s(e.keyName))]),t._v(" "),n("span",{staticClass:"input-span"},[t._v(":")]),t._v(" "),n("input-item",{attrs:{"is-edit":t.onEdit,"input-height":"30px"},model:{value:e.keyValue,callback:function(n){t.$set(e,"keyValue",n)},expression:"item.keyValue"}}),t._v(" "),1!=t.extendedFields.length?n("span",{staticClass:"input-span",staticStyle:{color:"red"},on:{click:function(e){t.deleteExtendedItem(i)}}},[n("i",{staticClass:"el-icon-close",staticStyle:{"font-size":"12px"}})]):t._e()],1)]})],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-dialog",{staticStyle:{width:"100%"},attrs:{title:t.dialogTitle,visible:t.visiable,size:"small"},on:{"update:visible":function(e){t.visiable=e}}},[n("div"),t._v(" "),n("div",{staticStyle:{height:"25px"}},[t._v("流程模板")]),t._v(" "),n("div",{attrs:{"height:40px":""}},[n("el-select",{staticStyle:{width:"100%"},attrs:{disabled:0!=t.step,placeholder:"请选择流程模板"},model:{value:t.templateID,callback:function(e){t.templateID=e},expression:"templateID"}},t._l(t.templateList,function(t,e){return n("el-option",{key:e,attrs:{label:t.Title,value:t.ID}})}))],1),t._v(" "),n("div",{staticStyle:{height:"25px"}}),t._v(" "),n("div",{staticStyle:{height:"25px"}},[t._v("\n            下一阶段参与人\n               \n            "),t.templateID<1&&t.flag>0&&t.flag<4?n("el-checkbox",{model:{value:t.isAutoFill,callback:function(e){t.isAutoFill=e},expression:"isAutoFill"}},[t._v("启用自动填充")]):t._e(),t._v("\n            \n         "),t.isAutoFill?n("el-checkbox",{model:{value:t.isExpMe,callback:function(e){t.isExpMe=e},expression:"isExpMe"}},[t._v("排除自己")]):t._e()],1),t._v(" "),n("div",{attrs:{"height:40px":""}},[n("el-select",{staticStyle:{width:"calc(100% - 185px)"},attrs:{disabled:t.hasrights||4==t.flag||-1==t.flag,placeholder:"选择人员",filterable:"",remote:"",multiple:""},model:{value:t.nodeUserList,callback:function(e){t.nodeUserList=e},expression:"nodeUserList"}},t._l(t.optionalUserList,function(t,e){return n("el-option",{key:e,attrs:{label:t.Title,value:t.ID}})})),t._v(" "),n("el-input",{staticStyle:{width:"180px"},attrs:{disabled:t.templateID>0||t.templateID<1},model:{value:t.condition,callback:function(e){t.condition=e},expression:"condition"}},[n("template",{slot:"prepend"},[t._v("需要的通过人数：")])],2)],1),t._v(" "),n("div",{staticStyle:{height:"25px"}}),t._v(" "),n("div",[n("el-upload",{attrs:{action:t.uploadURL,headers:t.headers,data:t.data,"file-list":t.fileList,"before-upload":t.checkFile,"on-preview":t.handlePreview,"on-success":t.handleUploadSuccess,"on-remove":t.handleRemove}},[n("button",{staticClass:"btn"},[t._v("附件上传")])])],1),t._v(" "),n("div",{staticStyle:{height:"25px"}}),t._v(" "),n("div",{staticStyle:{height:"25px"}},[t._v("意见与结果")]),t._v(" "),n("div",{staticStyle:{height:"200px"}},[n("vue-html5-editor",{ref:"editor",attrs:{content:t.content,height:180},on:{change:t.updateData}})],1),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.close}},[n("i",{staticClass:"fa fa-window-close"}),t._v(" 关闭")]),t._v(" "),-1==t.flag?n("el-button",{attrs:{type:"danger"},on:{click:t.submit}},[n("i",{staticClass:"fa fa-thumbs-down"}),t._v(" 驳回")]):t._e(),t._v(" "),0==t.flag?n("el-button",{attrs:{type:"success"},on:{click:t.submit}},[n("i",{staticClass:"fa fa-lightbulb-o"}),t._v(" 提交")]):t._e(),t._v(" "),1==t.flag?n("el-button",{attrs:{type:"warning"},on:{click:t.submit}},[n("i",{staticClass:"fa fa-lightbulb-o"}),t._v(" 发表意见")]):t._e(),t._v(" "),2==t.flag?n("el-button",{attrs:{type:"success"},on:{click:t.submit}},[n("i",{staticClass:"fa fa-check"}),t._v(" 决策同意")]):t._e(),t._v(" "),3==t.flag?n("el-button",{attrs:{type:"warning"},on:{click:t.submit}},[n("i",{staticClass:"fa fa-lightbulb-o"}),t._v(" 完成执行")]):t._e(),t._v(" "),4==t.flag?n("el-button",{attrs:{type:"success"},on:{click:t.submit}},[n("i",{staticClass:"fa fa-folder-open-o"}),t._v(" 归档")]):t._e()],1)])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"filter-option"},[t.isCustomOption?[t.option.multiSelection?n("el-checkbox",{staticClass:"option-check-box",attrs:{size:"small"},model:{value:t.option.checked,callback:function(e){t.$set(t.option,"checked",e)},expression:"option.checked"}}):t._e(),t._v(" "),n("el-tag",{staticClass:"custom-option",attrs:{closable:!0,type:"gray"},on:{close:t.onClose},nativeOn:{click:function(e){return t.emitClick(e)}}},[t._v(t._s(t.option.displayText))])]:[t.option.multiSelection?n("el-checkbox",{staticClass:"option-check-box",attrs:{size:"small"},model:{value:t.option.checked,callback:function(e){t.$set(t.option,"checked",e)},expression:"option.checked"}},[t._v("\n            "+t._s(t.option.displayText)+"\n            "),t.option.count>0?[t._v("("+t._s(t.option.count)+")")]:t._e()],2):n("el-button",{attrs:{type:"text"},on:{click:t.emitClick}},[t._v("\n            "+t._s(t.option.displayText)+"\n            "),t.option.count>0?[t._v("("+t._s(t.option.count)+")")]:t._e()],2)]],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ptit-form-item",{ref:"item",attrs:{prop:t.prop,label:t.label,showLabel:t.showLabel,for:t.name,labelWidth:t.labelWidth,arrayProp:t.arrayProp,followFormState:t.followFormState,itemState:t.itemState},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[n("div",{staticClass:"ptit-input-default"},[t._t("default",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],staticClass:"ptit-input",attrs:{name:t.name,type:"text",autocomplete:"off",placeholder:t.placeHolder},domProps:{value:t.currentValue},on:{input:[function(e){e.target.composing||(t.currentValue=e.target.value)},t.handleInput],blur:t.handleBlur}})])],2),t._v(" "),n("div",{staticClass:"ptit-input-view",style:t.viewStyle,attrs:{slot:t.viewStateName},slot:t.viewStateName},[t._t("viewSlot",[t._v("\n      "+t._s(t.viewText)+"\n    ")])],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"BudgetDetailList"},[n("grid-group-head",[n("grid-group-head-column",{attrs:{flexWidth:"0 0 100px",textAlign:"left"}},[n("h3",[t._v("预算详情")])]),t._v(" "),n("grid-group-head-column",{attrs:{flexWidth:"0 0 200px",textAlign:"left"}},[n("h5",[t._v("预算总金额："+t._s(t.total))])])],1),t._v(" "),t.onEdit?t._e():n("grid-head-row",[n("grid-head-column",{attrs:{flexWidth:"0 0 230px",textAlign:"left"}},[t._v("节点名称")]),t._v(" "),n("grid-head-column",{attrs:{flexWidth:"0 0 100px",textAlign:"left"}},[t._v("类型")]),t._v(" "),n("grid-head-column",{attrs:{flexWidth:"0 0 200px",textAlign:"left"}},[t._v("金额")]),t._v(" "),n("grid-head-column",{attrs:{flexWidth:"0 0 300px",textAlign:"left"}},[t._v("事由")]),t._v(" "),n("grid-head-column",{attrs:{flexWidth:"0 0 100px",textAlign:"left"}})],1),t._v(" "),t.onEdit?n("grid-head-row",[n("grid-head-column",{attrs:{flexWidth:"0 0 30px",textAlign:"left"}}),t._v(" "),n("grid-head-column",{attrs:{flexWidth:"0 0 230px",textAlign:"left"}},[t._v("节点名称")]),t._v(" "),n("grid-head-column",{attrs:{flexWidth:"0 0 140px",textAlign:"left"}},[t._v("类型")]),t._v(" "),n("grid-head-column",{attrs:{flexWidth:"0 0 160px",textAlign:"left"}},[t._v("金额")]),t._v(" "),n("grid-head-column",{attrs:{flexWidth:"0 0 300px",textAlign:"left"}},[t._v("事由")]),t._v(" "),n("grid-head-column",{attrs:{flexWidth:"0 0 100px",textAlign:"left"}})],1):t._e(),t._v(" "),t._l(t.list,function(e,i){return[n("budget-detail-list-item",{key:i,ref:"budgetDetialListItem",refInFor:!0,attrs:{item:e,"on-edit":t.onEdit,"item-index":i,"list-length":t.list.length},on:{deleteItem:t.deleteItemForList,addItem:t.addItem}})]})],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"GridGroupHead"},[t._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{class:t.classes,style:t.styl,on:{mouseenter:function(e){t.rowHover(t.row)},mouseleave:function(e){t.rowHover(t.row)},click:function(e){t.rowClick(t.row)}}},[t.isEdit?t._e():t._t("view"),t._v(" "),t.isEdit?t._t("edit"):t._e()],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"win-main-m"},[n("div",{staticClass:"p-t h8 w100 box-white-b1"},[n("div",{staticClass:"p-l1 title2-grey"},[t._v(t._s(t._tt("组织机构")))]),t._v(" "),n("div",{staticClass:"company p-r1 s-lightgrey-mi"},[n("div",{staticClass:"icon-build32"}),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.Org.companyid,expression:"Org.companyid"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.Org,"companyid",e.target.multiple?n:n[0])}}},[t._l(t.comapnyList,function(e){return[n("option",{domProps:{value:e.value}},[t._v(t._s(e.text))])]})],2)])]),t._v(" "),n("div",{staticClass:"m-bl p-b h92 w100 box-AliceBlue-b1"},[n("div",{staticClass:"lorg h-left30 h100 box-AliceBlue-b1 box-fy"},[n("el-collapse",[n("el-collapse-item",{attrs:{name:"1"}},[n("template",{slot:"title"},[n("span",[t._v(t._s(t._tt("组织机构")))]),n("button",{staticStyle:{float:"right","margin-top":"10px","margin-right":"10px","line-height":"normal"},attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.handleUseTemplet(e)}}},[t._v(t._s(t._tt("应用模板")))])]),t._v(" "),n("orgtree",{ref:"orgtree",attrs:{companyId:t.Org.companyid,type:0},on:{nodeclick:t.handleNodeClick,optionsmore:t.optionsmore}})],2),t._v(" "),n("el-collapse-item",{attrs:{title:t._tt("角色信息"),name:"2"}},[n("orgtree",{ref:"orgtree2",attrs:{companyId:t.Org.companyid,type:1},on:{nodeclick:t.handleNodeClick,optionsmore:t.optionsmore}})],1)],1)],1),t._v(" "),n("div",{staticClass:"m-bl h-right70 h100 box-AliceBlue-b1"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isrole,expression:"!isrole"}],staticClass:"employee"},[n("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:t._tt("职位信息"),name:"first"}},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.positionData}},[n("el-table-column",{attrs:{prop:"Name",label:t._tt("职位名称"),width:"180"}}),t._v(" "),n("el-table-column",{attrs:{prop:"EnName",label:t._tt("英文名称")}}),t._v(" "),n("el-table-column",{attrs:{label:t._tt("操作"),width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"small"},nativeOn:{click:function(n){n.preventDefault(),t.EditRights(e.$index,e.row)}}},[t._v(t._s(t._tt("权限设置")))])]}}])})],1)],1),t._v(" "),n("el-tab-pane",{attrs:{label:t._tt("用户管理"),name:"second"}},[n("h4",[t._v(t._s(t.title)+"  "),n("small",[t._v(t._s(t._tt("员工数"))+"："+t._s(t.empolyeeCount))])]),t._v(" "),n("employee",{attrs:{Org:t.Org}})],1)],1)],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isrole,expression:"isrole"}],staticClass:"org"},[n("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[t.showPosition?n("el-tab-pane",{attrs:{label:"职位信息",name:"first"}},[n("h4",[t._v(t._s(t.title))]),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.roleData}},[n("el-table-column",{attrs:{prop:"Name",label:"职位名称",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{prop:"EnName",label:"英文名称"}}),t._v(" "),n("el-table-column",{attrs:{prop:"NodePathNames",label:"路径"}}),t._v(" "),n("el-table-column",{attrs:{label:"操作",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"small"},nativeOn:{click:function(n){n.preventDefault(),t.EditRights(e.$index,e.row)}}},[t._v("权限设置")]),t._v(" "),n("el-button",{attrs:{size:"small"},nativeOn:{click:function(n){n.preventDefault(),t.DeletePosition(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1):t._e(),t._v(" "),n("el-tab-pane",{attrs:{label:"用户管理",name:"second"}},[n("h4",[t._v(t._s(t.title)+"  "),n("small",[t._v("员工数："+t._s(t.empolyeeCount))])]),t._v(" "),n("employee",{attrs:{Org:t.Org}})],1)],1)],1)])]),t._v(" "),n("ctpl",{attrs:{visiable:t.Ctpl.visiable,TargetCid:t.Org.companyid},on:{"update:visiable":function(e){t.$set(t.Ctpl,"visiable",e)},EventClose:t.CtplClose,EventSelected:t.CtplConfirm,EventCopyCompany:t.EventCopyCompany}}),t._v(" "),n("el-dialog",{attrs:{title:"权限设置",visible:t.RightsVisiable,size:"tiny"},on:{"update:visible":function(e){t.RightsVisiable=e}}},[n("el-form",{attrs:{"label-width":"100px"}},[n("el-form-item",{attrs:{label:"签批件权限:"}},[n("el-checkbox",{attrs:{label:"创建",name:"type"},model:{value:t.RightsItem.CreateRights,callback:function(e){t.$set(t.RightsItem,"CreateRights",e)},expression:"RightsItem.CreateRights"}}),t._v(" "),n("el-checkbox",{attrs:{label:"批示",name:"type"},model:{value:t.RightsItem.InstructionsRights,callback:function(e){t.$set(t.RightsItem,"InstructionsRights",e)},expression:"RightsItem.InstructionsRights"}}),t._v(" "),n("el-checkbox",{attrs:{label:"决策同意",name:"type"},model:{value:t.RightsItem.AgreeRights,callback:function(e){t.$set(t.RightsItem,"AgreeRights",e)},expression:"RightsItem.AgreeRights"}}),t._v(" "),n("el-checkbox",{attrs:{label:"归档",name:"type"},model:{value:t.RightsItem.FiledRights,callback:function(e){t.$set(t.RightsItem,"FiledRights",e)},expression:"RightsItem.FiledRights"}}),t._v(" "),n("el-checkbox",{attrs:{label:"添加文档权限",name:"type"},model:{value:t.RightsItem.AddFileRights,callback:function(e){t.$set(t.RightsItem,"AddFileRights",e)},expression:"RightsItem.AddFileRights"}}),t._v(" "),n("el-checkbox",{attrs:{label:"添加新的审批人",name:"type"},model:{value:t.RightsItem.AddUserRights,callback:function(e){t.$set(t.RightsItem,"AddUserRights",e)},expression:"RightsItem.AddUserRights"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"权限等级"}},[n("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择级别"},model:{value:t.level,callback:function(e){t.level=e},expression:"level"}},t._l(t.levels,function(t){return n("el-option",{key:t.value,attrs:{label:t.text,value:t.value}})}))],1)],1),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.RightsVisiable=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"warning"},on:{click:t.handleRights}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"user_info w100 v-top20"},[n("div",{staticClass:"user_info_text p-l1"},[n("font",{attrs:{size:"5px",color:"grey"}},[t._v("绩效明细")])],1)]),t._v(" "),n("button",{staticClass:"b-white-option",staticStyle:{position:"absolute",top:"7%",right:"2%",width:"105px",height:"44px","font-size":"16px",color:"grey"}},[t._v("返 回")]),t._v(" "),n("div",{staticClass:"body"},[n("div",{staticClass:"body_second_white_borad",staticStyle:{width:"96%",height:"10%",position:"relative",left:"2%","margin-top":"2%","margin-bottom":"1%","background-color":"white"}},[n("font",{staticClass:"p-l1t15",attrs:{color:"#5eaaf8",size:"5px"}},[t._v(t._s(t.DeclareModel.title))]),n("br"),n("font",{staticClass:"p-l1b15",attrs:{size:"2px;",color:"#4C5465"}},[t._v(t._s(t.DeclareModel.remark))]),t._v(" "),n("table",{staticStyle:{position:"absolute",top:"15%",right:"15%",color:"grey","text-align":"center",width:"50%",height:"75%"}},[n("tbody",[n("tr",[n("td",[t._v(t._s(t.DeclareModel.itemNum)+"项")]),t._v(" "),n("td",{staticStyle:{color:"#5eaaf8"}},[n("b",[t._v(t._s(t.DeclareModel.totalScore))])]),t._v(" "),n("td",[n("time",[t._v(t._s(t.DeclareModel.createDateTime))])]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2)]),t._v(" "),t._m(3)])]),t._v(" "),n("button",{staticStyle:{position:"absolute",top:"2%",right:"0.2%",width:"12%",height:"96%","background-color":"#fff5d7",border:"none"}},[n("i",{staticClass:"fa fa-newspaper-o fa-2x",staticStyle:{color:"#f9a137"},attrs:{"aria-hidden":"true"}}),t._v("   \n    \t\t\t"),n("font",{staticStyle:{position:"relative",top:"-5px"},attrs:{color:"#f9a137"}},[t._v("审核中")])],1)],1),t._v(" "),t._l(t.empData,function(e,i){return[n("div",{staticClass:"yellow_part"},[n("table",{staticClass:"p-lt1",staticStyle:{position:"relative",top:"15%",left:"0%",width:"40%",height:"70%","text-align":"center"}},[n("tbody",[n("tr",[n("td",{staticStyle:{"font-size":"15px",color:"#4C5465"}},[n("b",[t._v(t._s(e.userName))])]),t._v(" "),n("td",{staticStyle:{"font-size":"15px",color:"#4C5465"}},[n("b",[t._v(t._s(e.departName))])]),t._v(" "),n("td",{staticStyle:{"font-size":"14px"}},[t._v(t._s(e.positionName))]),t._v(" "),n("td",{staticStyle:{color:"#4C5465"}},[n("b",[t._v(t._s(e.items.length))])]),t._v(" "),n("td",{staticStyle:{color:"#f6931e"}},[n("b",[t._v(t._s(t.calculate(e)))])])]),t._v(" "),t._m(4,!0)])]),t._v(" "),n("button",{staticStyle:{float:"right",color:"white","background-color":"#c6ae82",border:"none",width:"7%",height:"40px","margin-right":"20px","margin-top":"-42px","border-radius":"25px","letter-spacing":"1px",cursor:"pointer"},on:{click:function(n){t.handleBatchShow(e)}}},[t._v("批量调整")])]),t._v(" "),t._l(e.items,function(e,i){return[n("div",{staticClass:"white_info_part"},[n("table",{staticStyle:{width:"85%","font-size":"14px",color:"grey","margin-left":"2%"}},[n("tbody",[n("tr",[n("td",[n("time",[t._v(t._s(e.perDate))])]),t._v(" "),n("td",[t._v(t._s(e.performanceName))]),t._v(" "),n("td",[t._v(t._s(e.BaseScore)+" "+t._s(e.calcTypeStr))]),t._v(" "),n("td",[t._v(t._s(e.num)+" "+t._s(e.calcTypeStr))]),t._v(" "),n("td",[t._v("\n                    "+t._s(e.totalScore)+"    \n                    "),n("i",{staticClass:"fa fa-pencil",staticStyle:{color:"#c8ad82"},attrs:{"aria-hidden":"true"},on:{mouseenter:function(n){t.mouseenter(n,e)}}})]),t._v(" "),n("td",{staticStyle:{color:"#f6931e"}},[t._v(t._s(e.drift))]),t._v(" "),n("td",{staticStyle:{color:"#f6931e"}},[t._v(t._s(e.realScore))]),t._v(" "),n("td",[t._v(t._s(e.remark))])])])]),t._v(" "),t._m(5,!0)])]})]})],2),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.moreShow,expression:"moreShow"}],staticClass:"float_board",staticStyle:{position:"relative"},attrs:{id:"board"}},[n("div",{staticStyle:{position:"absolute",top:"-22%",left:"1.5%",width:"11%","background-color":"white",border:"3px solid #c8ad82"}},[n("font",{staticStyle:{position:"absolute","margin-top":"15px","margin-left":"15px"},attrs:{color:"grey"}},[t._v("手动调整")]),t._v(" "),n("hr",{staticStyle:{"margin-top":"45px"},attrs:{width:"84%;"}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.drift,expression:"drift"}],staticStyle:{width:"44%",height:"23%","margin-top":"4.5%","margin-left":"8%",border:"1px solid #c8ad82",color:"#c8ad82"},attrs:{type:"text"},domProps:{value:t.drift},on:{input:function(e){e.target.composing||(t.drift=e.target.value)}}}),t._v(" %\n      \t"),n("button",{staticStyle:{border:"none","background-color":"#c8ad82",height:"28%",width:"16%"},on:{click:t.handleMinus}},[n("i",{staticClass:"fa fa-minus",staticStyle:{color:"white"},attrs:{"aria-hidden":"true"}})]),t._v(" "),n("button",{staticStyle:{border:"none","background-color":"#c8ad82",height:"28%",width:"16%"},on:{click:t.handlePlus}},[n("i",{staticClass:"fa fa-plus",staticStyle:{color:"white"},attrs:{"aria-hidden":"true"}})])],1)]),t._v(" "),n("el-dialog",{attrs:{title:"批量修改",visible:t.dialogVisible,"before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-form",[n("el-form-item",{attrs:{label:"批量添加"}},[n("el-input-number",{attrs:{step:1},on:{change:t.handleChange},model:{value:t.batchvalue,callback:function(e){t.batchvalue=e},expression:"batchvalue"}}),t._v(" 百分比\n          ")],1)],1),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.emp.items,stripe:""},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),n("el-table-column",{attrs:{prop:"perDate",label:"申报日期",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{prop:"performanceName",label:"标题"}}),t._v(" "),n("el-table-column",{attrs:{prop:"BaseScore",label:"基础分",width:"110"}}),t._v(" "),n("el-table-column",{attrs:{prop:"num",label:"件次",width:"110"}}),t._v(" "),n("el-table-column",{attrs:{prop:"drift",label:"调整分",width:"110"}}),t._v(" "),n("el-table-column",{attrs:{prop:"realScore",label:"实际分",width:"110"}})],1),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.handleClose}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.handleBatch}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",[n("b",[t._v("2")]),t._v("项")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",[n("b",[t._v("300")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",[n("b",[t._v("1")]),t._v("人")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",{staticStyle:{"font-size":"12px"}},[n("td",[t._v("总工作项")]),t._v(" "),n("td",[t._v("总绩效")]),t._v(" "),n("td",[t._v("代报日期")]),t._v(" "),n("td",[t._v("代报工作项")]),t._v(" "),n("td",[t._v("代报绩效")]),t._v(" "),n("td",[t._v("代报员工数")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",{staticStyle:{"font-size":"12px",color:"grey"}},[n("td",[t._v("员工")]),t._v(" "),n("td",[t._v("部门")]),t._v(" "),n("td",[t._v("职位")]),t._v(" "),n("td",[t._v("绩效项目数")]),t._v(" "),n("td",[t._v("总绩效")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"b-grey-filter",staticStyle:{"background-color":"#f2f5fa",float:"right","margin-right":"20px","margin-top":"-30px"}},[n("i",{staticClass:"fa fa-clock-o fa-2x",staticStyle:{color:"#5eaaf8"},attrs:{"aria-hidden":"true"}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"InputItemSearch",class:{onEdit:t.isEdit},style:{"border-color":t.validatorMessage?"red":"#e5e5e5",height:t.inputHeight,width:t.inputWidth,"line-height":t.inputHeight}},[t.isEdit?[n("el-autocomplete",{style:{"text-align":t.inputCenter},attrs:{value:t.value.value,"fetch-suggestions":t.querySearchAsync,size:"small",placeholder:"请输入内容"},on:{select:t.handleSelect}})]:[t._v("\n    "+t._s(t.value)+"\n  ")],t._v(" "),t.validatorMessage?n("div",{staticClass:"input-message-icon",style:{left:t.iconLeft,right:t.iconRight}},[n("el-tooltip",{attrs:{placement:"top"}},[n("div",{attrs:{slot:"content",errorKey:t.errorKey},slot:"content"},[t._v(t._s(t.validatorMessage))]),t._v(" "),n("i",{staticClass:"el-icon-warning el-icon--right ",staticStyle:{color:"red"}})])],1):t._e()],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"task_review"},[n("div",{staticClass:"task_review_operation"},[n("el-checkbox",{on:{change:t.taskReviewManager.listShowChange},model:{value:t.taskReviewManager.gsOnlyShowSettledTaskCompletedByMe,callback:function(e){t.$set(t.taskReviewManager,"gsOnlyShowSettledTaskCompletedByMe",e)},expression:"taskReviewManager.gsOnlyShowSettledTaskCompletedByMe"}},[t._v("\n            仅显示已结算的与我相关任务中我负责的任务\n        ")])],1),t._v(" "),t.taskReviewManager.gsTaskListProcessed.length?n("div",{staticClass:"task_review_main"},[n("task-review-list",{attrs:{taskReviewManager:t.taskReviewManager}})],1):n("div",{staticClass:"no_task_review"},[t._v("\n        当前状态下无任务\n    ")])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"item-grouper"},[t._l(t.controller.currentFieldGroupers,function(e){return n("el-tag",{key:e.field.key,attrs:{closable:!0,type:"primary"},on:{close:function(n){t.onCloseFieldGrouper(e,n)}}},[n("span",[t._v(t._s(e.field.displayText))])])}),t._v(" "),t.hasRemainingFieldGrouper?n("el-dropdown",{attrs:{"menu-align":"end"},on:{command:t.onSelectGroupField}},[n("span",{staticClass:"select-grouper"},[t._v("\n            分组\n            "),n("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.controller.remainingFieldGroupers,function(e){return n("el-dropdown-item",{key:e.field.key,attrs:{command:e.field.key}},[t._v(t._s(e.field.displayText)+"\n            ")])}))],1):t._e(),t._v(" "),t.showCurrentAggregator?n("el-cascader",{staticClass:"current-aggregator",attrs:{options:t.controller.fieldAggregators,placeholder:"求值",size:"mini"},on:{change:t.onCurrentAggregatorChanged},model:{value:t.selectedFieldGroupers,callback:function(e){t.selectedFieldGroupers=e},expression:"selectedFieldGroupers"}}):t._e()],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"BudgetKanban"},[n("div",{staticClass:"kanban-top"},[n("div",{staticClass:"kanban-line"},[n("div",{staticClass:"kanban-top-item"},[n("p",[t._v("选择公司:")]),t._v(" "),n("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择",size:"small"},on:{change:t.changedCompany},model:{value:t.BudgetKanbanManager.currentCompanyId,callback:function(e){t.$set(t.BudgetKanbanManager,"currentCompanyId",e)},expression:"BudgetKanbanManager.currentCompanyId"}},t._l(t.OrganizationManager.companysOptions,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),n("p",{staticStyle:{"margin-left":"10px"}},[t._v("选择节点:")]),t._v(" "),n("input-item-search",{ref:"itemName",attrs:{"query-list":t.queryList,"is-edit":t.onEdit,"expect-error-message":"请选中一个节点","input-height":"30px","input-width":"200px"},model:{value:t.BudgetKanbanManager.currentNode,callback:function(e){t.$set(t.BudgetKanbanManager,"currentNode",e)},expression:"BudgetKanbanManager.currentNode"}})],1),t._v(" "),n("div",{staticClass:"kanban-top-item"})]),t._v(" "),n("div",{staticClass:"kanban-line"},[n("div",{staticClass:"kanban-top-item"},[n("p",[t._v("起始时间:")]),t._v(" "),n("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},on:{change:t.changeRenderData},model:{value:t.BudgetKanbanManager.currentStartTime,callback:function(e){t.$set(t.BudgetKanbanManager,"currentStartTime",e)},expression:"BudgetKanbanManager.currentStartTime"}})],1),t._v(" "),n("div",{staticClass:"kanban-top-item"},[n("p",[t._v("结束时间:")]),t._v(" "),n("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},on:{change:t.changeRenderData},model:{value:t.BudgetKanbanManager.currentEndTime,callback:function(e){t.$set(t.BudgetKanbanManager,"currentEndTime",e)},expression:"BudgetKanbanManager.currentEndTime"}})],1)]),t._v(" "),n("div",{staticClass:"kanban-line"},[n("div",{staticClass:"kanban-top-item"},[n("p",[t._v("搜索事由:")]),t._v(" "),n("input-item",{ref:"itemName",attrs:{"is-edit":t.onEdit,"input-height":"30px","input-width":"200px"},model:{value:t.BudgetKanbanManager.currentReason,callback:function(e){t.$set(t.BudgetKanbanManager,"currentReason",e)},expression:"BudgetKanbanManager.currentReason"}})],1),t._v(" "),n("div",{staticClass:"kanban-top-item"},[n("el-button",{attrs:{size:"small"},on:{click:t.reset}},[t._v("重置")])],1)])]),t._v(" "),n("div",{staticClass:"document-main"},[n("kanban-budget-list",{attrs:{list:t.BudgetKanbanManager.budgetKanbanList}})],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ptit-form-item",{ref:"item",staticClass:"ptit-attachment-upload",attrs:{prop:t.prop,showLabel:t.showLabel,label:t.label,followFormState:t.followFormState,itemState:t.itemState}},[n("div",{staticClass:"ptit-attachment-upload-default"},[n("el-upload",{staticClass:"upload-demo",attrs:{action:t.uploadUrl,headers:t.headers,data:t.attachmentData,"file-list":t.doc.Attachments,"before-upload":t.checkFile,"on-preview":t.handleLoadAttachments,"on-success":t.handleUploadSuccess,"on-remove":t.handleRemoveAttachment}},[n("el-button",{attrs:{type:"primary"}},[t._v(t._s(t._tt("上传")))])],1)],1),t._v(" "),n("div",{staticClass:"ptit-attachment-upload-view",attrs:{slot:t.viewStateName},slot:t.viewStateName},[t._l(t.doc.Attachments,function(e){return[n("a",{attrs:{href:"javascript:void(0);"},on:{click:function(n){t.handleLoadAttachments(e)}}},[t._v(t._s(e.name))])]})],2),t._v(" "),n("el-dialog",{model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[n("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ptit-form-card"},[n("div",{staticClass:"ptit-form-card-header"},[t._t("header",[n("h3",[t._v(t._s(t.title))])])],2),t._v(" "),n("div",{staticClass:"ptit-form-card-body"},[n("div",{staticClass:"ptit-form-card-body-inner"},[t._t("default")],2)])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bwhite_board",staticStyle:{position:"absolute",top:"25%",left:"31%"}},[n("div",{staticClass:"white_board_text"},[n("font",{staticStyle:{color:"grey"},attrs:{size:"6px"}},[t._v(t._s(t._tt("绑定邮箱设置")))])],1),t._v(" "),n("button",{staticClass:"cbuttonX",on:{click:t.Close}}),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"bemail_icon",staticStyle:{position:"absolute",top:"21.5%",left:"37%",background:"url(static/usercss/img/email.png)","background-repeat":"no-repeat"}}),t._v(" "),n("div",{staticClass:"bemail_icon_text",staticStyle:{position:"absolute",top:"21%",left:"48%"}},[n("font",{staticStyle:{"letter-spacing":"2px"},attrs:{size:"2px",color:"grey"}},[t._v(t._s(t._tt("您还没有绑定邮箱"))+" "),n("br"),n("br"),t._v(" "+t._s(t._tt("您可在这里绑定邮箱")))])],1),t._v(" "),n("div",{staticClass:"bemail_verify_code",staticStyle:{position:"absolute",left:"12%"}},[n("font",[t._v(t._s(t._tt("输入您的邮箱账户")))]),t._v(" "),n("font",{staticClass:"bred_star1"},[t._v("*")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.UserEMail,expression:"UserEMail"}],domProps:{value:t.UserEMail},on:{blur:t.CheckUserEMail,input:function(e){e.target.composing||(t.UserEMail=e.target.value)}}}),t._v(" "),n("div",{class:t.ShowIcon(t.IntEMail),staticStyle:{position:"absolute",top:"25%",left:"65%"}})],1),t._v(" "),1==t.IntEMail?n("button",{staticClass:"bsend_email_verify_code",staticStyle:{position:"absolute",top:"42.8%",left:"56.5%",width:"12%",height:"6%","background-color":"#54b9e9",color:"white"},on:{click:t.GetCode}},[t._v(t._s(t.ShowWaitTime()))]):t._e(),t._v(" "),n("div",{staticClass:"bemail_verify_code2",staticStyle:{position:"absolute",top:"55%",left:"10%"}},[n("font",[t._v(t._s(t._tt("输入您收到的验证码")))]),t._v(" "),n("font",{staticClass:"red_star2"},[t._v("*")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.VerificationCode,expression:"VerificationCode"}],domProps:{value:t.VerificationCode},on:{input:function(e){e.target.composing||(t.VerificationCode=e.target.value)}}})],1),t._v(" "),n("div",{staticClass:"bemail_verify_code2",staticStyle:{position:"absolute",top:"68.5%",left:"16%"}},[n("font",[t._v(t._s(t._tt("验证登录密码")))]),t._v(" "),n("font",{staticClass:"red_star2"},[t._v("*")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.Password,expression:"Password"}],attrs:{type:"password"},domProps:{value:t.Password},on:{input:function(e){e.target.composing||(t.Password=e.target.value)}}})],1),t._v(" "),n("button",{staticClass:"blink",on:{click:t.BindingEMail}},[t._v(t._s(t._tt("修 改")))])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"white_board_hr"},[n("hr",{attrs:{width:"800px",color:"lightgrey"}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"user_info w100 v-top20"},[n("company",{on:{change:t.ChangeCompany}}),t._v(" "),n("div",{staticClass:"user_info_text p-l1"},[n("font",{attrs:{size:"5px",color:"grey"}},[t._v("绩效申报")])],1),t._v(" "),n("button",{staticClass:"b-orange-h44"},[t._v("保存并申报")])],1),t._v(" "),n("button",{staticClass:"b-white-option",staticStyle:{position:"absolute",top:"7%",right:"10%",width:"105px",height:"44px","font-size":"14px"},on:{click:t.HandleSave}},[t._v("保存草稿")]),t._v(" "),n("div",{staticClass:"body",staticStyle:{"overflow-y":"scroll"}},[n("div",{staticClass:"body_first_white_borad",staticStyle:{position:"relative",top:"-0.8%"}},[n("font",{staticStyle:{position:"absolute",top:"35%",left:"5.5%","font-size":"14px",color:"grey"}},[n("b",[t._v(t._s(t.user.Name))]),t._v("    ")]),t._v(" "),n("div",{staticStyle:{width:"1%",height:"100%","border-left":"1px solid lightgrey",position:"absolute",left:"17.2%"}}),t._v(" "),n("div",{staticStyle:{position:"absolute",top:"24%",left:"18.5%",width:"100%"}},[n("font",{staticStyle:{color:"grey","font-size":"14px"}},[t._v("申报标题")]),t._v("     \n    \t\t\t"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.DeclareModel.title,expression:"DeclareModel.title"}],staticStyle:{width:"56%",height:"32px",border:"1px solid lightgrey","border-radius":"2px",outline:"none","font-size":"16px",color:"grey",cursor:"pointer","background-color":"#f6f6f6"},attrs:{type:"text"},domProps:{value:t.DeclareModel.title},on:{input:function(e){e.target.composing||t.$set(t.DeclareModel,"title",e.target.value)}}})],1),t._v(" "),n("div",{staticStyle:{width:"1%",height:"100%","border-left":"1px solid lightgrey",position:"absolute",left:"81%"}}),t._v(" "),n("button",{staticStyle:{position:"absolute",top:"23%",right:"10.6%",width:"7.5%",height:"55%",border:"none","background-color":"#f2f5fa","border-radius":"5px",cursor:"pointer"}},[n("i",{staticClass:"fa fa-plus",staticStyle:{color:"grey"},attrs:{"aria-hidden":"true"}}),t._v("  \n    \t\t\t"),n("font",{staticStyle:{color:"grey","font-size":"14px"},on:{click:t.SelectItem}},[t._v("导入绩效")])],1),t._v(" "),n("button",{staticStyle:{position:"absolute",top:"23%",right:"2%",width:"7.5%",height:"55%",border:"none","background-color":"#f2f5fa","border-radius":"5px",cursor:"pointer"}},[n("i",{staticClass:"fa fa-download",staticStyle:{color:"grey"},attrs:{"aria-hidden":"true"}}),t._v("  \n    \t\t\t"),n("font",{staticStyle:{color:"grey","font-size":"14px"},on:{click:t.SelectEmployee}},[t._v("选择员工")])],1)],1),t._v(" "),n("div",{staticClass:"body_second_white_borad",staticStyle:{width:"96%",height:"6%",position:"relative",left:"2%","margin-top":"0.5%","margin-bottom":"1%","background-color":"white"}},[n("table",{staticStyle:{position:"absolute",top:"28%",left:"2%",color:"grey"}},[n("tbody",[n("tr",[n("td",[t._v("申报人数   "),n("b",[t._v(t._s(t.DeclareModel.itemNum))])]),t._v(" "),n("td",[t._v("         ")]),t._v(" "),n("td",[t._v("绩效总额    "),n("b",[t._v(t._s(t.DeclareModel.totalScore))])])])])])]),t._v(" "),t._l(t.empData,function(e,i){return[n("div",{staticClass:"yellow_part"},[n("table",{staticClass:"p-lt1",staticStyle:{position:"relative",top:"20.5%",left:"0%",width:"40%",height:"30%","text-align":"center"}},[n("tr",[n("td",{staticStyle:{"font-size":"15px",color:"#4C5465"}},[n("b",[t._v(t._s(e.userName))])]),t._v(" "),n("td",{staticStyle:{"font-size":"15px",color:"#4C5465"}},[n("b",[t._v(t._s(e.departName))])]),t._v(" "),n("td",{staticStyle:{"font-size":"14px"}},[n("b",[t._v(t._s(e.positionName))])]),t._v(" "),n("td",{staticStyle:{color:"#4C5465"}},[n("b",[t._v(t._s(e.items.length))])]),t._v(" "),n("td",{staticStyle:{color:"#f6931e"}},[n("b",[t._v(t._s(t.calculate(e)))])])]),t._v(" "),t._m(0,!0)]),t._v(" "),n("button",{staticClass:"b-white-option",staticStyle:{float:"right","margin-top":"-40px","margin-right":"20px","background-color":"#dfdab0",color:"white",width:"6%",height:"35px","border-radius":"20px"},on:{click:function(n){t.DeleteEmp(e)}}},[n("i",{staticClass:"fa fa-trash-o fa-2x",attrs:{"aria-hidden":"true"}}),t._v("  \n        \t\t"),n("font",{attrs:{color:"white",size:"3px"}},[t._v("删除")])],1)]),t._v(" "),t._l(e.items,function(e,i){return[n("div",{staticClass:"white_info_part",on:{click:function(n){t.CurrentRowSelect(e)}}},[n("table",{staticStyle:{width:"100%"}},[n("tr",[n("td",[n("div",{staticStyle:{width:"12%","border-radius":"1px","margin-left":"20px",display:"inline-block"}},[n("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.perDate,callback:function(n){t.$set(e,"perDate",n)},expression:"it.perDate"}})],1),t._v(" "),n("div",{staticStyle:{width:"12%",height:"43px","border-radius":"1px","margin-left":"20px",display:"inline-block"}},[n("el-select",{attrs:{filterable:"",remote:"","remote-method":t.remoteMethod,loading:t.loading,placeholder:"请选择"},on:{change:t.HandlePerChange},model:{value:e.performanceNameShow,callback:function(n){t.$set(e,"performanceNameShow",n)},expression:"it.performanceNameShow"}},t._l(t.options,function(t){return n("el-option",{key:t.Id,attrs:{label:t.Name,value:t.Id}})}))],1),t._v(" "),n("font",{staticStyle:{left:"31%",color:"grey",margin:"0px 40px 0px"}},[t._v(t._s(e.BaseScore)+" "+t._s(e.calcTypeStr))]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.num,expression:"it.num"}],staticClass:"input-style-small",staticStyle:{width:"5%",height:"40px","border-radius":"1px","text-align":"center","margin-left":"30px"},attrs:{type:"text"},domProps:{value:e.num},on:{input:function(n){n.target.composing||t.$set(e,"num",n.target.value)}}}),t._v(" "),n("font",{staticStyle:{color:"grey"}},[t._v(t._s(e.calcTypeStr))]),t._v(" "),n("font",{staticStyle:{left:"58%",color:"grey","margin-left":"30px"}},[t._v(t._s(e.num*e.BaseScore))]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.remark,expression:"it.remark"}],staticClass:"input-style-small",staticStyle:{width:"30%",height:"40px","border-radius":"1px","text-align":"left",margin:"0px 50px 0px"},attrs:{type:"text",placeholder:" 备注信息"},domProps:{value:e.remark},on:{input:function(n){n.target.composing||t.$set(e,"remark",n.target.value)}}})],1)])]),t._v(" "),n("button",{staticClass:"b-grey-filter",staticStyle:{"background-color":"#f2f5fa",float:"right","margin-right":"20px","margin-top":"-40px"},on:{click:function(n){t.AddItem(e)}}},[n("i",{staticClass:"fa fa-clock-o fa-2x",staticStyle:{color:"#57a9fd"},attrs:{"aria-hidden":"true"}})]),t._v(" "),n("button",{staticClass:"b-grey-filter",staticStyle:{"background-color":"#f2f5fa",float:"right","margin-right":"20px","margin-top":"-40px"},on:{click:function(n){t.DeleteItem(e)}}},[n("i",{staticClass:"fa fa-trash-o fa-2x",staticStyle:{color:"grey"},attrs:{"aria-hidden":"true"}})])])]})]})],2),t._v(" "),n("employee",{attrs:{dvisible:t.empVisible,companyid:t.companyid},on:{"update:dvisible":function(e){t.empVisible=e},EventSelected:t.EmpEventSelected}}),t._v(" "),n("baseitem",{ref:"baseitem",attrs:{companyid:t.companyid,dvisible:t.importItem},on:{"update:dvisible":function(e){t.importItem=e},EventSelected:t.ItemEventSelected}})],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",{staticStyle:{"font-size":"12px",color:"grey"}},[n("td",[t._v("申报人")]),t._v(" "),n("td",[t._v("部门")]),t._v(" "),n("td",[t._v("职位")]),t._v(" "),n("td",[t._v("绩效项目数")]),t._v(" "),n("td",[t._v("总绩效")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-cascader",{attrs:{options:t.options,"change-on-select":!0},on:{change:t.handleChange},model:{value:t.selectedOptions,callback:function(e){t.selectedOptions=e},expression:"selectedOptions"}})},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"document-body",staticStyle:{width:"2200px",height:"15px","line-height":"20px"}},[n("p",{staticClass:"document-title"},[t._v("\r\n      "+t._s(t.item.Title)+"\r\n    ")]),t._v(" "),n("p",{staticClass:"document-field"},[n("span",{staticClass:"document-field-title",staticStyle:{"font-size":"10px"}},[t._v("\r\n        "+t._s(t._tt("付款编号"))+"\r\n      ")]),t._v(" "),n("span",{staticClass:"document-field-value",staticStyle:{color:"black","font-size":"18px"}},[t._v("\r\n        "+t._s(t.item.PaymentCode)+"\r\n      ")])]),t._v(" "),n("p",{staticClass:"document-field"},[n("span",{staticClass:"document-field-title",staticStyle:{"font-size":"10px"}},[t._v("\r\n        "+t._s(t._tt("供应商"))+"\r\n      ")]),t._v(" "),n("span",{staticClass:"document-field-value",staticStyle:{color:"black","font-size":"18px"}},[t._v("\r\n        "+t._s(t.item.SupplierName)+"\r\n      ")])]),t._v(" "),n("p",{staticClass:"document-field"},[n("span",{staticClass:"document-field-title",staticStyle:{"font-size":"10px"}},[t._v("\r\n        "+t._s(t._tt("状态"))+"\r\n      ")]),t._v(" "),n("span",{staticClass:"document-field-value",staticStyle:{color:"#56a8fc","font-size":"18px"}},[t._v("\r\n        "+t._s(t.StateLabels[t.item.PaymentStatus])+"\r\n      ")])]),t._v(" "),n("p",{staticClass:"document-field",staticStyle:{"text-align":"right"}},[n("span",{staticClass:"document-field-title",staticStyle:{"font-size":"10px","line-height":"30px"}},[n("b",[t._v(t._s(t._tt("总金额")))])]),t._v(" "),n("span",{staticClass:"document-field-value",staticStyle:{color:"orange","font-size":"24px"}},[t._v("\r\n        "+t._s(t.item.Payment)+"\r\n     ")])]),t._v(" "),n("div",{staticClass:"hr",staticStyle:{position:"absolute",top:"0",right:"170px",width:"1px",height:"100%","border-right":"1px solid lightgrey"}})]),t._v(" "),n("div",{staticClass:"document-operation"},[n("button",{staticClass:"b-white-option",attrs:{type:"button"},on:{click:function(e){t.onViewDocument(t.item)}}},[t._v(t._s(t._tt("查看")))]),t._v(" "),0==t.activeType&&0==t.item.PaymentStatus?n("button",{staticClass:"b-white-option",attrs:{type:"button"},on:{click:function(e){t.onDeleteDocument(t.item)}}},[t._v(t._s(t._tt("删除")))]):t._e()])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"task_list"},[t.gsAllNoTask?t._e():n("div",{staticClass:"task_list_scroll"},t._l(t.taskList,function(e){return e.list.length?n("task-list-area",{key:e.gsName,attrs:{area:e,"task-list-item-select":t.taskListItemSelect}}):t._e()})),t._v(" "),t.gsAllNoTask?n("div",{staticClass:"no_task"},[t._v("\n        无进行中的任务\n    ")]):t._e()])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"root_task_detail"},[n("div",{staticClass:"detail_header"},[n("el-button",{attrs:{type:"primary"},on:{click:t.backToList}},[t._v("\n            返回列表\n        ")])],1),t._v(" "),n("div",{staticClass:"detail_main"},[n("root-task-detail-task-kanban",{staticClass:"root_task_detail_task_kanban"})],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"document-filter"},[n("ptit-form",[n("div",{staticClass:"ptit-form-item-inline"},[n("ptit-input-item",{staticStyle:{width:"100px"},attrs:{showLabel:!1,placeHolder:t._tt("输入关键字")},model:{value:t.queryEnvelop.Title,callback:function(e){t.$set(t.queryEnvelop,"Title",e)},expression:"queryEnvelop.Title"}}),t._v(" "),0==t.activeType?n("ptit-input-item",{staticStyle:{width:"100px"},attrs:{showLabel:!1,name:"projectStatus"},model:{value:t.queryEnvelop.ProjectStatus,callback:function(e){t.$set(t.queryEnvelop,"ProjectStatus",e)},expression:"queryEnvelop.ProjectStatus"}},[n("el-select",{model:{value:t.queryEnvelop.ProjectStatus,callback:function(e){t.$set(t.queryEnvelop,"ProjectStatus",e)},expression:"queryEnvelop.ProjectStatus"}},t._l(t.queryEnvelop.SelectStatus,function(t){return n("el-option",{key:t.id,attrs:{value:t.id,label:t.name}})}))],1):t._e(),t._v(" "),n("ptit-input-item",{staticStyle:{width:"150px"},attrs:{showLabel:!1}},[n("el-date-picker",{attrs:{type:"date",placeholder:t._tt("有效期至")},model:{value:t.queryEnvelop.Validity,callback:function(e){t.$set(t.queryEnvelop,"Validity",e)},expression:"queryEnvelop.Validity"}})],1),t._v(" "),n("button",{staticClass:"b-white-option",attrs:{type:"button"},on:{click:t.doQuery}},[t._v(t._s(t._tt("搜索")))]),t._v(" "),n("button",{staticClass:"b-white-option",attrs:{type:"button"},on:{click:t.onReset}},[t._v(t._s(t._tt("重置")))])],1)])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"user_info w100 v-top20",staticStyle:{border:"0px solid red","margin-left":"-112px","margin-top":"15px"}},[n("div",{staticClass:"user_info_text p-l1"},[n("font",{attrs:{size:"5px",color:"grey"}},[t._v("我的绩效记录")])],1),t._v(" "),t._m(0),t._v(" "),n("div",[n("company",{on:{change:t.companyChange}})],1),t._v(" "),n("button",{staticClass:"b-orange-h44",on:{click:function(e){t.Add("0")}}},[t._v("新建绩效")])]),t._v(" "),n("div",{staticClass:"body",staticStyle:{border:"0px solid red","margin-left":"-110px","margin-top":"22px"}},[n("table",{staticStyle:{position:"absolute",top:"2.5%",left:"2.5%","font-size":"13px",width:"14%"}},[n("tbody",[0==t.filter.Status?[n("tr",[n("td",{staticStyle:{color:"#5eaaf8"},on:{click:function(e){t.ChangeTab(0)}}},[n("font",[n("b",[t._v("未提交")])])],1),t._v(" "),n("td",{staticStyle:{color:"grey"},on:{click:function(e){t.ChangeTab(1)}}},[t._v("审批中")]),t._v(" "),n("td",{staticStyle:{color:"grey"},on:{click:function(e){t.ChangeTab(2)}}},[t._v("已审批")])])]:1==t.filter.Status?[n("tr",[n("td",{staticStyle:{color:"grey"},on:{click:function(e){t.ChangeTab(0)}}},[t._v("未提交")]),t._v(" "),n("td",{staticStyle:{color:"#5eaaf8"},on:{click:function(e){t.ChangeTab(1)}}},[n("font",[n("b",[t._v("审批中")])])],1),t._v(" "),n("td",{staticStyle:{color:"grey"},on:{click:function(e){t.ChangeTab(2)}}},[t._v("已审批")])])]:[n("tr",[n("td",{staticStyle:{color:"grey"},on:{click:function(e){t.ChangeTab(0)}}},[t._v("未提交")]),t._v(" "),n("td",{staticStyle:{color:"grey"},on:{click:function(e){t.ChangeTab(1)}}},[t._v("审批中")]),t._v(" "),n("td",{staticStyle:{color:"#5eaaf8"},on:{click:function(e){t.ChangeTab(2)}}},[n("font",[n("b",[t._v("已审批")])])],1)])]],2)]),t._v(" "),n("hr",{staticStyle:{width:"3%",position:"absolute",top:"4.7%",left:"2.3%","border-color":"#5eaaf8"}}),t._v(" "),n("button",{staticClass:"b-grey-search p-r2t2",on:{click:t.Search}},[n("i",{staticClass:"fa fa-search fa-2x",attrs:{"aria-hidden":"true"}})]),t._v(" "),n("font",{staticStyle:{position:"absolute",top:"3%",right:"27%","font-size":"12px",color:"grey","letter-spacing":"1px"}},[t._v("起止时间")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.BeginTime,expression:"filter.BeginTime"}],staticClass:"input-style-small",staticStyle:{position:"absolute",top:"1.7%",right:"16.8%",width:"9%"},attrs:{type:"date"},domProps:{value:t.filter.BeginTime},on:{input:function(e){e.target.composing||t.$set(t.filter,"BeginTime",e.target.value)}}}),t._v(" "),t._m(1),t._v(" "),n("font",{staticStyle:{position:"absolute",top:"2.6%",right:"16%"}},[t._v("-")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.EndTime,expression:"filter.EndTime"}],staticClass:"input-style-small",staticStyle:{position:"absolute",top:"1.7%",right:"6.5%",width:"9%"},attrs:{type:"date"},domProps:{value:t.filter.EndTime},on:{input:function(e){e.target.composing||t.$set(t.filter,"EndTime",e.target.value)}}}),t._v(" "),t._m(2),t._v(" "),t._l(t.Source,function(e,i){return[n("div",{staticClass:"white_board_0001"},[n("font",{staticClass:"p-l1t15",attrs:{color:"#5eaaf8",size:"5px"}},[t._v(t._s(e.title))]),n("br"),t._v(" "),n("font",{staticClass:"p-l1b15",attrs:{size:"2px;",color:"#4C5465"}},[t._v(t._s(e.remark))]),t._v(" "),n("table",{staticClass:"p-r20t15",staticStyle:{width:"45%",height:"75%","text-align":"center"}},[n("tbody",[n("tr",[n("td",{staticStyle:{"font-size":"15px",color:"#4C5465"}},[n("b",[t._v(t._s(e.userName))])]),t._v(" "),t._m(3,!0),t._v(" "),n("td",{staticStyle:{"font-size":"14px"}},[n("time",[t._v(t._s(e.applyDate))])]),t._v(" "),n("td",{staticStyle:{color:"#4C5465"}},[n("b",[t._v(t._s(e.itemNum))])]),t._v(" "),n("td",{staticStyle:{color:"#5eaaf8"}},[n("b",[t._v(t._s(e.totalScore))])])]),t._v(" "),t._m(4,!0)])]),t._v(" "),n("button",{staticClass:"b-white-option p-r1t31",on:{mouseenter:function(n){t.mouseenter(n,e)}}},[n("i",{staticClass:"fa fa-ellipsis-h fa-2x",attrs:{"aria-hidden":"true"}})]),t._v(" "),n("button",{staticClass:"b-white-option",staticStyle:{position:"absolute",top:"31%",right:"6%"},on:{click:function(n){t.ShowView(e)}}},[n("font",{attrs:{color:"lightgrey",size:"2px"}},[t._v("详情")])],1),t._v(" "),n("div",{staticClass:"hr",staticStyle:{position:"absolute",top:"0",right:"11.4%",width:"1px",height:"100%","border-right":"1px solid lightgrey"}})],1)]}),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),n("div",{staticClass:"bottom_blue_square"}),t._v(" "),n("div",{staticClass:"bottom_grey_square"})],2),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.moreShow,expression:"moreShow"}],attrs:{id:"more"}},[n("div",{staticClass:"arrow-up-small",attrs:{id:"upsmall"}}),t._v(" "),n("div",{staticClass:"arrow-up-big",attrs:{id:"upbig"}}),t._v(" "),n("div",{staticClass:"white-bubble-style",attrs:{id:"bubble"}},[n("table",{staticStyle:{"text-align":"center",height:"100%",width:"100%","font-size":"12px","background-color":"#f6f6f6"}},[n("tbody",[n("tr",[n("td",[n("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"javascript:;"},on:{click:function(e){t.Edit()}}},[t._v("编辑")])])]),t._v(" "),n("tr",{attrs:{bgcolor:"white"}},[n("td",[n("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"javascript:;"},on:{click:function(e){t.ToAudit()}}},[t._v("申报转签批")])])]),t._v(" "),n("tr",[n("td",[n("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"javascript:;"},on:{click:function(e){t.Delete()}}},[t._v("删除")])])])])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("i",{staticClass:"fa fa-building fa-1x",staticStyle:{color:"grey",position:"absolute",top:"35%",right:"26%","z-index":"9996"},attrs:{"aria-hidden":"true"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("i",{staticClass:"fa fa-calendar-o",staticStyle:{position:"absolute",top:"3%",right:"7.5%","z-index":"9",color:"grey"},attrs:{"aria-hidden":"true"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("i",{staticClass:"fa fa-calendar-o",staticStyle:{position:"absolute",top:"3%",right:"17.8%","z-index":"9",color:"grey"},attrs:{"aria-hidden":"true"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",{staticStyle:{"font-size":"15px",color:"#4C5465"}},[n("b",[t._v("IT运维部")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",{staticStyle:{"font-size":"12px",color:"grey"}},[n("td",[t._v("申报人")]),t._v(" "),n("td",[t._v("部门")]),t._v(" "),n("td",[t._v("申报时间")]),t._v(" "),n("td",[t._v("绩效项目数")]),t._v(" "),n("td",[t._v("总绩效")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bottom_num_select"},[n("select",[n("option",{attrs:{value:"2"}},[t._v("10条/页")]),t._v(" "),n("option",{attrs:{value:"3"}},[t._v("15条/页")]),t._v(" "),n("option",{attrs:{value:"4"}},[t._v("20条/页")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bottom_num"},[n("table",[n("tr",[n("td",[t._v("1")]),t._v(" "),n("td",[t._v("2")]),t._v(" "),n("td",{staticStyle:{color:"white"}},[t._v("3")]),t._v(" "),n("td",[t._v("4")]),t._v(" "),n("td",[t._v("5")]),t._v(" "),n("td",[t._v("6")]),t._v(" "),n("td",[t._v("7")]),t._v(" "),n("td",[t._v("8")]),t._v(" "),n("td",[t._v("9")])])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"left_num_button1"},[n("input",{attrs:{type:"image",src:"../../../static/declarerecord/img/0001.png",name:"img"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"left_num_button2"},[n("input",{attrs:{type:"image",src:"../../../static/declarerecord/img/0002.png",name:"img"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"left_num_button3"},[n("input",{attrs:{type:"image",src:"../../../static/declarerecord/img/0003.png",name:"img"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"left_num_button4"},[n("input",{attrs:{type:"image",src:"../../../static/declarerecord/img/0004.png",name:"img"}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"GridCell",style:{flex:t.flexWidth,"min-width":t.minWidth}},[n("div",{staticClass:"title",style:{"text-align":t.textAlign,width:t.titleWidth}},[t._t("title")],2),t._v(" "),n("div",{staticClass:"static",style:{"text-align":t.textAlign,width:t.titleWidth}},[t._t("static")],2),t._v(" "),t.editingMode?t._e():n("div",{staticClass:"view",style:{"text-align":t.textAlign,width:t.titleWidth}},[t._t("view")],2),t._v(" "),t.editingMode?n("div",{staticClass:"edit",style:{"text-align":t.textAlign,width:t.width,"justify-content":t.flexCenter}},[t._t("edit")],2):t._e(),t._v(" "),t.isShowHr?n("div",{class:{"hr-show":t.isDelete}}):t._e()])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"win-main bg-login"},[t._m(0),t._v(" "),n("div",{staticClass:"body h-center80 v-middle64 box-black-r bg-reg bgp-center"},[t.RegSuccess?n("div",{staticClass:"register p-r box-white-r"},[n("div",{staticClass:"iconok p-lt1 icon78 icon-ok78"}),t._v(" "),n("div",{staticClass:"titleok p-lt1 title2-lightgreen"},[t._v(t._s(t._tt("恭喜！您的账号注册成功!")))]),t._v(" "),n("div",{staticClass:"infook p-lt1 title4-grey"},[t._v(t._s(t._tt("您的账号"))+t._s(t.UserName)+t._s(t._tt("已完成注册，请牢记您的账号!")))]),t._v(" "),n("div",{staticClass:"listok p-lt1 lightgrey"},[n("h4",[t._v(t._s(t._tt("登陆后您可以"))+"：")]),t._v(" "),n("ul",[n("li",[t._v(t._s(t._tt("创建您的公司")))]),t._v(" "),n("li",[t._v(t._s(t._tt("加入您的公司")))]),t._v(" "),n("li",[t._v(t._s(t._tt("有任何问题请联系我们的客服")))])])]),t._v(" "),n("button",{staticClass:"next_button h-center50 b-orange-m btitle-orange-m",on:{click:t.Login}},[t._v(t._s(t._tt("立 即 登 录")))])]):n("div",{staticClass:"register p-r box-white-r"},[n("div",{staticClass:"title p-hm title2-orange"},[t._v(t._s(t._tt("新用户注册")))]),t._v(" "),n("div",{staticClass:"raccount h-center90 i1-lightgrey-hlx"},[n("div",{staticClass:"label"},[n("font",{attrs:{color:"grey"}},[t._v(t._s(t._tt("账号"))),n("font",{attrs:{color:"red"}},[t._v("*")])],1)],1),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.UserName,expression:"UserName"}],attrs:{type:"text",placeholder:t._tt("请输入账号")},domProps:{value:t.UserName},on:{blur:t.CheckUserName,input:function(e){e.target.composing||(t.UserName=e.target.value)}}}),t._v(" "),n("div",{class:t.ShowIcon(t.IntUserName)})]),t._v(" "),n("div",{staticClass:"rphone h-center90 i1-lightgrey-hlx"},[n("div",{staticClass:"label"},[n("font",{attrs:{color:"grey"}},[t._v(t._s(t._tt("手机"))),n("font",{attrs:{color:"red"}},[t._v("*")])],1)],1),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.UserMobile,expression:"UserMobile"}],attrs:{type:"text",placeholder:t._tt("请输入手机号")},domProps:{value:t.UserMobile},on:{blur:t.CheckUserMobile,input:function(e){e.target.composing||(t.UserMobile=e.target.value)}}}),t._v(" "),n("div",{class:t.ShowIcon(t.IntMobile)})]),t._v(" "),n("div",{staticClass:"rcheck h-center90 i1-lightgrey-hlx"},[n("div",{staticClass:"label"},[n("font",{attrs:{color:"grey"}},[t._v(t._s(t._tt("验证码"))),n("font",{attrs:{color:"red"}},[t._v("*")])],1)],1),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.VerificationCode,expression:"VerificationCode"}],attrs:{type:"text",placeholder:t._tt("请输入验证码")},domProps:{value:t.VerificationCode},on:{input:function(e){e.target.composing||(t.VerificationCode=e.target.value)}}}),t._v(" "),n("div",{staticClass:"mlabel box-green-r",staticStyle:{position:"absolute",top:"44%",right:"12%"}},[n("font",{attrs:{color:"white",size:"2px"}},[n("a",{attrs:{color:"white"},on:{click:t.GetMobileCode}},[t._v(t._s(t.ShowWaitTime()))])])],1)]),t._v(" "),n("div",{staticClass:"rpw h-center90 i1-lightgrey-hlx"},[n("div",{staticClass:"label"},[n("font",{attrs:{color:"grey"}},[t._v(t._s(t._tt("密码"))),n("font",{attrs:{color:"red"}},[t._v("*")])],1)],1),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.UserPassword,expression:"UserPassword"}],attrs:{type:"text",placeholder:t._tt("请输入密码")},domProps:{value:t.UserPassword},on:{input:function(e){e.target.composing||(t.UserPassword=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"rcheckpw h-center90 i1-lightgrey-hlx"},[n("div",{staticClass:"label"},[n("font",{attrs:{color:"grey"}},[t._v(t._s(t._tt("确认密码"))),n("font",{attrs:{color:"red"}},[t._v("*")])],1)],1),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.ConfirmPassword,expression:"ConfirmPassword"}],attrs:{type:"text",placeholder:t._tt("请再次输入密码")},domProps:{value:t.ConfirmPassword},on:{input:function(e){e.target.composing||(t.ConfirmPassword=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"checkbox",staticStyle:{position:"absolute",top:"70%",left:"26%"}},[n("input",{attrs:{type:"checkbox",name:""}}),t._v(" "),n("font",{attrs:{color:"grey",size:"2px"}},[t._v(t._s(t._tt("我同意"))),n("a",{attrs:{href:""}},[t._v(t._s(t._tt("服务条款")))])])],1),t._v(" "),n("div",{staticStyle:{position:"absolute",top:"77%",left:"26%"}},[t._v(t._s(t.ErrMessage))]),t._v(" "),n("button",{staticClass:"next_button h-center50 b-orange-m btitle-orange-m",on:{click:t.RegistUser}},[t._v(t._s(t._tt("注 册")))])]),t._v(" "),n("div",{staticClass:"login p-l10b15"},[n("div",{staticClass:"fl bl-white-hrpc",on:{click:t.EnterLogin}},[n("font",{attrs:{color:"gold",size:"4px"}},[t._v(t._s(t._tt("立即登录")))])],1),t._v(" "),n("div",{staticClass:"fl box-h25-pc",staticStyle:{position:"absolute",left:"18%",top:"10%"}},[n("font",{attrs:{color:"white",size:"4px"}},[t._v(t._s(t._tt("已有账号"))+"？")])],1)])]),t._v(" "),n("div",{staticClass:"footer h-center80 v-bottom8 box-grey-ra"},[n("div",{staticClass:"h100 logo-login-foot bgp-l1"}),t._v(" "),n("div",{staticClass:"p-rb1"},[n("font",{attrs:{color:"white",size:"2px"}},[t._v("Copyright "),n("sup",[t._v("©")]),t._v(" 2017 Pingtong365.com All Rights Reserved. "+t._s(t._tt("沪ICP备88888888号")))])],1)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header h-center80 v-top10"},[n("div",{staticClass:"p-l1 h100 w100 logo-login-head"})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"document-body"},[n("p",{staticClass:"document-title"},[t._v("\r\n      "+t._s(t.item.Title)+"\r\n    ")]),t._v(" "),n("document-field",{attrs:{title:t._tt("生效时间")+"：",fieldValue:t.item.Validity}}),t._v(" "),n("document-field",{attrs:{title:t._tt("状态")+"："}},[n("b",{staticStyle:{color:"#43ad02"}},[t._v(t._s(t.StateLabels[t.item.SupplierStatus]))])]),t._v(" "),n("document-field",{attrs:{title:t._tt("标签")+"："}},t._l(t.item.Tags,function(e){return n("el-tag",{key:e},[t._v(t._s(e))])}))],1),t._v(" "),n("div",{staticClass:"hr",staticStyle:{position:"absolute",top:"0",right:"240px",width:"1px",height:"100%","border-right":"1px solid lightgrey"}}),t._v(" "),n("div",{staticClass:"document-operation"},[0==t.activeType&&0==t.item.SupplierStatus?n("button",{staticClass:"b-white-option",attrs:{type:"button"},on:{click:function(e){t.onDeleteDocument(t.item)}}},[t._v(t._s(t._tt("删除")))]):t._e(),t._v(" "),3==t.item.SupplierStatus?n("button",{staticClass:"b-white-option",attrs:{type:"button"},on:{click:function(e){t.onShowReport(t.item)}}},[t._v(t._s(t._tt("报表")))]):t._e(),t._v(" "),n("button",{staticClass:"b-white-option",attrs:{type:"button"},on:{click:function(e){t.onViewDocument(t.item)}}},[t._v(t._s(t._tt("查看")))])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"GridHeadRow"},[t._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("button",{staticClass:"save-button",staticStyle:{"margin-top":"15px","margin-left":"130px"},on:{click:t.HandleSave}},[t._v("保存")]),t._v(" "),n("div",{staticClass:"user_info w100 v-top20",staticStyle:{border:"0px solid red","margin-left":"-112px","margin-top":"15px"}},[n("div",{staticClass:"user_info_text p-l1"},[n("font",{attrs:{size:"5px",color:"grey"}},[t._v("新增绩效")])],1),t._v(" "),n("company",{on:{change:t.companyChange}}),t._v(" "),n("button",{staticClass:"b-orange-h44"},[t._v("提交审批")])],1),t._v(" "),n("editbasecomponent",{ref:"edit",attrs:{companyid:t.companyId,documentid:t.documentId}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"BudgetList"},[n("div",{staticClass:"document-body"},[n("div",{staticClass:"document-top"},[n("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择"},on:{change:t.getBudgetListByState},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}},t._l(t.options,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),n("el-select",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"请选择"},on:{change:t.changedCompany},model:{value:t.BudgetDetailManager.currentCompanyId,callback:function(e){t.$set(t.BudgetDetailManager,"currentCompanyId",e)},expression:"BudgetDetailManager.currentCompanyId"}},t._l(t.OrganizationManager.companysOptions,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),n("el-select",{staticStyle:{width:"100px","margin-left":"10px"},attrs:{placeholder:"请选择"},on:{change:t.changeStaffId},model:{value:t.BudgetDetailManager.staffId,callback:function(e){t.$set(t.BudgetDetailManager,"staffId",e)},expression:"BudgetDetailManager.staffId"}},t._l(t.OrganizationManager.currentCompanyStaffsOptions,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),n("div",{staticClass:"top"},[n("router-link",{attrs:{to:"/test/BudgetDetail/0"}},[n("el-button",[t._v("创建")])],1)],1)],1),t._v(" "),n("div",{staticClass:"document-main"},[0===t.BudgetDetailManager.budgetDetailList.length?n("p",{staticStyle:{"text-align":"center"}},[t._v("目前没有文档")]):t._e(),t._v(" "),t._l(t.BudgetDetailManager.budgetDetailList,function(t){return[n("budget-list-item",{key:t.metadata.uid,attrs:{item:t}})]})],2)])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"document-body"},[n("p",{staticClass:"document-title"},[t._v("\r\n      "+t._s(t.item.Title)+"\r\n    ")]),t._v(" "),n("p",{staticClass:"document-field"},[n("span",{staticClass:"document-field-title",staticStyle:{"font-size":"10px"}},[t._v("\r\n        "+t._s(t._tt("合同编号"))+"\r\n      ")]),t._v(" "),n("span",{staticClass:"document-field-value",staticStyle:{color:"black","font-size":"18px"}},[t._v("\r\n        "+t._s(t.item.ContractCode)+"\r\n      ")])]),t._v(" "),n("p",{staticClass:"document-field"},[n("span",{staticClass:"document-field-title",staticStyle:{"font-size":"10px"}},[t._v("\r\n        "+t._s(t._tt("供应商"))+"\r\n      ")]),t._v(" "),n("span",{staticClass:"document-field-value",staticStyle:{color:"black","font-size":"18px"}},[t._v("\r\n        "+t._s(t.item.SupplierName)+"\r\n      ")])]),t._v(" "),n("p",{staticClass:"document-field"},[n("span",{staticClass:"document-field-title",staticStyle:{"font-size":"10px"}},[t._v("\r\n        "+t._s(t._tt("状态"))+"\r\n      ")]),t._v(" "),n("span",{staticClass:"document-field-value"},[t._v("\r\n        "+t._s(t.StateLabels[t.item.ContractStatus])+"\r\n      ")])]),t._v(" "),n("p",{staticClass:"document-field",staticStyle:{"text-align":"left"}},[n("span",{staticClass:"document-field-title",staticStyle:{"font-size":"10px"}},[t._v("\r\n        "+t._s(t._tt("总价"))+"\r\n      ")]),t._v(" "),n("span",{staticClass:"document-field-value",staticStyle:{color:"orange","font-size":"24px"}},[t._v("\r\n        "+t._s(t.item.TotalPrice||"--")+"\r\n      ")])])]),t._v(" "),n("div",{staticClass:"hr",staticStyle:{position:"absolute",top:"0",right:"240px",width:"1px",height:"100%","border-right":"1px solid lightgrey"}}),t._v(" "),n("div",{staticClass:"document-operation"},[0==t.activeType&&0==t.item.ContractStatus?n("button",{staticClass:"b-white-option",attrs:{type:"button"},on:{click:function(e){t.onDeleteDocument(t.item)}}},[t._v(t._s(t._tt("删除")))]):t._e(),t._v(" "),3==t.item.ContractStatus?n("button",{staticClass:"b-white-option",attrs:{type:"button"},on:{click:function(e){t.onShowReport(t.item)}}},[t._v(t._s(t._tt("统计")))]):t._e(),t._v(" "),n("button",{staticClass:"b-white-option",attrs:{type:"button"},on:{click:function(e){t.onViewDocument(t.item)}}},[t._v(t._s(t._tt("查看")))])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"document-filter"},[n("ptit-form",[n("div",{staticClass:"ptit-form-item-inline"},[n("ptit-input-item",{staticStyle:{width:"150px"},attrs:{showLabel:!1,placeHolder:t._tt("输入关键字")},model:{value:t.queryEnvelop.Title,callback:function(e){t.$set(t.queryEnvelop,"Title",e)},expression:"queryEnvelop.Title"}}),t._v(" "),0==t.activeType?n("ptit-input-item",{staticStyle:{width:"100px"},attrs:{showLabel:!1,name:"paymentStatus"},model:{value:t.queryEnvelop.PaymentStatus,callback:function(e){t.$set(t.queryEnvelop,"PaymentStatus",e)},expression:"queryEnvelop.PaymentStatus"}},[n("el-select",{model:{value:t.queryEnvelop.PaymentStatus,callback:function(e){t.$set(t.queryEnvelop,"PaymentStatus",e)},expression:"queryEnvelop.PaymentStatus"}},t._l(t.queryEnvelop.SelectStatus,function(t){return n("el-option",{key:t.id,attrs:{value:t.id,label:t.name}})}))],1):t._e(),t._v(" "),n("button",{staticClass:"b-white-option",attrs:{type:"button"},on:{click:t.doQuery}},[t._v(t._s(t._tt("搜索")))]),t._v(" "),n("button",{staticClass:"b-white-option",attrs:{type:"button"},on:{click:t.onReset}},[t._v(t._s(t._tt("重置")))])],1)])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"row group-div",staticStyle:{height:"100%"},attrs:{"element-loading-text":"正在加载签批件列表"}},[t.supportSearch?n("div",{staticClass:"group-title"},[n("el-input",{staticClass:"kanban-search",attrs:{placeholder:"请输入内容",disabled:t.filter.applied,size:"small"},model:{value:t.filter.keyword,callback:function(e){t.$set(t.filter,"keyword",e)},expression:"filter.keyword "}},[n("el-select",{staticStyle:{width:"100px"},attrs:{slot:"prepend",placeholder:"请选择"},on:{change:t.doFilterQuery},slot:"prepend",model:{value:t.filter.after,callback:function(e){t.$set(t.filter,"after",e)},expression:"filter.after"}},[t._l(t.filter.afterItems,function(t){return[n("el-option",{key:t.label,attrs:{label:t.label,value:t.label}})]})],2),t._v(" "),t.filter.applied?n("el-button",{attrs:{slot:"append"},on:{click:t.resetFilter},slot:"append"},[n("i",{staticClass:"fa fa-undo"})]):n("el-button",{attrs:{slot:"append"},on:{click:t.applyFilter},slot:"append"},[n("i",{staticClass:"fa fa-search"})])],1)],1):t._e(),t._v(" "),n("div",{class:{"none-filter":!t.supportSearch,"spport-filter":t.supportSearch}},[n("ul",{class:{"group-list":!0,"kanban-items":t.supportSearch}},[t._l(t.Items,function(e){return[n("li",{staticClass:"border-bottom",class:e.ID==t.DocID?"yellows":"",staticStyle:{cursor:"pointer"},on:{click:function(n){t.OnClickItem(e)}}},[n("h4",{staticStyle:{"word-break":"break-all"}},[e.Unread?[t._v("@")]:t._e(),t._v(t._s(e.Title))],2),t._v(" "),n("div",{staticStyle:{height:"4px"}}),t._v(" "),n("p",{staticStyle:{"word-break":"break-all","font-size":"80%"}},[t._v(t._s(t.ReplaceSubTitle(e.SubTitle)))]),t._v(" "),n("div",{staticStyle:{height:"4px"}}),t._v(" "),n("div",{staticClass:"desc",staticStyle:{float:"right",margin:"3px 10px 3px 10px"}},[n("div",{staticClass:"emerg-div"},[n("div",{class:e.Priority>=4?"emerg red":e.Priority>=2?"emerg yellow":"emerg blue",attrs:{title:"紧急"}},[n("i",{staticClass:"emerg-left fa fa-warning"}),t._v(" "),n("span",{staticClass:"emerg-right"},[t._v(t._s(e.Priority))])]),t._v(" "),n("i",{staticClass:"fa fa-star-o icon-star",class:e.IsConcerns?"yellow":"",on:{click:function(n){t.SetConcerns(e)}}})])]),t._v(" "),n("div",{staticStyle:{float:"right",margin:"0px 10px 0px 10px"}},[n("span",{staticClass:"b-type"},[t._v(t._s(t._tt(e.DocumentType)))])]),t._v(" "),n("div",{staticClass:"clearfix"}),t._v(" "),n("p",{staticClass:"user"},[n("small",[t._v(t._s(e.Date))]),t._v(" "),n("span",{staticClass:"uname"},[t._v(t._s(e.CreateUserName))])])])]})],2),t._v(" "),t.supportSearch&&t.hasMore?n("p",{staticClass:"kanban-more"},[n("el-button",{attrs:{type:"text"},on:{click:t.LoadMore}},[t._v("加载更多...")])],1):t._e(),t._v(" "),n("p",{staticClass:"no-items"},[t.Items.length<=0?[t._v("没有任何内容")]:t._e()],2)])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ExtendedTemplate"},[t._l(t.items,function(e,i){return[n("div",{key:i,staticClass:"fields-item"},[n("span",{staticClass:"input-span",staticStyle:{color:"blue"},on:{click:function(e){t.addExtendedItem(i)}}},[n("i",{staticClass:"el-icon-plus"})]),t._v(" "),n("input-item",{attrs:{"is-edit":t.onEdit,"input-height":"30px"},model:{value:e.keyName,callback:function(n){t.$set(e,"keyName",n)},expression:"item.keyName"}}),t._v(" "),n("span",{staticClass:"input-span"},[t._v(":")]),t._v(" "),n("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.keyType,callback:function(n){t.$set(e,"keyType",n)},expression:"item.keyType"}},t._l(t.options,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),1!=t.items.length?n("span",{staticClass:"input-span",staticStyle:{color:"red"},on:{click:function(e){t.deleteExtendedItem(i)}}},[n("i",{staticClass:"el-icon-close",staticStyle:{"font-size":"12px"}})]):t._e()],1)]})],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"Head01"}},[t._m(0),t._v(" "),n("ul",{staticClass:"user"},[t._m(1),t._v(" "),n("li",{staticClass:"border-left language"},[n("el-button",{attrs:{type:"text"},on:{click:t.onToggleLanguage}},[n("i",{staticClass:"fa fa-globe"},[t._v(" "+t._s(t.languageText))])])],1),t._v(" "),n("li",{staticClass:"border-left"},[n("div",{staticClass:"info"},[n("p",{staticClass:"name"},[t._v(t._s(t.user.Name))])]),t._v(" "),n("img",{staticClass:"infoimg",attrs:{src:"/static/images/logo.png"}})]),t._v(" "),n("li",{staticClass:"border-left sign-out",attrs:{title:"注销"},on:{click:t.logout}},[n("i",{staticClass:"fa fa-sign-out"})])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"logo"},[n("div",{staticClass:"lg"},[n("img",{attrs:{src:"/static/images/logo.png"}})]),t._v(" "),n("p",{staticClass:"title"},[t._v("签批系统(Approval System)")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"border-left"},[n("img",{attrs:{src:"/static/images/tishiIcon1.png"}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:t.title,visible:t.dialogVisible,size:"small",modal:!1,"modal-append-to-body":!1,"close-on-click-modal":!1,"before-close":t.Cancel},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("peruserdetail",{attrs:{CompanyID:t.SearchFilter.CompanyID,DepartmentId:t.SearchFilter.DepartmentId,PositionId:t.SearchFilter.PositionId,UserID:t.SearchFilter.UserID,PerformanceId:t.SearchFilter.PerformanceId,EndTime:t.SearchFilter.EndTime,BeginTime:t.SearchFilter.BeginTime}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"task_document_detail"},[t.taskDocumentDetailManager.gsTaskDocument?n("div",{staticClass:"detail_header"},[n("div",{staticClass:"line"},[n("div",{staticClass:"title"},[t._v(t._s(t.taskDocumentDetailManager.gsTaskDocument.gsDocumentName))]),t._v(" "),n("div",{staticClass:"status"},[t._v(t._s(t.gsStatus))])]),t._v(" "),n("div",{staticClass:"line"},[n("div",{staticClass:"key_value"},[n("div",{staticClass:"key"},[t._v("创建日期：")]),t._v(" "),n("div",{staticClass:"value"},[t._v(t._s(t.taskDocumentDetailManager.gsTaskDocument.gsCreateTime))])]),t._v(" "),t.taskDocumentDetailManager.gsTaskDocument&&"draft"===t.taskDocumentDetailManager.gsTaskDocument.gsStatus?n("el-button",{staticClass:"btn",attrs:{type:"warning"},on:{click:t.deleteDocument}},[t._v("\n                删除文档\n            ")]):t._e(),t._v(" "),t.taskDocumentDetailManager.gsTaskDocument&&"draft"===t.taskDocumentDetailManager.gsTaskDocument.gsStatus?n("el-button",{staticClass:"btn",attrs:{type:"warning"},on:{click:t.effectDocument}},[t._v("\n                一键生效\n            ")]):t._e(),t._v(" "),n("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:t.backToList}},[t._v("\n                返回列表\n            ")])],1)]):t._e(),t._v(" "),n("div",{staticClass:"detail_main"},[n("task-document-detail-list",{staticClass:"task_document_detail_list",attrs:{"task-document-detail-manager":t.taskDocumentDetailManager}})],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"PerformanceDefinitionDocumentList"},[n("div",{staticClass:"document-body"},[n("div",{staticClass:"document-top"},[n("el-select",{attrs:{placeholder:"请选择"},on:{change:t.getPerformanceDocumentList},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),n("div",{staticClass:"document-main"},[0===t.performanceDocumentList.length?n("p",{staticStyle:{"text-align":"center"}},[t._v("目前没有文档")]):t._e(),t._v(" "),t._l(t.performanceDocumentList,function(t){return[n("performance-document-list-item",{key:t.metadata.uid,attrs:{item:t}})]})],2)])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SelectItem",on:{click:t.selectedItem}},[n("a",{attrs:{href:"#"+t.item.principalId}},[n("p",{style:{border:t.item.selected?"1px solid rgb(255 196 85)":"","border-radius":t.item.selected?"5px":"","background-color":t.item.selected?"rgb(250, 250, 250)":"","font-weight":t.item.selected?"600":"","box-shadow":t.item.selected?"0 0 8px rgba(255,196,85,.2)":"","font-size":t.item.selected?"16px":""}},[n("span",{style:{color:t.item.selected?"orange":""}},[t._v(t._s(t.item.employeePosition))]),t._v(" "),t.path.indexOf("PerformanceDefinitionKanban")>0?n("span",{staticStyle:{color:"#b7b9bb","font-size":"10px","font-style":"italic"}},[t._v("Ver："+t._s(t.item.principalVersion?t.item.principalVersion:0))]):t._e()])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"h100 w100"},[n("div",{staticClass:"content-header border-bottom"},[n("div",{staticClass:"col-12"},[n("h3",{staticClass:"pull-left"},[t._v("个人绩效")]),t._v(" "),n("company",{on:{change:t.ChangeCompany}}),t._v(" "),n("div",{staticClass:"tools pull-right"})],1),t._v(" "),n("div",{staticStyle:{clear:"both"}})]),t._v(" "),n("div",{staticClass:"empcontent",staticStyle:{height:"40px"}},[t._v("\n          日期：\n          "),n("el-date-picker",{attrs:{type:"date",placeholder:"开始日期"},model:{value:t.Filter.BeginTime,callback:function(e){t.$set(t.Filter,"BeginTime",e)},expression:"Filter.BeginTime"}}),t._v("--\n          "),n("el-date-picker",{attrs:{type:"date",placeholder:"结束日期"},model:{value:t.Filter.EndTime,callback:function(e){t.$set(t.Filter,"EndTime",e)},expression:"Filter.EndTime"}}),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.Search}},[t._v("搜索")])],1),t._v(" "),n("div",{staticClass:"empcontent"},[n("peruserdetail",{attrs:{CompanyID:t.SearchFilter.CompanyID,DepartmentId:t.SearchFilter.DepartmentId,PositionId:t.SearchFilter.PositionId,UserID:t.SearchFilter.UserID,PerformanceId:t.SearchFilter.PerformanceId,EndTime:t.SearchFilter.EndTime,BeginTime:t.SearchFilter.BeginTime}})],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.IsEditable?n("el-input",{attrs:{type:"textarea",autosize:{minRows:1,maxRows:2},placeholder:t.placeholder},on:{change:t.updateData,blur:t.upOut},model:{value:t.Text,callback:function(e){t.Text=e},expression:"Text"}}):n("div",{staticClass:"w100",staticStyle:{"word-break":"break-all"},on:{click:t.click}},[t._v(t._s(t.Text))])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"filter-tag-list"},[n("p",[t._v("筛选器")]),t._v(" "),t._l(t.fieldFilters,function(e){return n("el-tag",{key:e.filter.key,attrs:{closable:!0,type:"grey"},on:{close:function(n){t.onDeleteFieldFilter(e)}}},[n("span",{staticClass:"display-text"},[t._v("\n      "+t._s(e.filter.displayText)+":\n    ")]),t._v(" "),t._l(e.selectedOptions,function(e){return n("span",{key:e.key,staticClass:"option"},[t._v("\n      "+t._s(e.displayText)+"\n    ")])})],2)}),t._v(" "),n("div",{staticStyle:{flex:"1","text-align":"right"}},[n("el-button",{on:{click:t.changeShowFilter}},[t._v("展开筛选")])],1)],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"work-column",style:{flex:t.flexWidth}},[t.inEditing?n("div",{staticClass:"edit",style:{"text-align":t.textAlign,width:t.width}},[t._t("edit")],2):n("div",{staticClass:"view",style:{"text-align":t.textAlign,width:t.width}},[t._t("default")],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.document.viewMode?n("div",{directives:[{name:"show",rawName:"v-show",value:t.StatusShow,expression:"StatusShow"}],staticClass:"seal",style:{backgroundImage:"url("+t.sealUrl+")"}}):t._e()},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"task_document_detail_list"},[t._l(t.taskDocumentDetailManager.gsTaskListProcessed,function(e){return[t._l(e.gsList,function(e){return t._l(e.gsList,function(t){return n("task-document-detail-list-item",{key:t.gsTaskId,staticClass:"task_document_detail_list_item",attrs:{task:t}})})})]})],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"task_detail_head"},[n("div",{staticClass:"head_left"},[n("div",{staticClass:"line"},[n("div",{staticClass:"text current_task"},[t._v(t._s(t.head.gsTaskName))]),t._v("\n            -  \n            "),n("div",{staticClass:"link_text",on:{click:function(e){t.taskSelect(t.head.gsRootTaskId)}}},[t._v("\n                "+t._s(t.head.gsRootTaskName)+"\n            ")])]),t._v(" "),n("div",{staticClass:"line"},[n("div",{staticClass:"link_text",on:{click:function(e){t.taskSelect(t.head.gsParentTaskId)}}},[t._v("\n                "+t._s(t.head.gsParentTaskName===t.head.gsRootTaskName?"":t.head.gsParentTaskName)+"\n            ")])])]),t._v(" "),n("div",{staticClass:"head_right"},[t._v("\n        "+t._s(t.gsStatus)+"\n    ")])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.dialogMode?n("el-dialog",{directives:[{name:"loading",rawName:"v-loading.show",value:t.dialogLoading,expression:"dialogLoading",modifiers:{show:!0}}],attrs:{title:t.dialogTitle,visible:t.isDialogShow,size:"tiny","close-on-click-modal":!1,"close-on-press-escape":!t.dialogLoading,"show-close":!t.dialogLoading},on:{"update:visible":function(e){t.isDialogShow=e}}},[n("ptit-tooltip-input",{attrs:{"fetch-suggestions":t.fetchEmployees,placeholder:t.placeholder,size:"small",validate:t.validator,tooltip:t.validator.message,props:t.employeeProps},on:{select:t.onSelectEmployee},model:{value:t.employeeName,callback:function(e){t.employeeName=e},expression:"employeeName"}}),t._v(" "),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",loading:t.dialogLoading},on:{click:function(e){t.closeDialog(!0)}}},[t._v("确定")]),t._v(" "),t.dialogLoading?t._e():n("el-button",{on:{click:function(e){t.closeDialog(!1)}}},[t._v("取消")])],1)],1):n("ptit-tooltip-input",{attrs:{"fetch-suggestions":t.fetchEmployees,placeholder:t.placeholder,size:"small",validate:t.validator,tooltip:t.validator.message,props:t.employeeProps},on:{select:t.onSelectEmployee},model:{value:t.employeeName,callback:function(e){t.employeeName=e},expression:"employeeName"}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"document-body"},[n("p",{staticClass:"document-title"},[t._v("\r\n      "+t._s(t.item.Title)+"\r\n    ")]),t._v(" "),n("p",{staticClass:"document-field"},[n("span",{staticClass:"document-field-title",staticStyle:{"font-size":"10px"}},[t._v("\r\n        "+t._s(t._tt("周期"))+"\r\n      ")]),t._v(" "),n("span",{staticClass:"document-field-value",staticStyle:{color:"black"}},[t._v("\r\n        "+t._s(t.item.BeginTime)+"-"+t._s(t.item.EndTime)+"\r\n      ")])]),t._v(" "),n("p",{staticClass:"document-field"},[n("span",{staticClass:"document-field-title",staticStyle:{"font-size":"10px"}},[t._v("\r\n        "+t._s(t._tt("预算"))+"\r\n      ")]),t._v(" "),n("span",{staticClass:"document-field-value",staticStyle:{color:"orange","font-size":"18px"}},[t._v("\r\n        "+t._s(t.item.Budget)+"\r\n      ")])]),t._v(" "),n("p",{staticClass:"document-field"},[n("span",{staticClass:"document-field-title",staticStyle:{"font-size":"10px"}},[t._v("\r\n        "+t._s(t._tt("状态"))+"\r\n      ")]),t._v(" "),n("span",{staticClass:"document-field-value",staticStyle:{color:"#56a8fc","font-size":"18px"}},[t._v("\r\n        "+t._s(t.StateLabels[t.item.ProjectStatus])+"\r\n      ")])]),t._v(" "),n("p",{staticClass:"document-field"},[n("span",{staticClass:"document-field-title",staticStyle:{"font-size":"10px"}},[t._v("\r\n        "+t._s(t._tt("项目编号"))+"\r\n      ")]),t._v(" "),n("span",{staticClass:"document-field-value",staticStyle:{color:"black"}},[t._v("\r\n        "+t._s(t.item.ProjectCode)+"\r\n      ")])])]),t._v(" "),n("div",{staticClass:"document-operation"},[n("button",{staticClass:"b-white-option",attrs:{type:"button"},on:{click:function(e){t.onViewDocument(t.item)}}},[t._v(t._s(t._tt("查看")))]),t._v(" "),0==t.activeType&&0==t.item.ProjectStatus?n("button",{staticClass:"b-white-option",attrs:{type:"button"},on:{click:function(e){t.onDeleteDocument(t.item)}}},[t._v(t._s(t._tt("删除")))]):t._e()])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"h100 w100"},[n("div",{staticClass:"content-header border-bottom"},[n("div",{staticClass:"col-12"},[n("h3",{staticClass:"pull-left"},[t._v("流程模板管理")]),t._v(" "),n("div",{staticClass:"tools pull-right"},[n("el-button",{attrs:{type:"warning",size:"large"},on:{click:t.onCreateTemplate}},[t._v("新增模板")])],1)]),t._v(" "),n("div",{staticStyle:{clear:"both"}})]),t._v(" "),n("div",{staticClass:"toolsbar"},[n("el-form",{attrs:{inline:!0}},[n("company-select",{attrs:{colspan:5,label:"选择公司",selectedCompanyId:0,showWholeCompany:!0},model:{value:t.filter.companyId,callback:function(e){t.$set(t.filter,"companyId",e)},expression:"filter.companyId"}}),t._v(" "),n("el-form-item",{attrs:{label:"模板名称"}},[n("el-input",{attrs:{placeholder:"请输入模板名称进行筛选"},model:{value:t.filter.keyword,callback:function(e){t.$set(t.filter,"keyword",e)},expression:"filter.keyword"}})],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"warning"},on:{click:t.onSearch}},[t._v("查询")])],1)],1)],1),t._v(" "),n("div",{staticStyle:{padding:"16px"}},[n("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:t.loading,expression:"loading",modifiers:{body:!0}}],ref:"templateTable",staticStyle:{width:"100%"},attrs:{data:t.templates,border:"",height:"500"},on:{expand:t.onTemplateExpand}},[n("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("batch-template",{ref:"batchTemplate"+t.row.id,attrs:{"template-id":t.row.id}})]}}])}),t._v(" "),n("el-table-column",{attrs:{width:"100",label:"模板ID",align:"center","header-align":"center",prop:"id"}}),t._v(" "),n("el-table-column",{attrs:{label:"模板名称",prop:"name"}}),t._v(" "),n("el-table-column",{attrs:{label:"公司",prop:"company.name",align:"center","header-align":"center"}}),t._v(" "),n("el-table-column",{attrs:{label:"分类名称",prop:"category.name",width:"120",align:"center","header-center":"center"}}),t._v(" "),n("el-table-column",{attrs:{label:"操作",align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"warning",size:"small"},on:{click:function(n){t.onEditTemplate(e.row.id)}}},[t._v("修改")]),t._v(" "),n("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(n){t.onDeleteTemplate(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),n("el-col",{directives:[{name:"show",rawName:"v-show",value:0!==this.query.total,expression:"this.query.total!==0"}],staticClass:"pager",attrs:{span:24}},[n("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":20,total:this.query.total},on:{"current-change":t.onPagingUpdate}})],1)],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.IsEditable&&void 0!=t.Companys&&t.Companys.length>1&&t.IsEditable02?n("el-select",{staticClass:"w100",on:{change:t.updateData},model:{value:t.CompanyId,callback:function(e){t.CompanyId=e},expression:"CompanyId"}},t._l(t.Companys,function(t){return n("el-option",{key:t.ID,attrs:{label:t.Title,value:t.ID,disabled:t.id<0}})})):n("div",{staticClass:"w100",on:{click:t.click}},[t._v(t._s(t.ConpanyTitle))])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"OwnerDefintionKanbanSelect"},[n("div",{staticClass:"companySelect"},[n("el-select",{staticStyle:{width:"300px"},attrs:{placeholder:"请选择"},on:{change:t.changedCompany},model:{value:t.companyId,callback:function(e){t.companyId=e},expression:"companyId"}},t._l(t.organizationManager.companysOptions,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),n("div",{staticClass:"positionList"},[t._l(t.organizationManager.ownCartFilterList,function(e){return[n("kanban-filter-select-item",{key:e.positionId,attrs:{item:e},on:{selectedItem:t.selectedItem}})]})],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"task_detail_child_task_list"},[t._l(t.list,function(e){return t.list.length?n("task-detail-child-task",{key:e.gsTaskId,staticClass:"task_detail_child_task",attrs:{manager:t.manager,task:e,"task-select":t.taskSelect,"task-detail-relational-users":t.taskDetailRelationalUsers}}):t._e()}),t._v(" "),t.list.length?t._e():n("div",{staticClass:"no_child_task"},[t._v("\n        暂无子任务\n    ")])],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"filter-controller-test"},[n("filter-tag-list",{attrs:{fieldFilters:t.controller.currentFieldFilters},on:{delete:t.onDeleteFieldFilter}}),t._v(" "),t._l(t.controller.visibleFieldFilters,function(e){return n("aggregation-filter",{key:e.filter.key,attrs:{controller:t.controller,filter:e.filter},on:{change:function(n){t.onFilterChanged(e.filter,n)},click:function(n){t.onOptionClick(e.filter,n)},addCustomOption:function(n){t.onCustomOptionAdd(e)}}})}),t._v(" "),n("aggregation-sorter",{attrs:{controller:t.controller},on:{sort:t.onRenderResult}}),t._v(" "),n("aggregation-grouper",{attrs:{controller:t.controller},on:{group:t.onRenderResult}}),t._v(" "),n("div",[n("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:10}},model:{value:t.filterTexts,callback:function(e){t.filterTexts=e},expression:"filterTexts"}})],1),t._v(" "),n("div",t._l(t.controller.resultList,function(e){return n("aggregation-list-item",{directives:[{name:"show",rawName:"v-show",value:t.showItem(e),expression:"showItem(item)"}],key:t.controller.getListItemKey(e),attrs:{controller:t.controller,item:e,minIndent:t.minIndent,showCheckBox:!0}},[n("div",{staticClass:"test-list-item"},t._l(e.item.length,function(i){return n("span",{key:i},[t._v("\n                    "+t._s(e.item[i-1])+"\n                ")])})),t._v(" "),n("template",{slot:"root"},[n("span",[t._v(t._s(e.item.toString()))]),t._v(" "),n("span",[t._v("显示层级:")]),t._v(" "),n("el-radio-group",{attrs:{size:"small"},model:{value:t.indent,callback:function(e){t.indent=e},expression:"indent"}},t._l(t.indents,function(t){return n("el-radio-button",{key:t.displayText,attrs:{label:t.displayText}})}))],1)],2)}))],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"user_info w100 v-top20",staticStyle:{border:"0px solid red","margin-left":"-112px","margin-top":"15px"}},[n("div",{staticClass:"user_info_text p-l1"},[n("font",{attrs:{size:"5px",color:"grey"}},[t._v("基础绩效申报管理")])],1),t._v(" "),t._m(0),t._v(" "),n("div",[n("company",{on:{change:t.companyChange}})],1),t._v(" "),n("button",{staticClass:"b-orange-h44",on:{click:function(e){t.handleEdit("0")}}},[t._v("新建绩效")])]),t._v(" "),n("div",{staticClass:"body",staticStyle:{border:"0px solid red","margin-left":"-110px","margin-top":"22px"}},[n("table",{staticStyle:{position:"absolute",top:"2.5%",left:"2.5%","font-size":"13px",width:"14%"}},[0==t.state?n("tr",[n("td",{staticClass:"hr_01",staticStyle:{color:"#5eaaf8"},on:{click:function(e){t.handleState(0)}}},[n("font",[n("b",[t._v("未审核")])])],1),t._v(" "),n("td",{staticStyle:{color:"grey"},on:{click:function(e){t.handleState(2)}}},[t._v("已审批")])]):n("tr",[n("td",{staticStyle:{color:"grey"},on:{click:function(e){t.handleState(0)}}},[t._v("未审核")]),t._v(" "),n("td",{staticClass:"hr_01",staticStyle:{color:"#5eaaf8"},on:{click:function(e){t.handleState(2)}}},[n("font",[n("b",[t._v("已审批")])])],1)])]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.Keyword,expression:"filters.Keyword"}],staticClass:"input-style-small",staticStyle:{position:"absolute",top:"1.7%",right:"31.5%"},attrs:{type:"text",name:"",placeholder:"请输入关键词"},domProps:{value:t.filters.Keyword},on:{input:function(e){e.target.composing||t.$set(t.filters,"Keyword",e.target.value)}}}),t._v(" "),n("button",{staticClass:"b-grey-search p-r2t2",on:{click:t.handlePager}},[n("i",{staticClass:"fa fa-search fa-2x",attrs:{"aria-hidden":"true"}})]),t._v(" "),n("font",{staticStyle:{position:"absolute",top:"3%",right:"27%","font-size":"12px",color:"grey","letter-spacing":"1px"}},[t._v("起止时间")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.BeginTime,expression:"filters.BeginTime"}],staticClass:"input-style-small",staticStyle:{position:"absolute",top:"1.7%",right:"16.8%",width:"9%"},attrs:{type:"date",name:""},domProps:{value:t.filters.BeginTime},on:{input:function(e){e.target.composing||t.$set(t.filters,"BeginTime",e.target.value)}}}),t._v(" "),t._m(1),t._v(" "),n("font",{staticStyle:{position:"absolute",top:"2.6%",right:"16%"}},[t._v("-")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.EndTime,expression:"filters.EndTime"}],staticClass:"input-style-small",staticStyle:{position:"absolute",top:"1.7%",right:"6.5%",width:"9%"},attrs:{type:"date",name:""},domProps:{value:t.filters.EndTime},on:{input:function(e){e.target.composing||t.$set(t.filters,"EndTime",e.target.value)}}}),t._v(" "),t._m(2),t._v(" "),t._l(t.data,function(e,i){return[n("div",{staticClass:"white_board_0001"},[n("font",{staticClass:"p-l1t15",attrs:{color:"#5eaaf8",size:"5px"}},[t._v(t._s(e.title))]),n("br"),t._v(" "),n("font",{staticClass:"p-l1b15",attrs:{size:"2px;",color:"#4C5465"}},[t._v(t._s(e.description))]),t._v(" "),n("table",{staticClass:"p-r10t15",staticStyle:{width:"35%",height:"75%","text-align":"center"}},[n("tr",[e.status<2?n("td",{staticStyle:{"font-size":"15px",color:"#4C5465"}},[n("b",[t._v(t._s(e.statusStr))])]):t._e(),t._v(" "),2==e.status?n("td",{staticStyle:{"font-size":"15px",color:"#70cc23"}},[n("b",[t._v(t._s(e.statusStr))])]):t._e(),t._v(" "),n("td",{staticStyle:{"font-size":"15px",color:"#4C5465"}},[n("b",[t._v(t._s(e.createUserName))])]),t._v(" "),n("td",{staticStyle:{"font-size":"14px"}},[n("time",[t._v(t._s(e.CreateTime))])])]),t._v(" "),t._m(3,!0)]),t._v(" "),0==e.applyStatus?n("button",{staticClass:"b-white-option p-r1t31",on:{mouseenter:function(n){t.mouseenter(n,e)},mouseleave:t.mouseleave}},[n("i",{staticClass:"fa fa-ellipsis-h fa-2x",attrs:{"aria-hidden":"true"}})]):t._e(),t._v(" "),n("button",{staticClass:"b-white-option",staticStyle:{position:"absolute",top:"31%",right:"6%"},on:{click:function(n){t.HandDetail(e)}}},[n("font",{attrs:{color:"lightgrey",size:"2px"}},[t._v("详情")])],1),t._v(" "),n("div",{staticClass:"hr",staticStyle:{position:"absolute",top:"0",right:"11.4%",width:"1px",height:"100%","border-right":"1px solid lightgrey"}})],1)]}),t._v(" "),n("el-col",{directives:[{name:"show",rawName:"v-show",value:0!==this.total,expression:"this.total!==0"}],staticClass:"pager",staticStyle:{"margin-top":"60px"},attrs:{span:24}},[n("el-pagination",{staticStyle:{float:"right","margin-right":"20px"},attrs:{layout:"prev, pager, next","page-size":t.filters.PageSize,"current-page":t.filters.PageIndex,total:t.total},on:{"current-change":t.handlePager,"update:currentPage":function(e){t.$set(t.filters,"PageIndex",e)}}})],1)],2),t._v(" "),n("el-dialog",{attrs:{title:"查看",visible:t.itemShow,size:"large"},on:{"update:visible":function(e){t.itemShow=e}}},[t._l(t.position,function(e){return[n("div",{staticClass:"border-bottom",staticStyle:{height:"60px","line-height":"60px","margin-left":"10px","margin-right":"10px"}},[n("span",{staticClass:"pull-left"},[t._v(t._s(e.DepartName)+"/"+t._s(e.PositionName))])]),t._v(" "),n("div",{staticStyle:{"margin-left":"10px","margin-right":"10px"}},[n("table",{staticClass:"table"},[n("thead",[n("tr",[n("th",[t._v("序号")]),t._v(" "),n("th",[t._v("名称")]),t._v(" "),n("th",[t._v("分类")]),t._v(" "),n("th",[t._v("计算方式")]),t._v(" "),n("th",[t._v("基础分")]),t._v(" "),n("th",[t._v("浮动区间(%)")]),t._v(" "),n("th",[t._v("关联项目")])])]),t._v(" "),n("tbody",[t._l(e.Items,function(e,i){return[n("tr",[n("td",[t._v(t._s(i+1))]),t._v(" "),n("td",[t._v(t._s(e.Name))]),t._v(" "),n("td",[t._v(t._s(e.CategoryName))]),t._v(" "),n("td",[t._v(t._s(e.CalcTypeStr))]),t._v(" "),n("td",[t._v(t._s(e.BaseScore))]),t._v(" "),n("td",[t._v(t._s(e.MinRate)+"-"+t._s(e.MaxRate))]),t._v(" "),n("td",[t._v(t._s(e.AssociationSystemName)+"-"+t._s(e.AssociationSystemItemName))])])]})],2)])])]})],2),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.moreShow,expression:"moreShow"}],attrs:{id:"more"}},[n("div",{staticClass:"arrow-up-small",attrs:{id:"upsmall"}}),t._v(" "),n("div",{staticClass:"arrow-up-big",attrs:{id:"upbig"}}),t._v(" "),n("div",{staticClass:"white-bubble-style-small",attrs:{id:"bubble"}},[n("table",{staticStyle:{"text-align":"center",height:"100%",width:"100%","font-size":"12px","background-color":"#f6f6f6"}},[n("tr",[n("td",[n("button",{staticClass:"b-white-option",on:{click:function(e){t.handleEdit()}}},[n("font",{attrs:{color:"lightgrey",size:"2px"}},[t._v("编辑")])],1)])]),t._v(" "),n("tr",{attrs:{bgcolor:"white"}},[n("td",[n("button",{staticClass:"b-white-option",on:{click:function(e){t.handleDelete()}}},[n("font",{attrs:{color:"lightgrey",size:"2px"}},[t._v("删除")])],1)])]),t._v(" "),n("tr",{attrs:{bgcolor:"white"}},[n("td",[n("button",{staticClass:"b-white-option",on:{click:t.Audite}},[n("font",{attrs:{color:"lightgrey",size:"2px"}},[t._v("审核")])],1)])])])])]),t._v(" "),n("basedetail",{attrs:{ID:t.Detail.ID,Visiable:t.Detail.Visiable},on:{EventClose:t.DetailClose}})],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("i",{staticClass:"fa fa-building fa-1x",staticStyle:{color:"grey",position:"absolute",top:"35%",right:"26%","z-index":"9996"},attrs:{"aria-hidden":"true"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("i",{staticClass:"fa fa-calendar-o",staticStyle:{position:"absolute",top:"3%",right:"7.5%","z-index":"9",color:"grey"},attrs:{"aria-hidden":"true"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("i",{staticClass:"fa fa-calendar-o",staticStyle:{position:"absolute",top:"3%",right:"17.8%","z-index":"9",color:"grey"},attrs:{"aria-hidden":"true"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",{staticStyle:{"font-size":"12px",color:"grey"}},[n("td",[t._v("状态")]),t._v(" "),n("td",[t._v("申报人")]),t._v(" "),n("td",[t._v("申报时间")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"h100 w100"},[n("div",{staticClass:"content-header-small border-bottom"},[n("me-doc-toolbar",{attrs:{"doc-id":t.docId,"do-load":t.DoLoad}})],1),t._v(" "),n("div",{staticClass:"content-wrap",staticStyle:{height:"calc(100% - 60px)"}},[n("div",{staticClass:"row h100"},[n("div",{staticClass:"h100",class:t.lcss},[n("me-doc-contents",{attrs:{"doc-id":t.docId,"do-load":t.DoLoad,propid:t.propid,proptype:t.proptype}})],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"col-9"==t.lcss,expression:"lcss=='col-9'"}],staticClass:"col-3 h100"},[n("me-doc-nodes",{attrs:{"doc-id":t.docId}})],1),t._v(" "),n("div",{staticClass:"clearfix"})])]),t._v(" "),n("me-doc-submit",{attrs:{"doc-id":t.docId,"do-load":t.DoLoad}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ExtendedField"},[t._l(t.extendedFieldManager.extendedFields,function(e){return n("el-tag",{key:e,staticClass:"tag-item",attrs:{type:"gray",closable:!0,"close-transition":!1},on:{close:function(n){t.handleClose(e)}}},[t._v("\n    "+t._s(e)+"\n  ")])}),t._v(" "),t.inputVisible?n("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"mini"},on:{blur:t.handleInputConfirm},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleInputConfirm(e):null}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}):n("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:t.showInput}},[t._v("+ 关键词")])],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"filter",on:{mouseenter:function(e){t.onToggleMouseStatus(!0)},mouseleave:function(e){t.onToggleMouseStatus(!1)}}},[n("div",{class:{"filter-wrap":!0,multiple:t.filter.multiSelection}},[n("div",{staticClass:"display-text"},[n("span",[t._v(t._s(t.filter.displayText)+":\n            ")]),t._v(" "),t.hasMouse&&t.showCustomOptions&&!t.customOptionVisible?n("el-button",{staticClass:"custom-option",staticStyle:{float:"right","margin-top":"7px"},attrs:{type:"text",size:"mini",icon:"plus"},on:{click:t.onToggleCustomOption}}):t._e()],1),t._v(" "),n("div",{staticClass:"filter-options"},[t.showCustomOptions&&t.customOptionVisible?n("el-input",{ref:"customOptionInput",staticClass:"custom-option",attrs:{size:"mini",placeholder:"0-99 aa,bb,cc"},on:{blur:t.onToggleCustomOption},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.onAddCustomOption(e):null}},model:{value:t.customOptionText,callback:function(e){t.customOptionText=e},expression:"customOptionText"}}):t._e(),t._v(" "),n("div",{staticClass:"option-list"},t._l(t.lines,function(e){return 1==e||t.multiline||t.filter.multiSelection?n("ul",{key:e},t._l(t.getLineOptions(e),function(e){return n("li",{key:e.key},[n("filter-option",{attrs:{option:e},on:{click:function(n){t.emitClick(e)},closeCustomOption:function(n){t.onCloseCustomOption(e)}}})],1)})):t._e()}))],1),t._v(" "),n("div",{staticClass:"operations"},[t.filter.multiSelection?[n("el-button",{attrs:{type:"default",size:"mini"},on:{click:function(e){t.onMultiSelect(!1)}}},[t._v("取消")]),t._v(" "),t.showConfirm?n("el-button",{attrs:{type:"success",size:"mini"},on:{click:t.emitFilterChanged}},[t._v("确定")]):t._e()]:[t.lines>1?n("el-button",{attrs:{type:"default",size:"mini"},on:{click:t.toggleMulitline}},[t._v(t._s(t.moreText))]):t._e(),t._v(" "),t.filter.multiSelection?t._e():n("el-button",{attrs:{type:"default",size:"mini",icon:"plus"},on:{click:function(e){t.onMultiSelect(!0)}}},[t._v("多选")])]],2)])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"win-main"},[n("div",{staticClass:"p-t h8 w100 box-white-b1"},[n("div",{staticClass:"p-l1 title2-grey"},[t._v("绩效管理")]),t._v(" "),n("button",{staticClass:"bsave p-r1 b-orange-ls btitle-orange-l",on:{click:t.CreateNewApply}},[t._v("新建")])]),t._v(" "),n("div",{staticClass:"p-b h92 w100 box-AliceBlue-b1"},[t._m(0),t._v(" "),n("div",{staticClass:"companys p-lt1 box-fy "},[t._l(t.PerformanceList,function(e){return[n("div",{staticClass:"card-company-h"},[n("div",{staticClass:"logo icon-zhenyilogo"}),t._v(" "),n("div",{staticClass:"title"},[t._v(t._s(e.CompanyName)),n("br"),t._v("\t"+t._s(e.CompanyEName))]),t._v(" "),n("table",[t._m(1,!0),t._v(" "),n("tr",{staticClass:"value"},[n("td",[t._v(t._s(e.PositionNames))]),n("td",[t._v(t._s(e.Role))]),n("td",[t._v(t._s(e.StaffCode))])]),t._v(" "),t._m(2,!0),t._v(" "),n("tr",{staticClass:"value"},[n("td",{attrs:{colspan:"3"}},[t._v(t._s(e.WorkEmail))])]),t._v(" "),t._m(3,!0),t._v(" "),n("tr",{staticClass:"value"},[n("td",{attrs:{colspan:"3"}},[t._v(t._s(e.StateDes))])])]),t._v(" "),10==e.State?n("button",[t._v("离职申请")]):t._e(),t._v(" "),1==e.State&&2==e.InitiateType?n("button",{on:{click:function(n){t.Confirm(e)}}},[t._v("接受申请")]):t._e()])]})],2)]),t._v(" "),t.ApplyDialogVisible?n("div",{staticClass:"dailog-white-r"},[n("div",{staticClass:"title"},[t._v("申请加入公司")]),t._v(" "),n("div",{staticClass:"close icon32 icon-x32"}),t._v(" "),t._m(4),t._v(" "),t._m(5)]):t._e()])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search p-lt1 w30 is-orange"},[n("input",{attrs:{type:"text",placeholder:"请输入关键字搜素"}}),t._v(" "),n("button",{staticClass:"button"},[t._v("搜 索")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",{staticClass:"title"},[n("td",[t._v("职位")]),n("td",[t._v("角色")]),n("td",[t._v("工号")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",{staticClass:"title"},[n("td",{attrs:{colspan:"3"}},[t._v("工作邮箱")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",{staticClass:"title"},[n("td",{attrs:{colspan:"3"}},[t._v("状态")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{staticClass:"table p-t1 bt-lightgrey",attrs:{border:"1"}},[n("tr",[n("td",[t._v("使用邀请码加入")]),t._v(" "),n("td",{staticClass:"active"},[t._v("搜索公司加入")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search2 h-center50 is-orange"},[n("input",{attrs:{type:"text",placeholder:"请输入关键字搜素"}}),t._v(" "),n("button",{staticClass:"button"},[t._v("搜 索")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"workitemlist"},[n("add-work-performance-dialog",{attrs:{"query-list":t.queryList}}),t._v(" "),n("div",{staticStyle:{"margin-bottom":"30px"}},[t._l(t.workPerformanceList,function(e){return[n("work-performance-item",{key:e.itemId,attrs:{item:e,"on-edit":t.globalOnEdit,"query-list":t.queryList}})]})],2),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.changeEditState}},[t._v("编辑")]),t._v(" "),n("el-input",{attrs:{type:"text",placeholder:"请输入内容"},model:{value:t.currentId,callback:function(e){t.currentId=e},expression:"currentId"}}),t._v(" "),n("el-input",{attrs:{type:"textarea",rows:20,placeholder:"请输入内容"},model:{value:t.textarea,callback:function(e){t.textarea=e},expression:"textarea"}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.gsIsRender?n("div",{staticClass:"task_detail_child_task"},[t.task.gsIsEdit?[n("div",{staticClass:"task_item task_item_edit task_name"},[n("el-input",{attrs:{placeholder:"任务名称"},model:{value:t.task.gsTaskName,callback:function(e){t.$set(t.task,"gsTaskName",e)},expression:"task.gsTaskName"}})],1),t._v(" "),n("div",{staticClass:"task_item task_item_edit task_input_tiny"},[n("el-input",{attrs:{placeholder:"分数"},model:{value:t.task.gsPoints,callback:function(e){t.$set(t.task,"gsPoints",e)},expression:"task.gsPoints"}})],1),t._v(" "),n("div",{staticClass:"task_item task_item_edit"},[n("el-select",{attrs:{placeholder:"请选择候选负责人",multiple:"",filterable:""},model:{value:t.task.gsResponsibleCandidate,callback:function(e){t.$set(t.task,"gsResponsibleCandidate",e)},expression:"task.gsResponsibleCandidate"}},t._l(t.taskDetailRelationalUsers,function(t){return n("el-option",{key:t.id,attrs:{value:""+t.id,label:t.name}})}))],1),t._v(" "),n("div",{staticClass:"task_item task_item_btn"},[n("div",{staticClass:"btn"},[n("i",{staticClass:"el-icon-check",on:{click:t.confirmEditTask}})])])]:t._e(),t._v(" "),t.task.gsIsEdit?t._e():[n("div",{staticClass:"task_item task_name",attrs:{title:t.task.gsTaskName},on:{click:function(e){t.taskSelect(t.task.gsTaskId)}}},[t._v("\n            "+t._s(t.task.gsTaskName)+"\n        ")]),t._v(" "),n("div",{staticClass:"task_item"},[n("div",{staticClass:"key"},[t._v("分数：")]),t._v("\n            "+t._s(t.task.gsPoints)+"\n        ")]),t._v(" "),n("div",{staticClass:"task_item"},[n("div",{staticClass:"key"},[t._v("负责候选人：")]),t._v("\n            "+t._s(t.gsResponsibleCandidate.join(","))+"\n        ")]),t._v(" "),n("div",{staticClass:"task_item task_item_btn"},t._l(t.task.taskOperationButton,function(e){return e.render?n("div",{key:e.name,staticClass:"btn",on:{click:function(n){t.btnClick(e)}}},[n("i",{class:"el-icon-"+e.icon,attrs:{title:e.name}})]):t._e()}))],t._v(" "),n("div",{staticClass:"task_item task_status"},[t._v(t._s(t.gsStatus))])],2):t._e()},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"grid-group-head-column",style:{flex:t.flexWidth,"min-width":t.minWidth}},[n("div",{staticClass:"static",style:{"text-align":t.textAlign}},[t._t("default")],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ExtendedFieldsAllInput"},[t._l(t.extendedFields,function(e,i){return[n("div",{key:i,staticClass:"fields-item"},[n("span",{staticClass:"input-span",staticStyle:{color:"blue"},on:{click:function(e){t.addExtendedItem(i)}}},[n("i",{staticClass:"el-icon-plus"})]),t._v(" "),n("input-item",{attrs:{"is-edit":t.onEdit,"input-height":"30px"},model:{value:e.keyName,callback:function(n){t.$set(e,"keyName",n)},expression:"item.keyName"}}),t._v(" "),n("span",{staticClass:"input-span"},[t._v(":")]),t._v(" "),n("input-item",{attrs:{"is-edit":t.onEdit,"input-height":"30px"},model:{value:e.keyValue,callback:function(n){t.$set(e,"keyValue",n)},expression:"item.keyValue"}}),t._v(" "),1!=t.extendedFields.length?n("span",{staticClass:"input-span",staticStyle:{color:"red"},on:{click:function(e){t.deleteExtendedItem(i)}}},[n("i",{staticClass:"el-icon-close",staticStyle:{"font-size":"12px"}})]):t._e()],1)]})],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:t.imageStyle},[n("div",[t._v("\n      "+t._s(t.title)+"\n    ")]),t._v(" "),n("br"),t._v(" "),n("div",[n("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.uploadUrl,headers:t.headers,data:t.imageData,"show-file-list":!1,"before-upload":t.checkFile,"on-success":t.handleUploadSuccess}},[t.image.Url?n("img",{class:t.imageClass,attrs:{src:t.image.Url}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"common-document"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.viewMode,expression:"!viewMode"}]},[n("vue-html-editor",{attrs:{model:t.document.content,height:t.editorHeight,minHeight:t.editorHeight,maxHeight:t.editorHeight},on:{"update:model":function(e){t.$set(t.document,"content",e)},change:t.onContentChanged}})],1),t._v(" "),t.showError?n("div",{staticClass:"common-document-error"},[n("i",{staticClass:"el-icon-circle-cross"},[t._v(" "+t._s(t.errorMessage))])]):t._e(),t._v(" "),t.viewMode?n("div",{staticClass:"common-document-view-mode"},[n("div",{staticClass:"top",style:{backgroundImage:"url("+t.topBackgroundUrl+")"}}),t._v(" "),n("div",{staticStyle:{width:"736px"}}),t._v(" "),n("div",{staticClass:"middle",style:{backgroundImage:"url("+t.middleBackgroundUrl+")"},domProps:{innerHTML:t._s(t.document.content)}}),t._v(" "),n("document-seal",{attrs:{document:t.document,companyId:t.document.CompanyID}}),t._v(" "),n("div",{staticClass:"bottom",style:{backgroundImage:"url("+t.bottomBackgroundUrl+")"}})],1):t._e(),t._v(" "),t.showEditButton?n("div",{staticClass:"edit-view",on:{click:t.toggleEdit}},[n("i",{class:{fa:!0,"fa-edit":!t.viewMode,"fa-eye":t.viewMode}})]):t._e()])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"orgtree",attrs:{id:"org"}},[n("el-tree",{ref:"tree",attrs:{data:t.nodes,props:t.nodeProps,load:t.loadNode,"show-checkbox":!1,"highlight-current":!1,"expand-on-click-node":!1,"render-content":t.renderContent},on:{"node-click":t.nodeClick,"node-collapse":t.nodeCollapse}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ptit-tooltip-container"},[t._t("default"),t._v(" "),n("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:t.showTooltip,expression:"showTooltip"}],ref:"tooltip",attrs:{effect:t.effect,"visible-arrow":!1,content:t.tooltip,placement:t.placement}},[n("i",{ref:"icon",class:t.tooltipIconClasses,style:{right:t.iconRightOffset,top:t.iconTopOffset,color:t.color}})])],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{viewDocument:t.document.viewMode}},[n("ptit-form",{ref:"form",attrs:{model:t.document,states:["view"],state:t.state,validator:t.document.validator}},[t.document.hasSupplierRelation?n("h3",[t._v(t._s(t._tt("供应商操作类型"))+":")]):t._e(),t._v(" "),t.document.hasSupplierRelation?n("div",{staticClass:"ptit-form-item-inline"},[n("ptit-input-item",{attrs:{label:t._tt("文档类型")+":",name:"behaviour"}},[n("el-select",{model:{value:t.document.supplierRelation.Behaviour,callback:function(e){t.$set(t.document.supplierRelation,"Behaviour",e)},expression:"document.supplierRelation.Behaviour"}},t._l(t.documentBehaviours,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),n("template",{slot:"viewSlot"},[t._v("\n          "+t._s(t.document.supplierRelation.Name)+"\n        ")])],2)],1):t._e(),t._v(" "),n("ptit-form-card",{staticClass:"ptit-col-3",attrs:{title:t._tt("基础信息")}},[n("ptit-input-item",{attrs:{label:t._tt("中文名称")+":",name:"supplierName",prop:"Title",followFormState:t.isFollow,itemState:t.baseValue},model:{value:t.document.Title,callback:function(e){t.$set(t.document,"Title",e)},expression:"document.Title"}}),t._v(" "),n("ptit-input-item",{attrs:{label:t._tt("英文名称")+":",name:"englishName",prop:"EnglishTitle",followFormState:t.isFollow,itemState:t.baseValue},model:{value:t.document.EnglishTitle,callback:function(e){t.$set(t.document,"EnglishTitle",e)},expression:"document.EnglishTitle"}}),t._v(" "),n("ptit-input-item",{attrs:{label:t._tt("地址")+":",name:"address",prop:"Address",followFormState:t.isFollow,itemState:t.baseValue},model:{value:t.document.Address,callback:function(e){t.$set(t.document,"Address",e)},expression:"document.Address"}}),t._v(" "),n("ptit-input-item",{attrs:{label:t._tt("联系人")+":",name:"contactName",prop:"ContactName",followFormState:t.isFollow,itemState:t.baseValue},model:{value:t.document.ContactName,callback:function(e){t.$set(t.document,"ContactName",e)},expression:"document.ContactName"}}),t._v(" "),n("ptit-input-item",{attrs:{label:t._tt("手机")+":",name:"mobile",type:"number",prop:"Mobile",followFormState:t.isFollow,itemState:t.baseValue},model:{value:t.document.Mobile,callback:function(e){t.$set(t.document,"Mobile",e)},expression:"document.Mobile"}}),t._v(" "),n("ptit-input-item",{attrs:{label:t._tt("电话")+":",name:"telephone",type:"number",prop:"Telephone",followFormState:t.isFollow,itemState:t.baseValue},model:{value:t.document.Telephone,callback:function(e){t.$set(t.document,"Telephone",e)},expression:"document.Telephone"}}),t._v(" "),n("ptit-input-item",{attrs:{label:t._tt("税务号")+":",name:"taxId",prop:"TaxId",disabled:t.isFollow,followFormState:t.isFollow,itemState:t.imageValue},model:{value:t.document.TaxId,callback:function(e){t.$set(t.document,"TaxId",e)},expression:"document.TaxId"}}),t._v(" "),n("ptit-input-item",{attrs:{label:t._tt("有效期")+":",name:"validity",prop:"Validity"},model:{value:t.document.Validity,callback:function(e){t.$set(t.document,"Validity",e)},expression:"document.Validity"}},[n("el-date-picker",{attrs:{type:"date",placeholder:t._tt("选择日期"),disabled:t.dateVisible},model:{value:t.document.Validity,callback:function(e){t.$set(t.document,"Validity",e)},expression:"document.Validity"}})],1)],1),t._v(" "),n("ptit-form-card",{staticClass:"ptit-col-4"},[n("template",{slot:"header"},[n("h3",[t._v(t._s(t._tt("财务信息"))),n("ptit-button",{attrs:{followFormState:t.isFollow,itemState:t.baseValue},on:{click:t.addDomain}},[t._v(t._s(t._tt("新增")))])],1)]),t._v(" "),t._l(t.document.PayMethods,function(e,i){return[n("ptit-input-item",{attrs:{label:t._tt("开户账号")+":",name:"bankAccount"+i,prop:"BankAccount",arrayProp:"PayMethods",followFormState:t.isFollow,itemState:t.baseValue},model:{value:e.BankAccount,callback:function(n){t.$set(e,"BankAccount",n)},expression:"item.BankAccount"}}),t._v(" "),n("ptit-input-item",{attrs:{label:t._tt("开户行")+":",name:"bankName"+i,prop:"BankName",arrayProp:"PayMethods",followFormState:t.isFollow,itemState:t.baseValue},model:{value:e.BankName,callback:function(n){t.$set(e,"BankName",n)},expression:"item.BankName"}}),t._v(" "),n("ptit-input-item",{attrs:{label:t._tt("开户人")+":",name:"holder"+i,prop:"Holder",arrayProp:"PayMethods",followFormState:t.isFollow,itemState:t.baseValue},model:{value:e.Holder,callback:function(n){t.$set(e,"Holder",n)},expression:"item.Holder"}}),t._v(" "),n("ptit-button",{staticStyle:{"margin-left":"10px"},attrs:{followFormState:t.isFollow,itemState:t.baseValue},on:{click:function(n){t.removeDomain(e)}}},[t._v(t._s(t._tt("删除")))])]})],2),t._v(" "),n("ptit-form-card",{staticClass:"ptit-col-12",attrs:{title:t._tt("资质证明")}},[n("ImagesUpload",{attrs:{label:t._tt("资质证")+":",showLabel:!1,imageFiles:t.document.Certificates,followFormState:t.isFollow,itemState:t.imageValue},on:{UpdateImages:t.updateCertificates}})],1),t._v(" "),n("ptit-form-card",{staticClass:"ptit-col-12",attrs:{title:t._tt("标签信息")}},[n("ptit-form-item",{attrs:{showLabel:!1,followFormState:t.isFollow,itemState:t.baseValue}},[t._l(t.document.Tags,function(e){return n("el-tag",{key:e,attrs:{closable:!0,"close-transition":!1},on:{close:function(n){t.handleClose(e)}}},[t._v(t._s(e))])}),t._v(" "),t.inputVisible?n("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",staticStyle:{width:"60px",height:"40px"},attrs:{size:"mini"},on:{blur:t.handleInputConfirm},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleInputConfirm(e):null}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}):n("button",{staticClass:"button-new-tag",attrs:{type:"button",size:"small"},on:{click:t.showInput}},[t._v("+")]),t._v(" "),n("div",{attrs:{slot:"view"},slot:"view"},t._l(t.document.Tags,function(e){return n("el-tag",{key:e},[t._v(t._s(e))])}))],2)],1),t._v(" "),n("ptit-form-card",{staticClass:"ptit-col-12",attrs:{title:t._tt("附件信息")}},[n("AttachmentsUpload",{attrs:{showLabel:!1,doc:t.document,followFormState:t.isFollow,itemState:t.baseValue}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{display:"inline-block"}},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.cselectid,expression:"cselectid"}],staticStyle:{width:"90px",height:"40px",border:"1px solid lightgrey","border-radius":"4px",outline:"none","font-size":"14px",color:"grey",cursor:"pointer"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.cselectid=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"0"}},[t._v("请选择")]),t._v(" "),t._l(t.items,function(e){return[n("option",{domProps:{value:e.value}},[t._v(t._s(e.text))])]})],2),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.csubselectid,expression:"csubselectid"}],staticStyle:{width:"90px",height:"40px",border:"1px solid lightgrey","border-radius":"4px",outline:"none","font-size":"14px",color:"grey",cursor:"pointer"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.csubselectid=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"0"}},[t._v("请选择")]),t._v(" "),t._l(t.subitems,function(e){return[n("option",{domProps:{value:e.value}},[t._v(t._s(e.text))])]})],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{viewDocument:t.document.viewMode}},[n("ptit-form",{ref:"form",attrs:{model:t.document,states:["view"],state:t.state,validator:t.document.validator}},[n("div",[n("ptit-form-card",{staticClass:"ptit-col-3"},[n("template",{slot:"header"},[n("h3",[t._v(t._s(t._tt("合同信息")))])]),t._v(" "),n("ptit-input-item",{attrs:{label:t._tt("编号")+"*:",name:"contractCode",prop:"ContractCode"},model:{value:t.document.ContractCode,callback:function(e){t.$set(t.document,"ContractCode",e)},expression:"document.ContractCode"}}),t._v(" "),n("ptit-input-item",{attrs:{label:t._tt("名称")+":",name:"title",prop:"Title"},model:{value:t.document.Title,callback:function(e){t.$set(t.document,"Title",e)},expression:"document.Title"}}),t._v(" "),n("ptit-input-item",{attrs:{label:t._tt("类型")+":",name:"contractType",prop:"ContractType"},model:{value:t.document.ContractType,callback:function(e){t.$set(t.document,"ContractType",e)},expression:"document.ContractType"}},[n("el-select",{model:{value:t.document.ContractType,callback:function(e){t.$set(t.document,"ContractType",e)},expression:"document.ContractType"}},t._l(t.contractTypes,function(t){return n("el-option",{key:t.text,attrs:{value:t.value,label:t.text}})})),t._v(" "),n("template",{slot:"viewSlot"},[t._v("\n\t             \t"+t._s(t.getTypeName(t.document.ContractType))+"\n\t           \t\t")])],2),t._v(" "),n("ptit-input-item",{attrs:{label:t._tt("签订时间")+"*:",name:"signTime",prop:"SignTime"},model:{value:t.document.SignTime,callback:function(e){t.$set(t.document,"SignTime",e)},expression:"document.SignTime"}},[n("el-date-picker",{attrs:{type:"date",placeholder:t._tt("选择日期"),clearable:!1},model:{value:t.document.SignTime,callback:function(e){t.$set(t.document,"SignTime",e)},expression:"document.SignTime"}})],1),t._v(" "),n("ptit-input-item",{attrs:{label:t._tt("签订地址")+":",name:"signAddress",prop:"SignAddress"},model:{value:t.document.SignAddress,callback:function(e){t.$set(t.document,"SignAddress",e)},expression:"document.SignAddress"}}),t._v(" "),n("ptit-input-item",{attrs:{label:t._tt("项目")+":",name:"projectName",prop:"ProjectName"},model:{value:t.document.ProjectName,callback:function(e){t.$set(t.document,"ProjectName",e)},expression:"document.ProjectName"}},[n("document-auto-complete",{attrs:{selectedDocumentId:t.document.ProjectID,document:t.document,companyId:t.document.CompanyID,documentType:7,optionStatus:{ProjectStatus:3}},model:{value:t.document.Project,callback:function(e){t.$set(t.document,"Project",e)},expression:"document.Project"}}),t._v(" "),n("template",{slot:"viewSlot"},[t._v("\n\t             \t"+t._s(t.document.ProjectName)+"\n\t           \t\t")])],2),t._v(" "),n("div",{staticClass:"ptit-col-12"},[n("ptit-input-item",{attrs:{label:t._tt("描述")+"*:",name:"description",prop:"Description",type:"date"},model:{value:t.document.Description,callback:function(e){t.$set(t.document,"Description",e)},expression:"document.Description"}})],1),t._v(" "),n("ptit-input-item",{attrs:{label:t._tt("开始时间")+"*:",name:"beginDate",prop:"BeginDate"},model:{value:t.document.BeginDate,callback:function(e){t.$set(t.document,"BeginDate",e)},expression:"document.BeginDate"}},[n("el-date-picker",{attrs:{type:"date",placeholder:t._tt("选择日期")},model:{value:t.document.BeginDate,callback:function(e){t.$set(t.document,"BeginDate",e)},expression:"document.BeginDate"}})],1),t._v(" "),n("ptit-input-item",{attrs:{label:t._tt("结束时间")+"*:",name:"endDate",prop:"EndDate"},model:{value:t.document.EndDate,callback:function(e){t.$set(t.document,"EndDate",e)},expression:"document.EndDate"}},[n("el-date-picker",{attrs:{type:"date",placeholder:t._tt("选择日期")},model:{value:t.document.EndDate,callback:function(e){t.$set(t.document,"EndDate",e)},expression:"document.EndDate"}})],1)],2),t._v(" "),n("ptit-form-card",{staticClass:"ptit-col-12",attrs:{title:t._tt("附件信息")}},[n("AttachmentsUpload",{attrs:{showLabel:!1,doc:t.document}})],1),t._v(" "),n("ptit-form-card",{staticClass:"ptit-col-3"},[n("template",{slot:"header"},[n("h3",[t._v(t._s(t._tt("供应商信息")))])]),t._v(" "),n("ptit-input-item",{attrs:{label:t._tt("供应商")+":",name:"supplierID",prop:"SupplierID"},model:{value:t.document.SupplierID,callback:function(e){t.$set(t.document,"SupplierID",e)},expression:"document.SupplierID"}},[n("document-auto-complete",{attrs:{selectedDocumentId:t.document.SupplierID,document:t.document,companyId:t.document.CompanyID,documentType:2,optionStatus:{SupplierStatus:3}},on:{clear:t.clear},model:{value:t.document.Supplier,callback:function(e){t.$set(t.document,"Supplier",e)},expression:"document.Supplier"}}),t._v(" "),n("template",{slot:"viewSlot"},[t._v(t._s(t.document.SupplierName))])],2),t._v(" "),t.state?t._e():n("el-select",{staticStyle:{"margin-left":"5px"},attrs:{placeholder:t._tt("快捷选择付款账号"),clearable:""},on:{change:function(e){t.selectPayMethod()}},model:{value:t.selBankAccount,callback:function(e){t.selBankAccount=e},expression:"selBankAccount"}},t._l(t.document.Supplier.PayMethods,function(e){return n("el-option",{key:e.BankAccount,attrs:{value:e.BankAccount,label:e.BankAccount}},[n("span",{staticStyle:{float:"left"}},[t._v(t._s(e.BankAccount))]),t._v(" "),n("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v(t._s(e.BankName))])])})),t._v(" "),n("div",[t._v(t._s(t.remind))]),t._v(" "),n("ptit-input-item",{attrs:{label:t._tt("联系人")+"*:",name:"contact",prop:"Contact"},model:{value:t.document.Contact,callback:function(e){t.$set(t.document,"Contact",e)},expression:"document.Contact"}}),t._v(" "),n("ptit-input-item",{attrs:{label:t._tt("手机")+":",name:"mobile",prop:"Mobile"},model:{value:t.document.Mobile,callback:function(e){t.$set(t.document,"Mobile",e)},expression:"document.Mobile"}}),t._v(" "),n("ptit-input-item",{attrs:{label:t._tt("电话")+":",name:"telephone",prop:"Telephone"},model:{value:t.document.Telephone,callback:function(e){t.$set(t.document,"Telephone",e)},expression:"document.Telephone"}}),t._v(" "),n("ptit-input-item",{attrs:{label:t._tt("付款账号")+"*:",name:"bankAccount",prop:"BankAccount"},model:{value:t.document.BankAccount,callback:function(e){t.$set(t.document,"BankAccount",e)},expression:"document.BankAccount"}}),t._v(" "),n("ptit-input-item",{attrs:{label:t._tt("开户行")+":",name:"bankName",prop:"BankName"},model:{value:t.document.BankName,callback:function(e){t.$set(t.document,"BankName",e)},expression:"document.BankName"}}),t._v(" "),n("ptit-input-item",{attrs:{label:t._tt("开户人")+":",name:"holder",prop:"Holder"},model:{value:t.document.Holder,callback:function(e){t.$set(t.document,"Holder",e)},expression:"document.Holder"}})],2),t._v(" "),n("ptit-form-card",{staticClass:"ptit-col-12"},[n("template",{slot:"header"},[n("h3",[t._v(t._s(t._tt("付款条款"))+" "),n("ptit-button",{on:{click:t.addPayTerm}},[t._v(t._s(t._tt("新增")))])],1)]),t._v(" "),n("div",[n("ptit-input-item",{staticStyle:{width:"280px"},attrs:{label:t._tt("总金额")+":",name:"totalPrice"},on:{blur:t.refreshTerms},model:{value:t.document.TotalPrice,callback:function(e){t.$set(t.document,"TotalPrice",e)},expression:"document.TotalPrice"}}),t._v("\n\t\t        ("+t._s(t._tt("元"))+")\n\t\t\t")],1),t._v(" "),n("div",[n("el-table",{staticStyle:{"max-width":"100%"},attrs:{border:"","summary-method":t.getSummaries,"show-summary":"",data:t.document.PayTerms}},[n("el-table-column",{attrs:{prop:"Index",label:t._tt("款期"),width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",[t._v(t._s(t._tt("第"))+t._s(e.row.Index)+t._s(t._tt("期")))])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"Title",label:t._tt("名称"),width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("TableInputItem",{attrs:{isShow:t.state},model:{value:e.row.Title,callback:function(n){t.$set(e.row,"Title",n)},expression:"scope.row.Title"}})]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"Ratio",label:t._tt("比例%"),width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("TableInputItem",{attrs:{isShow:t.state},on:{blur:function(n){t.getMinAmount(e.row)}},model:{value:e.row.Ratio,callback:function(n){t.$set(e.row,"Ratio",n)},expression:"scope.row.Ratio"}})]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"MinAmount",label:t._tt("金额"),width:"150",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("TableInputItem",{attrs:{isShow:t.state},on:{blur:function(n){t.getRatio(e.row)}},model:{value:e.row.MinAmount,callback:function(n){t.$set(e.row,"MinAmount",n)},expression:"scope.row.MinAmount"}})]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"FloatRatio",label:t._tt("浮动%"),width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("TableInputItem",{attrs:{isShow:t.state},model:{value:e.row.FloatRatio,callback:function(n){t.$set(e.row,"FloatRatio",n)},expression:"scope.row.FloatRatio"}})]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"EstimateTime",label:t._tt("付款时间"),width:"140",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.state?n("div",[t._v(t._s(e.row.EstimateTime))]):n("div",[n("el-date-picker",{staticStyle:{width:"120px"},attrs:{type:"date",placeholder:t._tt("选择日期"),clearable:!1},model:{value:e.row.EstimateTime,callback:function(n){t.$set(e.row,"EstimateTime",n)},expression:"scope.row.EstimateTime"}})],1)]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"Remark",label:t._tt("备注")},scopedSlots:t._u([{key:"default",fn:function(e){return[n("TableInputItem",{attrs:{isShow:t.state},model:{value:e.row.Remark,callback:function(n){t.$set(e.row,"Remark",n)},expression:"scope.row.Remark"}})]}}])}),t._v(" "),t.state?t._e():n("el-table-column",{attrs:{width:"80",label:t._tt("操作")},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",[n("ptit-button",{on:{click:function(n){t.removePayTerm(e.row)}}},[t._v(t._s(t._tt("删除")))])],1)]}}])})],1)],1)],2),t._v(" "),n("ptit-form-card",{staticClass:"ptit-col-12"},[n("template",{slot:"header"},[n("h3",[t._v(t._s(t._tt("自由条款"))+" "),n("ptit-button",{on:{click:t.addFreeTerm}},[t._v(t._s(t._tt("新增")))])],1)]),t._v(" "),n("div",[n("el-table",{staticStyle:{"max-width":"100%"},attrs:{border:"",data:t.document.FreeTerms}},[n("el-table-column",{attrs:{prop:"Title",label:t._tt("名称")},scopedSlots:t._u([{key:"default",fn:function(e){return[n("TableInputItem",{attrs:{isShow:t.state},model:{value:e.row.Title,callback:function(n){t.$set(e.row,"Title",n)},expression:"scope.row.Title"}})]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"Content",label:t._tt("内容")},scopedSlots:t._u([{key:"default",fn:function(e){return[n("TableInputItem",{attrs:{isShow:t.state},model:{value:e.row.Content,callback:function(n){t.$set(e.row,"Content",n)},expression:"scope.row.Content"}})]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"StartDate",label:t._tt("开始时间")},scopedSlots:t._u([{key:"default",fn:function(e){return[t.state?n("div",[t._v(t._s(e.row.StartDate))]):n("div",[n("el-date-picker",{staticStyle:{width:"120px"},attrs:{type:"date",placeholder:t._tt("选择日期"),clearable:!1},model:{value:e.row.StartDate,callback:function(n){t.$set(e.row,"StartDate",n)},expression:"scope.row.StartDate"}})],1)]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"EndDate",label:t._tt("结束时间")},scopedSlots:t._u([{key:"default",fn:function(e){return[t.state?n("div",[t._v(t._s(e.row.EndDate))]):n("div",[n("el-date-picker",{staticStyle:{width:"120px"},attrs:{type:"date",placeholder:t._tt("选择日期"),clearable:!1},model:{value:e.row.EndDate,callback:function(n){t.$set(e.row,"EndDate",n)},expression:"scope.row.EndDate"}})],1)]}}])}),t._v(" "),t.state?t._e():n("el-table-column",{attrs:{width:"80",label:t._tt("操作")},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",[n("ptit-button",{on:{click:function(n){t.removeFreeTerm(e.row)}}},[t._v("-")])],1)]}}])})],1)],1)],2)],1)])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"BudgetListItem",on:{click:function(e){t.onViewDocument(t.item)}}},[n("div",{staticClass:"document-body"},[n("div",{staticClass:"body-left"},[n("p",[n("span",{staticStyle:{color:"#2c96fd"}},[t._v("编号：")]),t._v(" "),n("span",{style:{color:t.stateColor,"font-size":"16px"}},[t._v(t._s(t.item.content.uid))])]),t._v(" "),n("p",[n("span",{staticStyle:{color:"#2c96fd"}},[t._v("标题：")]),t._v(" "+t._s(t.item.content.title))])]),t._v(" "),n("div",{staticClass:"body-left"},[n("p",[n("span",{staticStyle:{color:"#2c96fd"}},[t._v("状态：        ")]),t._v(" "),n("span",{style:{color:t.stateColor,"font-size":"16px"}},[t._v(t._s(t.state))])]),t._v(" "),n("p",[n("span",{staticStyle:{color:"#2c96fd"}},[t._v("更新时间：")]),t._v(" "+t._s(t.time))])]),t._v(" "),n("hr",{style:{"background-color":t.stateColor}}),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"body-right"},[t._l(t.item.content.content,function(e){return[n("P",{key:e.uid},[t._v(t._s(e.node.value)+" : "+t._s(e.amount)+" 元；   ")])]})],2)]),t._v(" "),n("div",{staticClass:"document-operation"},[n("button",{staticClass:"b-white-option",attrs:{type:"button"},on:{click:function(e){e.stopPropagation(),t.onViewDocument(t.item)}}},[t._v("查看")]),t._v(" "),(t.state?"草稿"===t.state:"")?n("button",{staticClass:"b-white-option",attrs:{type:"button"},on:{click:function(e){e.stopPropagation(),t.onDeleteDocument(t.item)}}},[t._v("删除")]):t._e()])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"middle"},[n("span",{staticStyle:{color:"#2c96fd"}},[t._v("主要内容：")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"apptest"}},[t._v("\n\teeeee\n  "),n("router-view")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"win-main bg-login"},[n("header",{staticClass:"header h-center80 v-top10"},[n("div",{staticClass:"p-l1 h100 w100 logo-login-head"}),t._v(" "),n("div",{staticClass:"p-rt1"},[n("font",{attrs:{color:"grey",size:"4px"}},[t._v(t._s(t._tt("移动"))+"   "+t._s(t._tt("合作"))+"   "+t._s(t._tt("帮助")))])],1)]),t._v(" "),n("section",{staticClass:"body h-center80 v-middle64 box-white-rs"},[n("div",{staticClass:"p-l5t10"},[n("font",{staticClass:"title1-gold"},[t._v(t._s(t._tt("找回密码")))])],1),t._v(" "),n("div",{staticClass:"step h-center50 v-top10-t10 step-v3"},[n("ul",[n("li",{staticClass:"active"},[n("div"),n("font",{attrs:{color:"grey",size:"4px"}},[t._v(t._s(t._tt("填写账户信息")))])],1),t._v(" "),t.Step>1?n("li",{staticClass:"active"},[n("div",{staticClass:"flag"}),n("font",{attrs:{color:"grey",size:"4px"}},[t._v(t._s(t._tt("验证个人信息")))])],1):n("li",[n("div",{staticClass:"flag"}),n("font",{attrs:{color:"grey",size:"4px"}},[t._v(t._s(t._tt("验证个人信息")))])],1),t._v(" "),t.Step>2?n("li",{staticClass:"active"},[n("div"),n("font",{attrs:{color:"grey",size:"4px"}},[t._v(t._s(t._tt("验证个人信息")))])],1):n("li",[n("div",{staticClass:"flag"}),n("font",{attrs:{color:"grey",size:"4px"}},[t._v(t._s(t._tt("设置密码")))])],1)])]),t._v(" "),t._m(0),t._v(" "),1==t.Step?n("div",[n("div",{staticClass:"account h-center68 i-lightgrey-hlx",staticStyle:{position:"absolute",left:"13%"}},[n("div",{staticClass:"label"},[n("font",{attrs:{color:"grey"}},[t._v(t._s(t._tt("账号"))),n("font",{attrs:{color:"red"}},[t._v("*")]),t._v("  ")],1)],1),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.UserName,expression:"UserName"}],attrs:{type:"text",placeholder:t._tt("请输入您的账号")},domProps:{value:t.UserName},on:{input:function(e){e.target.composing||(t.UserName=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"ver_code h-center68 i-lightgrey-hlx",staticStyle:{position:"absolute",left:"13%"}},[n("div",{staticClass:"label"},[n("font",{attrs:{color:"grey"}},[t._v(t._s(t._tt("验证码"))),n("font",{attrs:{color:"red"}},[t._v("*")]),t._v("  ")],1)],1),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.VImageCode,expression:"VImageCode"}],attrs:{type:"text",placeholder:t._tt("请输入验证码")},domProps:{value:t.VImageCode},on:{input:function(e){e.target.composing||(t.VImageCode=e.target.value)}}}),t._v(" "),n("img",{staticStyle:{width:"114px",height:"46px","margin-left":"82%"},attrs:{src:t.VCodeBtye,alt:""},on:{click:t.GetImageVC}})])]):t._e(),t._v(" "),2==t.Step?n("div",[n("table",{staticClass:"table h-center30 bt-lightgrey",attrs:{border:"1"}},[n("tr",[n("td",{class:1==t.SelOption?"active":"",on:{click:function(e){t.DoSelOption(1)}}},[t._v(t._s(t._tt("使用手机验证")))]),t._v(" "),n("td",{class:2==t.SelOption?"active":"",on:{click:function(e){t.DoSelOption(2)}}},[t._v(t._s(t._tt("使用邮箱验证")))])])]),t._v(" "),n("div",{staticClass:"text h-center80"},[n("font",{attrs:{color:"grey"}},[t._v(t._s(t.GetCue()))])],1),t._v(" "),n("div",{staticClass:"confirm h-center50 i-lightgrey-hlx"},[n("div",{staticClass:"label"},[n("font",{attrs:{color:"grey"}},[t._v(t._s(t._tt("验证手机或邮箱"))+"  ")])],1),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.ConfirmValue,expression:"ConfirmValue"}],attrs:{type:"text",placeholder:t._tt("验证手机或邮箱")},domProps:{value:t.ConfirmValue},on:{blur:t.CheckUsrPhoneOrMail,input:function(e){e.target.composing||(t.ConfirmValue=e.target.value)}}}),t._v(" "),n("div",{class:1==t.SelOption?t.ShowIcon(t.InitMobile):t.ShowIcon(t.InitEMail)})]),t._v(" "),n("div",{staticClass:"code h-center50 i-lightgrey-hlx"},[n("div",{staticClass:"label"},[n("font",{attrs:{color:"grey"}},[t._v(t._s(t._tt("验证码"))+"  ")])],1),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.VMobileCode,expression:"VMobileCode"}],attrs:{type:"text",placeholder:t._tt("请输入验证码")},domProps:{value:t.VMobileCode},on:{input:function(e){e.target.composing||(t.VMobileCode=e.target.value)}}}),t._v(" "),n("div",{staticClass:"mlabel box-green-r",staticStyle:{position:"absolute",top:"25%",left:"0%",width:"13%",height:"48%"}},[n("font",{staticStyle:{width:"3%"},attrs:{color:"white",size:"3px"}},[n("a",{attrs:{color:"white"},on:{click:t.GetCode}},[t._v(t._s(t.ShowWaitTime()))])])],1)]),t._v(" "),t.WaitTime>0?n("div",{staticClass:"send h-center80"},[n("font",{attrs:{color:"grey"}},[t._v("！ "+t._s(t._tt("验证码已发送至您")))])],1):t._e()]):t._e(),t._v(" "),3==t.Step?n("div",[n("div",{staticClass:"password h-center68 i-lightgrey-hlx"},[n("div",{staticClass:"label"},[n("font",{attrs:{color:"grey"}},[t._v(t._s(t._tt("新密码"))),n("font",{attrs:{color:"red"}},[t._v("*")])],1)],1),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.NewPasswd,expression:"NewPasswd"}],attrs:{type:"password",placeholder:t._tt("请输入您的新密码")},domProps:{value:t.NewPasswd},on:{input:function(e){e.target.composing||(t.NewPasswd=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"checkpassword h-center68 i-lightgrey-hlx"},[n("div",{staticClass:"label"},[n("font",{attrs:{color:"grey"}},[t._v(t._s(t._tt("确认密码"))),n("font",{attrs:{color:"red"}},[t._v("*")])],1)],1),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.ConfirmPassword,expression:"ConfirmPassword"}],attrs:{type:"password",placeholder:t._tt("请再次输入您的新密码")},domProps:{value:t.ConfirmPassword},on:{input:function(e){e.target.composing||(t.ConfirmPassword=e.target.value)}}})])]):t._e(),t._v(" "),n("button",{staticClass:"next_button h-center20 b-orange-m btitle-orange-m",on:{click:t.DoNext}},[t._v(t._s(t._tt("下 一 步")))])]),t._v(" "),n("footer",{staticClass:"footer h-center80 v-bottom8 box-grey-ra"},[n("div",{staticClass:"h100 logo-login-foot bgp-l1"}),t._v(" "),n("div",{staticClass:"p-rb1"},[n("font",{attrs:{color:"white",size:"2px"}},[t._v("Copyright "),n("sup",[t._v("©")]),t._v(" 2017 Pingtong365.com All Rights Reserved. "+t._s(t._tt("沪ICP备88888888号")))])],1)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hr h-center90",staticStyle:{position:"absolute",top:"23%",left:"5%"}},[n("hr")])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"document-field"},[n("span",{staticClass:"document-field-title"},[t._t("title",[t._v(t._s(t.title))])],2),t._v(" "),n("span",{staticClass:"document-field-value"},[t._t("default",[t._v(t._s(t.fieldValue))])],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"document-filter"},[n("ptit-form",[n("div",{staticClass:"ptit-form-item-inline"},[n("ptit-input-item",{staticStyle:{width:"100px"},attrs:{showLabel:!1,placeHolder:t._tt("输入关键字")},model:{value:t.queryEnvelop.Title,callback:function(e){t.$set(t.queryEnvelop,"Title",e)},expression:"queryEnvelop.Title"}}),t._v(" "),n("ptit-input-item",{staticStyle:{width:"100px"},attrs:{showLabel:!1,placeHolder:t._tt("输入标签")},model:{value:t.queryEnvelop.Tag,callback:function(e){t.$set(t.queryEnvelop,"Tag",e)},expression:"queryEnvelop.Tag"}}),t._v(" "),0==t.activeType?n("ptit-input-item",{staticStyle:{width:"100px"},attrs:{showLabel:!1,name:"supplierStatus"},model:{value:t.queryEnvelop.SupplierStatus,callback:function(e){t.$set(t.queryEnvelop,"SupplierStatus",e)},expression:"queryEnvelop.SupplierStatus"}},[n("el-select",{model:{value:t.queryEnvelop.SupplierStatus,callback:function(e){t.$set(t.queryEnvelop,"SupplierStatus",e)},expression:"queryEnvelop.SupplierStatus"}},t._l(t.queryEnvelop.SelectStatus,function(t){return n("el-option",{key:t.id,attrs:{value:t.id,label:t.name}})}))],1):t._e(),t._v(" "),n("ptit-input-item",{staticStyle:{width:"150px"},attrs:{showLabel:!1}},[n("el-date-picker",{attrs:{type:"date",placeholder:t._tt("有效期至")},model:{value:t.queryEnvelop.Validity,callback:function(e){t.$set(t.queryEnvelop,"Validity",e)},expression:"queryEnvelop.Validity"}})],1),t._v(" "),n("button",{staticClass:"b-white-option",attrs:{type:"button"},on:{click:t.doQuery}},[t._v(t._s(t._tt("搜索")))]),t._v(" "),n("button",{staticClass:"b-white-option",attrs:{type:"button"},on:{click:t.onReset}},[t._v(t._s(t._tt("重置")))])],1)])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"h100 w100",staticStyle:{"overflow-y":"scroll"}},[n("div",{staticClass:"content-header border-bottom"},[n("div",{staticClass:"col-12"},[n("h3",{staticClass:"pull-left"},[t._v("绩效管理")]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.CompanyID,expression:"filters.CompanyID"}],staticStyle:{height:"30px","margin-top":"25px","margin-left":"20px"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.filters,"CompanyID",e.target.multiple?n:n[0])}}},[t._l(t.comapnyList,function(e){return[n("option",{domProps:{value:e.value}},[t._v(t._s(e.text))])]})],2),t._v(" "),n("div",{staticClass:"tools pull-right"})]),t._v(" "),n("div",{staticStyle:{clear:"both"}})]),t._v(" "),n("div",{staticClass:"toolsbar"},[n("el-form",{attrs:{inline:!0}},[n("label",[t._v("部门")]),t._v(" "),n("el-cascader",{attrs:{"expand-trigger":"hover",options:t.deps},on:{change:t.handleDepChange},model:{value:t.selectDep,callback:function(e){t.selectDep=e},expression:"selectDep"}}),t._v(" "),n("label",[t._v("职位")]),t._v(" "),n("el-cascader",{attrs:{"expand-trigger":"hover",options:t.positions},on:{change:t.handlePositionChange},model:{value:t.selectPosition,callback:function(e){t.selectPosition=e},expression:"selectPosition"}}),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"warning"},on:{click:t.handleSearch}},[t._v("查询")])],1)],1)],1),t._v(" "),n("div",{staticStyle:{padding:"16px"}},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.data,"highlight-current-row":""}},[n("el-table-column",{attrs:{type:"index",width:"50"}}),t._v(" "),n("el-table-column",{attrs:{prop:"DepartName",label:"部门","min-width":"150"}}),t._v(" "),n("el-table-column",{attrs:{prop:"PositionName",label:"职位",width:"150"}}),t._v(" "),n("el-table-column",{attrs:{prop:"ItemNum",label:"工作项","min-width":"100"}}),t._v(" "),n("el-table-column",{attrs:{prop:"TotalScore",label:"总积分","min-width":"150"}}),t._v(" "),n("el-table-column",{attrs:{label:"操作",width:"220"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"small"},on:{click:function(n){t.handleView(e.row)}}},[t._v("查看")])]}}])})],1),t._v(" "),n("el-col",{directives:[{name:"show",rawName:"v-show",value:0!==this.total,expression:"this.total!==0"}],staticClass:"pager",attrs:{span:24}},[n("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":t.filters.PageSize,"current-page":t.filters.PageIndex,total:t.total},on:{"current-change":t.ChangePage,"update:currentPage":function(e){t.$set(t.filters,"PageIndex",e)}}})],1)],1),t._v(" "),n("el-dialog",{attrs:{title:"职位绩效明细",visible:t.itemShow,size:"small"},on:{"update:visible":function(e){t.itemShow=e}}},[n("div",{staticStyle:{"margin-left":"10px","margin-right":"10px"}},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.items,"highlight-current-row":""}},[n("el-table-column",{attrs:{type:"index",width:"50"}}),t._v(" "),n("el-table-column",{attrs:{prop:"Name",label:"名称","min-width":"150"}}),t._v(" "),n("el-table-column",{attrs:{prop:"CategoryName",label:"分类",width:"150"}}),t._v(" "),n("el-table-column",{attrs:{prop:"CalcTypeStr",label:"计算方式","min-width":"100"}}),t._v(" "),n("el-table-column",{attrs:{prop:"BaseScore",label:"基础分","min-width":"100"}}),t._v(" "),n("el-table-column",{attrs:{prop:"BaseScore",label:"浮动区间","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.MinRate))]),t._v(" ~ "),n("span",[t._v(t._s(e.row.MaxRate))])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"AssociationSystemName",label:"关联项目"}})],1),t._v(" "),n("el-col",{staticClass:"pager",attrs:{span:24}},[n("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":t.itemfilters.PageSize,"current-page":t.itemfilters.PageIndex,total:t.itemtotal},on:{"current-change":t.handleItemPager,"update:currentPage":function(e){t.$set(t.itemfilters,"PageIndex",e)}}})],1)],1)])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nn"},[n("table",{staticClass:"table"},[n("tr",[n("td",{staticClass:"lb w02",attrs:{colspan:"2"}},[t._v("签批标题")]),t._v(" "),n("td",{attrs:{colspan:"12"}},[n("text-edit",{attrs:{Islock:!0,IsEditable:t.isEdit,placeholder:"请输入标题"},model:{value:t.Contents.Title,callback:function(e){t.$set(t.Contents,"Title",e)},expression:"Contents.Title"}})],1)]),t._v(" "),n("tr",[n("td",{staticClass:"lb w02",attrs:{colspan:"2"}},[t._v("签批类型")]),t._v(" "),n("td",{staticClass:"w04",attrs:{colspan:"4"}},[n("batch-types-list",{attrs:{IsEditable02:t.isEdit02,Islock:!0,IsEditable:t.isEdit,CompanyID:t.Contents.CompanyID},on:{changetypetag:t.ChangeBatchType},model:{value:t.Contents.BatchTypeID,callback:function(e){t.$set(t.Contents,"BatchTypeID",e)},expression:"Contents.BatchTypeID"}})],1),t._v(" "),n("td",{staticClass:"lb w02",attrs:{colspan:"2"}},[t._v("发文公司")]),t._v(" "),n("td",{staticClass:"w02",attrs:{colspan:"6"}},[n("companys-list",{attrs:{IsEditable02:t.isEdit02,Islock:!0,IsEditable:t.isEdit},on:{input:t.ChangeCompany},model:{value:t.Contents.CompanyID,callback:function(e){t.$set(t.Contents,"CompanyID",e)},expression:"Contents.CompanyID"}})],1)]),t._v(" "),n("tr",[n("td",{staticClass:"lb w01",attrs:{colspan:"1"}},[t._v("缓急")]),t._v(" "),n("td",{staticClass:"w01",attrs:{colspan:"1"}},[n("prioritys-list",{attrs:{Islock:!0,IsEditable:t.isEdit},model:{value:t.Contents.Priority,callback:function(e){t.$set(t.Contents,"Priority",e)},expression:"Contents.Priority"}})],1),t._v(" "),n("td",{staticClass:"lb w01",attrs:{colspan:"1"}},[t._v("部门")]),t._v(" "),n("td",{staticClass:"w02",attrs:{colspan:"2"}},[0==t.Contents.Status?n("text-edit",{attrs:{Islock:!0,IsEditable:t.isEdit,placeholder:"输入部门"},model:{value:t.Contents.DepartmentName,callback:function(e){t.$set(t.Contents,"DepartmentName",e)},expression:"Contents.DepartmentName"}}):t._e()],1),t._v(" "),n("td",{staticClass:"lb w02",attrs:{colspan:"2"}},[t._v("发起人")]),t._v(" "),n("td",{staticClass:"w02",attrs:{colspan:"2"}},[n("div",{staticClass:"w100",staticStyle:{"word-break":"break-all"}},[t._v(t._s(t.Contents.CreateUser))])]),t._v(" "),n("td",{staticClass:"lb w02",attrs:{colspan:"2"}},[t._v("发起日期")]),t._v(" "),n("td",{staticClass:"w03",attrs:{colspan:"3"}},[n("div",{staticClass:"w100",staticStyle:{"word-break":"break-all"}},[t._v(t._s(t.Contents.CreateTime))])])]),t._v(" "),n("tr",[n("td",{staticClass:"lb w01",attrs:{colspan:"1"}},[t._v("附件")]),t._v(" "),n("td",{attrs:{colspan:"13"}},[n("files-upload",{attrs:{"doc-id":t.docId,"do-load":t.doLoad}})],1)])]),t._v(" "),n("div",{staticClass:"h100"},[n("el-tabs",{attrs:{type:"border-card"},model:{value:t.editableTabsValue,callback:function(e){t.editableTabsValue=e},expression:"editableTabsValue"}},t._l(t.tableTabs,function(e,i){return n("el-tab-pane",{key:e.name,attrs:{label:e.title,name:e.name}},[n(e.type,{tag:"div",staticClass:"h100 w100",staticStyle:{"background-color":"#F9F9F9"},attrs:{docID:t.docId,content:t.Contents.Context,propid:e.propid,status:t.Contents.Status,commandType:e.commandType,commandId:t.Contents.CompanyID,companyid:t.Contents.CompanyID,isEdit:e.isEdit,cid:e.cid},on:{ChangeEvent:t.ChangeEvent,input:t.ChangeContent},model:{value:e.content,callback:function(n){t.$set(e,"content",n)},expression:"item.content"}})])}))],1),t._v(" "),t.docId>0&&0==t.Contents.Status?n("div",{staticClass:"edit-view",on:{click:t.editOrView}},[n("i",{staticClass:"fa fa-edit",class:{"fa-eye":t.isEdit}})]):t._e()])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"upload-wrap",attrs:{id:"doc-fileupload"}},[n("el-upload",{staticClass:"upload-demo",class:t.cssclose,attrs:{action:t.uploadUrl,headers:t.headers,data:t.uploaddata,"file-list":t.fileList,"before-upload":t.checkFile,"on-preview":t.handlePreview,"on-success":t.handleUploadSuccess,"on-remove":t.handleRemove}},[n("button",{staticClass:"btn"},[t._v("附件上传")]),t._v(" "),n("span",[t._v("上传文件大小不超过100M")])]),t._v(" "),n("el-dialog",{attrs:{size:"tiny"},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[n("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"h100 w100",staticStyle:{"overflow-y":"scroll"}},[n("div",{staticClass:"content-header border-bottom"},[n("div",{staticClass:"col-12"},[n("h3",{staticClass:"pull-left"},[t._v("绩效申报")]),t._v(" "),n("company",{on:{change:t.ChangeCompany}}),t._v(" "),n("div",{staticClass:"tools pull-right"},[n("el-button",{attrs:{type:"warning",size:"large"},on:{click:t.HandleSave}},[t._v("保存")])],1)],1),t._v(" "),n("div",{staticStyle:{clear:"both"}})]),t._v(" "),n("br"),t._v(" "),n("el-form",{staticStyle:{height:"60px"},attrs:{model:t.DeclareModel,"label-width":"80px"}},[n("el-row",[n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"标题*",prop:"title"}},[n("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入标题"},model:{value:t.DeclareModel.title,callback:function(e){t.$set(t.DeclareModel,"title",e)},expression:"DeclareModel.title"}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.DeclareModel.documentId,expression:"DeclareModel.documentId"}],attrs:{type:"hidden"},domProps:{value:t.DeclareModel.documentId},on:{input:function(e){e.target.composing||t.$set(t.DeclareModel,"documentId",e.target.value)}}})],1)],1),t._v(" "),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"申报人",prop:"userName"}},[n("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:""},model:{value:t.DeclareModel.userName,callback:function(e){t.$set(t.DeclareModel,"userName",e)},expression:"DeclareModel.userName"}})],1)],1),t._v(" "),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"申报日期",prop:"applyDate"}},[n("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:t.DeclareModel.applyDate,callback:function(e){t.$set(t.DeclareModel,"applyDate",e)},expression:"DeclareModel.applyDate"}})],1)],1)],1)],1),t._v(" "),n("el-form",{staticStyle:{height:"60px"},attrs:{model:t.DeclareModel,"label-width":"80px"}},[n("el-row",[n("el-col",{attrs:{span:18}},[n("el-form-item",{attrs:{label:"备注",prop:"remark"}},[n("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:""},model:{value:t.DeclareModel.remark,callback:function(e){t.$set(t.DeclareModel,"remark",e)},expression:"DeclareModel.remark"}})],1)],1)],1)],1),t._v(" "),n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("el-row",[n("el-col",{attrs:{span:4}},[t._v("\n              绩效申报\n    \t\t\t\t")]),t._v(" "),n("el-col",{attrs:{span:4}},[n("div")]),t._v(" "),n("el-col",{attrs:{span:4}},[n("div")]),t._v(" "),n("el-col",{attrs:{span:4}},[n("div")]),t._v(" "),n("el-col",{attrs:{span:4}}),t._v(" "),n("el-col",{attrs:{span:4}})],1)],1)]),t._v(" "),n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("el-row",[n("el-col",{attrs:{span:4}},[t._v("\n              申报人数："+t._s(t.DeclareModel.itemNum)+"\n    \t\t\t\t")]),t._v(" "),n("el-col",{attrs:{span:4}},[t._v("\n              总绩效："+t._s(t.DeclareModel.totalScore)+"\n            ")]),t._v(" "),n("el-col",{attrs:{span:4}},[n("div")]),t._v(" "),n("el-col",{attrs:{span:4}},[n("div")]),t._v(" "),n("el-col",{attrs:{span:4}}),t._v(" "),n("el-col",{attrs:{span:4}})],1)],1)]),t._v(" "),t._l(t.empData,function(e,i){return[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("el-row",[n("el-col",{attrs:{span:4}},[t._v(t._s(e.userName))]),t._v(" "),n("el-col",{attrs:{span:4}},[t._v("已报绩效项："+t._s(e.items.length))]),t._v(" "),n("el-col",{attrs:{span:4}},[t._v("职位："+t._s(e.positionName))]),t._v(" "),n("el-col",{attrs:{span:4}},[t._v("总绩效："+t._s(t.calculate(e)))])],1)],1),t._v(" "),t._l(e.items,function(e,i){return[n("div",{on:{click:function(n){t.CurrentRowSelect(e)}}},[n("el-row",[n("el-col",{attrs:{span:4}},[t._v(t._s(e.perDate))]),t._v(" "),n("el-col",{attrs:{span:4}},[t._v(t._s(e.performanceName))]),t._v(" "),n("el-col",{attrs:{span:4}},[t._v("\n                  "+t._s(e.BaseScore)+" "+t._s(e.calcTypeStr)+"\n        \t\t\t\t")]),t._v(" "),n("el-col",{attrs:{span:4}},[t._v("\n                  "+t._s(e.num)+" "+t._s(e.calcTypeStr)+"\n        \t\t\t\t")]),t._v(" "),n("el-col",{attrs:{span:2}},[t._v("\n                  "+t._s(e.num*e.BaseScore)+"绩效\n        \t\t\t\t")]),t._v(" "),n("el-col",{attrs:{span:2}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.num,expression:"it.num"}],attrs:{type:"text"},domProps:{value:e.num},on:{input:function(n){n.target.composing||t.$set(e,"num",n.target.value)}}})]),t._v(" "),n("el-col",{attrs:{span:4}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.remark,expression:"it.remark"}],attrs:{type:"text",placeholder:"备注信息"},domProps:{value:e.remark},on:{input:function(n){n.target.composing||t.$set(e,"remark",n.target.value)}}})])],1)],1)]})],2)]}),t._v(" "),n("employee",{attrs:{dvisible:t.empVisible,companyid:t.companyid},on:{"update:dvisible":function(e){t.empVisible=e},EventSelected:t.EmpEventSelected}}),t._v(" "),n("baseitem",{ref:"baseitem",attrs:{companyid:t.companyid,dvisible:t.importItem},on:{"update:dvisible":function(e){t.importItem=e},EventSelected:t.ItemEventSelected}})],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-dialog",{staticStyle:{width:"100%"},attrs:{title:t.dialogTitle,visible:t.visiable,size:"small","close-on-click-modal":!1},on:{"update:visible":function(e){t.visiable=e},close:t.closeDialog}},[n("div"),t._v(" "),n("div",{staticStyle:{height:"25px"}},[t._v(t._s(t._tt("流程模板")))]),t._v(" "),n("div",{staticStyle:{height:"40px"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{disabled:0!=t.step,placeholder:t._tt("请选择流程模板")},model:{value:t.templateID,callback:function(e){t.templateID=e},expression:"templateID"}},t._l(t.templateList,function(t,e){return n("el-option",{key:e,attrs:{label:t.Title,value:t.ID}})}))],1),t._v(" "),n("div",{staticStyle:{height:"25px"}}),t._v(" "),n("div",{staticStyle:{height:"25px"}},[t._v("\n            "+t._s(t._tt("下一阶段参与人"))+"\n               \n            "),t.templateID<1&&t.flag>0&&t.flag<4?n("el-checkbox",{model:{value:t.isAutoFill,callback:function(e){t.isAutoFill=e},expression:"isAutoFill"}},[t._v(t._s(t._tt("启用自动填充")))]):t._e(),t._v("\n            \n         "),t.isAutoFill?n("el-checkbox",{model:{value:t.isExpMe,callback:function(e){t.isExpMe=e},expression:"isExpMe"}},[t._v(t._s(t._tt("添加自己")))]):t._e()],1),t._v(" "),n("div",{staticStyle:{height:"40px"}},[n("el-select",{ref:"nodeUserSelector",staticStyle:{width:"calc(100% - 185px)",float:"left"},attrs:{disabled:t.hasrights||4==t.flag||-1==t.flag,placeholder:t._tt("选择人员"),filterable:"",remote:"",multiple:"","filter-method":t.filterUsers},model:{value:t.nodeUserList,callback:function(e){t.nodeUserList=e},expression:"nodeUserList"}},t._l(t.optionalUserList,function(t,e){return n("el-option",{key:e,attrs:{label:t.Title,value:t.ID}})})),t._v(" "),n("el-input",{staticStyle:{width:"180px",float:"right"},attrs:{disabled:t.templateID>0||t.templateID<1},model:{value:t.condition,callback:function(e){t.condition=e},expression:"condition"}},[n("template",{slot:"prepend"},[t._v(t._s(t._tt("需要的通过人数"))+"：")])],2)],1),t._v(" "),n("div",{staticStyle:{height:"25px"}}),t._v(" "),n("el-upload",{attrs:{action:t.uploadURL,headers:t.headers,data:t.data,"file-list":t.fileList,"before-upload":t.checkFile,"on-preview":t.handlePreview,"on-success":t.handleUploadSuccess,"on-remove":t.handleRemove}},[n("button",{staticClass:"btn"},[t._v(t._s(t._tt("附件上传")))])]),t._v(" "),n("div",{staticStyle:{height:"25px",clear:"both"}}),t._v(" "),n("div",{staticStyle:{height:"25px"}},[t._v(t._s(t._tt("意见与结果")))]),t._v(" "),n("div",{staticStyle:{height:"200px"}},[n("vue-html-editor",{attrs:{model:t.content,height:180,minHeight:180,maxHeight:180},on:{"update:model":function(e){t.content=e},change:t.updateData}})],1),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.close}},[n("i",{staticClass:"fa fa-window-close"}),t._v(" "+t._s(t._tt("关闭")))]),t._v(" "),-1==t.flag?n("el-button",{attrs:{type:"danger",loading:t.loading},on:{click:t.submit}},[n("i",{staticClass:"fa fa-thumbs-down"}),t._v(" "+t._s(t._tt("驳回")))]):t._e(),t._v(" "),0==t.flag?n("el-button",{attrs:{type:"success",loading:t.loading},on:{click:t.submit}},[n("i",{staticClass:"fa fa-lightbulb-o"}),t._v(" "+t._s(t._tt("提交")))]):t._e(),t._v(" "),1==t.flag?n("el-button",{attrs:{type:"warning",loading:t.loading},on:{click:t.submit}},[n("i",{staticClass:"fa fa-lightbulb-o"}),t._v(" "+t._s(t._tt("发表意见")))]):t._e(),t._v(" "),2==t.flag?n("el-button",{attrs:{type:"success",loading:t.loading},on:{click:t.submit}},[n("i",{staticClass:"fa fa-check"}),t._v(" "+t._s(t._tt("决策同意")))]):t._e(),t._v(" "),3==t.flag?n("el-button",{attrs:{type:"warning",loading:t.loading},on:{click:t.submit}},[n("i",{staticClass:"fa fa-lightbulb-o"}),t._v(" "+t._s(t._tt("完成执行")))]):t._e(),t._v(" "),4==t.flag?n("el-button",{attrs:{type:"success",loading:t.loading},on:{click:t.submit}},[n("i",{staticClass:"fa fa-folder-open-o"}),t._v(" "+t._s(t._tt("归档")))]):t._e()],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input-item",class:{onEdit:t.isEdit},style:{"border-color":t.validatorMessage?"red":"#bfcbd9",height:t.inputHeight,width:t.inputWidth,"line-height":t.inputHeight}},[t.isEdit?[n("el-input",{style:{"text-align":t.inputCenter},attrs:{value:t.value,type:"text",size:"small"},on:{change:t.emitInput}})]:[t._v("\n    "+t._s(t.value)+"\n  ")],t._v(" "),t.validatorMessage?n("div",{staticClass:"input-message-icon",style:{left:t.iconLeft,right:t.iconRight}},[n("el-tooltip",{attrs:{placement:"top"}},[n("div",{attrs:{slot:"content",errorKey:t.errorKey},slot:"content"},[t._v(t._s(t.validatorMessage))]),t._v(" "),n("i",{staticClass:"el-icon-warning el-icon--right ",staticStyle:{color:"red"}})])],1):t._e()],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"h100 w100"},[n("div",{staticClass:"content-header border-bottom"},[n("div",{staticClass:"col-12"},[n("h3",{staticClass:"pull-left"},[t._v("用户管理")]),t._v(" "),n("div",{staticClass:"tools pull-right"},[n("el-button",{attrs:{type:"warning",size:"large"},on:{click:t.createUser}},[t._v("新增用户")])],1)]),t._v(" "),n("div",{staticStyle:{clear:"both"}})]),t._v(" "),n("div",{staticClass:"toolsbar"},[n("el-form",{attrs:{inline:!0,model:t.condition}},[n("el-form-item",[n("el-input",{attrs:{placeholder:"关键字"},model:{value:t.condition.Keyword,callback:function(e){t.$set(t.condition,"Keyword",e)},expression:"condition.Keyword"}})],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"warning"},on:{click:t.search}},[t._v("查询")])],1)],1)],1),t._v(" "),n("div",{staticClass:"tb-list",staticStyle:{padding:"16px"}},[n("el-table",{attrs:{data:t.users}},[n("el-table-column",{attrs:{prop:"Name",label:"用户名"}}),t._v(" "),n("el-table-column",{attrs:{prop:"UserCode",label:"用户编号"}}),t._v(" "),n("el-table-column",{attrs:{prop:"NickName",label:"昵称"}}),t._v(" "),n("el-table-column",{attrs:{prop:"Phone",label:"手机"}}),t._v(" "),n("el-table-column",{attrs:{prop:"Email",label:"邮箱"}}),t._v(" "),n("el-table-column",{attrs:{prop:"CompanyNames",label:"公司"}}),t._v(" "),n("el-table-column",{attrs:{label:"操作",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"options"},[n("el-button",{attrs:{type:"warning",size:"small"},nativeOn:{click:function(n){n.preventDefault(),t.Edit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),n("el-button",{attrs:{type:"danger",size:"small"},nativeOn:{click:function(n){n.preventDefault(),t.Delete(e.$index,e.row)}}},[t._v("删除")]),t._v(" "),n("el-button",{attrs:{size:"small"},nativeOn:{click:function(n){n.preventDefault(),t.ShowPass(e.$index,e.row)}}},[t._v("重置密码")]),t._v(" "),n("el-button",{attrs:{size:"small"},nativeOn:{click:function(n){n.preventDefault(),t.EditRights(e.$index,e.row)}}},[t._v("权限设置")])],1)]}}])})],1),t._v(" "),n("el-col",{directives:[{name:"show",rawName:"v-show",value:0!==this.total,expression:"this.total!==0"}],staticClass:"pager",attrs:{span:24}},[n("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":20,total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1),t._v(" "),n("el-dialog",{attrs:{title:t.title,visible:t.NewVisiable,size:"tiny"},on:{"update:visible":function(e){t.NewVisiable=e}}},[n("el-form",{attrs:{model:t.user01,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"用户名"}},[n("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:t.user01.Name,callback:function(e){t.$set(t.user01,"Name",e)},expression:"user01.Name"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"用户编码"}},[n("el-input",{attrs:{placeholder:"请输入用户编码"},model:{value:t.user01.UserCode,callback:function(e){t.$set(t.user01,"UserCode",e)},expression:"user01.UserCode"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"昵称"}},[n("el-input",{attrs:{placeholder:"请输入昵称"},model:{value:t.user01.NickName,callback:function(e){t.$set(t.user01,"NickName",e)},expression:"user01.NickName"}})],1),t._v(" "),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.isEdit,expression:"isEdit"}],attrs:{label:"密码",prop:"pass"}},[n("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"请输入密码"},model:{value:t.user01.Pwd,callback:function(e){t.$set(t.user01,"Pwd",e)},expression:"user01.Pwd"}})],1),t._v(" "),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.isEdit,expression:"isEdit"}],attrs:{label:"确认密码",prop:"pass"}},[n("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"请输入确认密码"},model:{value:t.user01.ConfirmPass,callback:function(e){t.$set(t.user01,"ConfirmPass",e)},expression:"user01.ConfirmPass"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"手机"}},[n("el-input",{attrs:{placeholder:"请输入手机"},model:{value:t.user01.Phone,callback:function(e){t.$set(t.user01,"Phone",e)},expression:"user01.Phone"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"邮箱"}},[n("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:t.user01.Email,callback:function(e){t.$set(t.user01,"Email",e)},expression:"user01.Email"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"公司",prop:"CompanyID"}},[n("el-select",{attrs:{multiple:"",placeholder:"请选择公司",size:"large"},model:{value:t.user01.CompanyIDss,callback:function(e){t.$set(t.user01,"CompanyIDss",e)},expression:"user01.CompanyIDss"}},t._l(t.ComapnyList,function(t,e){return n("el-option",{key:t.id,attrs:{value:t.value,label:t.text}})}))],1)],1),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.Cancel}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"warning"},on:{click:t.Save}},[t._v("确 定")])],1)],1),t._v(" "),n("el-dialog",{attrs:{title:"权限管理["+t.currectUser.Name+"]",visible:t.RightsVisiable,size:"tiny"},on:{"update:visible":function(e){t.RightsVisiable=e},close:t.Cancel}},[n("el-form",{attrs:{"label-width":"100px"}},[n("el-form-item",{attrs:{label:"公司",prop:"ID"}},[n("el-select",{attrs:{placeholder:"请选择公司"},on:{change:function(e){t.ChangeComp()}},model:{value:t.CompanyTempItem.ID,callback:function(e){t.$set(t.CompanyTempItem,"ID",e)},expression:"CompanyTempItem.ID"}},t._l(t.ComapnyList,function(t){return n("el-option",{key:t.value,attrs:{value:t.value,label:t.text}})}))],1),t._v(" "),n("el-form-item",{attrs:{label:"系统权限:"}},[n("el-checkbox",{attrs:{label:"是否管理员"},model:{value:t.UserRightsItem.SysRights,callback:function(e){t.$set(t.UserRightsItem,"SysRights",e)},expression:"UserRightsItem.SysRights"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"签批件权限:"}},[n("el-checkbox",{attrs:{label:"创建",name:"type"},model:{value:t.UserRightsItem.CreateRights,callback:function(e){t.$set(t.UserRightsItem,"CreateRights",e)},expression:"UserRightsItem.CreateRights"}}),t._v(" "),n("el-checkbox",{attrs:{label:"批示",name:"type"},model:{value:t.UserRightsItem.InstructionsRights,callback:function(e){t.$set(t.UserRightsItem,"InstructionsRights",e)},expression:"UserRightsItem.InstructionsRights"}}),t._v(" "),n("el-checkbox",{attrs:{label:"决策同意",name:"type"},model:{value:t.UserRightsItem.AgreeRights,callback:function(e){t.$set(t.UserRightsItem,"AgreeRights",e)},expression:"UserRightsItem.AgreeRights"}}),t._v(" "),n("el-checkbox",{attrs:{label:"归档",name:"type"},model:{value:t.UserRightsItem.FiledRights,callback:function(e){t.$set(t.UserRightsItem,"FiledRights",e)},expression:"UserRightsItem.FiledRights"}})],1)],1),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-input",{attrs:{type:"hidden"},model:{value:t.UserRightsItem.ID,callback:function(e){t.$set(t.UserRightsItem,"ID",e)},expression:"UserRightsItem.ID"}}),t._v(" "),n("el-button",{on:{click:t.Cancel}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"warning"},on:{click:t.ConformEditRights}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"root_list_item"},[n("div",{staticClass:"item_header"},[n("div",{staticClass:"content",on:{click:t.goToDetail}},[t._v("\n            任务编号："+t._s(t.item.gsTaskId)+"\n        ")]),t._v(" "),n("div",{staticClass:"status"},[t._v("\n            已结算\n        ")])]),t._v(" "),n("div",{staticClass:"item_main"},t._l(t.rootListItemConfig,function(e){return n("div",{key:e.key,staticClass:"key_value"},[n("div",{staticClass:"key"},[t._v(t._s(e.key)+"：")]),t._v(" "),n("div",{staticClass:"value"},[t._v("\n                "+t._s("string"==typeof e.value?t.item[e.value]:t.item[e.value[0]]*t.item[e.value[1]])+"\n            ")])])}))])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:"组织架构",visible:t.dialogVisible,size:"large",modal:!1,"modal-append-to-body":!0,"close-on-click-modal":!1,"before-close":t.Cancel},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-row",[n("el-col",{attrs:{span:12}},[n("el-collapse",[n("el-collapse-item",{attrs:{name:"1",title:"组织架构"}},[n("orgtree",{attrs:{companyId:t.companyid,type:0,isview:"true"}})],1),t._v(" "),n("el-collapse-item",{attrs:{title:"角色信息",name:"2"}},[n("orgtree",{attrs:{companyId:t.companyid,type:1,isview:"true"}})],1)],1)],1),t._v(" "),n("el-col",{attrs:{span:2}},[t._v(" ")]),t._v(" "),n("el-col",{attrs:{span:10}},[n("h4",[t._v(t._s(t.Company.Name))])])],1),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"warning"},on:{click:t.Confirm}},[t._v("应用此模板")])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.taskListItem,on:{click:function(e){t.taskListItemSelect(t.item)}}},[n("div",{staticClass:"left",attrs:{title:t.item.taskName+" - "+t.item.rootTaskName}},[n("div",{staticClass:"item_content"},[t._v("\n            "+t._s(t.item.taskName)+" - "+t._s(t.item.rootTaskName)+"\n        ")]),t._v(" "),t.item.parentTaskName?n("div",{staticClass:"item_content"},[t._v("\n            "+t._s(t.item.parentTaskName)+"\n        ")]):n("div",{staticClass:"no_parent_task"})]),t._v(" "),n("div",{staticClass:"right"},[n("div",{staticClass:"item_content score_box",attrs:{title:t.item.gsPoints}},[n("div",{staticClass:"score"},[t._v("\n                "+t._s(t.item.gsPoints)+"\n            ")])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"item-sorter"},[t._l(t.controller.currentFieldSorters,function(e){return n("el-tag",{key:e.field.key,attrs:{closable:!0,type:"primary"},on:{close:function(n){t.onCloseFieldSorter(e,n)}},nativeOn:{click:function(n){t.toggleSorterState(e)}}},[n("span",[t._v(t._s(e.field.displayText))]),t._v(" "),n("i",{class:t.getIconClass(e)})])}),t._v(" "),t.hasRemainingSortFields?n("el-dropdown",{attrs:{"menu-align":"end"},on:{command:t.onSelectSortField}},[n("span",{staticClass:"select-sorter"},[t._v("\n            排序\n            "),n("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.controller.remainingFieldStorters,function(e){return n("el-dropdown-item",{key:e.field.key,attrs:{command:e.field.key}},[t._v(t._s(e.field.displayText)+"\n            ")])}))],1):t._e()],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("form",{staticClass:"ptit-form"},[t._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"DateAndError",class:{onEdit:t.isEdit},style:{"border-color":t.validatorMessage?"red":"#e5e5e5",height:t.inputHeight,width:t.inputWidth,"line-height":t.inputHeight}},[t.isEdit?[n("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:t.dataType,size:"small",placeholder:"选择日期","picker-options":t.pickerOptions0},model:{value:t.dateValue,callback:function(e){t.dateValue=e},expression:"dateValue"}})]:[t._v("\n    "+t._s(t.value)+"\n  ")],t._v(" "),t.validatorMessage?n("div",{staticClass:"input-message-icon",style:{left:t.iconLeft,right:t.iconRight}},[n("el-tooltip",{attrs:{placement:"top"}},[n("div",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.validatorMessage))]),t._v(" "),n("i",{staticClass:"el-icon-warning el-icon--right ",staticStyle:{color:"red"}})])],1):t._e()],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"OwnPerformanceDefinitionCart"},[n("owner-defintion-kanban-select",{ref:"performancePositionSelect",attrs:{positionList:t.positionList},on:{selectedItemToKanban:t.selectedItemToKanban,companySelected:t.companySelected}}),t._v(" "),n("div",{staticClass:"kanban-main"},[n("div",{staticClass:"kanban-main-top"},[n("el-button",{on:{click:t.declaredDocument}},[t._v("申报")])],1),t._v(" "),n("div",{staticClass:"kanban-main-bottom"},[t._l(t.principalAndOwnPerformanceDefinitionList,function(e,i){return[n("performance-definition-position-detail",{key:i,attrs:{item:e},on:{positionClose:t.positionClose}})]})],2)])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"work-aggregation-item"},[n("work-row",{attrs:{state:"view"}},[n("work-column",{staticClass:"item displayText",attrs:{flexWidth:"auto",textAlign:"left"}},[t._v("\n            按 "+t._s(t.item.item.displayText)+" 聚合\n            "),t.hasAggregator?n("span",{staticClass:"aggregator"},[t._v("\n                "+t._s(t.item.item.aggreator.currentType)+" "+t._s(t.item.item.aggreator.field.displayText)+" "+t._s(t.item.item.calucatedValue)+"\n            ")]):t._e()]),t._v(" "),t.item.item.calculated?n("work-column",{staticClass:"item aggregator",attrs:{flexWidth:"0 0 200px",textAlign:"right"}}):t._e(),t._v(" "),t.hasChildrenChecked?n("work-column",{attrs:{textAlign:"right",flexWidth:"0 0 50px"}},[n("el-dropdown",{on:{command:t.onCommand}},[n("i",{staticClass:"el-icon-more"}),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"bulkEdit"}},[t._v("批量修改")]),t._v(" "),n("el-dropdown-item",{attrs:{command:"bulkRead"}},[t._v("批量已阅")]),t._v(" "),n("el-dropdown-item",{attrs:{command:"bulkUnread"}},[t._v("批量未阅")]),t._v(" "),n("el-dropdown-item",{attrs:{command:"bulkDelete"}},[t._v("批量删除")]),t._v(" "),n("el-dropdown-item",{attrs:{command:"bulkShare"}},[t._v("批量分享")]),t._v(" "),n("el-dropdown-item",{attrs:{command:"bulkReject"}},[t._v("批量驳回")])],1)],1)],1):t._e()],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("select",{directives:[{name:"model",rawName:"v-model",value:t.calctype,expression:"calctype"}],staticStyle:{height:"40px",border:"1px solid lightgrey","border-radius":"4px",outline:"none","font-size":"14px",color:"grey",cursor:"pointer"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.calctype=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),n("option",{attrs:{value:"1"}},[t._v("计件")]),t._v(" "),n("option",{attrs:{value:"2"}},[t._v("计次")]),t._v(" "),n("option",{attrs:{value:"3"}},[t._v("计时")]),t._v(" "),n("option",{attrs:{value:"10"}},[t._v("月日常工作")]),t._v(" "),n("option",{attrs:{value:"20"}},[t._v("周日常工作")])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"task_detail_main_area"},[n("div",{staticClass:"separation"},[n("div",{staticClass:"separation_name"},[t._v("\n            "+t._s(t.name)+"\n        ")]),t._v(" "),n("div",{staticClass:"separation_line"}),t._v(" "),t.separationEndIcon?n("div",{staticClass:"separation_icon",on:{click:t.separationEndIconClick}},[n("i",{class:t.separationEndIcon})]):t._e()]),t._v(" "),n("div",{staticClass:"area_content"},[t._t("default")],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.IsEditable&&t.IsEditable02?n("el-select",{staticClass:"w100",on:{change:t.updateData},model:{value:t.BatchTypeId,callback:function(e){t.BatchTypeId=e},expression:"BatchTypeId"}},t._l(t.BatchTypes,function(t){return n("el-option",{key:t.ID,attrs:{label:t.Title,value:t.ID,disabled:t.id<0}})})):n("div",{staticClass:"w100",on:{click:t.click}},[t._v(t._s(t.BatchTypeTitle))])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ptit-tooltip-container",{style:{width:t.width},attrs:{tooltip:t.tooltip,effect:t.tooltipEffect,iconClasses:t.iconClasses,color:t.tooltipColor,hOffset:t.iconHOffset},on:{on:t.onShowTooltip,off:t.onOffTooltip}},[t.isInput&&t.suggestionMode?n("el-autocomplete",t._g(t._b({ref:"elInput",on:{change:t.onBlur},model:{value:t.currentValue,callback:function(e){t.currentValue=e},expression:"currentValue"}},"el-autocomplete",t.$attrs,!1),t.$listeners)):t.isDatePicker?n("el-date-picker",t._b({ref:"elInput",on:{change:t.onBlur},model:{value:t.currentValue,callback:function(e){t.currentValue=e},expression:"currentValue"}},"el-date-picker",t.$attrs,!1)):t.isNumber?n("el-input-number",t._b({ref:"elInput",on:{change:t.onBlur},model:{value:t.currentValue,callback:function(e){t.currentValue=e},expression:"currentValue"}},"el-input-number",t.$attrs,!1)):t.isSelect?n("el-select",t._b({ref:"elInput",on:{change:t.onBlur,"visible-change":t.onSelectVisibleChange},model:{value:t.currentValue,callback:function(e){t.currentValue=e},expression:"currentValue"}},"el-select",t.$attrs,!1),[t._t("default")],2):n("el-input",t._g(t._b({ref:"elInput",on:{blur:t.onBlur,change:t.onBlur},model:{value:t.currentValue,callback:function(e){t.currentValue=e},expression:"currentValue"}},"el-input",t.$attrs,!1),t.$listeners))],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"PerformanceDefinitionKanban"},[n("performance-position-select",{ref:"performancePositionSelect",on:{selectedItemToKanban:t.selectedItemToKanban,companySelected:t.companySelected,changeStaffId:t.changeStaffId}}),t._v(" "),n("div",{staticClass:"kanban-main"},[n("div",{staticClass:"kanban-main-bottom"},[t._l(t.principalAndOwnPerformanceDefinitionList,function(e){return[n("performance-definition-position-detail",{key:e.principalId,attrs:{item:e},on:{positionClose:t.positionClose}})]})],2)])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cwhite_board",staticStyle:{position:"absolute",top:"25%",left:"31%"}},[n("div",{staticClass:"white_board_text"},[n("font",{staticStyle:{color:"grey"},attrs:{size:"6px"}},[t._v(t._s(t._tt("修改手机")))])],1),t._v(" "),n("button",{staticClass:"cbuttonX",on:{click:t.Close}}),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"cmobile_icon"}),t._v(" "),n("div",{staticClass:"cmobile_icon_text"},[n("font",{staticStyle:{"letter-spacing":"2px"},attrs:{size:"2px",color:"grey"}},[t._v(t._s(t._tt("您绑定手机"))+" "+t._s(t.HideMobile(t.UserMobile)))]),t._v(" "),n("br"),n("br"),n("font",{staticStyle:{"letter-spacing":"2px"},attrs:{size:"2px",color:"grey"}},[t._v(t._s(t._tt("您可以在这里修改手机")))])],1),t._v(" "),n("div",{staticClass:"cmobile_verify_code",staticStyle:{position:"absolute",left:"13.8%"}},[n("font",[t._v(t._s(t._tt("输入新手机号码")))]),t._v(" "),n("font",{staticClass:"cred_star1"},[t._v("*")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.UserNewMobile,expression:"UserNewMobile"}],attrs:{placeholder:t._tt("请输入新手机号码")},domProps:{value:t.UserNewMobile},on:{blur:t.CheckUserMobile,input:function(e){e.target.composing||(t.UserNewMobile=e.target.value)}}}),t._v(" "),n("div",{class:t.ShowIcon(t.IntMobile),staticStyle:{position:"absolute",top:"26%",right:"37%"}})],1),t._v(" "),1==t.IntMobile?n("button",{staticClass:"csend_mobile_verify_code",staticStyle:{position:"absolute",left:"57%"},on:{click:t.GetCode}},[t._v(t._s(t.ShowWaitTime()))]):t._e(),t._v(" "),n("div",{staticClass:"cmobile_verify_code2",staticStyle:{position:"absolute",left:"18%"}},[n("font",[t._v(t._s(t._tt("手机验证码")))]),t._v(" "),n("font",{staticClass:"red_star2"},[t._v("*")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.VerificationCode,expression:"VerificationCode"}],attrs:{placeholder:t._tt("请输入您收到的验证码")},domProps:{value:t.VerificationCode},on:{input:function(e){e.target.composing||(t.VerificationCode=e.target.value)}}})],1),t._v(" "),n("div",{staticClass:"cmobile_verify_code3",staticStyle:{position:"absolute",left:"16%"}},[n("font",[t._v(t._s(t._tt("验证登录密码")))]),t._v(" "),n("font",{staticClass:"red_star3"},[t._v("*")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.UserPassword,expression:"UserPassword"}],attrs:{placeholder:t._tt("请输入您的账户登录密码"),type:"password"},domProps:{value:t.UserPassword},on:{input:function(e){e.target.composing||(t.UserPassword=e.target.value)}}})],1),t._v(" "),n("div",{staticClass:"ctext_1"},[n("font",{attrs:{color:"cgrey"}},[t._v(t._s(t.ErrMessage))])],1),t._v(" "),n("button",{staticClass:"clink",on:{click:t.ChangeMobile}},[t._v(t._s(t._tt("修 改")))])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"white_board_hr"},[n("hr",{attrs:{width:"800px",color:"lightgrey"}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"DocumentDetailTitle"},[n("div",{staticClass:"top"},[n("div",{staticClass:"top-item"},[n("p",{staticClass:"item-title"},[t._v("单据编号:")]),t._v(" "),n("p",{staticClass:"item-content"},[t._v(t._s(t.item.id))])]),t._v(" "),n("div",{staticClass:"top-item"},[n("p",{staticClass:"item-title"},[t._v("操作人:")]),t._v(" "),n("p",{staticClass:"item-content"},[t._v(t._s(t.reporter))])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("p",{staticClass:"page-container"},[t._v("404 page not found")])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"endorsement"},[n("ptit-form",{ref:"form",attrs:{model:t.endorsementFile,states:["view"],state:t.state,validator:t.endorsementFile.validator}},[n("div",{staticClass:"ptit-form-item-inline operate-area"},[n("ptit-button",{attrs:{ignoreViewState:!0},on:{click:t.saveDraft}},[t._v("保存草稿")]),t._v(" "),n("ptit-button",{attrs:{ignoreViewState:!0},on:{click:t.toggleViewMode}},[t._v("视图模式")])],1),t._v(" "),n("div",{staticClass:"ptit-form-item-inline"},[n("ptit-input-item",{staticStyle:{width:"33%"},attrs:{label:"发文公司:",name:"title",prop:"PublishCompanyId"},model:{value:t.endorsementFile.PublishCompanyId,callback:function(e){t.$set(t.endorsementFile,"PublishCompanyId",e)},expression:"endorsementFile.PublishCompanyId"}},[n("user-company-select",{model:{value:t.endorsementFile.PublishCompanyId,callback:function(e){t.$set(t.endorsementFile,"PublishCompanyId",e)},expression:"endorsementFile.PublishCompanyId"}}),t._v(" "),n("template",{slot:"viewSlot"},[t._v("\n          "+t._s(t.selectedCompanyName)+"\n        ")])],2),t._v(" "),n("ptit-input-item",{staticStyle:{width:"33%"},attrs:{label:"签批类型:",name:"category"}},[n("endorsement-category-select",{attrs:{companyId:t.endorsementFile.PublishCompanyId},model:{value:t.endorsementFile.Category,callback:function(e){t.$set(t.endorsementFile,"Category",e)},expression:"endorsementFile.Category"}}),t._v(" "),n("template",{slot:"viewSlot"},[t._v("\n          "+t._s(t.selectedCategoryName)+"\n        ")])],2),t._v(" "),n("ptit-input-item",{staticStyle:{width:"33%"},attrs:{label:"优先级:",name:"priority",prop:"Priority"},model:{value:t.endorsementFile.Priority,callback:function(e){t.$set(t.endorsementFile,"Priority",e)},expression:"endorsementFile.Priority"}},[n("el-select",{model:{value:t.endorsementFile.Priority,callback:function(e){t.$set(t.endorsementFile,"Priority",e)},expression:"endorsementFile.Priority"}},t._l(t.endorsementFile.Priorities,function(t){return n("el-option",{key:t.value,attrs:{label:t.name,value:t.value,placeHolder:"请选择签批类型"}})})),t._v(" "),n("template",{slot:"viewSlot"},[t._v("\n           "+t._s(t.selectedPriority)+"\n         ")])],2)],1),t._v(" "),n("div",{staticClass:"ptit-form-item-inline"},[n("ptit-input-item",{staticStyle:{width:"calc(100% - 20px)"},attrs:{label:"签批标题:",name:"title",prop:"Title"},model:{value:t.endorsementFile.Title,callback:function(e){t.$set(t.endorsementFile,"Title",e)},expression:"endorsementFile.Title"}})],1),t._v(" "),n("div",{staticClass:"ptit-form-item-inline"},[n("ptit-form-item",{staticClass:"endorsement-static-content",staticStyle:{width:"69%"},attrs:{showLabel:!1,ignoreViewState:!0}},[n("span",{staticClass:"label"},[t._v("发起人：")]),n("span",{staticClass:"text"},[t._v(t._s(t.endorsementFile.EmployeeName))]),t._v(" "),n("span",{staticClass:"label"},[t._v("发起部门：")]),n("span",{staticClass:"text"},[t._v(t._s(t.endorsementFile.DepartmentName))]),t._v(" "),n("span",{staticClass:"label"},[t._v("发起日期：")]),n("span",{staticClass:"text"},[t._v(t._s(t.endorsementFile.RequestTime))])])],1),t._v(" "),n("el-tabs",{directives:[{name:"loading",rawName:"v-loading.body",value:t.documentLoading,expression:"documentLoading",modifiers:{body:!0}}],staticClass:"document-tab",attrs:{type:"card"},on:{"tab-remove":t.onRemoveDocument},model:{value:t.activeDocumentTabName,callback:function(e){t.activeDocumentTabName=e},expression:"activeDocumentTabName"}},t._l(t.endorsementFile.Documents,function(e){return n("el-tab-pane",{key:e.TabName,attrs:{label:e.TitleForTab,name:e.TabName,closable:t.documentClosable(e)}},[n(e.DocumentComponentName,{tag:"component",attrs:{document:e,inTab:!0}})],1)}))],1),t._v(" "),n("create-document",{attrs:{documents:t.searchedDocuments,inSearchingDocument:t.inSearchingDocument,documentKey:t.documentKey},on:{onSearchDocument:t.onSearchDocument,onCreateDocument:t.onCreateDocument},model:{value:t.showCreateDocumentDialog,callback:function(e){t.showCreateDocumentDialog=e},expression:"showCreateDocumentDialog"}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SelectItem",on:{click:t.selectedItem}},[n("a",{attrs:{href:"#"+t.item.positionId}},[n("p",{style:{border:t.item.selected?"1px solid rgb(255 196 85)":"","border-radius":t.item.selected?"5px":"","background-color":t.item.selected?"rgb(250, 250, 250)":"","font-weight":t.item.selected?"600":"","box-shadow":t.item.selected?"0 0 8px rgba(255,196,85,.2)":"","font-size":t.item.selected?"16px":""}},[n("span",{style:{color:t.item.selected?"orange":""}},[t._v(t._s(t.parentPrincipalName)+" - "+t._s(t.item.positionName))])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-fluid"},[t.isShow?n("header",{staticClass:"header border-bottom"},[n("me-head")],1):t._e(),t._v(" "),n("div",{style:{top:t.wrapHight},attrs:{id:"wrap"}},[n("div",{staticClass:"border-right",style:{width:t.sideMenuWidth},attrs:{id:"side-menu"}},[n("me-left",{style:{width:t.leftWidth},on:{changeWidth:t.changeWidth}})],1),t._v(" "),n("div",{style:{marginLeft:t.sideMenuWidth},attrs:{id:"content-main"}},[n("router-view")],1)])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-dialog",{attrs:{title:"选择员工",visible:t.dialogVisible,"before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("div",[n("label",[t._v("关键字")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.key,expression:"key"}],staticStyle:{height:"28px"},attrs:{type:"text"},domProps:{value:t.key},on:{input:function(e){e.target.composing||(t.key=e.target.value)}}}),t._v(" "),n("button",{attrs:{type:"button"},on:{click:t.handleSearch}},[t._v("查询")])]),t._v(" "),n("el-table",{ref:"empTable",staticStyle:{width:"100%"},attrs:{data:t.empData},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),n("el-table-column",{attrs:{prop:"StaffCode",label:"工号",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{prop:"StaffName",label:"姓名",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{prop:"DepartmentName",label:"部门"}}),t._v(" "),n("el-table-column",{attrs:{prop:"PositionalTitle",label:"职位"}})],1),t._v(" "),t._l(t.selectRows,function(e){return n("el-tag",{key:e.StaffName,attrs:{closable:!0,type:e.StaffCode},on:{close:function(n){t.handleTagClose(e)}}},[t._v("\n      "+t._s(e.StaffName)+"\n    ")])}),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.handleClose}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.handleSelect}},[t._v("确 定")])],1)],2)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"inner-tools border-bottom",staticStyle:{"background-color":"#F9F9F9"}},[t.submitenable&&0==t.step&&t.docId>0?n("el-button",{key:"delete",attrs:{type:"danger",icon:"delete"},on:{click:function(e){t.Action(-9)}}},[t._v("删除")]):t._e(),t._v(" "),t.submitenable&&0==t.step?n("el-button",{key:"save",attrs:{type:"primary",icon:"edit"},on:{click:t.Save}},[t._v("保存")]):t._e(),t._v(" "),t.singenable&&t.step>0&&t.step<3?n("el-button",{key:"checkin",attrs:{type:"info",icon:"share"},on:{click:function(e){t.Action(1)}}},[t._v("签收")]):t._e(),t._v(" "),(t.submitenable||t.finishenable)&&t.step>0&&t.step<3?n("el-button",{key:"checkout",attrs:{type:"info",icon:"delete"},on:{click:function(e){t.Action(0)}}},[t._v("退签")]):t._e(),t._v(" "),t.submitenable&&1==t.step?n("el-button",{key:"reject",attrs:{type:"danger",icon:"search"},on:{click:function(e){t.Submit(-1)}}},[t._v("驳回")]):t._e(),t._v(" "),t.submitenable&&0==t.step&&t.docId>0?n("el-button",{key:"submit",attrs:{type:"success",icon:"search"},on:{click:function(e){t.Submit(0)}}},[t._v("提交")]):t._e(),t._v(" "),t.submitenable&&1==t.step?n("el-button",{key:"fabiao",attrs:{type:"warning",icon:"search"},on:{click:function(e){t.Submit(1)}}},[t._v("发表意见")]):t._e(),t._v(" "),t.finishenable&&1==t.step?n("el-button",{key:"agree",attrs:{type:"success",icon:"search"},on:{click:function(e){t.Submit(2)}}},[t._v("决策同意")]):t._e(),t._v(" "),t.submitenable&&2==t.step?n("el-button",{key:"finishexecute",attrs:{type:"warning",icon:"search"},on:{click:function(e){t.Submit(3)}}},[t._v("完成执行")]):t._e(),t._v(" "),t.finishenable&&2==t.step?n("el-button",{key:"archive",attrs:{type:"success",icon:"search"},on:{click:function(e){t.Submit(4)}}},[t._v("归档")]):t._e(),t._v(" "),t.undoenable&&t.step>=0&&t.step<3?n("el-button",{key:"redo",attrs:{type:"danger",icon:"search"},on:{click:function(e){t.Action(-1)}}},[t._v("撤销")]):t._e()],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"user_info"},[n("div",{staticClass:"user_info_text"},[n("font",{attrs:{size:"5px",color:"grey"}},[t._v(t._s(t._tt("用户信息")))])],1),t._v(" "),n("button",{staticStyle:{position:"absolute",left:"88.8%"},on:{click:t.ChangeUserInfo}},[t._v(t._s(t._tt("保存")))])]),t._v(" "),n("div",{staticClass:"ubody"},[n("div",{staticClass:"user_pic"},[n("div",{staticClass:"user_text"},[n("font",[t._v(t._s(t._tt("用户头像")))])],1),t._v(" "),n("img",{staticClass:"user_upload_pic",attrs:{src:t.UserInfo.HeadUrl,alt:""}}),t._v(" "),n("el-upload",{staticClass:"upload-demo",attrs:{action:t.UploadUrl,"show-file-list":!1,headers:t.Headers,data:t.HeadData,"on-success":t.HandleUploadSuccess,"before-upload":t.BeforeAvatarUpload}},[n("el-button",{staticClass:"upload_pic_button"},[t._v(t._s(t._tt("上传照片")))]),t._v(" "),n("div",{staticClass:"user_pic_upload_text"},[n("font",{attrs:{color:"grey",size:"2px"}},[t._v(t._s(t._tt("选择计算机上的图像文件（最大为 4MB）")))])],1)],1),t._v(" "),n("div",{staticClass:"vertical_line"}),t._v(" "),n("div",{staticClass:"basic_info_text"},[n("font",[t._v(t._s(t._tt("基本信息")))])],1),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"uname"},[n("font",[t._v(t._s(t._tt("姓氏")))]),t._v("     "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.UserInfo.Surname,expression:"UserInfo.Surname"}],attrs:{type:"text"},domProps:{value:t.UserInfo.Surname},on:{input:function(e){e.target.composing||t.$set(t.UserInfo,"Surname",e.target.value)}}}),t._v("    \n\t\t\t\t"),n("font",[t._v(t._s(t._tt("名字")))]),t._v("     "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.UserInfo.Name,expression:"UserInfo.Name"}],attrs:{type:"text"},domProps:{value:t.UserInfo.Name},on:{input:function(e){e.target.composing||t.$set(t.UserInfo,"Name",e.target.value)}}})],1),t._v(" "),n("div",{staticClass:"en_name"},[n("font",[t._v(t._s(t._tt("英文名")))]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.UserInfo.EName,expression:"UserInfo.EName"}],attrs:{type:"text"},domProps:{value:t.UserInfo.EName},on:{input:function(e){e.target.composing||t.$set(t.UserInfo,"EName",e.target.value)}}})],1),t._v(" "),n("div",{staticClass:"nick_name"},[n("font",[t._v(t._s(t._tt("昵称")))]),t._v("     "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.UserInfo.NickName,expression:"UserInfo.NickName"}],attrs:{type:"text"},domProps:{value:t.UserInfo.NickName},on:{input:function(e){e.target.composing||t.$set(t.UserInfo,"NickName",e.target.value)}}})],1),t._v(" "),n("div",{staticClass:"gender"},[n("font",[t._v(t._s(t._tt("性 别")))]),t._v(" "),n("form",{staticClass:"form",attrs:{method:"get"}},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.UserInfo.Sex,expression:"UserInfo.Sex"}],attrs:{name:"gender",type:"radio",value:"1"},domProps:{checked:t._q(t.UserInfo.Sex,"1")},on:{change:function(e){t.$set(t.UserInfo,"Sex","1")}}}),t._v(t._s(t._tt("男"))+" ")]),t._v("     \n\t   \t\t\t \t"),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.UserInfo.Sex,expression:"UserInfo.Sex"}],attrs:{name:"gender",type:"radio",value:"2"},domProps:{checked:t._q(t.UserInfo.Sex,"2")},on:{change:function(e){t.$set(t.UserInfo,"Sex","2")}}}),t._v(t._s(t._tt("女"))+" ")])])],1),t._v(" "),n("div",{staticClass:"birthday"},[n("font",[t._v(t._s(t._tt("生日")))]),t._v("     "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.UserInfo.Birthday,expression:"UserInfo.Birthday"}],attrs:{type:"date"},domProps:{value:t.UserInfo.Birthday},on:{input:function(e){e.target.composing||t.$set(t.UserInfo,"Birthday",e.target.value)}}})],1)],1)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hr"},[n("hr",{attrs:{width:"1725px",height:"1px",color:"#dcdcdc"}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ptit-form-item",{ref:"item",staticClass:"ptit-form-button-item",attrs:{showLabel:!1,showMessage:!1,ignoreViewState:t.ignoreViewState,followFormState:t.followFormState,itemState:t.itemState}},[n("div",{staticClass:"ptit-button-default"},[n("el-button",{attrs:{type:t.type},on:{click:t.handleClick}},[t._t("default")],2)],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"h100 w100"},[n("el-form",{staticClass:"c-wrap",attrs:{model:t.document,"label-width":"80px"}},[n("el-row",{staticStyle:{border:"1px solid #E5E9F2","background-color":"#E5E9F2"}},[n("el-col",{attrs:{span:8}},[n("h3",[t._v("基础信息")])]),t._v(" "),n("el-col",{attrs:{span:8}},[t._v(" ")]),t._v(" "),n("el-col",{staticStyle:{"text-align":"right"},attrs:{span:8}},[n("el-button",{on:{click:t.ShowPosition}},[t._v("选择新职位")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.DownloadTmp}},[t._v("下载模板")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.ImportExcel}},[t._v("批量导入")])],1)],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"标题",prop:"title"}},[n("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入标题信息"},model:{value:t.document.title,callback:function(e){t.$set(t.document,"title",e)},expression:"document.title"}})],1)],1),t._v(" "),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"日期",prop:"createTime"}},[n("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"",format:"yyyy-MM-dd"},model:{value:t.document.createTime,callback:function(e){t.$set(t.document,"createTime",e)},expression:"document.createTime"}})],1)],1),t._v(" "),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"提交人",prop:"createUserName"}},[n("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:""},model:{value:t.document.createUserName,callback:function(e){t.$set(t.document,"createUserName",e)},expression:"document.createUserName"}})],1)],1)],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:"描述*",prop:"description"}},[n("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:""},model:{value:t.document.description,callback:function(e){t.$set(t.document,"description",e)},expression:"document.description"}})],1)],1)],1),t._v(" "),t._l(t.Source,function(e,i){return n("el-row",{key:i},[n("el-row",{staticStyle:{border:"1px solid #E5E9F2","background-color":"#E5E9F2"}},[n("el-col",{attrs:{span:8}},[n("h3",[t._v(t._s(e.departName)+"/"+t._s(e.positionName))])]),t._v(" "),n("el-col",{attrs:{span:6}},[t._v(" ")]),t._v(" "),n("el-col",{staticStyle:{"text-align":"right"},attrs:{span:10}},[n("el-button",{on:{click:function(n){t.AddPerItem(e,i)}}},[t._v("新增绩效项")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(n){t.DeletePosition(e,i)}}},[t._v("删除职位绩效")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(n){t.ShowBasePer(e,i)}}},[t._v("导入绩效")])],1)],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:1}},[t._v("序号")]),t._v(" "),n("el-col",{attrs:{span:4}},[t._v("名称")]),t._v(" "),n("el-col",{attrs:{span:3}},[t._v("基础分类")]),t._v(" "),n("el-col",{attrs:{span:3}},[t._v("计算方式")]),t._v(" "),n("el-col",{attrs:{span:2}},[t._v("基础分")]),t._v(" "),n("el-col",{attrs:{span:3}},[t._v("浮动区间")]),t._v(" "),n("el-col",{attrs:{span:5}},[t._v("关联系统")]),t._v(" "),n("el-col",{attrs:{span:3}},[t._v("操作")])],1),t._v(" "),t._l(e.Items,function(i,a){return n("el-row",{key:a},[n("el-col",{attrs:{span:1}},[t._v("\n                    "+t._s(a+1)+"\n                ")]),t._v(" "),n("el-col",{attrs:{span:4}},[n("el-input",{staticStyle:{width:"90%"},model:{value:i.name,callback:function(e){t.$set(i,"name",e)},expression:"item.name"}})],1),t._v(" "),n("el-col",{attrs:{span:3}},[n("category",{attrs:{selectid:i.categoryId},on:{"update:selectid":function(e){t.$set(i,"categoryId",e)}}})],1),t._v(" "),n("el-col",{attrs:{span:3}},[n("calctype",{attrs:{calc:i.calcType},on:{"update:calc":function(e){t.$set(i,"calcType",e)}}})],1),t._v(" "),n("el-col",{attrs:{span:2}},[n("el-input",{staticStyle:{width:"90%"},model:{value:i.baseScore,callback:function(e){t.$set(i,"baseScore",e)},expression:"item.baseScore"}})],1),t._v(" "),n("el-col",{attrs:{span:3}},[n("el-input",{staticStyle:{width:"40px"},model:{value:i.minRate,callback:function(e){t.$set(i,"minRate",e)},expression:"item.minRate"}}),t._v("~\n                    "),n("el-input",{staticStyle:{width:"40px"},model:{value:i.maxRate,callback:function(e){t.$set(i,"maxRate",e)},expression:"item.maxRate"}})],1),t._v(" "),n("el-col",{attrs:{span:5}},[n("project",{attrs:{selectid:i.associationSystemId,subselectid:i.associationSystemItemId},on:{"update:selectid":function(e){t.$set(i,"associationSystemId",e)},"update:subselectid":function(e){t.$set(i,"associationSystemItemId",e)}}})],1),t._v(" "),n("el-col",{attrs:{span:3}},[n("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("编辑")]),t._v(" "),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){t.DeletePerItem(a,e.Items)}}},[t._v("删除")])],1)],1)})],2)})],2),t._v(" "),n("sorg",{attrs:{companyid:t.Org.CompanyID,visiable:t.Org.Visiable,TypeList:t.Org.TypeList},on:{"update:visiable":function(e){t.$set(t.Org,"Visiable",e)},EventClose:t.ClosePosition,EventSelected:t.SelectPosition}}),t._v(" "),n("baseitem",{ref:"baseitem",attrs:{companyid:t.BasePer.CompanyID,dvisible:t.BasePer.importItem},on:{"update:dvisible":function(e){t.$set(t.BasePer,"importItem",e)},EventSelected:t.SelectBasePer}}),t._v(" "),n("el-dialog",{attrs:{title:"导入绩效",visible:t.importExcel,size:"tiny"},on:{"update:visible":function(e){t.importExcel=e}}},[n("div",[n("el-upload",{staticClass:"upload-demo",attrs:{action:t.url,headers:t.headers,"show-file-list":!0,"on-success":t.UploadSuccess}},[n("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1)],1),t._v(" "),n("div",[n("div",{staticClass:"clear"})]),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.importExcel=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.HandleExcel}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-col",{attrs:{span:t.colspan}},[n("el-form-item",{attrs:{label:t.label,prop:t.ruleProp}},[n("el-select",{attrs:{placeholder:t.placeHolder,disabled:t.disabled},on:{change:t.onChange},model:{value:t.categoryId,callback:function(e){t.categoryId=e},expression:"categoryId"}},t._l(t.categories,function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.id,disabled:t.id<0}})}))],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"task_document_list_item"},[n("div",{staticClass:"item_header"},[n("div",{staticClass:"content",on:{click:t.goToDetail}},[t._v("\n            文档名称："+t._s(t.item.gsDocumentName)+"\n        ")]),t._v(" "),n("div",{staticClass:"status"},[t._v("\n            "+t._s(t.gsStatus)+"\n        ")])]),t._v(" "),n("div",{staticClass:"item_main"},[t._l(t.baseConfig,function(e){return n("div",{key:e.key,staticClass:"key_value"},[n("div",{staticClass:"key"},[t._v(t._s(e.key)+"：")]),t._v(" "),n("div",{staticClass:"value"},[t._v("\n                "+t._s(t.item[e.value])+"\n            ")])])}),t._v(" "),t._l(t.taskConfig,function(e){return n("div",{key:e.key,staticClass:"key_value"},[n("div",{staticClass:"key"},[t._v(t._s(e.key)+"：")]),t._v(" "),n("div",{staticClass:"value"},[t._v("\n                "+t._s(t.item.gsTask[e.value])+"\n            ")])])})],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{directives:[{name:"loading",rawName:"v-loading.body",value:t.loading,expression:"loading",modifiers:{body:!0}}],attrs:{visible:t.visible,size:"large"},on:{"update:visible":function(e){t.visible=e}}},[n("el-row",[n("h1",[t._v(t._s(t.payable.name))])]),t._v(" "),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:8}},[n("p",[n("span",[t._v(t._s(t._tt("供应商应付总额"))+":")]),t._v(" "),n("span",[t._v(t._s(t.getPayment(t.payable.minimum,t.payable.maximum)))])])]),t._v(" "),n("el-col",{attrs:{span:8}},[n("span",[t._v(t._s(t._tt("申请中的金额"))+":")]),t._v(" "),n("span",[t._v(t._s(t.formatMoney(t.payable.appliedAmount)))])]),t._v(" "),n("el-col",{attrs:{span:8}},[n("span",[t._v(t._s(t._tt("已付金额"))+":")]),t._v(" "),n("span",[t._v(t._s(t.formatMoney(t.payable.actualPayment)))])])],1),t._v(" "),n("el-row",[n("h2",[t._v(t._s(t._tt("付款项明细")))])]),t._v(" "),n("el-row",[n("el-table",{ref:"payableTable",staticStyle:{width:"100%"},attrs:{data:t.payable.items,border:""}},[n("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-table",{attrs:{data:e.row.items,border:""}},[n("el-table-column",{attrs:{label:t._tt("支付单号"),align:"left","header-align":"left",prop:"paymentNo"}}),t._v(" "),n("el-table-column",{attrs:{width:"200",label:t._tt("银行名称"),align:"left","header-align":"left",prop:"bankName"}}),t._v(" "),n("el-table-column",{attrs:{width:"200",label:t._tt("银行账号"),align:"left","header-align":"left",prop:"bankAccount"}}),t._v(" "),n("el-table-column",{attrs:{width:"200",label:t._tt("开户人"),align:"left","header-align":"left",prop:"accountHolder"}}),t._v(" "),n("el-table-column",{attrs:{width:"200",label:t._tt("支付金额"),align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(t.formatMoney(e.row.payment))+"\n              ")]}}])}),t._v(" "),n("el-table-column",{attrs:{width:"100",label:t._tt("状态"),align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(t.formatPaymentStatus(e.row.status))+"\n              ")]}}])}),t._v(" "),n("el-table-column",{attrs:{width:"200",label:t._tt("申请时间"),align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(new Date(e.row.applyDateTime).format("yyyy-MM-dd hh:mm:ss"))+"\n              ")]}}])}),t._v(" "),n("el-table-column",{attrs:{width:"200",label:t._tt("支付时间"),align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(e.row.status>1?new Date(e.row.paidTime).format("yyyy-MM-dd HH:mm:ss"):"--")+"\n              ")]}}])})],1)]}}])}),t._v(" "),n("el-table-column",{attrs:{width:"150",label:t._tt("款期"),align:"center","header-align":"center",prop:"index"}}),t._v(" "),n("el-table-column",{attrs:{label:t._tt("支付款项名称"),align:"left","header-align":"left",prop:"itemName"}}),t._v(" "),n("el-table-column",{attrs:{width:"200",label:t._tt("预计支付时间"),align:"center","header-align":"center",prop:"expectedPaidTime"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(new Date(e.row.expectedPaidTime).format("yyyy-MM-dd"))+"\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{width:"300",label:t._tt("应付金额"),align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t.getPayment(e.row.minimum,e.row.maximum))+"\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{width:"200",label:t._tt("已申请金额"),align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t.formatMoney(e.row.appliedAmount))+"\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{width:"200",label:t._tt("已付金额"),align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t.formatMoney(e.row.actualPayment))+"\n        ")]}}])})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",[n("el-col",{attrs:{span:24}},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.Source,stripe:""}},[n("el-table-column",{attrs:{prop:"PerDate",label:"日期",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{prop:"UserName",label:"用户名"}}),t._v(" "),n("el-table-column",{attrs:{prop:"PerBaseScore",label:"基础分",width:"110"}}),t._v(" "),n("el-table-column",{attrs:{prop:"Num",label:"件次",width:"110"}}),t._v(" "),n("el-table-column",{attrs:{prop:"AdjustmentScore",label:"调整分",width:"110"}}),t._v(" "),n("el-table-column",{attrs:{prop:"RealScore",label:"实际分",width:"110"}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("select",{directives:[{name:"model",rawName:"v-model",value:t.companyId,expression:"companyId"}],staticStyle:{position:"absolute",top:"15%",right:"12%",height:"40px",border:"1px solid lightgrey","border-radius":"4px",outline:"none","font-size":"14px",color:"grey",cursor:"pointer"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.companyId=e.target.multiple?n:n[0]}}},[t._l(t.comapnyList,function(e){return[n("option",{domProps:{value:e.value}},[t._v(t._s(e.text))])]})],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"task_kanban"},[n("div",{staticClass:"task_kanban_top"},[n("div",{staticClass:"title"},[t._v("任务看板")]),t._v(" "),t.taskKanbanManager.gsKeyCompanyId?n("div",{staticClass:"btn_box"},[n("el-select",{on:{change:t.taskKanbanManager.keyCompanyChange},model:{value:t.taskKanbanManager.gsKeyCompanyId,callback:function(e){t.$set(t.taskKanbanManager,"gsKeyCompanyId",e)},expression:"taskKanbanManager.gsKeyCompanyId"}},t._l(t.taskKanbanManager.gsOrganizationTask.companys,function(t){return n("el-option",{key:t.id,attrs:{value:t.id,label:t.name}})}))],1):t._e(),t._v(" "),t.taskKanbanManager.gsKeyUserId?n("div",{staticClass:"btn_box"},[n("el-select",{on:{change:t.taskKanbanManager.keyUserChange},model:{value:t.taskKanbanManager.gsKeyUserId,callback:function(e){t.$set(t.taskKanbanManager,"gsKeyUserId",e)},expression:"taskKanbanManager.gsKeyUserId"}},t._l(t.taskKanbanManager.gsKeyCompany.employees,function(t){return n("el-option",{key:t.id,attrs:{value:t.id,label:t.name}})}))],1):t._e(),t._v(" "),n("div",{staticClass:"btn_box"},[n("el-button",{on:{click:function(e){t.taskKanbanManager.taskListInitialize()}}},[t._v("\n                刷新\n            ")])],1),t._v(" "),n("div",{staticClass:"btn_box"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.taskKanbanManager.onEditTask()}}},[t._v("\n                新建任务\n            ")])],1)]),t._v(" "),n("div",{staticClass:"task_kanban_main"},[t.taskKanbanManager.gsIsShowList?n("div",{staticClass:"task_kanban_left"},[n("task-list",{staticClass:"task_list",attrs:{"task-list":t.taskKanbanManager.gsTaskListProcessed,"task-list-item-select":t.taskKanbanManager.taskListItemSelect,"task-list-refresh":t.taskKanbanManager.taskRelatedToMeGet,"on-edit-task":t.taskKanbanManager.onEditTask}})],1):t._e(),t._v(" "),t.taskKanbanManager.gsIsShowListControl?n("div",{staticClass:"task_kanban_left_control"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.taskKanbanManager.gsIsShowList,expression:"taskKanbanManager.gsIsShowList"}],staticClass:"task_kanban_left_control_icon",attrs:{title:"收起列表"},on:{click:function(e){t.taskKanbanManager.changeShowList(!1)}}},[n("i",{staticClass:"el-icon-d-arrow-left"})]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.taskKanbanManager.gsIsShowList,expression:"!taskKanbanManager.gsIsShowList"}],staticClass:"task_kanban_left_control_icon",attrs:{title:"显示列表"},on:{click:function(e){t.taskKanbanManager.changeShowList(!0)}}},[n("i",{staticClass:"el-icon-d-arrow-right"})])]):t._e(),t._v(" "),n("div",{staticClass:"task_kanban_main"},[t.taskKanbanManager.gsTaskDetail?n("task-detail",{staticClass:"task_detail",attrs:{manager:t.taskKanbanManager,detail:t.taskKanbanManager.gsTaskDetail,"task-select":t.taskKanbanManager.taskDetailInitializeById,"task-operation-button":t.taskKanbanManager.gsTaskOperationButton,"task-detail-users":t.taskKanbanManager.gsTaskDetailUsers,"create-child-task":t.taskKanbanManager.createChildTask,"is-show-add-child-task":t.taskKanbanManager.gsIsShowAddChildTask,"on-edit-modulus":t.taskKanbanManager.onEditModulus,"is-show-edit-modulus":t.taskKanbanManager.gsIsShowEditModulus,"task-detail-relational-users":t.taskKanbanManager.gsTaskDetailRelationalUsers}}):n("div",{staticClass:"no_task_detail"},[t._v("\n                暂无任务详情\n            ")])],1)]),t._v(" "),n("el-dialog",{staticClass:"task_editor modulus_edit",attrs:{visible:t.taskKanbanManager.gsIsEditModulus,"close-on-click-modal":!1,title:"修改评价系数",size:"tiny"},on:{"update:visible":function(e){t.$set(t.taskKanbanManager,"gsIsEditModulus",e)},open:function(e){t.resetForm("modulusEditForm")}}},[n("div",{staticClass:"task_edit"},[n("el-form",{ref:"modulusEditForm",attrs:{model:t.taskKanbanManager,rules:t.modulusEditRules,inline:""}},[n("el-form-item",{attrs:{label:"评价系数",prop:"gsModulusOnEdit"}},[n("el-input",{staticClass:"modulus_edit",attrs:{autofocus:""},model:{value:t.taskKanbanManager.gsModulusOnEdit,callback:function(e){t.$set(t.taskKanbanManager,"gsModulusOnEdit",e)},expression:"taskKanbanManager.gsModulusOnEdit"}})],1)],1)],1),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.taskKanbanManager.onCancelEditModulus}},[t._v("\n                取 消\n            ")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.validateForm("modulusEditForm",t.taskKanbanManager.onConfirmEditModulus)}}},[t._v("\n                确 定\n            ")])],1)]),t._v(" "),n("el-dialog",{staticClass:"task_editor",attrs:{visible:t.taskKanbanManager.gsIsEditDocumentName,"close-on-click-modal":!1,title:"填写文档名称",size:"tiny"},on:{"update:visible":function(e){t.$set(t.taskKanbanManager,"gsIsEditDocumentName",e)},open:function(e){t.resetForm("documentNameEditForm")}}},[n("div",{staticClass:"task_edit"},[n("el-form",{ref:"documentNameEditForm",attrs:{model:t.taskKanbanManager,rules:t.taskDocumentNameEditRules,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"文档名称",prop:"gsTaskDocumentName"}},[n("el-input",{attrs:{autofocus:""},model:{value:t.taskKanbanManager.gsTaskDocumentName,callback:function(e){t.$set(t.taskKanbanManager,"gsTaskDocumentName",e)},expression:"taskKanbanManager.gsTaskDocumentName"}})],1)],1)],1),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.taskKanbanManager.onCancelEditDocumentName}},[t._v("\n                取 消\n            ")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.validateForm("documentNameEditForm",t.taskKanbanManager.onConfirmEditDocumentName)}}},[t._v("\n                确 定\n            ")])],1)]),t._v(" "),n("el-dialog",{staticClass:"task_editor",attrs:{title:t.taskKanbanManager.gsTaskOnEdit.gsTaskId?"编辑任务":"创建任务",visible:t.taskKanbanManager.gsIsEditTask,"close-on-click-modal":!1,size:"tiny"},on:{"update:visible":function(e){t.$set(t.taskKanbanManager,"gsIsEditTask",e)},open:function(e){t.resetForm("taskEditForm")}}},[n("div",{staticClass:"task_edit"},[n("el-form",{ref:"taskEditForm",attrs:{model:t.taskKanbanManager.gsTaskOnEdit,rules:t.taskEditRules,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"公司",prop:"gsCompanyId"}},[n("el-select",{staticClass:"task_edit_select",attrs:{disabled:!!t.taskKanbanManager.gsTaskOnEdit.gsParentId,filterable:""},on:{change:t.taskKanbanManager.onCompanyChange},model:{value:t.taskKanbanManager.gsTaskOnEdit.gsCompanyId,callback:function(e){t.$set(t.taskKanbanManager.gsTaskOnEdit,"gsCompanyId",e)},expression:"taskKanbanManager.gsTaskOnEdit.gsCompanyId"}},t._l(t.TaskSc.userKey.companys,function(t){return n("el-option",{key:t.id,attrs:{value:t.id,label:t.name}})}))],1),t._v(" "),n("el-form-item",{attrs:{label:"任务名称",prop:"gsTaskName"}},[n("el-input",{attrs:{autofocus:""},model:{value:t.taskKanbanManager.gsTaskOnEdit.gsTaskName,callback:function(e){t.$set(t.taskKanbanManager.gsTaskOnEdit,"gsTaskName",e)},expression:"taskKanbanManager.gsTaskOnEdit.gsTaskName"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"任务分数",prop:"gsPoints"}},[n("el-input",{staticClass:"task_score",model:{value:t.taskKanbanManager.gsTaskOnEdit.gsPoints,callback:function(e){t.$set(t.taskKanbanManager.gsTaskOnEdit,"gsPoints",e)},expression:"taskKanbanManager.gsTaskOnEdit.gsPoints"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"系数范围",prop:"gsModulusRange"}},[n("el-col",{attrs:{span:3}},[n("el-form-item",{attrs:{prop:"gsModulusLowerLimit"}},[n("el-input",{model:{value:t.taskKanbanManager.gsTaskOnEdit.gsModulusLowerLimit,callback:function(e){t.$set(t.taskKanbanManager.gsTaskOnEdit,"gsModulusLowerLimit",e)},expression:"taskKanbanManager.gsTaskOnEdit.gsModulusLowerLimit"}})],1)],1),t._v(" "),n("el-col",{staticClass:"separation",attrs:{span:2}},[t._v("\n                        ~\n                    ")]),t._v(" "),n("el-col",{attrs:{span:3}},[n("el-form-item",{attrs:{prop:"gsModulusUpperlimit"}},[n("el-input",{model:{value:t.taskKanbanManager.gsTaskOnEdit.gsModulusUpperlimit,callback:function(e){t.$set(t.taskKanbanManager.gsTaskOnEdit,"gsModulusUpperlimit",e)},expression:"taskKanbanManager.gsTaskOnEdit.gsModulusUpperlimit"}})],1)],1)],1),t._v(" "),n("el-form-item",{attrs:{label:"负责候选人",prop:"gsResponsibleCandidate"}},[n("el-select",{staticClass:"task_edit_select",attrs:{multiple:"",filterable:""},model:{value:t.taskKanbanManager.gsTaskOnEdit.gsResponsibleCandidate,callback:function(e){t.$set(t.taskKanbanManager.gsTaskOnEdit,"gsResponsibleCandidate",e)},expression:"taskKanbanManager.gsTaskOnEdit.gsResponsibleCandidate"}},t._l(t.taskKanbanManager.gsRelationalUsers,function(t){return n("el-option",{key:t.value,attrs:{value:t.value,label:t.label}})}))],1),t._v(" "),n("el-form-item",{attrs:{label:"可确认人",prop:"gsConfirmablePerson"}},[n("el-select",{staticClass:"task_edit_select",attrs:{multiple:"",filterable:""},model:{value:t.taskKanbanManager.gsTaskOnEdit.gsConfirmablePerson,callback:function(e){t.$set(t.taskKanbanManager.gsTaskOnEdit,"gsConfirmablePerson",e)},expression:"taskKanbanManager.gsTaskOnEdit.gsConfirmablePerson"}},t._l(t.taskKanbanManager.gsRelationalUsers,function(t){return n("el-option",{key:t.value,attrs:{value:t.value,label:t.label}})}))],1),t._v(" "),n("el-form-item",{attrs:{label:"描述",prop:"content"}},[n("el-input",{attrs:{type:"textarea"},model:{value:t.taskKanbanManager.gsTaskOnEdit.gsContent,callback:function(e){t.$set(t.taskKanbanManager.gsTaskOnEdit,"gsContent",e)},expression:"taskKanbanManager.gsTaskOnEdit.gsContent"}})],1)],1)],1),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.taskKanbanManager.onCancelEditTask}},[t._v("\n                取 消\n            ")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.validateForm("taskEditForm",t.taskKanbanManager.onConfirmEditTask)}}},[t._v("\n                确 定\n            ")])],1)])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-select",{model:{value:t.selectedCategoryId,callback:function(e){t.selectedCategoryId=e},expression:"selectedCategoryId"}},t._l(t.categories,function(e){return n("el-option",{key:e.TypeCode,attrs:{label:t._tt(e.TypeName),value:e.TypeCode,placeHolder:t._tt("请选择签批类型")}})}))},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{viewDocument:t.document.viewMode}},[n("ptit-form",{ref:"form",attrs:{model:t.document,states:["view"],state:t.state,validator:t.document.validator}},[n("ptit-form-card",{staticClass:"ptit-col-3"},[n("template",{slot:"header"},[n("h3",[t._v(t._s(t._tt("项目信息")))])]),t._v(" "),n("div",{staticClass:"ptit-form-item-inline"},[n("ptit-input-item",{attrs:{label:t._tt("项目编号")+":",name:"ProjectCode",prop:"ProjectCode"},model:{value:t.document.ProjectCode,callback:function(e){t.$set(t.document,"ProjectCode",e)},expression:"document.ProjectCode"}}),t._v(" "),n("ptit-input-item",{attrs:{label:t._tt("名称")+":",name:"Title",prop:"Title"},model:{value:t.document.Title,callback:function(e){t.$set(t.document,"Title",e)},expression:"document.Title"}}),t._v(" "),n("ptit-input-item",{attrs:{label:t._tt("负责人")+":",name:"Director",prop:"Director"},model:{value:t.document.Director,callback:function(e){t.$set(t.document,"Director",e)},expression:"document.Director"}})],1),t._v(" "),n("div",{staticClass:"ptit-form-item-inline"},[n("ptit-input-item",{attrs:{label:t._tt("预算")+":",name:"Budget",prop:"Budget"},model:{value:t.document.Budget,callback:function(e){t.$set(t.document,"Budget",e)},expression:"document.Budget"}}),t._v(" "),n("ptit-input-item",{attrs:{label:t._tt("绩效点数")+":",name:"AchievementsPoint",prop:"AchievementsPoint"},model:{value:t.document.AchievementsPoint,callback:function(e){t.$set(t.document,"AchievementsPoint",e)},expression:"document.AchievementsPoint"}})],1),t._v(" "),n("div",{staticClass:"ptit-form-item-inline"},[n("ptit-input-item",{attrs:{label:t._tt("开始时间")+"*:",name:"beginTime",prop:"BeginTime"},model:{value:t.document.BeginTime,callback:function(e){t.$set(t.document,"BeginTime",e)},expression:"document.BeginTime"}},[n("el-date-picker",{attrs:{type:"date",placeholder:t._tt("选择日期"),"picker-options":t.pickerOptions0,clearable:!1},model:{value:t.document.BeginTime,callback:function(e){t.$set(t.document,"BeginTime",e)},expression:"document.BeginTime"}})],1),t._v(" "),n("ptit-input-item",{attrs:{label:t._tt("结束时间")+"*:",name:"endTime",prop:"EndTime"},model:{value:t.document.EndTime,callback:function(e){t.$set(t.document,"EndTime",e)},expression:"document.EndTime"}},[n("el-date-picker",{attrs:{type:"date",placeholder:t._tt("选择日期"),"picker-options":t.pickerOptions1,clearable:!1},model:{value:t.document.EndTime,callback:function(e){t.$set(t.document,"EndTime",e)},expression:"document.EndTime"}})],1)],1),t._v(" "),n("div",[n("ptit-input-item",{staticStyle:{width:"90.5%"},attrs:{label:t._tt("说明")+":",name:"Remark",prop:"Remark"},model:{value:t.document.Remark,callback:function(e){t.$set(t.document,"Remark",e)},expression:"document.Remark"}})],1)],2),t._v(" "),n("ptit-form-card",{staticClass:"ptit-col-12",attrs:{title:t._tt("附件信息")}},[n("AttachmentsUpload",{attrs:{showLabel:!1,doc:t.document}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"performance",attrs:{id:t.item.principalId}},[n("grid-group-head",[t.showCheck?n("grid-group-head-column",{attrs:{flexWidth:"0 0 30px",textAlign:"left"}},[n("el-checkbox",{staticStyle:{"margin-left":"5px"},on:{change:t.changeListItemToChecked},model:{value:t.item.checked,callback:function(e){t.$set(t.item,"checked",e)},expression:"item.checked"}})],1):t._e(),t._v(" "),t.path.indexOf("PerformanceDefinitionDocumentDetail")<0?n("grid-group-head-column",{attrs:{flexWidth:"0 0 50px",textAlign:"center"}},[n("el-button",{staticClass:"xsSize",attrs:{type:"text"},on:{click:t.close}},[n("i",[t._v("关闭")])])],1):t._e(),t._v(" "),n("grid-group-head-column",{attrs:{flexWidth:"0 0 100px",textAlign:"center"}},[n("el-button",{staticClass:"xsSize",attrs:{type:"text"},on:{click:t.foldList}},[n("i",[t._v(t._s(t.showList?"折叠":"展开"))])])],1),t._v(" "),n("grid-group-head-column",{attrs:{flexWidth:"1",textAlign:"left",minWidth:"200px"}},[n("span",{staticClass:"vueSize"},[t._v(t._s(t.parentPrincipalName)+" - "+t._s(t.item.employeePosition))])]),t._v(" "),t.currentVersion===t.principalVersions.length&&t.path.indexOf("PerformanceDefinitionDocumentDetail")<0?n("grid-group-head-column",{attrs:{flexWidth:"0 0 120px",textAlign:"center"}},[n("el-button",{attrs:{type:"text"},on:{click:t.addPerfromaceDefinitionItem}},[n("b",{staticStyle:{"text-decoration":"underline"}},[t._v("新增项目")])])],1):t._e(),t._v(" "),t.path.indexOf("PerformanceDefinitionKanban")>0?n("grid-group-head-column",{attrs:{flexWidth:"0 0 150px",textAlign:"center"}},[n("div",{staticClass:"version"},[n("p",[t._v("版本：")]),t._v(" "),n("el-select",{staticStyle:{width:"60px"},attrs:{placeholder:"请选择版本",size:"mini"},on:{change:t.changeVersion},model:{value:t.currentVersion,callback:function(e){t.currentVersion=e},expression:"currentVersion"}},t._l(t.principalVersions,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)]):t._e()],1),t._v(" "),t.showList?t._l(t.performanceDefinitionList,function(e,i){return n("performance-definition-item",{directives:[{name:"show",rawName:"v-show",value:!e.deleteShow,expression:"!k.deleteShow"}],key:e.itemId,attrs:{list:t.performanceDefinitionList,item:e,index:i,"show-check":t.showCheck},on:{changeParentChecked:t.changeParentChecked,onSelected:t.onSelected}})}):t._e()],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"flex_column_head",style:t.styl},[t._t("default")],2)},staticRenderFns:[]}},,,function(t,e){t.exports=[{nodeId:"1",nodeName:"A",companyId:"1"},{nodeId:"2",nodeName:"B",companyId:"1"},{nodeId:"3",nodeName:"c",companyId:"1"},{nodeId:"4",nodeName:"d",companyId:"1"},{nodeId:"5",nodeName:"e",companyId:"1"}]},function(t,e){t.exports=[{chainId:"1",chainValue:["1"]},{chainId:"2",chainValue:["2","3","4"]}]},function(t,e){t.exports={employeePosition:"",performanceDefinitionCount:0,total:100,principalId:""}}],[918]);
//# sourceMappingURL=app.8db077c50a583ec070f4.js.map